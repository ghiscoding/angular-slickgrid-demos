var Lb=Object.defineProperty,Bb=Object.defineProperties,Vb=Object.getOwnPropertyDescriptors,JE=Object.getOwnPropertySymbols,Hb=Object.prototype.hasOwnProperty,Ub=Object.prototype.propertyIsEnumerable,eC=(V,k,L)=>k in V?Lb(V,k,{enumerable:!0,configurable:!0,writable:!0,value:L}):V[k]=L,tn=(V,k)=>{for(var L in k||(k={}))Hb.call(k,L)&&eC(V,L,k[L]);if(JE)for(var L of JE(k))Ub.call(k,L)&&eC(V,L,k[L]);return V},Vs=(V,k)=>Bb(V,Vb(k));(self.webpackChunktest_slickgrid=self.webpackChunktest_slickgrid||[]).push([["vendor"],{3467:(V,k,L)=>{"use strict";L.d(k,{WFP:()=>Vi,x6s:()=>w,s2s:()=>Oi,V9u:()=>je,blG:()=>_e,a$8:()=>ea,gTE:()=>ae,gAX:()=>Te,Kob:()=>pt,siS:()=>Re,UXi:()=>G,b72:()=>wi,ePI:()=>Gr,fSu:()=>Ee,Tv5:()=>Ie,n0k:()=>rn,iZF:()=>fe,x$p:()=>An,UgU:()=>ac,w2n:()=>ii,rIG:()=>qn,Umu:()=>Ei,GLO:()=>Pe,qP:()=>Rc,rCJ:()=>hi,VDZ:()=>He,$MC:()=>ze,N2K:()=>er,_m2:()=>Ur,F1O:()=>sa,ndt:()=>ci,JG2:()=>ue,BNs:()=>ef,Q8E:()=>Hs,SrV:()=>dt,kuk:()=>nt,KxS:()=>al,yUP:()=>pn,u7s:()=>Pt,kFQ:()=>en,afY:()=>Me,Eg6:()=>mn,gI6:()=>Ft,Guj:()=>sn,uq8:()=>Wt,p$x:()=>On,RH2:()=>Dn,EUQ:()=>di,FDc:()=>fi,tt1:()=>En,JBK:()=>yo,RMi:()=>Dt,ufS:()=>Ht,XiA:()=>ee,CWZ:()=>_r,YdZ:()=>pe,w6H:()=>Ts,y0R:()=>xe,xaq:()=>jt,b42:()=>Je,ZOg:()=>rr,jCn:()=>ut,Ksf:()=>Us,GR:()=>Hi,RBL:()=>cn,Qsb:()=>_n,mA0:()=>Hn});var l={};L.r(l),L.d(l,{BackendUtilityService:()=>w});var A={};L.r(A),L.d(A,{collectionObserver:()=>T,propertyObserver:()=>x});var j={};L.r(j),L.d(j,{CancelledException:()=>je,addToArrayWhenNotExists:()=>Pt,addTreeLevelByMutation:()=>nn,addWhiteSpaces:()=>en,arrayRemoveItemByIndex:()=>Nt,cancellablePromise:()=>Ft,castObservableToPromise:()=>sn,decimalFormatted:()=>St,deepCopy:()=>On,deepMerge:()=>Dn,emptyObject:()=>fi,findItemInTreeStructure:()=>Dt,findOrDefault:()=>kn,flattenToParentChildArray:()=>zt,formatNumber:()=>Ht,getCellValueFromQueryFieldGetter:()=>Mt,getDescendantProperty:()=>ee,getTranslationPrefix:()=>pe,hasData:()=>qe,isEmptyObject:()=>ge,isNumber:()=>We,isObject:()=>$t,isObjectEmpty:()=>_t,mapFlatpickrDateFormatWithFieldType:()=>Ce,mapMomentDateFormatWithFieldType:()=>xe,mapOperatorByFieldType:()=>jt,mapOperatorToShorthandDesignation:()=>lt,mapOperatorType:()=>Je,objectWithoutKey:()=>Oe,parseBoolean:()=>Fe,parseUtcDate:()=>ut,removeAccentFromText:()=>It,setDeepValue:()=>cn,thousandSeparatorFormatted:()=>Nn,titleCase:()=>_n,toCamelCase:()=>Fn,toKebabCase:()=>Hn,toSentenceCase:()=>Tn,toSnakeCase:()=>xn,unflattenParentChildArrayToTree:()=>an,uniqueArray:()=>$i,uniqueObjectArray:()=>kr,unsubscribeAll:()=>hr});var I={};L.r(I),L.d(I,{sortByFieldType:()=>ps});var m={};L.r(m),L.d(m,{default:()=>ui});var v,W;L(4611);(W=v||(v={})).local="local",W.remote="remote";class w{constructor(i){this.rxjs=i}addRxJsResource(i){this.rxjs=i}executeBackendProcessesCallback(i,t,u,g){const C=new Date;t&&(null==u?void 0:u.internalPostProcess)&&u.internalPostProcess(t),void 0!==u.postProcess&&(t instanceof Object&&(t.metrics={startTime:i,endTime:C,executionTime:C.valueOf()-i.valueOf(),itemCount:g,totalItemCount:g}),u.postProcess(t))}onBackendError(i,t){if("function"!=typeof(null==t?void 0:t.onError))throw i;t.onError(i)}executeBackendCallback(i,t,u,g,C,D){var B;if(i){u&&!u.clearFilterTriggered&&!u.clearSortTriggered&&(null==D?void 0:D.emitActionChangedCallback)&&D.emitActionChangedCallback.call(this,v.remote);const J=i.process(t);if(J instanceof Promise&&J.then)J.then(ie=>{var le;this.executeBackendProcessesCallback(g,ie,i,C),null===(le=null==D?void 0:D.successCallback)||void 0===le||le.call(this,u)}).catch(ie=>{var le;null===(le=null==D?void 0:D.errorCallback)||void 0===le||le.call(this,u),this.onBackendError(ie,i)});else if(null===(B=this.rxjs)||void 0===B?void 0:B.isObservable(J)){const ie=this.rxjs;ie.isObservable(null==D?void 0:D.httpCancelRequestSubject)&&(null==D||D.httpCancelRequestSubject.next()),J.pipe(ie.takeUntil(ie.iif(()=>ie.isObservable(null==D?void 0:D.httpCancelRequestSubject),null==D?void 0:D.httpCancelRequestSubject,ie.EMPTY))).subscribe(le=>{var De;this.executeBackendProcessesCallback(g,le,i,C),null===(De=null==D?void 0:D.successCallback)||void 0===De||De.call(this,u)},le=>{var De;null===(De=null==D?void 0:D.errorCallback)||void 0===De||De.call(this,u),this.onBackendError(le,i)})}}}refreshBackendDataset(i){var t,u;let g="";const C=null==i?void 0:i.backendServiceApi;if(!C||!C.service||!C.process)throw new Error('BackendServiceApi requires at least a "process" function and a "service" defined');if(C.service&&(g=C.service.buildQuery()),g&&""!==g){const D=new Date;C.preProcess&&C.preProcess();const B=null!==(u=null===(t=null==i?void 0:i.pagination)||void 0===t?void 0:t.totalItems)&&void 0!==u?u:0;this.executeBackendCallback(C,g,null,D,B)}}}function T(W,i){["pop","push","reverse","shift","unshift","splice","sort"].forEach(u=>{W[u]=(...g)=>{const C=Array.prototype[u].apply(W,g);return i.apply(W,[W,g]),C}})}function x(W,i,t){let u=W[i];Object.defineProperty(W,i,{configurable:!0,get:()=>u,set(g){u=g,t.apply(W,[g,W[i]])}})}Array.prototype.map,Array.prototype.reduce;const U=W=>W;var _e,Te,Re,G,be=L(4291),te=L.n(be);class ae{}ae.locales={TEXT_ALL_SELECTED:"All Selected",TEXT_ALL_X_RECORDS_SELECTED:"All {{x}} records selected",TEXT_APPLY_MASS_UPDATE:"Apply Mass Update",TEXT_APPLY_TO_SELECTION:"Update Selection",TEXT_CANCEL:"Cancel",TEXT_CLEAR_ALL_FILTERS:"Clear all Filters",TEXT_CLEAR_ALL_GROUPING:"Clear all Grouping",TEXT_CLEAR_ALL_SORTING:"Clear all Sorting",TEXT_CLEAR_PINNING:"Unfreeze Columns/Rows",TEXT_CLONE:"Clone",TEXT_COLLAPSE_ALL_GROUPS:"Collapse all Groups",TEXT_CONTAINS:"Contains",TEXT_COLUMNS:"Columns",TEXT_COLUMN_RESIZE_BY_CONTENT:"Resize by Content",TEXT_COMMANDS:"Commands",TEXT_COPY:"Copy",TEXT_DROP_COLUMN_HEADER_TO_GROUP_BY:"Drop a column header here to group by the column",TEXT_EQUALS:"Equals",TEXT_EQUAL_TO:"Equal to",TEXT_ENDS_WITH:"Ends With",TEXT_ERROR_EDITABLE_GRID_REQUIRED:"Your grid must be editable in order to use the Composite Editor Modal.",TEXT_ERROR_ENABLE_CELL_NAVIGATION_REQUIRED:'Composite Editor requires the flag "enableCellNavigation" to be set to True in your Grid Options.',TEXT_ERROR_NO_CHANGES_DETECTED:"Sorry we could not detect any changes.",TEXT_ERROR_NO_EDITOR_FOUND:"We could not find any Editor in your Column Definition.",TEXT_ERROR_NO_RECORD_FOUND:"No records selected for edit or clone operation.",TEXT_ERROR_ROW_NOT_EDITABLE:"Current row is not editable.",TEXT_ERROR_ROW_SELECTION_REQUIRED:"You must select some rows before trying to apply new value(s).",TEXT_EXPAND_ALL_GROUPS:"Expand all Groups",TEXT_EXPORT_TO_CSV:"Export in CSV format",TEXT_EXPORT_TO_TEXT_FORMAT:"Export in Text format (Tab delimited)",TEXT_EXPORT_TO_EXCEL:"Export to Excel",TEXT_EXPORT_TO_TAB_DELIMITED:"Export in Text format (Tab delimited)",TEXT_FORCE_FIT_COLUMNS:"Force fit columns",TEXT_FREEZE_COLUMNS:"Freeze Columns",TEXT_GREATER_THAN:"Greater than",TEXT_GREATER_THAN_OR_EQUAL_TO:"Greater than or equal to",TEXT_GROUP_BY:"Group By",TEXT_HIDE_COLUMN:"Hide Column",TEXT_ITEMS:"items",TEXT_ITEMS_PER_PAGE:"items per page",TEXT_ITEMS_SELECTED:"items selected",TEXT_OF:"of",TEXT_OK:"OK",TEXT_LAST_UPDATE:"Last Update",TEXT_LESS_THAN:"Less than",TEXT_LESS_THAN_OR_EQUAL_TO:"Less than or equal to",TEXT_NOT_CONTAINS:"Not contains",TEXT_NOT_EQUAL_TO:"Not equal to",TEXT_PAGE:"Page",TEXT_RECORDS_SELECTED:"records selected",TEXT_REFRESH_DATASET:"Refresh Dataset",TEXT_REMOVE_FILTER:"Remove Filter",TEXT_REMOVE_SORT:"Remove Sort",TEXT_RESET_INPUT_VALUE:"Reset Input Value",TEXT_RESET_FORM:"Reset Form",TEXT_SAVE:"Save",TEXT_SELECT_ALL:"Select All",TEXT_SYNCHRONOUS_RESIZE:"Synchronous resize",TEXT_SORT_ASCENDING:"Sort Ascending",TEXT_SORT_DESCENDING:"Sort Descending",TEXT_STARTS_WITH:"Starts With",TEXT_TOGGLE_ALL_GROUPS:"Toggle all Groups",TEXT_TOGGLE_FILTER_ROW:"Toggle Filter Row",TEXT_TOGGLE_PRE_HEADER_ROW:"Toggle Pre-Header Row",TEXT_UNFREEZE_COLUMNS:"Unfreeze Columns",TEXT_X_OF_Y_SELECTED:"# of % selected",TEXT_X_OF_Y_MASS_SELECTED:"{{x}} of {{y}} selected"},ae.treeDataProperties={CHILDREN_PROP:"children",COLLAPSED_PROP:"__collapsed",HAS_CHILDREN_PROP:"__hasChildren",TREE_LEVEL_PROP:"__treeLevel",PARENT_PROP:"__parentId"},ae.VALIDATION_REQUIRED_FIELD="Field is required",ae.VALIDATION_EDITOR_VALID_NUMBER="Please enter a valid number",ae.VALIDATION_EDITOR_VALID_INTEGER="Please enter a valid integer number",ae.VALIDATION_EDITOR_INTEGER_BETWEEN="Please enter a valid integer number between {{minValue}} and {{maxValue}}",ae.VALIDATION_EDITOR_INTEGER_MAX="Please enter a valid integer number that is lower than {{maxValue}}",ae.VALIDATION_EDITOR_INTEGER_MAX_INCLUSIVE="Please enter a valid integer number that is lower than or equal to {{maxValue}}",ae.VALIDATION_EDITOR_INTEGER_MIN="Please enter a valid integer number that is greater than {{minValue}}",ae.VALIDATION_EDITOR_INTEGER_MIN_INCLUSIVE="Please enter a valid integer number that is greater than or equal to {{minValue}}",ae.VALIDATION_EDITOR_NUMBER_BETWEEN="Please enter a valid number between {{minValue}} and {{maxValue}}",ae.VALIDATION_EDITOR_NUMBER_MAX="Please enter a valid number that is lower than {{maxValue}}",ae.VALIDATION_EDITOR_NUMBER_MAX_INCLUSIVE="Please enter a valid number that is lower than or equal to {{maxValue}}",ae.VALIDATION_EDITOR_NUMBER_MIN="Please enter a valid number that is greater than {{minValue}}",ae.VALIDATION_EDITOR_NUMBER_MIN_INCLUSIVE="Please enter a valid number that is greater than or equal to {{minValue}}",ae.VALIDATION_EDITOR_DECIMAL_BETWEEN="Please enter a valid number with a maximum of {{maxDecimal}} decimals",ae.VALIDATION_EDITOR_TEXT_LENGTH_BETWEEN="Please make sure your text length is between {{minLength}} and {{maxLength}} characters",ae.VALIDATION_EDITOR_TEXT_MAX_LENGTH="Please make sure your text is less than {{maxLength}} characters",ae.VALIDATION_EDITOR_TEXT_MAX_LENGTH_INCLUSIVE="Please make sure your text is less than or equal to {{maxLength}} characters",ae.VALIDATION_EDITOR_TEXT_MIN_LENGTH="Please make sure your text is more than {{minLength}} character(s)",ae.VALIDATION_EDITOR_TEXT_MIN_LENGTH_INCLUSIVE="Please make sure your text is at least {{minLength}} character(s)",function(W){W[W.camelCase=0]="camelCase",W[W.pascalCase=1]="pascalCase",W[W.snakeCase=2]="snakeCase",W[W.kebabCase=3]="kebabCase"}(_e||(_e={})),function(W){W.colon=":",W.comma=",",W.equalSign="=",W.pipe="|",W.semicolon=";",W.space=" ",W.tab="\t",W.doubleColon="::",W.doublePipe="||",W.doubleSemicolon=";;"}(Te||(Te={})),function(W){W.camelCase="camelCase",W.kebabCase="kebabCase",W.lowerCase="lowerCase",W.lowerCaseWithoutOnPrefix="lowerCaseWithoutOnPrefix"}(Re||(Re={})),function(W){W.autoTooltip="autoTooltip",W.cellExternalCopyManager="cellExternalCopyManager",W.cellMenu="cellMenu",W.checkboxSelector="checkboxSelector",W.columnPicker="columnPicker",W.contextMenu="contextMenu",W.customTooltip="customTooltip",W.draggableGrouping="draggableGrouping",W.groupItemMetaProvider="groupItemMetaProvider",W.gridMenu="gridMenu",W.headerButton="headerButton",W.headerMenu="headerMenu",W.rowDetailView="rowDetailView",W.rowMoveManager="rowMoveManager",W.rowSelection="rowSelection"}(G||(G={}));const Ee={unknown:"unknown",string:"string",boolean:"boolean",integer:"integer",float:"float",number:"number",date:"date",dateIso:"dateIso",dateUtc:"dateUtc",dateTime:"dateTime",dateTimeIso:"dateTimeIso",dateTimeIsoAmPm:"dateTimeIsoAmPm",dateTimeIsoAM_PM:"dateTimeIsoAM_PM",dateTimeShortIso:"dateTimeShortIso",dateEuro:"dateEuro",dateEuroShort:"dateEuroShort",dateTimeShortEuro:"dateTimeShortEuro",dateTimeEuro:"dateTimeEuro",dateTimeEuroAmPm:"dateTimeEuroAmPm",dateTimeEuroAM_PM:"dateTimeEuroAM_PM",dateTimeEuroShort:"dateTimeEuroShort",dateTimeEuroShortAmPm:"dateTimeEuroShortAmPm",dateTimeEuroShortAM_PM:"dateTimeEuroShortAM_PM",dateUs:"dateUs",dateUsShort:"dateUsShort",dateTimeShortUs:"dateTimeShortUs",dateTimeUs:"dateTimeUs",dateTimeUsAmPm:"dateTimeUsAmPm",dateTimeUsAM_PM:"dateTimeUsAM_PM",dateTimeUsShort:"dateTimeUsShort",dateTimeUsShortAmPm:"dateTimeUsShortAmPm",dateTimeUsShortAM_PM:"dateTimeUsShortAM_PM",object:"object",password:"password",text:"text",readonly:"readonly"};var Ie,Le,ne,Pe,He,ze,dt,nt,kt;!function(W){W.csv="csv",W.txt="txt",W.xls="xls",W.xlsx="xlsx"}(Ie||(Ie={})),function(W){W.merge="merge",W.chain="chain"}(Le||(Le={})),function(W){W.none="NOA",W.legacyOff="LOF",W.legacyForceFit="LFF",W.ignoreViewport="IGV",W.fitColsToViewport="FCV",W.fitViewportToCols="FVC"}(ne||(ne={})),function(W){W.columns="columns",W.filter="filter",W.pagination="pagination",W.pinning="pinning",W.rowSelection="rowSelection",W.sorter="sorter",W.treeData="treeData"}(Pe||(Pe={})),function(W){W[W.C=67]="C",W[W.V=86]="V",W[W.BACKSPACE=8]="BACKSPACE",W[W.DELETE=46]="DELETE",W[W.DOWN=40]="DOWN",W[W.END=35]="END",W[W.ENTER=13]="ENTER",W[W.ESCAPE=27]="ESCAPE",W[W.HOME=36]="HOME",W[W.INSERT=45]="INSERT",W[W.LEFT=37]="LEFT",W[W.PAGE_DOWN=34]="PAGE_DOWN",W[W.PAGE_UP=33]="PAGE_UP",W[W.RIGHT=39]="RIGHT",W[W.TAB=9]="TAB",W[W.UP=38]="UP",W[W.SPACE=32]="SPACE"}(He||(He={})),function(W){W.empty="",W.contains="Contains",W.notContains="Not_Contains",W.lessThan="LT",W.lessThanOrEqual="LE",W.greaterThan="GT",W.greaterThanOrEqual="GE",W.notEqual="NE",W.equal="EQ",W.endsWith="EndsWith",W.rangeInclusive="RangeInclusive",W.rangeExclusive="RangeExclusive",W.startsWith="StartsWith",W.in="IN",W.notIn="NOT_IN",W.inContains="IN_CONTAINS",W.notInContains="NOT_IN_CONTAINS",W.inCollection="IN_COLLECTION",W.notInCollection="NOT_IN_COLLECTION"}(ze||(ze={})),function(W){W.asc="asc",W.ASC="ASC",W.desc="desc",W.DESC="DESC"}(dt||(dt={})),function(W){W[W.asc=1]="asc",W[W.desc=-1]="desc",W[W.neutral=0]="neutral"}(nt||(nt={})),function(W){W.toggleCollapse="toggle-collapse",W.fullExpand="full-expand",W.fullCollapse="full-collapse",W.toggleExpand="toggle-expand"}(kt||(kt={}));const wt=te()||be;function Pt(W,i,t="id"){let u=-1;u="object"==typeof i&&t in i?W.findIndex(g=>g[t]===i[t]):W.findIndex(g=>g===i),u<0&&W.push(i)}function en(W,i=" "){let t="";for(let u=0;u<W;u++)t+=i;return t}function Nt(W,i){return W.filter((t,u)=>i!==u)}class je extends Error{constructor(i){super(i),Object.setPrototypeOf(this,je.prototype)}}function Ft(W){let i=!1;return W instanceof Promise?{promise:W.then(t=>{if(i)throw new je("Cancelled Promise");return t}),cancel:()=>i=!0}:W}function sn(W,i,t=""){let u=i;if(i instanceof Promise)return i;if(W.isObservable(i)&&(u=W.firstValueFrom(i)),!(u instanceof Promise))throw new Error(`Something went wrong, Slickgrid-Universal ${t} is not able to convert the Observable into a Promise.`);return u}function nn(W,i,t=0){var u;const g=null!==(u=null==i?void 0:i.childrenPropName)&&void 0!==u?u:ae.treeDataProperties.CHILDREN_PROP;if(Array.isArray(W))for(const C of W)C&&(Array.isArray(C[g])&&C[g].length>0&&(t++,nn(C[g],i,t),t--),C[i.levelPropName]=t)}function zt(W,i){var t,u,g,C,D;const B=null!==(t=null==i?void 0:i.identifierPropName)&&void 0!==t?t:"id",J=null!==(u=null==i?void 0:i.childrenPropName)&&void 0!==u?u:ae.treeDataProperties.CHILDREN_PROP,ie=null!==(g=null==i?void 0:i.hasChildrenPropName)&&void 0!==g?g:ae.treeDataProperties.HAS_CHILDREN_PROP,le=null!==(C=null==i?void 0:i.parentPropName)&&void 0!==C?C:ae.treeDataProperties.PARENT_PROP,De=null!==(D=null==i?void 0:i.levelPropName)&&void 0!==D?D:ae.treeDataProperties.TREE_LEVEL_PROP;return(null==i?void 0:i.shouldAddTreeLevelNumber)&&nn(W,{childrenPropName:J,levelPropName:De}),function(W,i,t=U,u=(()=>{})){const g=W&&W.length?[{pointer:W,offset:0}]:[],C=[];let D;for(;g.length;)for(D=g.pop();D.offset<D.pointer.length;){const B=D.pointer[D.offset],J=u(B),ie=i(B);C.push(t(B,D.node,J,D.nodeId)),D.offset+=1,ie&&(g.push(D),D={pointer:ie,offset:0,node:B,nodeId:J})}return C}(W,Ze=>Ze[J],(Ze,ht)=>tn({[B]:Ze[B],[le]:void 0!==ht?ht[B]:null,[ie]:!!Ze[J]},Oe(Ze,J)))}function an(W,i){var t,u,g,C,D;const B=null!==(t=null==i?void 0:i.identifierPropName)&&void 0!==t?t:"id",J=null!==(u=null==i?void 0:i.childrenPropName)&&void 0!==u?u:ae.treeDataProperties.CHILDREN_PROP,ie=null!==(g=null==i?void 0:i.parentPropName)&&void 0!==g?g:ae.treeDataProperties.PARENT_PROP,le=null!==(C=null==i?void 0:i.levelPropName)&&void 0!==C?C:ae.treeDataProperties.TREE_LEVEL_PROP,De=null!==(D=null==i?void 0:i.collapsedPropName)&&void 0!==D?D:ae.treeDataProperties.COLLAPSED_PROP,Ze=[],ht={};return(W||[]).forEach(Ct=>ht[Ct[B]]=Ct),Object.keys(ht).forEach(Ct=>{var Kt;const Xt=ht[Ct];if(ie in Xt&&null!==Xt[ie]&&void 0!==Xt[ie]&&""!==Xt[ie]){if(Xt[ie]in ht){const dn=ht[Xt[ie]];J in dn||(dn[J]=[]),dn[J].push(Xt),void 0===dn[De]&&(dn[De]=null!==(Kt=null==i?void 0:i.initiallyCollapsed)&&void 0!==Kt&&Kt)}}else Ze.push(Xt)}),nn(Ze,{childrenPropName:J,levelPropName:le},0),Ze}function On(W){const u=Object.prototype.toString.call(W).slice(8,-1).toLowerCase();return"object"===u?(()=>{const g={};for(const C in W)Object.prototype.hasOwnProperty.call(W,C)&&(g[C]=On(W[C]));return g})():"array"===u?W.map(g=>On(g)):W}function Dn(W,...i){if(!i.length)return W;const t=i.shift();if(W=!$t(W)&&$t(t)?{}:W,$t(W)&&$t(t))for(const u in t)t.hasOwnProperty(u)&&(u in W?"object"!=typeof W[u]||"object"!=typeof t[u]?W[u]=t[u]:W[u].concat&&t[u].concat?W[u]=W[u].concat(t[u]):W[u]=Dn(W[u],t[u]):W[u]=t[u]);return Dn(W,...i)}function fi(W){for(const i in W)W.hasOwnProperty(i)&&delete W[i];return W=null,W={}}function ge(W){return null==W||0===Object.entries(W).length}function $t(W){return W&&"object"==typeof W&&!Array.isArray(W)}function Dt(W,i,t){if(!t)throw new Error('findRecursive requires parameter "childrenPropertyName"');const u=W.find(i),g=W.filter(C=>t in C&&C[t]);if(u)return u;if(g.length){const C=[];return g.forEach(D=>{t in D&&C.push(...D[t])}),Dt(C,i,t)}}function qe(W){return null!=W&&""!==W}function We(W,i=!1){return i?null!=W&&"string"!=typeof W&&!isNaN(W):null!=W&&""!==W&&!isNaN(+W)}function _t(W){return!W||W&&"object"==typeof W&&0===Object.keys(W).length}function St(W,i,t,u=".",g=""){if(isNaN(+W))return W;const C=void 0===i?2:i,D=void 0===t?2:t;let B=String(Math.round(+W*Math.pow(10,D))/Math.pow(10,D));for(B.indexOf(".")<0&&C>0&&(B+=".");B.length-B.indexOf(".")<=C;)B+="0";const J=B.split(".");let ie,le;ie=g?J.length>=1?Nn(J[0],g):void 0:J.length>=1?J[0]:B,J.length>1&&(le=J[1]);let De="";return void 0!==ie&&void 0!==le?De=`${ie}${u}${le}`:null!=ie&&(De=ie),De}function Ht(W,i,t,u,g="",C="",D=".",B=""){if(isNaN(+W))return W;const J=Math.round(1e6*parseFloat(W))/1e6;if(J<0){const ie=Math.abs(J);if(u){if(!isNaN(i)||!isNaN(t))return`(${g}${St(ie,i,t,D,B)}${C})`;return`(${g}${Nn(`${ie}`,B)}${C})`}if(!isNaN(i)||!isNaN(t))return`-${g}${St(ie,i,t,D,B)}${C}`;return`-${g}${Nn(`${ie}`,B)}${C}`}if(!isNaN(i)||!isNaN(t))return`${g}${St(W,i,t,D,B)}${C}`;return`${g}${Nn(`${W}`,B)}${C}`}function Mt(W,i,t){if("function"==typeof W.queryFieldNameGetterFn){const u=W.queryFieldNameGetterFn(i);t=(null==u?void 0:u.indexOf("."))>=0?ee(i,u):i.hasOwnProperty(u)?i[u]:t}return t}function ee(W,i){return W&&i?i.split(".").reduce((t,u)=>t&&t[u],W):W}function pe(W){return W&&W.translationNamespace?W.translationNamespace+(W.translationNamespaceSeparator||""):""}function xe(W){let i;switch(W){case Ee.dateTime:case Ee.dateTimeIso:i="YYYY-MM-DD HH:mm:ss";break;case Ee.dateTimeIsoAmPm:i="YYYY-MM-DD hh:mm:ss a";break;case Ee.dateTimeIsoAM_PM:i="YYYY-MM-DD hh:mm:ss A";break;case Ee.dateTimeShortIso:i="YYYY-MM-DD HH:mm";break;case Ee.dateEuro:i="DD/MM/YYYY";break;case Ee.dateEuroShort:i="D/M/YY";break;case Ee.dateTimeEuro:i="DD/MM/YYYY HH:mm:ss";break;case Ee.dateTimeShortEuro:i="DD/MM/YYYY HH:mm";break;case Ee.dateTimeEuroAmPm:i="DD/MM/YYYY hh:mm:ss a";break;case Ee.dateTimeEuroAM_PM:i="DD/MM/YYYY hh:mm:ss A";break;case Ee.dateTimeEuroShort:i="D/M/YY H:m:s";break;case Ee.dateTimeEuroShortAmPm:i="D/M/YY h:m:s a";break;case Ee.dateUs:i="MM/DD/YYYY";break;case Ee.dateUsShort:i="M/D/YY";break;case Ee.dateTimeUs:i="MM/DD/YYYY HH:mm:ss";break;case Ee.dateTimeUsAmPm:i="MM/DD/YYYY hh:mm:ss a";break;case Ee.dateTimeUsAM_PM:i="MM/DD/YYYY hh:mm:ss A";break;case Ee.dateTimeUsShort:i="M/D/YY H:m:s";break;case Ee.dateTimeUsShortAmPm:i="M/D/YY h:m:s a";break;case Ee.dateTimeShortUs:i="MM/DD/YYYY HH:mm";break;case Ee.dateUtc:i="YYYY-MM-DDTHH:mm:ss.SSSZ";break;case Ee.date:case Ee.dateIso:default:i="YYYY-MM-DD"}return i}function Ce(W){let i;switch(W){case Ee.dateTime:case Ee.dateTimeIso:i="Y-m-d H:i:S";break;case Ee.dateTimeShortIso:i="Y-m-d H:i";break;case Ee.dateTimeIsoAmPm:case Ee.dateTimeIsoAM_PM:i="Y-m-d h:i:S K";break;case Ee.dateEuro:i="d/m/Y";break;case Ee.dateEuroShort:i="d/m/y";break;case Ee.dateTimeEuro:i="d/m/Y H:i:S";break;case Ee.dateTimeShortEuro:i="d/m/y H:i";break;case Ee.dateTimeEuroAmPm:i="d/m/Y h:i:S K";break;case Ee.dateTimeEuroAM_PM:i="d/m/Y h:i:s K";break;case Ee.dateTimeEuroShort:i="d/m/y H:i:s";break;case Ee.dateTimeEuroShortAmPm:i="d/m/y h:i:s K";break;case Ee.dateUs:i="m/d/Y";break;case Ee.dateUsShort:i="m/d/y";break;case Ee.dateTimeUs:i="m/d/Y H:i:S";break;case Ee.dateTimeShortUs:i="m/d/y H:i";break;case Ee.dateTimeUsAmPm:i="m/d/Y h:i:S K";break;case Ee.dateTimeUsAM_PM:i="m/d/Y h:i:s K";break;case Ee.dateTimeUsShort:i="m/d/y H:i:s";break;case Ee.dateTimeUsShortAmPm:i="m/d/y h:i:s K";break;case Ee.dateUtc:i="Z";break;case Ee.date:case Ee.dateIso:default:i="Y-m-d"}return i}function Je(W){let i;switch(W){case"<":case"LT":i=ze.lessThan;break;case"<=":case"LE":i=ze.lessThanOrEqual;break;case">":case"GT":i=ze.greaterThan;break;case">=":case"GE":i=ze.greaterThanOrEqual;break;case"<>":case"!=":case"NE":i=ze.notEqual;break;case"*":case"a*":case"StartsWith":i=ze.startsWith;break;case"*z":case"EndsWith":i=ze.endsWith;break;case"=":case"==":case"EQ":i=ze.equal;break;case"IN":i=ze.in;break;case"NIN":case"NOT_IN":i=ze.notIn;break;case"Not_Contains":case"NOT_CONTAINS":i=ze.notContains;break;default:i=ze.contains}return i}function lt(W){let i="";switch(W){case ze.greaterThan:case">":i=">";break;case ze.greaterThanOrEqual:case">=":i=">=";break;case ze.lessThan:case"<":i="<";break;case ze.lessThanOrEqual:case"<=":i="<=";break;case ze.notEqual:case"<>":i="<>";break;case ze.equal:case"=":case"==":case"EQ":i="=";break;case ze.startsWith:case"a*":case"*":i="a*";break;case ze.endsWith:case"*z":i="*z";break;default:i=W}return i}function jt(W){let i;switch(W){case Ee.unknown:case Ee.string:case Ee.text:case Ee.password:case Ee.readonly:i=ze.contains;break;case Ee.float:case Ee.number:case Ee.date:case Ee.dateIso:case Ee.dateUtc:case Ee.dateTime:case Ee.dateTimeIso:case Ee.dateTimeIsoAmPm:case Ee.dateTimeIsoAM_PM:case Ee.dateEuro:case Ee.dateEuroShort:case Ee.dateTimeEuro:case Ee.dateTimeEuroAmPm:case Ee.dateTimeEuroAM_PM:case Ee.dateTimeEuroShort:case Ee.dateTimeEuroShortAmPm:case Ee.dateTimeEuroShortAM_PM:case Ee.dateUs:case Ee.dateUsShort:case Ee.dateTimeUs:case Ee.dateTimeUsAmPm:case Ee.dateTimeUsAM_PM:case Ee.dateTimeUsShort:case Ee.dateTimeUsShortAmPm:case Ee.dateTimeUsShortAM_PM:default:i=ze.equal}return i}function Oe(W,i){return Object.keys(W).reduce((t,u)=>(u!==i&&(t[u]=W[u]),t),{})}function Fe(W){return/(true|1)/i.test(W+"")}function ut(W,i){let t="";if("string"==typeof W&&/^[0-9\-\/]*$/.test(W)){const u=decodeURIComponent(W),g=wt(new Date(u));g.isValid()&&4===g.year().toString().length&&(t=i?g.utc().format():g.format())}return t}function It(W,i=!1){const t=null==W?void 0:W.normalize("NFD").replace(/[\u0300-\u036f]/g,"");return i?t.toLowerCase():t}function cn(W,i,t){if("string"==typeof i&&(i=i.split(".")),i.length>1){const u=i.shift();W&&void 0!==u&&cn(W[u]="[object Object]"===Object.prototype.toString.call(W[u])?W[u]:{},i,t)}else W&&i[0]&&(W[i[0]]=t)}function Nn(W,i=","){if(null!=W){const t=`${W}`,u=t.split(".");return 2===u.length?`${u[0].replace(/\B(?=(\d{3})+(?!\d))/g,i)}.${u[1]}`:t.replace(/\B(?=(\d{3})+(?!\d))/g,i)}return W}function _n(W,i=!1){return"string"==typeof W?i?W.replace(/\w\S*/g,t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()):W.charAt(0).toUpperCase()+W.slice(1):W}function Fn(W){return"string"==typeof W?W.replace(/(?:^\w|[A-Z]|\b\w|[\s+\-_\/])/g,(i,t)=>/[\s+\-_\/]/.test(i)?"":0===t?i.toLowerCase():i.toUpperCase()):W}function Hn(W){return"string"==typeof W?Fn(W).replace(/([A-Z])/g,"-$1").toLowerCase():W}function Tn(W){if("string"==typeof W){const i=W.replace(/([A-Z])|(\-)/g," $1").replace(/\s+/g," ").trim();return i.charAt(0).toUpperCase()+i.slice(1)}return W}function kn(W,i,t={}){return Array.isArray(W)?W.find(i)||t:W}function xn(W){return"string"==typeof W?Fn(W).replace(/([A-Z])/g,"_$1").toLowerCase():W}function hr(W){if(Array.isArray(W))for(;W.length>0;){const i=W.pop();(null==i?void 0:i.unsubscribe)&&i.unsubscribe()}return W}function $i(W){return Array.isArray(W)&&W.length>0?W.filter((i,t)=>W.indexOf(i)>=t):W}function kr(W,i="id"){if(Array.isArray(W)&&W.length>0){const t=[],u=new Map;for(const g of W)g&&!u.has(g[i])&&(u.set(g[i],!0),t.push({id:g[i],name:g.name}));return t}return W}const rr=(W,i,t,u,g)=>{var C,D;const B=null!==(D=null!==(C=null==u?void 0:u.valueCouldBeUndefined)&&void 0!==C?C:null==g?void 0:g.cellValueCouldBeUndefined)&&void 0!==D&&D,J=isNaN(W)||""===W||null===W||B&&void 0===W?-99e10:parseFloat(W),ie=isNaN(i)||""===i||null===i||B&&void 0===i?-99e10:parseFloat(i);return t*(J===ie?0:J>ie?1:-1)},Xr=te()||be;function es(W,i,t,u,g,C,D){var B,J;let ie=0;const le=null!==(J=null!==(B=null==u?void 0:u.valueCouldBeUndefined)&&void 0!==B?B:null==g?void 0:g.cellValueCouldBeUndefined)&&void 0!==J&&J,De=Xr(W,C,D),Ne=Xr(i,C,D);return ie=null===W||""===W||le&&void 0===W||!De.isValid()?-1:null===i||""===i||le&&void 0===i||!Ne.isValid()?1:De.valueOf()<Ne.valueOf()?-1:1,t*ie}function Yi(W){const i=W===Ee.date?Xr.ISO_8601:xe(W);return(t,u,g,C,D)=>i===Xr.ISO_8601?es(t,u,g,C,D,i,!1):es(t,u,g,C,D,i,!0)}const Hs={date:Yi(Ee.date),dateIso:Yi(Ee.dateIso),dateUtc:Yi(Ee.dateUtc),dateTime:Yi(Ee.dateTime),dateTimeIso:Yi(Ee.dateTimeIso),dateTimeIsoAmPm:Yi(Ee.dateTimeIsoAmPm),dateTimeIsoAM_PM:Yi(Ee.dateTimeIsoAM_PM),dateTimeShortIso:Yi(Ee.dateTimeShortIso),dateEuro:Yi(Ee.dateEuro),dateEuroShort:Yi(Ee.dateEuroShort),dateTimeShortEuro:Yi(Ee.dateTimeShortEuro),dateTimeEuro:Yi(Ee.dateTimeEuro),dateTimeEuroAmPm:Yi(Ee.dateTimeEuroAmPm),dateTimeEuroAM_PM:Yi(Ee.dateTimeEuroAM_PM),dateTimeEuroShort:Yi(Ee.dateTimeEuroShort),dateTimeEuroShortAmPm:Yi(Ee.dateTimeEuroShortAmPm),dateTimeEuroShortAM_PM:Yi(Ee.dateTimeEuroShortAM_PM),dateUs:Yi(Ee.dateUs),dateUsShort:Yi(Ee.dateUsShort),dateTimeShortUs:Yi(Ee.dateTimeShortUs),dateTimeUs:Yi(Ee.dateTimeUs),dateTimeUsAmPm:Yi(Ee.dateTimeUsAmPm),dateTimeUsAM_PM:Yi(Ee.dateTimeUsAM_PM),dateTimeUsShort:Yi(Ee.dateTimeUsShort),dateTimeUsShortAmPm:Yi(Ee.dateTimeUsShortAmPm),dateTimeUsShortAM_PM:Yi(Ee.dateTimeUsShortAM_PM),numeric:rr,objectString:(W,i,t,u,g)=>{var C,D;if(!u||!u.dataKey)throw new Error('Sorting a "FieldType.object" requires you to provide the "dataKey" (object property name) of the object so that we can use it to sort correctly');const B=(null==W?void 0:W.hasOwnProperty(u.dataKey))?W[u.dataKey]:W,J=(null==i?void 0:i.hasOwnProperty(u.dataKey))?i[u.dataKey]:i,ie=null!==(D=null!==(C=null==u?void 0:u.valueCouldBeUndefined)&&void 0!==C?C:null==g?void 0:g.cellValueCouldBeUndefined)&&void 0!==D&&D;null==t&&(t=nt.neutral);let le=0;return le="object"!=typeof W?-99e10:"object"!=typeof i?99e10:null===B||ie&&void 0===B?-1:null===J||ie&&void 0===J?1:B===J?0:t?B<J?-1:1:B<J?1:-1,t*le},string:(W,i,t,u,g)=>{var C,D;null==t&&(t=nt.neutral);let B=0;const J=null!==(D=null!==(C=null==u?void 0:u.valueCouldBeUndefined)&&void 0!==C?C:null==g?void 0:g.cellValueCouldBeUndefined)&&void 0!==D&&D;return W===i?B=0:null===W||J&&void 0===W?B=-1:null===i||J&&void 0===i?B=1:((null==g?void 0:g.ignoreAccentOnStringFilterAndSort)&&(W=It(W,!1),i=It(i,!1)),B=t?W<i?-1:1:W<i?1:-1),t*B}};function ps(W,i,t,u,g,C){let D=0;switch(W){case Ee.float:case Ee.integer:case Ee.number:D=Hs.numeric(i,t,u,g,C);break;case Ee.date:case Ee.dateIso:case Ee.dateUtc:case Ee.dateTime:case Ee.dateTimeIso:case Ee.dateTimeIsoAmPm:case Ee.dateTimeIsoAM_PM:case Ee.dateTimeShortIso:case Ee.dateEuro:case Ee.dateEuroShort:case Ee.dateTimeShortEuro:case Ee.dateTimeEuro:case Ee.dateTimeEuroAmPm:case Ee.dateTimeEuroAM_PM:case Ee.dateTimeEuroShort:case Ee.dateTimeEuroShortAmPm:case Ee.dateTimeEuroShortAM_PM:case Ee.dateUs:case Ee.dateUsShort:case Ee.dateTimeShortUs:case Ee.dateTimeUs:case Ee.dateTimeUsAmPm:case Ee.dateTimeUsAM_PM:case Ee.dateTimeUsShort:case Ee.dateTimeUsShortAmPm:case Ee.dateTimeUsShortAM_PM:D=Yi(W).call(this,i,t,u,g,C);break;case Ee.object:D=Hs.objectString(i,t,u,g,C);break;case Ee.string:case Ee.text:case Ee.password:case Ee.readonly:default:D=Hs.string(i,t,u,g,C)}return D}var Or=L(1670),Qe=(L(2400),L(8120));function ft(W,i,t,u,g=!1,C,D){var B,J,ie,le,De,Ne,Ze,ht,Ct,Kt,Xt,dn,yi,ni,Jn,Ti,ri,Xn;const Wi=null!==(B=null==t?void 0:t.id)&&void 0!==B?B:"",vr=u.getOptions(),Ci=null!==(J="editor"===W?null==t?void 0:t.internalColumnEditor:null==t?void 0:t.filter)&&void 0!==J?J:{},As=null!==(ie=null==Ci?void 0:Ci.collectionOptions)&&void 0!==ie?ie:{},fo=null!==(le=null==As?void 0:As.separatorBetweenTextLabels)&&void 0!==le?le:"",Ws=null!==(De=null==Ci?void 0:Ci.enableTranslateLabel)&&void 0!==De&&De,wa=null!==(Ne=null==vr?void 0:vr.enableTranslate)&&void 0!==Ne&&Ne,ro=null!==(Ze=null==Ci?void 0:Ci.enableRenderHtml)&&void 0!==Ze&&Ze,Aa=null!==(ht=null==vr?void 0:vr.sanitizeHtmlOptions)&&void 0!==ht?ht:{},oa=null!==(Kt=null===(Ct=null==Ci?void 0:Ci.customStructure)||void 0===Ct?void 0:Ct.label)&&void 0!==Kt?Kt:"label",po=null!==(dn=null===(Xt=null==Ci?void 0:Ci.customStructure)||void 0===Xt?void 0:Xt.labelPrefix)&&void 0!==dn?dn:"labelPrefix",so=null!==(ni=null===(yi=null==Ci?void 0:Ci.customStructure)||void 0===yi?void 0:yi.labelSuffix)&&void 0!==ni?ni:"labelSuffix",pa=null!==(Ti=null===(Jn=null==Ci?void 0:Ci.customStructure)||void 0===Jn?void 0:Jn.optionLabel)&&void 0!==Ti?Ti:"value",Ro=null!==(Xn=null===(ri=null==Ci?void 0:Ci.customStructure)||void 0===ri?void 0:ri.value)&&void 0!==Xn?Xn:"value",cs=Wt("select",{className:"ms-filter search-filter"}),zs="filter"===W?["search-filter",`filter-${Wi}`]:["select-editor",`editor-${Wi}`];cs.classList.add(...zs),cs.multiple=g;const ul=document.createDocumentFragment();let xa=!1;if(Array.isArray(i))if(i.every(Es=>"string"==typeof Es))for(const Es of i){const Ko=Wt("option",{label:Es,value:Es,textContent:Es});"filter"===W&&Array.isArray(D)&&(Ko.selected=D.findIndex(cl=>cl===Es)>=0),ul.appendChild(Ko),(Ko.selected&&g||Ko.selected&&!g&&""!==Es)&&(xa=!0)}else i.forEach(Es=>{if(!Es||void 0===Es[oa]&&void 0===Es.labelKey)throw new Error("[Slickgrid-Universal] Select Filter/Editor collection with value/label (or value/labelKey when using Locale) is required to populate the Select list, for example:: { filter: model: Filters.multipleSelect, collection: [ { value: '1', label: 'One' } ]')");const Ko=document.createElement("option"),cl=Es.labelKey||Es[oa],Xa=(Es.labelKey||Ws&&C)&&cl&&wa?null==C?void 0:C.translate(cl||" "):cl;let aa=Es[po]||"",Dl=Es[so]||"",qo=Es.hasOwnProperty(pa)?Es[pa]:"";(null==qo?void 0:qo.toString)&&(qo=qo.toString().replace(/\"/g,"'")),aa=Ws&&C&&aa&&"string"==typeof aa?C.translate(aa||" "):aa,Dl=Ws&&C&&Dl&&"string"==typeof Dl?C.translate(Dl||" "):Dl,qo=Ws&&C&&qo&&"string"==typeof qo?C.translate(qo||" "):qo;let dl=[aa,"string"==typeof Xa||"number"==typeof Xa?Xa.toString():Xa,Dl].filter(Qa=>Qa).join(fo);if(ro){dl=Qr(Hi(vr,dl,Aa)),Ko.innerHTML=dl}else Ko.textContent=dl;let hl=Es[Ro];null==hl&&(hl=""),"filter"===W&&Array.isArray(D)&&(Ko.selected=D.findIndex(Qa=>`${Qa}`==`${Es[Ro]}`)>=0),Ko.value=`${hl}`,Ko.label=`${null!=qo?qo:""}`,ul.appendChild(Ko),(Ko.selected&&g||Ko.selected&&!g&&""!==Es[Ro])&&(xa=!0)});return cs.appendChild(ul),{selectElement:cs,hasFoundSearchTerm:xa}}function mn(W){var i,t,u,g;let C=0,D=0,B=0,J=0;const ie=null!==(i=window.innerHeight)&&void 0!==i?i:0,le=null!==(t=window.innerWidth)&&void 0!==t?t:0,De={left:window.pageXOffset||document.documentElement.scrollLeft||0,top:window.pageYOffset||document.documentElement.scrollTop||0},Ne=De.top,Ze=De.left,ht=_r(W);if(ht){const Ct=null!==(u=ht.top)&&void 0!==u?u:0,Kt=null!==(g=ht.left)&&void 0!==g?g:0;D=Ct-Ne,C=ie-(Ct-Ne),B=Kt-Ze,J=le-(Kt-Ze)}return{top:D,bottom:C,left:B,right:J}}function Wt(W,i){const t=document.createElement(W);return i&&Object.keys(i).forEach(u=>{const g=i[u];"object"==typeof g?Dn(t[u],g):t[u]=i[u]}),t}function Di(W){if(W)for(const i of Object.keys(W))Array.isArray(W[i])&&Di(W[i]),W[i]instanceof HTMLElement&&(W[i]=null)}function di(W){if(null==W?void 0:W.firstChild)for(;W.firstChild;)W.lastChild&&W.removeChild(W.lastChild);return W}function _r(W){var i;if(!W)return;const t=null===(i=null==W?void 0:W.getBoundingClientRect)||void 0===i?void 0:i.call(W);let u=0,g=0,C=0,D=0;return void 0!==(null==t?void 0:t.top)&&void 0!==t.left&&(u=t.top+window.pageYOffset,g=t.left+window.pageXOffset,D=t.right,C=t.bottom),{top:u,left:g,bottom:C,right:D}}function yo(W,i){if(W)for(const t of i){const u=W.getAttribute(t);if(u)return u}return null}function sr(W,i="auto"){return(/^[0-9]+$/i.test(`${W}`)?+W+"px":W)||i}function Qr(W){const i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return(W||"").toString().replace(/[&<>"']/g,t=>i[t])}function Ts(W){return W.replace(/&#(\d+);/g,(i,t)=>String.fromCharCode(t))}function Zr(W,i){const t=W.length;let u=Qr(W);if(t<i)for(let g=t;g<i;g++)u+="&nbsp;";return u}function Us(W){const i=document.createElement("div");return i.innerHTML=W,i.textContent||i.innerText||""}function Hi(W,i,t){let u=i;return"function"==typeof(null==W?void 0:W.sanitizer)?u=W.sanitizer(i||""):"function"==typeof(null==Qe?void 0:Qe.sanitize)&&(u=(Qe.sanitize(i||"",t||{})||"").toString()),u}function Gi(W,i){const t=Wt("select",{className:"form-control"});for(const u of W)t.appendChild(Wt("option",{value:u.operator,innerHTML:Hi(i,`${Zr(u.operator,3)}${u.description}`)}));return t}function ts(W,i,t,u,g){return Jr.apply(this,arguments)}function Jr(){return Jr=(0,Or.Z)(function*(W,i,t,u,g){var C,D,B;const J=null!==(C=null==i?void 0:i.filter)&&void 0!==C?C:{},ie=null!==(D=null==J?void 0:J.collectionOptions)&&void 0!==D?D:{};let le=null;if(W){const De=null!==(B=null==u?void 0:u.isObservable(W))&&void 0!==B&&B;De&&u&&(le=yield sn(u,W));const Ne=yield W;if(Array.isArray(Ne)?le=Ne:Ne instanceof Response&&"function"==typeof Ne.json?le=yield Ne.json():Ne&&Ne.content&&(le=Ne.content),!Array.isArray(le)&&(null==ie?void 0:ie.collectionInsideObjectProperty)){le=ee(le||Ne,ie.collectionInsideObjectProperty||"")}if(!Array.isArray(le))throw new Error('Something went wrong while trying to pull the collection from the "collectionAsync" call in the Filter, the collection is not a valid array.');J.collection=le,t(le),De&&Lr(i,t,u,g)}return le}),Jr.apply(this,arguments)}function Lr(W,i,t,u){var g;const C=null!==(g=null==W?void 0:W.filter)&&void 0!==g?g:{},D=null==t?void 0:t.createSubject();C.collectionAsync=D,u&&D&&u.push(D.subscribe(B=>function(W,i,t){var u,g;const C=null!==(u=null==i?void 0:i.filter)&&void 0!==u?u:{},D=null!==(g=null==C?void 0:C.collectionOptions)&&void 0!==g?g:{};D&&D.collectionInsideObjectProperty&&(W=ee(W,D.collectionInsideObjectProperty));if(!Array.isArray(W))throw new Error('Something went wrong while trying to pull the collection from the "collectionAsync" call in the Filter, the collection is not a valid array.');C.collection=W,t(W)}(B,W,i)))}const or=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],lr={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:W=>"undefined"!=typeof console&&console.warn(W),getWeek:W=>{const i=new Date(W.getTime());i.setHours(0,0,0,0),i.setDate(i.getDate()+3-(i.getDay()+6)%7);var t=new Date(i.getFullYear(),0,4);return 1+Math.round(((i.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},ns={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:W=>{const i=W%100;if(i>3&&i<21)return"th";switch(i%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},ai=ns,Xi=(W,i=2)=>`000${W}`.slice(-1*i),ji=W=>!0===W?1:0;function Er(W,i){let t;return function(){clearTimeout(t),t=setTimeout(()=>W.apply(this,arguments),i)}}const Bi=W=>W instanceof Array?W:[W];function ar(W,i,t){if(!0===t)return W.classList.add(i);W.classList.remove(i)}function ki(W,i,t){const u=window.document.createElement(W);return i=i||"",t=t||"",u.className=i,void 0!==t&&(u.textContent=t),u}function Rr(W){for(;W.firstChild;)W.removeChild(W.firstChild)}function is(W,i){return i(W)?W:W.parentNode?is(W.parentNode,i):void 0}function Et(W,i){const t=ki("div","numInputWrapper"),u=ki("input","numInput "+W),g=ki("span","arrowUp"),C=ki("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?u.type="number":(u.type="text",u.pattern="\\d*"),void 0!==i)for(const D in i)u.setAttribute(D,i[D]);return t.appendChild(u),t.appendChild(g),t.appendChild(C),t}function Rt(W){try{return"function"==typeof W.composedPath?W.composedPath()[0]:W.target}catch(i){return W.target}}const Tt=()=>{},wn=(W,i,t)=>t.months[i?"shorthand":"longhand"][W],In={D:Tt,F:function(W,i,t){W.setMonth(t.months.longhand.indexOf(i))},G:(W,i)=>{W.setHours(parseFloat(i))},H:(W,i)=>{W.setHours(parseFloat(i))},J:(W,i)=>{W.setDate(parseFloat(i))},K:(W,i,t)=>{W.setHours(W.getHours()%12+12*ji(new RegExp(t.amPM[1],"i").test(i)))},M:function(W,i,t){W.setMonth(t.months.shorthand.indexOf(i))},S:(W,i)=>{W.setSeconds(parseFloat(i))},U:(W,i)=>new Date(1e3*parseFloat(i)),W:function(W,i,t){const u=parseInt(i),g=new Date(W.getFullYear(),0,2+7*(u-1),0,0,0,0);return g.setDate(g.getDate()-g.getDay()+t.firstDayOfWeek),g},Y:(W,i)=>{W.setFullYear(parseFloat(i))},Z:(W,i)=>new Date(i),d:(W,i)=>{W.setDate(parseFloat(i))},h:(W,i)=>{W.setHours(parseFloat(i))},i:(W,i)=>{W.setMinutes(parseFloat(i))},j:(W,i)=>{W.setDate(parseFloat(i))},l:Tt,m:(W,i)=>{W.setMonth(parseFloat(i)-1)},n:(W,i)=>{W.setMonth(parseFloat(i)-1)},s:(W,i)=>{W.setSeconds(parseFloat(i))},u:(W,i)=>new Date(parseFloat(i)),w:Tt,y:(W,i)=>{W.setFullYear(2e3+parseFloat(i))}},Qn={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},$n={Z:W=>W.toISOString(),D:function(W,i,t){return i.weekdays.shorthand[$n.w(W,i,t)]},F:function(W,i,t){return wn($n.n(W,i,t)-1,!1,i)},G:function(W,i,t){return Xi($n.h(W,i,t))},H:W=>Xi(W.getHours()),J:function(W,i){return void 0!==i.ordinal?W.getDate()+i.ordinal(W.getDate()):W.getDate()},K:(W,i)=>i.amPM[ji(W.getHours()>11)],M:function(W,i){return wn(W.getMonth(),!0,i)},S:W=>Xi(W.getSeconds()),U:W=>W.getTime()/1e3,W:function(W,i,t){return t.getWeek(W)},Y:W=>Xi(W.getFullYear(),4),d:W=>Xi(W.getDate()),h:W=>W.getHours()%12?W.getHours()%12:12,i:W=>Xi(W.getMinutes()),j:W=>W.getDate(),l:function(W,i){return i.weekdays.longhand[W.getDay()]},m:W=>Xi(W.getMonth()+1),n:W=>W.getMonth()+1,s:W=>W.getSeconds(),u:W=>W.getTime(),w:W=>W.getDay(),y:W=>String(W.getFullYear()).substring(2)},mi=({config:W=lr,l10n:i=ns,isMobile:t=!1})=>(u,g,C)=>{const D=C||i;return void 0===W.formatDate||t?g.split("").map((B,J,ie)=>$n[B]&&"\\"!==ie[J-1]?$n[B](u,D,W):"\\"!==B?B:"").join(""):W.formatDate(u,g,D)},xi=({config:W=lr,l10n:i=ns})=>(t,u,g,C)=>{if(0!==t&&!t)return;const D=C||i;let B;const J=t;if(t instanceof Date)B=new Date(t.getTime());else if("string"!=typeof t&&void 0!==t.toFixed)B=new Date(t);else if("string"==typeof t){const ie=u||(W||lr).dateFormat,le=String(t).trim();if("today"===le)B=new Date,g=!0;else if(/Z$/.test(le)||/GMT$/.test(le))B=new Date(t);else if(W&&W.parseDate)B=W.parseDate(t,ie);else{B=W&&W.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0);let De,Ne=[];for(let Ze=0,ht=0,Ct="";Ze<ie.length;Ze++){const Kt=ie[Ze],Xt="\\"===Kt,dn="\\"===ie[Ze-1]||Xt;if(Qn[Kt]&&!dn){Ct+=Qn[Kt];const yi=new RegExp(Ct).exec(t);yi&&(De=!0)&&Ne["Y"!==Kt?"push":"unshift"]({fn:In[Kt],val:yi[++ht]})}else Xt||(Ct+=".");Ne.forEach(({fn:yi,val:ni})=>B=yi(B,ni,D)||B)}B=De?B:void 0}}if(B instanceof Date&&!isNaN(B.getTime()))return!0===g&&B.setHours(0,0,0,0),B;W.errorHandler(new Error(`Invalid date provided: ${J}`))};function Ri(W,i,t=!0){return!1!==t?new Date(W.getTime()).setHours(0,0,0,0)-new Date(i.getTime()).setHours(0,0,0,0):W.getTime()-i.getTime()}const Wr=(W,i,t)=>W>Math.min(i,t)&&W<Math.max(i,t),Is_DAY=864e5;function Vt(W){let i=W.defaultHour,t=W.defaultMinute,u=W.defaultSeconds;if(void 0!==W.minDate){const g=W.minDate.getHours(),C=W.minDate.getMinutes(),D=W.minDate.getSeconds();i<g&&(i=g),i===g&&t<C&&(t=C),i===g&&t===C&&u<D&&(u=W.minDate.getSeconds())}if(void 0!==W.maxDate){const g=W.maxDate.getHours(),C=W.maxDate.getMinutes();i=Math.min(i,g),i===g&&(t=Math.min(C,t)),i===g&&t===C&&(u=W.maxDate.getSeconds())}return{hours:i,minutes:t,seconds:u}}L(2800);function vt(W,i){const t={config:Object.assign(Object.assign({},lr),yn.defaultConfig),l10n:ai};function C(mt){return mt.bind(t)}function D(){const mt=t.config;!1===mt.weekNumbers&&1===mt.showMonths||!0!==mt.noCalendar&&window.requestAnimationFrame(function(){if(void 0!==t.calendarContainer&&(t.calendarContainer.style.visibility="hidden",t.calendarContainer.style.display="block"),void 0!==t.daysContainer){const xt=(t.days.offsetWidth+1)*mt.showMonths;t.daysContainer.style.width=xt+"px",t.calendarContainer.style.width=xt+(void 0!==t.weekWrapper?t.weekWrapper.offsetWidth:0)+"px",t.calendarContainer.style.removeProperty("visibility"),t.calendarContainer.style.removeProperty("display")}})}function B(mt){if(0===t.selectedDates.length){const gn=void 0===t.config.minDate||Ri(new Date,t.config.minDate)>=0?new Date:new Date(t.config.minDate.getTime()),Bn=Vt(t.config);gn.setHours(Bn.hours,Bn.minutes,Bn.seconds,gn.getMilliseconds()),t.selectedDates=[gn],t.latestSelectedDateObj=gn}void 0!==mt&&"blur"!==mt.type&&function(mt){mt.preventDefault();const xt="keydown"===mt.type,gn=Rt(mt),Bn=gn;void 0!==t.amPM&&gn===t.amPM&&(t.amPM.textContent=t.l10n.amPM[ji(t.amPM.textContent===t.l10n.amPM[0])]);const Ai=parseFloat(Bn.getAttribute("min")),Yn=parseFloat(Bn.getAttribute("max")),tr=parseFloat(Bn.getAttribute("step")),nr=parseInt(Bn.value,10),ds=mt.delta||(xt?38===mt.which?1:-1:0);let os=nr+tr*ds;if(void 0!==Bn.value&&2===Bn.value.length){const oo=Bn===t.hourElement,la=Bn===t.minuteElement;os<Ai?(os=Yn+os+ji(!oo)+(ji(oo)&&ji(!t.amPM)),la&&yi(void 0,-1,t.hourElement)):os>Yn&&(os=Bn===t.hourElement?os-Yn-ji(!t.amPM):Ai,la&&yi(void 0,1,t.hourElement)),t.amPM&&oo&&(1===tr?os+nr===23:Math.abs(os-nr)>tr)&&(t.amPM.textContent=t.l10n.amPM[ji(t.amPM.textContent===t.l10n.amPM[0])]),Bn.value=Xi(os)}}(mt);const xt=t._input.value;le(),mu(),t._input.value!==xt&&t._debouncedChange()}function le(){if(void 0===t.hourElement||void 0===t.minuteElement)return;let mt=(parseInt(t.hourElement.value.slice(-2),10)||0)%24,xt=(parseInt(t.minuteElement.value,10)||0)%60,gn=void 0!==t.secondElement?(parseInt(t.secondElement.value,10)||0)%60:0;void 0!==t.amPM&&(mt=function(mt,xt){return mt%12+12*ji(xt===t.l10n.amPM[1])}(mt,t.amPM.textContent));const Bn=void 0!==t.config.minTime||t.config.minDate&&t.minDateHasTime&&t.latestSelectedDateObj&&0===Ri(t.latestSelectedDateObj,t.config.minDate,!0);if(void 0!==t.config.maxTime||t.config.maxDate&&t.maxDateHasTime&&t.latestSelectedDateObj&&0===Ri(t.latestSelectedDateObj,t.config.maxDate,!0)){const Yn=void 0!==t.config.maxTime?t.config.maxTime:t.config.maxDate;mt=Math.min(mt,Yn.getHours()),mt===Yn.getHours()&&(xt=Math.min(xt,Yn.getMinutes())),xt===Yn.getMinutes()&&(gn=Math.min(gn,Yn.getSeconds()))}if(Bn){const Yn=void 0!==t.config.minTime?t.config.minTime:t.config.minDate;mt=Math.max(mt,Yn.getHours()),mt===Yn.getHours()&&xt<Yn.getMinutes()&&(xt=Yn.getMinutes()),xt===Yn.getMinutes()&&(gn=Math.max(gn,Yn.getSeconds()))}Ne(mt,xt,gn)}function De(mt){const xt=mt||t.latestSelectedDateObj;xt&&Ne(xt.getHours(),xt.getMinutes(),xt.getSeconds())}function Ne(mt,xt,gn){void 0!==t.latestSelectedDateObj&&t.latestSelectedDateObj.setHours(mt%24,xt,gn||0,0),t.hourElement&&t.minuteElement&&!t.isMobile&&(t.hourElement.value=Xi(t.config.time_24hr?mt:(12+mt)%12+12*ji(mt%12==0)),t.minuteElement.value=Xi(xt),void 0!==t.amPM&&(t.amPM.textContent=t.l10n.amPM[ji(mt>=12)]),void 0!==t.secondElement&&(t.secondElement.value=Xi(gn)))}function Ze(mt){const xt=Rt(mt),gn=parseInt(xt.value)+(mt.delta||0);(gn/1e3>1||"Enter"===mt.key&&!/[^\d]/.test(gn.toString()))&&xa(gn)}function ht(mt,xt,gn,Bn){return xt instanceof Array?xt.forEach(Ai=>ht(mt,Ai,gn,Bn)):mt instanceof Array?mt.forEach(Ai=>ht(Ai,xt,gn,Bn)):(mt.addEventListener(xt,gn,Bn),void t._handlers.push({remove:()=>mt.removeEventListener(xt,gn)}))}function Ct(){go("onChange")}function Xt(mt,xt){const gn=void 0!==mt?t.parseDate(mt):t.latestSelectedDateObj||(t.config.minDate&&t.config.minDate>t.now?t.config.minDate:t.config.maxDate&&t.config.maxDate<t.now?t.config.maxDate:t.now),Bn=t.currentYear,Ai=t.currentMonth;try{void 0!==gn&&(t.currentYear=gn.getFullYear(),t.currentMonth=gn.getMonth())}catch(Yn){Yn.message="Invalid date supplied: "+gn,t.config.errorHandler(Yn)}xt&&t.currentYear!==Bn&&(go("onYearChange"),As()),xt&&(t.currentYear!==Bn||t.currentMonth!==Ai)&&go("onMonthChange"),t.redraw()}function dn(mt){const xt=Rt(mt);~xt.className.indexOf("arrow")&&yi(mt,xt.classList.contains("arrowUp")?1:-1)}function yi(mt,xt,gn){const Bn=mt&&Rt(mt),Ai=gn||Bn&&Bn.parentNode&&Bn.parentNode.firstChild,Yn=ss("increment");Yn.delta=xt,Ai&&Ai.dispatchEvent(Yn)}function Jn(mt,xt,gn,Bn){const Ai=Es(xt,!0),Yn=ki("span","flatpickr-day "+mt,xt.getDate().toString());return Yn.dateObj=xt,Yn.$i=Bn,Yn.setAttribute("aria-label",t.formatDate(xt,t.config.ariaDateFormat)),-1===mt.indexOf("hidden")&&0===Ri(xt,t.now)&&(t.todayDateElem=Yn,Yn.classList.add("today"),Yn.setAttribute("aria-current","date")),Ai?(Yn.tabIndex=-1,Mc(xt)&&(Yn.classList.add("selected"),t.selectedDateElem=Yn,"range"===t.config.mode&&(ar(Yn,"startRange",t.selectedDates[0]&&0===Ri(xt,t.selectedDates[0],!0)),ar(Yn,"endRange",t.selectedDates[1]&&0===Ri(xt,t.selectedDates[1],!0)),"nextMonthDay"===mt&&Yn.classList.add("inRange")))):Yn.classList.add("flatpickr-disabled"),"range"===t.config.mode&&function(mt){return!("range"!==t.config.mode||t.selectedDates.length<2)&&(Ri(mt,t.selectedDates[0])>=0&&Ri(mt,t.selectedDates[1])<=0)}(xt)&&!Mc(xt)&&Yn.classList.add("inRange"),t.weekNumbers&&1===t.config.showMonths&&"prevMonthDay"!==mt&&gn%7==1&&t.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+t.config.getWeek(xt)+"</span>"),go("onDayCreate",Yn),Yn}function Ti(mt){mt.focus(),"range"===t.config.mode&&aa(mt)}function ri(mt){const xt=mt>0?0:t.config.showMonths-1,gn=mt>0?t.config.showMonths:-1;for(let Bn=xt;Bn!=gn;Bn+=mt){const Ai=t.daysContainer.children[Bn],Yn=mt>0?0:Ai.children.length-1,tr=mt>0?Ai.children.length:-1;for(let nr=Yn;nr!=tr;nr+=mt){const ds=Ai.children[nr];if(-1===ds.className.indexOf("hidden")&&Es(ds.dateObj))return ds}}}function Wi(mt,xt){const gn=Ko(document.activeElement||document.body),Bn=void 0!==mt?mt:gn?document.activeElement:void 0!==t.selectedDateElem&&Ko(t.selectedDateElem)?t.selectedDateElem:void 0!==t.todayDateElem&&Ko(t.todayDateElem)?t.todayDateElem:ri(xt>0?1:-1);void 0===Bn?t._input.focus():gn?function(mt,xt){const gn=-1===mt.className.indexOf("Month")?mt.dateObj.getMonth():t.currentMonth,Bn=xt>0?t.config.showMonths:-1,Ai=xt>0?1:-1;for(let Yn=gn-t.currentMonth;Yn!=Bn;Yn+=Ai){const tr=t.daysContainer.children[Yn],nr=gn-t.currentMonth===Yn?mt.$i+xt:xt<0?tr.children.length-1:0,ds=tr.children.length;for(let os=nr;os>=0&&os<ds&&os!=(xt>0?ds:-1);os+=Ai){const oo=tr.children[os];if(-1===oo.className.indexOf("hidden")&&Es(oo.dateObj)&&Math.abs(mt.$i-os)>=Math.abs(xt))return Ti(oo)}}t.changeMonth(Ai),Wi(ri(Ai),0)}(Bn,xt):Ti(Bn)}function vr(mt,xt){const gn=(new Date(mt,xt,1).getDay()-t.l10n.firstDayOfWeek+7)%7,Bn=t.utils.getDaysInMonth((xt-1+12)%12,mt),Ai=t.utils.getDaysInMonth(xt,mt),Yn=window.document.createDocumentFragment(),tr=t.config.showMonths>1,nr=tr?"prevMonthDay hidden":"prevMonthDay",ds=tr?"nextMonthDay hidden":"nextMonthDay";let os=Bn+1-gn,oo=0;for(;os<=Bn;os++,oo++)Yn.appendChild(Jn(nr,new Date(mt,xt-1,os),os,oo));for(os=1;os<=Ai;os++,oo++)Yn.appendChild(Jn("",new Date(mt,xt,os),os,oo));for(let na=Ai+1;na<=42-gn&&(1===t.config.showMonths||oo%7!=0);na++,oo++)Yn.appendChild(Jn(ds,new Date(mt,xt+1,na%Ai),na,oo));const la=ki("div","dayContainer");return la.appendChild(Yn),la}function Ci(){if(void 0===t.daysContainer)return;Rr(t.daysContainer),t.weekNumbers&&Rr(t.weekNumbers);const mt=document.createDocumentFragment();for(let xt=0;xt<t.config.showMonths;xt++){const gn=new Date(t.currentYear,t.currentMonth,1);gn.setMonth(t.currentMonth+xt),mt.appendChild(vr(gn.getFullYear(),gn.getMonth()))}t.daysContainer.appendChild(mt),t.days=t.daysContainer.firstChild,"range"===t.config.mode&&1===t.selectedDates.length&&aa()}function As(){if(t.config.showMonths>1||"dropdown"!==t.config.monthSelectorType)return;const mt=function(xt){return!(void 0!==t.config.minDate&&t.currentYear===t.config.minDate.getFullYear()&&xt<t.config.minDate.getMonth())&&!(void 0!==t.config.maxDate&&t.currentYear===t.config.maxDate.getFullYear()&&xt>t.config.maxDate.getMonth())};t.monthsDropdownContainer.tabIndex=-1,t.monthsDropdownContainer.innerHTML="";for(let xt=0;xt<12;xt++){if(!mt(xt))continue;const gn=ki("option","flatpickr-monthDropdown-month");gn.value=new Date(t.currentYear,xt).getMonth().toString(),gn.textContent=wn(xt,t.config.shorthandCurrentMonth,t.l10n),gn.tabIndex=-1,t.currentMonth===xt&&(gn.selected=!0),t.monthsDropdownContainer.appendChild(gn)}}function fo(){const mt=ki("div","flatpickr-month"),xt=window.document.createDocumentFragment();let gn;t.config.showMonths>1||"static"===t.config.monthSelectorType?gn=ki("span","cur-month"):(t.monthsDropdownContainer=ki("select","flatpickr-monthDropdown-months"),t.monthsDropdownContainer.setAttribute("aria-label",t.l10n.monthAriaLabel),ht(t.monthsDropdownContainer,"change",tr=>{const nr=Rt(tr),ds=parseInt(nr.value,10);t.changeMonth(ds-t.currentMonth),go("onMonthChange")}),As(),gn=t.monthsDropdownContainer);const Bn=Et("cur-year",{tabindex:"-1"}),Ai=Bn.getElementsByTagName("input")[0];Ai.setAttribute("aria-label",t.l10n.yearAriaLabel),t.config.minDate&&Ai.setAttribute("min",t.config.minDate.getFullYear().toString()),t.config.maxDate&&(Ai.setAttribute("max",t.config.maxDate.getFullYear().toString()),Ai.disabled=!!t.config.minDate&&t.config.minDate.getFullYear()===t.config.maxDate.getFullYear());const Yn=ki("div","flatpickr-current-month");return Yn.appendChild(gn),Yn.appendChild(Bn),xt.appendChild(Yn),mt.appendChild(xt),{container:mt,yearElement:Ai,monthElement:gn}}function Ws(){Rr(t.monthNav),t.monthNav.appendChild(t.prevMonthNav),t.config.showMonths&&(t.yearElements=[],t.monthElements=[]);for(let mt=t.config.showMonths;mt--;){const xt=fo();t.yearElements.push(xt.yearElement),t.monthElements.push(xt.monthElement),t.monthNav.appendChild(xt.container)}t.monthNav.appendChild(t.nextMonthNav)}function Aa(){t.weekdayContainer?Rr(t.weekdayContainer):t.weekdayContainer=ki("div","flatpickr-weekdays");for(let mt=t.config.showMonths;mt--;){const xt=ki("div","flatpickr-weekdaycontainer");t.weekdayContainer.appendChild(xt)}return oa(),t.weekdayContainer}function oa(){if(!t.weekdayContainer)return;const mt=t.l10n.firstDayOfWeek;let xt=[...t.l10n.weekdays.shorthand];mt>0&&mt<xt.length&&(xt=[...xt.splice(mt,xt.length),...xt.splice(0,mt)]);for(let gn=t.config.showMonths;gn--;)t.weekdayContainer.children[gn].innerHTML=`\n      <span class='flatpickr-weekday'>\n        ${xt.join("</span><span class='flatpickr-weekday'>")}\n      </span>\n      `}function so(mt,xt=!0){const gn=xt?mt:mt-t.currentMonth;gn<0&&!0===t._hidePrevMonthArrow||gn>0&&!0===t._hideNextMonthArrow||(t.currentMonth+=gn,(t.currentMonth<0||t.currentMonth>11)&&(t.currentYear+=t.currentMonth>11?1:-1,t.currentMonth=(t.currentMonth+12)%12,go("onYearChange"),As()),Ci(),go("onMonthChange"),Ql())}function zs(mt){return!(!t.config.appendTo||!t.config.appendTo.contains(mt))||t.calendarContainer.contains(mt)}function ul(mt){if(t.isOpen&&!t.config.inline){const xt=Rt(mt),gn=zs(xt),Bn=xt===t.input||xt===t.altInput||t.element.contains(xt)||mt.path&&mt.path.indexOf&&(~mt.path.indexOf(t.input)||~mt.path.indexOf(t.altInput)),Ai="blur"===mt.type?Bn&&mt.relatedTarget&&!zs(mt.relatedTarget):!Bn&&!gn&&!zs(mt.relatedTarget),Yn=!t.config.ignoredFocusElements.some(tr=>tr.contains(xt));Ai&&Yn&&(void 0!==t.timeContainer&&void 0!==t.minuteElement&&void 0!==t.hourElement&&""!==t.input.value&&void 0!==t.input.value&&B(),t.close(),t.config&&"range"===t.config.mode&&1===t.selectedDates.length&&(t.clear(!1),t.redraw()))}}function xa(mt){if(!mt||t.config.minDate&&mt<t.config.minDate.getFullYear()||t.config.maxDate&&mt>t.config.maxDate.getFullYear())return;const xt=mt,gn=t.currentYear!==xt;t.currentYear=xt||t.currentYear,t.config.maxDate&&t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth=Math.min(t.config.maxDate.getMonth(),t.currentMonth):t.config.minDate&&t.currentYear===t.config.minDate.getFullYear()&&(t.currentMonth=Math.max(t.config.minDate.getMonth(),t.currentMonth)),gn&&(t.redraw(),go("onYearChange"),As())}function Es(mt,xt=!0){var gn;const Bn=t.parseDate(mt,void 0,xt);if(t.config.minDate&&Bn&&Ri(Bn,t.config.minDate,void 0!==xt?xt:!t.minDateHasTime)<0||t.config.maxDate&&Bn&&Ri(Bn,t.config.maxDate,void 0!==xt?xt:!t.maxDateHasTime)>0)return!1;if(!t.config.enable&&0===t.config.disable.length)return!0;if(void 0===Bn)return!1;const Ai=!!t.config.enable,Yn=null!==(gn=t.config.enable)&&void 0!==gn?gn:t.config.disable;for(let nr,tr=0;tr<Yn.length;tr++){if(nr=Yn[tr],"function"==typeof nr&&nr(Bn))return Ai;if(nr instanceof Date&&void 0!==Bn&&nr.getTime()===Bn.getTime())return Ai;if("string"==typeof nr){const ds=t.parseDate(nr,void 0,!0);return ds&&ds.getTime()===Bn.getTime()?Ai:!Ai}if("object"==typeof nr&&void 0!==Bn&&nr.from&&nr.to&&Bn.getTime()>=nr.from.getTime()&&Bn.getTime()<=nr.to.getTime())return Ai}return!Ai}function Ko(mt){return void 0!==t.daysContainer&&(-1===mt.className.indexOf("hidden")&&-1===mt.className.indexOf("flatpickr-disabled")&&t.daysContainer.contains(mt))}function cl(mt){mt.target===t._input&&(t.selectedDates.length>0||t._input.value.length>0)&&(!mt.relatedTarget||!zs(mt.relatedTarget))&&t.setDate(t._input.value,!0,mt.target===t.altInput?t.config.altFormat:t.config.dateFormat)}function Xa(mt){const xt=Rt(mt),gn=t.config.wrap?W.contains(xt):xt===t._input,Bn=t.config.allowInput,Ai=t.isOpen&&(!Bn||!gn),Yn=t.config.inline&&gn&&!Bn;if(13===mt.keyCode&&gn){if(Bn)return t.setDate(t._input.value,!0,xt===t.altInput?t.config.altFormat:t.config.dateFormat),xt.blur();t.open()}else if(zs(xt)||Ai||Yn){const tr=!!t.timeContainer&&t.timeContainer.contains(xt);switch(mt.keyCode){case 13:tr?(mt.preventDefault(),B(),fu()):Al(mt);break;case 27:mt.preventDefault(),fu();break;case 8:case 46:gn&&!t.config.allowInput&&(mt.preventDefault(),t.clear());break;case 37:case 39:if(tr||gn)t.hourElement&&t.hourElement.focus();else if(mt.preventDefault(),void 0!==t.daysContainer&&(!1===Bn||document.activeElement&&Ko(document.activeElement))){const ds=39===mt.keyCode?1:-1;mt.ctrlKey?(mt.stopPropagation(),so(ds),Wi(ri(1),0)):Wi(void 0,ds)}break;case 38:case 40:mt.preventDefault();const nr=40===mt.keyCode?1:-1;t.daysContainer&&void 0!==xt.$i||xt===t.input||xt===t.altInput?mt.ctrlKey?(mt.stopPropagation(),xa(t.currentYear-nr),Wi(ri(1),0)):tr||Wi(void 0,7*nr):xt===t.currentYearElement?xa(t.currentYear-nr):t.config.enableTime&&(!tr&&t.hourElement&&t.hourElement.focus(),B(mt),t._debouncedChange());break;case 9:if(tr){const ds=[t.hourElement,t.minuteElement,t.secondElement,t.amPM].concat(t.pluginElements).filter(oo=>oo),os=ds.indexOf(xt);if(-1!==os){const oo=ds[os+(mt.shiftKey?-1:1)];mt.preventDefault(),(oo||t._input).focus()}}else!t.config.noCalendar&&t.daysContainer&&t.daysContainer.contains(xt)&&mt.shiftKey&&(mt.preventDefault(),t._input.focus())}}if(void 0!==t.amPM&&xt===t.amPM)switch(mt.key){case t.l10n.amPM[0].charAt(0):case t.l10n.amPM[0].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[0],le(),mu();break;case t.l10n.amPM[1].charAt(0):case t.l10n.amPM[1].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[1],le(),mu()}(gn||zs(xt))&&go("onKeyDown",mt)}function aa(mt){if(1!==t.selectedDates.length||mt&&(!mt.classList.contains("flatpickr-day")||mt.classList.contains("flatpickr-disabled")))return;const xt=mt?mt.dateObj.getTime():t.days.firstElementChild.dateObj.getTime(),gn=t.parseDate(t.selectedDates[0],void 0,!0).getTime(),Bn=Math.min(xt,t.selectedDates[0].getTime()),Ai=Math.max(xt,t.selectedDates[0].getTime());let Yn=!1,tr=0,nr=0;for(let ds=Bn;ds<Ai;ds+=Is_DAY)Es(new Date(ds),!0)||(Yn=Yn||ds>Bn&&ds<Ai,ds<gn&&(!tr||ds>tr)?tr=ds:ds>gn&&(!nr||ds<nr)&&(nr=ds));for(let ds=0;ds<t.config.showMonths;ds++){const os=t.daysContainer.children[ds];for(let oo=0,la=os.children.length;oo<la;oo++){const na=os.children[oo],ua=na.dateObj.getTime(),Yo=tr>0&&ua<tr||nr>0&&ua>nr;Yo?(na.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(Gu=>{na.classList.remove(Gu)})):Yn&&!Yo||(["startRange","inRange","endRange","notAllowed"].forEach(Gu=>{na.classList.remove(Gu)}),void 0!==mt&&(mt.classList.add(xt<=t.selectedDates[0].getTime()?"startRange":"endRange"),gn<xt&&ua===gn?na.classList.add("startRange"):gn>xt&&ua===gn&&na.classList.add("endRange"),ua>=tr&&(0===nr||ua<=nr)&&Wr(ua,gn,xt)&&na.classList.add("inRange")))}}}function Dl(){t.isOpen&&!t.config.static&&!t.config.inline&&fl()}function ud(mt){return xt=>{const gn=t.config[`_${mt}Date`]=t.parseDate(xt,t.config.dateFormat),Bn=t.config[`_${"min"===mt?"max":"min"}Date`];void 0!==gn&&(t["min"===mt?"minDateHasTime":"maxDateHasTime"]=gn.getHours()>0||gn.getMinutes()>0||gn.getSeconds()>0),t.selectedDates&&(t.selectedDates=t.selectedDates.filter(Ai=>Es(Ai)),!t.selectedDates.length&&"min"===mt&&De(gn),mu()),t.daysContainer&&(cd(),void 0!==gn?t.currentYearElement[mt]=gn.getFullYear().toString():t.currentYearElement.removeAttribute(mt),t.currentYearElement.disabled=!!Bn&&void 0!==gn&&Bn.getFullYear()===gn.getFullYear())}}function hl(){return t.config.wrap?W.querySelector("[data-input]"):W}function Qa(){"object"!=typeof t.config.locale&&void 0===yn.l10ns[t.config.locale]&&t.config.errorHandler(new Error(`flatpickr: invalid locale ${t.config.locale}`)),t.l10n=Object.assign(Object.assign({},yn.l10ns.default),"object"==typeof t.config.locale?t.config.locale:"default"!==t.config.locale?yn.l10ns[t.config.locale]:void 0),Qn.K=`(${t.l10n.amPM[0]}|${t.l10n.amPM[1]}|${t.l10n.amPM[0].toLowerCase()}|${t.l10n.amPM[1].toLowerCase()})`,void 0===Object.assign(Object.assign({},i),JSON.parse(JSON.stringify(W.dataset||{}))).time_24hr&&void 0===yn.defaultConfig.time_24hr&&(t.config.time_24hr=t.l10n.time_24hr),t.formatDate=mi(t),t.parseDate=xi({config:t.config,l10n:t.l10n})}function fl(mt){if("function"==typeof t.config.position)return void t.config.position(t,mt);if(void 0===t.calendarContainer)return;go("onPreCalendarPosition");const xt=mt||t._positionElement,gn=Array.prototype.reduce.call(t.calendarContainer.children,(No,uc)=>No+uc.offsetHeight,0),Bn=t.calendarContainer.offsetWidth,Ai=t.config.position.split(" "),Yn=Ai[0],tr=Ai.length>1?Ai[1]:null,nr=xt.getBoundingClientRect(),ds=window.innerHeight-nr.bottom,os="above"===Yn||"below"!==Yn&&ds<gn&&nr.top>gn,oo=window.pageYOffset+nr.top+(os?-gn-2:xt.offsetHeight+2);if(ar(t.calendarContainer,"arrowTop",!os),ar(t.calendarContainer,"arrowBottom",os),t.config.inline)return;let la=window.pageXOffset+nr.left,na=!1,vu=!1;"center"===tr?(la-=(Bn-nr.width)/2,na=!0):"right"===tr&&(la-=Bn-nr.width,vu=!0),ar(t.calendarContainer,"arrowLeft",!na&&!vu),ar(t.calendarContainer,"arrowCenter",na),ar(t.calendarContainer,"arrowRight",vu);const ua=window.document.body.offsetWidth-(window.pageXOffset+nr.right),Yo=la+Bn>window.document.body.offsetWidth,Gu=ua+Bn>window.document.body.offsetWidth;if(ar(t.calendarContainer,"rightMost",Yo),!t.config.static)if(t.calendarContainer.style.top=`${oo}px`,Yo)if(Gu){const No=function(){let mt=null;for(let xt=0;xt<document.styleSheets.length;xt++){const gn=document.styleSheets[xt];try{gn.cssRules}catch(Bn){continue}mt=gn;break}return null!=mt?mt:function(){const mt=document.createElement("style");return document.head.appendChild(mt),mt.sheet}()}();if(void 0===No)return;const uc=window.document.body.offsetWidth,Zd=Math.max(0,uc/2-Bn/2),cc=".flatpickr-calendar.centerMost:before",tf=".flatpickr-calendar.centerMost:after",hd=No.cssRules.length,fd=`{left:${nr.left}px;right:auto;}`;ar(t.calendarContainer,"rightMost",!1),ar(t.calendarContainer,"centerMost",!0),No.insertRule(`${cc},${tf}${fd}`,hd),t.calendarContainer.style.left=`${Zd}px`,t.calendarContainer.style.right="auto"}else t.calendarContainer.style.left="auto",t.calendarContainer.style.right=`${ua}px`;else t.calendarContainer.style.left=`${la}px`,t.calendarContainer.style.right="auto"}function cd(){t.config.noCalendar||t.isMobile||(As(),Ql(),Ci())}function fu(){t._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(t.close,0):t.close()}function Al(mt){mt.preventDefault(),mt.stopPropagation();const gn=is(Rt(mt),tr=>tr.classList&&tr.classList.contains("flatpickr-day")&&!tr.classList.contains("flatpickr-disabled")&&!tr.classList.contains("notAllowed"));if(void 0===gn)return;const Bn=gn,Ai=t.latestSelectedDateObj=new Date(Bn.dateObj.getTime()),Yn=(Ai.getMonth()<t.currentMonth||Ai.getMonth()>t.currentMonth+t.config.showMonths-1)&&"range"!==t.config.mode;if(t.selectedDateElem=Bn,"single"===t.config.mode)t.selectedDates=[Ai];else if("multiple"===t.config.mode){const tr=Mc(Ai);tr?t.selectedDates.splice(parseInt(tr),1):t.selectedDates.push(Ai)}else"range"===t.config.mode&&(2===t.selectedDates.length&&t.clear(!1,!1),t.latestSelectedDateObj=Ai,t.selectedDates.push(Ai),0!==Ri(Ai,t.selectedDates[0],!0)&&t.selectedDates.sort((tr,nr)=>tr.getTime()-nr.getTime()));if(le(),Yn){const tr=t.currentYear!==Ai.getFullYear();t.currentYear=Ai.getFullYear(),t.currentMonth=Ai.getMonth(),tr&&(go("onYearChange"),As()),go("onMonthChange")}if(Ql(),Ci(),mu(),Yn||"range"===t.config.mode||1!==t.config.showMonths?void 0!==t.selectedDateElem&&void 0===t.hourElement&&t.selectedDateElem&&t.selectedDateElem.focus():Ti(Bn),void 0!==t.hourElement&&void 0!==t.hourElement&&t.hourElement.focus(),t.config.closeOnSelect){const tr="single"===t.config.mode&&!t.config.enableTime,nr="range"===t.config.mode&&2===t.selectedDates.length&&!t.config.enableTime;(tr||nr)&&fu()}Ct()}t.parseDate=xi({config:t.config,l10n:t.l10n}),t._handlers=[],t.pluginElements=[],t.loadedPlugins=[],t._bind=ht,t._setHoursFromDate=De,t._positionCalendar=fl,t.changeMonth=so,t.changeYear=xa,t.clear=function(mt=!0,xt=!0){if(t.input.value="",void 0!==t.altInput&&(t.altInput.value=""),void 0!==t.mobileInput&&(t.mobileInput.value=""),t.selectedDates=[],t.latestSelectedDateObj=void 0,!0===xt&&(t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth()),!0===t.config.enableTime){const{hours:gn,minutes:Bn,seconds:Ai}=Vt(t.config);Ne(gn,Bn,Ai)}t.redraw(),mt&&go("onChange")},t.close=function(){t.isOpen=!1,t.isMobile||(void 0!==t.calendarContainer&&t.calendarContainer.classList.remove("open"),void 0!==t._input&&t._input.classList.remove("active")),go("onClose")},t._createElement=ki,t.destroy=function(){void 0!==t.config&&go("onDestroy");for(let mt=t._handlers.length;mt--;)t._handlers[mt].remove();if(t._handlers=[],t.mobileInput)t.mobileInput.parentNode&&t.mobileInput.parentNode.removeChild(t.mobileInput),t.mobileInput=void 0;else if(t.calendarContainer&&t.calendarContainer.parentNode)if(t.config.static&&t.calendarContainer.parentNode){const mt=t.calendarContainer.parentNode;if(mt.lastChild&&mt.removeChild(mt.lastChild),mt.parentNode){for(;mt.firstChild;)mt.parentNode.insertBefore(mt.firstChild,mt);mt.parentNode.removeChild(mt)}}else t.calendarContainer.parentNode.removeChild(t.calendarContainer);t.altInput&&(t.input.type="text",t.altInput.parentNode&&t.altInput.parentNode.removeChild(t.altInput),delete t.altInput),t.input&&(t.input.type=t.input._type,t.input.classList.remove("flatpickr-input"),t.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(mt=>{try{delete t[mt]}catch(xt){}})},t.isEnabled=Es,t.jumpToDate=Xt,t.open=function(mt,xt=t._positionElement){if(!0===t.isMobile){if(mt){mt.preventDefault();const Bn=Rt(mt);Bn&&Bn.blur()}return void 0!==t.mobileInput&&(t.mobileInput.focus(),t.mobileInput.click()),void go("onOpen")}if(t._input.disabled||t.config.inline)return;const gn=t.isOpen;t.isOpen=!0,gn||(t.calendarContainer.classList.add("open"),t._input.classList.add("active"),go("onOpen"),fl(xt)),!0===t.config.enableTime&&!0===t.config.noCalendar&&!1===t.config.allowInput&&(void 0===mt||!t.timeContainer.contains(mt.relatedTarget))&&setTimeout(()=>t.hourElement.select(),50)},t.redraw=cd,t.set=function(mt,xt){if(null!==mt&&"object"==typeof mt){Object.assign(t.config,mt);for(const gn in mt)void 0!==Yl[gn]&&Yl[gn].forEach(Bn=>Bn())}else t.config[mt]=xt,void 0!==Yl[mt]?Yl[mt].forEach(gn=>gn()):or.indexOf(mt)>-1&&(t.config[mt]=Bi(xt));t.redraw(),mu(!0)},t.setDate=function(mt,xt=!1,gn=t.config.dateFormat){if(0!==mt&&!mt||mt instanceof Array&&0===mt.length)return t.clear(xt);ta(mt,gn),t.latestSelectedDateObj=t.selectedDates[t.selectedDates.length-1],t.redraw(),Xt(void 0,xt),De(),0===t.selectedDates.length&&t.clear(!1),mu(xt),xt&&go("onChange")},t.toggle=function(mt){if(!0===t.isOpen)return t.close();t.open(mt)};const Yl={locale:[Qa,oa],showMonths:[Ws,D,Aa],minDate:[Xt],maxDate:[Xt],clickOpens:[()=>{!0===t.config.clickOpens?(ht(t._input,"focus",t.open),ht(t._input,"click",t.open)):(t._input.removeEventListener("focus",t.open),t._input.removeEventListener("click",t.open))}]};function ta(mt,xt){let gn=[];if(mt instanceof Array)gn=mt.map(Bn=>t.parseDate(Bn,xt));else if(mt instanceof Date||"number"==typeof mt)gn=[t.parseDate(mt,xt)];else if("string"==typeof mt)switch(t.config.mode){case"single":case"time":gn=[t.parseDate(mt,xt)];break;case"multiple":gn=mt.split(t.config.conjunction).map(Bn=>t.parseDate(Bn,xt));break;case"range":gn=mt.split(t.l10n.rangeSeparator).map(Bn=>t.parseDate(Bn,xt))}else t.config.errorHandler(new Error(`Invalid date supplied: ${JSON.stringify(mt)}`));t.selectedDates=t.config.allowInvalidPreload?gn:gn.filter(Bn=>Bn instanceof Date&&Es(Bn,!1)),"range"===t.config.mode&&t.selectedDates.sort((Bn,Ai)=>Bn.getTime()-Ai.getTime())}function pl(mt){return mt.slice().map(xt=>"string"==typeof xt||"number"==typeof xt||xt instanceof Date?t.parseDate(xt,void 0,!0):xt&&"object"==typeof xt&&xt.from&&xt.to?{from:t.parseDate(xt.from,void 0),to:t.parseDate(xt.to,void 0)}:xt).filter(xt=>xt)}function go(mt,xt){if(void 0===t.config)return;const gn=t.config[mt];if(void 0!==gn&&gn.length>0)for(let Bn=0;gn[Bn]&&Bn<gn.length;Bn++)gn[Bn](t.selectedDates,t.input.value,t,xt);"onChange"===mt&&(t.input.dispatchEvent(ss("change")),t.input.dispatchEvent(ss("input")))}function ss(mt){const xt=document.createEvent("Event");return xt.initEvent(mt,!0,!0),xt}function Mc(mt){for(let xt=0;xt<t.selectedDates.length;xt++)if(0===Ri(t.selectedDates[xt],mt))return""+xt;return!1}function Ql(){t.config.noCalendar||t.isMobile||!t.monthNav||(t.yearElements.forEach((mt,xt)=>{const gn=new Date(t.currentYear,t.currentMonth,1);gn.setMonth(t.currentMonth+xt),t.config.showMonths>1||"static"===t.config.monthSelectorType?t.monthElements[xt].textContent=wn(gn.getMonth(),t.config.shorthandCurrentMonth,t.l10n)+" ":t.monthsDropdownContainer.value=gn.getMonth().toString(),mt.value=gn.getFullYear().toString()}),t._hidePrevMonthArrow=void 0!==t.config.minDate&&(t.currentYear===t.config.minDate.getFullYear()?t.currentMonth<=t.config.minDate.getMonth():t.currentYear<t.config.minDate.getFullYear()),t._hideNextMonthArrow=void 0!==t.config.maxDate&&(t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth+1>t.config.maxDate.getMonth():t.currentYear>t.config.maxDate.getFullYear()))}function dd(mt){return t.selectedDates.map(xt=>t.formatDate(xt,mt)).filter((xt,gn,Bn)=>"range"!==t.config.mode||t.config.enableTime||Bn.indexOf(xt)===gn).join("range"!==t.config.mode?t.config.conjunction:t.l10n.rangeSeparator)}function mu(mt=!0){void 0!==t.mobileInput&&t.mobileFormatStr&&(t.mobileInput.value=void 0!==t.latestSelectedDateObj?t.formatDate(t.latestSelectedDateObj,t.mobileFormatStr):""),t.input.value=dd(t.config.dateFormat),void 0!==t.altInput&&(t.altInput.value=dd(t.config.altFormat)),!1!==mt&&go("onValueUpdate")}function Fc(mt){const xt=Rt(mt),gn=t.prevMonthNav.contains(xt),Bn=t.nextMonthNav.contains(xt);gn||Bn?so(gn?-1:1):t.yearElements.indexOf(xt)>=0?xt.select():xt.classList.contains("arrowUp")?t.changeYear(t.currentYear+1):xt.classList.contains("arrowDown")&&t.changeYear(t.currentYear-1)}return function(){t.element=t.input=W,t.isOpen=!1,function(){const mt=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],xt=Object.assign(Object.assign({},JSON.parse(JSON.stringify(W.dataset||{}))),i),gn={};t.config.parseDate=xt.parseDate,t.config.formatDate=xt.formatDate,Object.defineProperty(t.config,"enable",{get:()=>t.config._enable,set:Yn=>{t.config._enable=pl(Yn)}}),Object.defineProperty(t.config,"disable",{get:()=>t.config._disable,set:Yn=>{t.config._disable=pl(Yn)}});const Bn="time"===xt.mode;if(!xt.dateFormat&&(xt.enableTime||Bn)){const Yn=yn.defaultConfig.dateFormat||lr.dateFormat;gn.dateFormat=xt.noCalendar||Bn?"H:i"+(xt.enableSeconds?":S":""):Yn+" H:i"+(xt.enableSeconds?":S":"")}if(xt.altInput&&(xt.enableTime||Bn)&&!xt.altFormat){const Yn=yn.defaultConfig.altFormat||lr.altFormat;gn.altFormat=xt.noCalendar||Bn?"h:i"+(xt.enableSeconds?":S K":" K"):Yn+` h:i${xt.enableSeconds?":S":""} K`}Object.defineProperty(t.config,"minDate",{get:()=>t.config._minDate,set:ud("min")}),Object.defineProperty(t.config,"maxDate",{get:()=>t.config._maxDate,set:ud("max")});const Ai=Yn=>tr=>{t.config["min"===Yn?"_minTime":"_maxTime"]=t.parseDate(tr,"H:i:S")};Object.defineProperty(t.config,"minTime",{get:()=>t.config._minTime,set:Ai("min")}),Object.defineProperty(t.config,"maxTime",{get:()=>t.config._maxTime,set:Ai("max")}),"time"===xt.mode&&(t.config.noCalendar=!0,t.config.enableTime=!0),Object.assign(t.config,gn,xt);for(let Yn=0;Yn<mt.length;Yn++)t.config[mt[Yn]]=!0===t.config[mt[Yn]]||"true"===t.config[mt[Yn]];or.filter(Yn=>void 0!==t.config[Yn]).forEach(Yn=>{t.config[Yn]=Bi(t.config[Yn]||[]).map(C)}),t.isMobile=!t.config.disableMobile&&!t.config.inline&&"single"===t.config.mode&&!t.config.disable.length&&!t.config.enable&&!t.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(let Yn=0;Yn<t.config.plugins.length;Yn++){const tr=t.config.plugins[Yn](t)||{};for(const nr in tr)or.indexOf(nr)>-1?t.config[nr]=Bi(tr[nr]).map(C).concat(t.config[nr]):void 0===xt[nr]&&(t.config[nr]=tr[nr])}xt.altInputClass||(t.config.altInputClass=hl().className+" "+t.config.altInputClass),go("onParseConfig")}(),Qa(),function(){if(t.input=hl(),!t.input)return void t.config.errorHandler(new Error("Invalid input element specified"));t.input._type=t.input.type,t.input.type="text",t.input.classList.add("flatpickr-input"),t._input=t.input,t.config.altInput&&(t.altInput=ki(t.input.nodeName,t.config.altInputClass),t._input=t.altInput,t.altInput.placeholder=t.input.placeholder,t.altInput.disabled=t.input.disabled,t.altInput.required=t.input.required,t.altInput.tabIndex=t.input.tabIndex,t.altInput.type="text",t.input.setAttribute("type","hidden"),!t.config.static&&t.input.parentNode&&t.input.parentNode.insertBefore(t.altInput,t.input.nextSibling)),t.config.allowInput||t._input.setAttribute("readonly","readonly"),t._positionElement=t.config.positionElement||t._input}(),function(){t.selectedDates=[],t.now=t.parseDate(t.config.now)||new Date;const mt=t.config.defaultDate||("INPUT"!==t.input.nodeName&&"TEXTAREA"!==t.input.nodeName||!t.input.placeholder||t.input.value!==t.input.placeholder?t.input.value:null);mt&&ta(mt,t.config.dateFormat),t._initialDate=t.selectedDates.length>0?t.selectedDates[0]:t.config.minDate&&t.config.minDate.getTime()>t.now.getTime()?t.config.minDate:t.config.maxDate&&t.config.maxDate.getTime()<t.now.getTime()?t.config.maxDate:t.now,t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth(),t.selectedDates.length>0&&(t.latestSelectedDateObj=t.selectedDates[0]),void 0!==t.config.minTime&&(t.config.minTime=t.parseDate(t.config.minTime,"H:i")),void 0!==t.config.maxTime&&(t.config.maxTime=t.parseDate(t.config.maxTime,"H:i")),t.minDateHasTime=!!t.config.minDate&&(t.config.minDate.getHours()>0||t.config.minDate.getMinutes()>0||t.config.minDate.getSeconds()>0),t.maxDateHasTime=!!t.config.maxDate&&(t.config.maxDate.getHours()>0||t.config.maxDate.getMinutes()>0||t.config.maxDate.getSeconds()>0)}(),t.utils={getDaysInMonth:(mt=t.currentMonth,xt=t.currentYear)=>1===mt&&(xt%4==0&&xt%100!=0||xt%400==0)?29:t.l10n.daysInMonth[mt]},t.isMobile||function(){const mt=window.document.createDocumentFragment();if(t.calendarContainer=ki("div","flatpickr-calendar"),t.calendarContainer.tabIndex=-1,!t.config.noCalendar){if(mt.appendChild((t.monthNav=ki("div","flatpickr-months"),t.yearElements=[],t.monthElements=[],t.prevMonthNav=ki("span","flatpickr-prev-month"),t.prevMonthNav.innerHTML=t.config.prevArrow,t.nextMonthNav=ki("span","flatpickr-next-month"),t.nextMonthNav.innerHTML=t.config.nextArrow,Ws(),Object.defineProperty(t,"_hidePrevMonthArrow",{get:()=>t.__hidePrevMonthArrow,set(mt){t.__hidePrevMonthArrow!==mt&&(ar(t.prevMonthNav,"flatpickr-disabled",mt),t.__hidePrevMonthArrow=mt)}}),Object.defineProperty(t,"_hideNextMonthArrow",{get:()=>t.__hideNextMonthArrow,set(mt){t.__hideNextMonthArrow!==mt&&(ar(t.nextMonthNav,"flatpickr-disabled",mt),t.__hideNextMonthArrow=mt)}}),t.currentYearElement=t.yearElements[0],Ql(),t.monthNav)),t.innerContainer=ki("div","flatpickr-innerContainer"),t.config.weekNumbers){const{weekWrapper:gn,weekNumbers:Bn}=function(){t.calendarContainer.classList.add("hasWeeks");const mt=ki("div","flatpickr-weekwrapper");mt.appendChild(ki("span","flatpickr-weekday",t.l10n.weekAbbreviation));const xt=ki("div","flatpickr-weeks");return mt.appendChild(xt),{weekWrapper:mt,weekNumbers:xt}}();t.innerContainer.appendChild(gn),t.weekNumbers=Bn,t.weekWrapper=gn}t.rContainer=ki("div","flatpickr-rContainer"),t.rContainer.appendChild(Aa()),t.daysContainer||(t.daysContainer=ki("div","flatpickr-days"),t.daysContainer.tabIndex=-1),Ci(),t.rContainer.appendChild(t.daysContainer),t.innerContainer.appendChild(t.rContainer),mt.appendChild(t.innerContainer)}t.config.enableTime&&mt.appendChild(function(){t.calendarContainer.classList.add("hasTime"),t.config.noCalendar&&t.calendarContainer.classList.add("noCalendar");const mt=Vt(t.config);t.timeContainer=ki("div","flatpickr-time"),t.timeContainer.tabIndex=-1;const xt=ki("span","flatpickr-time-separator",":"),gn=Et("flatpickr-hour",{"aria-label":t.l10n.hourAriaLabel});t.hourElement=gn.getElementsByTagName("input")[0];const Bn=Et("flatpickr-minute",{"aria-label":t.l10n.minuteAriaLabel});if(t.minuteElement=Bn.getElementsByTagName("input")[0],t.hourElement.tabIndex=t.minuteElement.tabIndex=-1,t.hourElement.value=Xi(t.latestSelectedDateObj?t.latestSelectedDateObj.getHours():t.config.time_24hr?mt.hours:function(mt){switch(mt%24){case 0:case 12:return 12;default:return mt%12}}(mt.hours)),t.minuteElement.value=Xi(t.latestSelectedDateObj?t.latestSelectedDateObj.getMinutes():mt.minutes),t.hourElement.setAttribute("step",t.config.hourIncrement.toString()),t.minuteElement.setAttribute("step",t.config.minuteIncrement.toString()),t.hourElement.setAttribute("min",t.config.time_24hr?"0":"1"),t.hourElement.setAttribute("max",t.config.time_24hr?"23":"12"),t.hourElement.setAttribute("maxlength","2"),t.minuteElement.setAttribute("min","0"),t.minuteElement.setAttribute("max","59"),t.minuteElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(gn),t.timeContainer.appendChild(xt),t.timeContainer.appendChild(Bn),t.config.time_24hr&&t.timeContainer.classList.add("time24hr"),t.config.enableSeconds){t.timeContainer.classList.add("hasSeconds");const Ai=Et("flatpickr-second");t.secondElement=Ai.getElementsByTagName("input")[0],t.secondElement.value=Xi(t.latestSelectedDateObj?t.latestSelectedDateObj.getSeconds():mt.seconds),t.secondElement.setAttribute("step",t.minuteElement.getAttribute("step")),t.secondElement.setAttribute("min","0"),t.secondElement.setAttribute("max","59"),t.secondElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(ki("span","flatpickr-time-separator",":")),t.timeContainer.appendChild(Ai)}return t.config.time_24hr||(t.amPM=ki("span","flatpickr-am-pm",t.l10n.amPM[ji((t.latestSelectedDateObj?t.hourElement.value:t.config.defaultHour)>11)]),t.amPM.title=t.l10n.toggleTitle,t.amPM.tabIndex=-1,t.timeContainer.appendChild(t.amPM)),t.timeContainer}()),ar(t.calendarContainer,"rangeMode","range"===t.config.mode),ar(t.calendarContainer,"animate",!0===t.config.animate),ar(t.calendarContainer,"multiMonth",t.config.showMonths>1),t.calendarContainer.appendChild(mt);const xt=void 0!==t.config.appendTo&&void 0!==t.config.appendTo.nodeType;if((t.config.inline||t.config.static)&&(t.calendarContainer.classList.add(t.config.inline?"inline":"static"),t.config.inline&&(!xt&&t.element.parentNode?t.element.parentNode.insertBefore(t.calendarContainer,t._input.nextSibling):void 0!==t.config.appendTo&&t.config.appendTo.appendChild(t.calendarContainer)),t.config.static)){const gn=ki("div","flatpickr-wrapper");t.element.parentNode&&t.element.parentNode.insertBefore(gn,t.element),gn.appendChild(t.element),t.altInput&&gn.appendChild(t.altInput),gn.appendChild(t.calendarContainer)}!t.config.static&&!t.config.inline&&(void 0!==t.config.appendTo?t.config.appendTo:window.document.body).appendChild(t.calendarContainer)}(),function(){if(t.config.wrap&&["open","close","toggle","clear"].forEach(xt=>{Array.prototype.forEach.call(t.element.querySelectorAll(`[data-${xt}]`),gn=>ht(gn,"click",t[xt]))}),t.isMobile)return void function(){const mt=t.config.enableTime?t.config.noCalendar?"time":"datetime-local":"date";t.mobileInput=ki("input",t.input.className+" flatpickr-mobile"),t.mobileInput.tabIndex=1,t.mobileInput.type=mt,t.mobileInput.disabled=t.input.disabled,t.mobileInput.required=t.input.required,t.mobileInput.placeholder=t.input.placeholder,t.mobileFormatStr="datetime-local"===mt?"Y-m-d\\TH:i:S":"date"===mt?"Y-m-d":"H:i:S",t.selectedDates.length>0&&(t.mobileInput.defaultValue=t.mobileInput.value=t.formatDate(t.selectedDates[0],t.mobileFormatStr)),t.config.minDate&&(t.mobileInput.min=t.formatDate(t.config.minDate,"Y-m-d")),t.config.maxDate&&(t.mobileInput.max=t.formatDate(t.config.maxDate,"Y-m-d")),t.input.getAttribute("step")&&(t.mobileInput.step=String(t.input.getAttribute("step"))),t.input.type="hidden",void 0!==t.altInput&&(t.altInput.type="hidden");try{t.input.parentNode&&t.input.parentNode.insertBefore(t.mobileInput,t.input.nextSibling)}catch(xt){}ht(t.mobileInput,"change",xt=>{t.setDate(Rt(xt).value,!1,t.mobileFormatStr),go("onChange"),go("onClose")})}();const mt=Er(Dl,50);if(t._debouncedChange=Er(Ct,300),t.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&ht(t.daysContainer,"mouseover",xt=>{"range"===t.config.mode&&aa(Rt(xt))}),ht(window.document.body,"keydown",Xa),!t.config.inline&&!t.config.static&&ht(window,"resize",mt),void 0!==window.ontouchstart?ht(window.document,"touchstart",ul):ht(window.document,"mousedown",ul),ht(window.document,"focus",ul,{capture:!0}),!0===t.config.clickOpens&&(ht(t._input,"focus",t.open),ht(t._input,"click",t.open)),void 0!==t.daysContainer&&(ht(t.monthNav,"click",Fc),ht(t.monthNav,["keyup","increment"],Ze),ht(t.daysContainer,"click",Al)),void 0!==t.timeContainer&&void 0!==t.minuteElement&&void 0!==t.hourElement){const xt=gn=>Rt(gn).select();ht(t.timeContainer,["increment"],B),ht(t.timeContainer,"blur",B,{capture:!0}),ht(t.timeContainer,"click",dn),ht([t.hourElement,t.minuteElement],["focus","click"],xt),void 0!==t.secondElement&&ht(t.secondElement,"focus",()=>t.secondElement&&t.secondElement.select()),void 0!==t.amPM&&ht(t.amPM,"click",gn=>{B(gn),Ct()})}t.config.allowInput&&ht(t._input,"blur",cl)}(),(t.selectedDates.length||t.config.noCalendar)&&(t.config.enableTime&&De(t.config.noCalendar?t.latestSelectedDateObj:void 0),mu(!1)),D();const mt=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!t.isMobile&&mt&&fl(),go("onReady")}(),t}function Qt(W,i){const t=Array.prototype.slice.call(W).filter(g=>g instanceof HTMLElement),u=[];for(let g=0;g<t.length;g++){const C=t[g];try{if(null!==C.getAttribute("data-fp-omit"))continue;void 0!==C._flatpickr&&(C._flatpickr.destroy(),C._flatpickr=void 0),C._flatpickr=vt(C,i||{}),u.push(C._flatpickr)}catch(D){console.error(D)}}return 1===u.length?u[0]:u}"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(W){return Qt(this,W)},HTMLElement.prototype.flatpickr=function(W){return Qt([this],W)});var yn=function(W,i){return"string"==typeof W?Qt(window.document.querySelectorAll(W),i):W instanceof Node?Qt([W],i):Qt(W,i)};yn.defaultConfig={},yn.l10ns={en:Object.assign({},ai),default:Object.assign({},ai)},yn.localize=W=>{yn.l10ns.default=Object.assign(Object.assign({},yn.l10ns.default),W)},yn.setDefaults=W=>{yn.defaultConfig=Object.assign(Object.assign({},yn.defaultConfig),W)},yn.parseDate=xi({}),yn.formatDate=mi({}),yn.compareDates=Ri,"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&(jQuery.fn.flatpickr=function(W){return Qt(this,W)}),Date.prototype.fp_incr=function(W){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof W?parseInt(W,10):W))},"undefined"!=typeof window&&(window.flatpickr=yn);const ui=yn;class Oi{constructor(){this._boundedEvents=[]}get boundedEvents(){return this._boundedEvents}bind(i,t,u,g){const C=Array.isArray(t)?t:[t];for(const D of C)i.addEventListener(D,u,g),this._boundedEvents.push({element:i,eventName:D,listener:u})}unbind(i,t,u){const g=Array.isArray(t)?t:[t];for(const C of g)(null==i?void 0:i.removeEventListener)&&i.removeEventListener(C,u)}unbindAll(){for(;this._boundedEvents.length>0;){const i=this._boundedEvents.pop(),{element:t,eventName:u,listener:g}=i;this.unbind(t,u,g)}}}const Dr=m&&ui||m;class Jt{constructor(i){this.translaterService=i,this._clearFilterTriggered=!1,this._debounceTypingDelay=0,this._shouldTriggerQuery=!0,this._inputType="text",this.searchTerms=[],this._bindEventService=new Oi}get gridOptions(){var i,t,u;return null!==(u=null===(t=null===(i=this.grid)||void 0===i?void 0:i.getOptions)||void 0===t?void 0:t.call(i))&&void 0!==u?u:{}}get columnFilter(){var i,t;return null!==(t=null===(i=this.columnDef)||void 0===i?void 0:i.filter)&&void 0!==t?t:{}}get defaultOperator(){return ze.empty}get inputType(){return this._inputType}set inputType(i){this._inputType=i}get locales(){return this.gridOptions.locales||ae.locales}get operator(){return this._operator||this.defaultOperator}set operator(i){this._operator=i}init(i){var t,u,g,C,D;if(!i)throw new Error('[Slickgrid-Universal] A filter must always have an "init()" with valid arguments.');this.grid=i.grid,this.callback=i.callback,this.columnDef=i.columnDef,this.operator=i.operator,this.searchTerms=(i.hasOwnProperty("searchTerms")?i.searchTerms:[])||[];const B=null===(t=this.gridOptions)||void 0===t?void 0:t.backendServiceApi;this._debounceTypingDelay=null!==(D=B?null!==(u=null==B?void 0:B.filterTypingDebounce)&&void 0!==u?u:null===(g=this.gridOptions)||void 0===g?void 0:g.defaultBackendServiceFilterTypingDebounce:null===(C=this.gridOptions)||void 0===C?void 0:C.filterTypingDebounce)&&void 0!==D?D:0;const J=Array.isArray(this.searchTerms)&&this.searchTerms.length>=0?this.searchTerms[0]:"";this._filterElm=this.createDomElement(J),this._bindEventService.bind(this._filterInputElm,["keyup","blur","change","wheel"],this.onTriggerEvent.bind(this)),this._bindEventService.bind(this._selectOperatorElm,"change",this.onTriggerEvent.bind(this))}clear(i=!0){this._filterElm&&this._selectOperatorElm&&(this._clearFilterTriggered=!0,this._shouldTriggerQuery=i,this.searchTerms=[],this._selectOperatorElm.selectedIndex=0,this._filterInputElm.value="",this.onTriggerEvent(void 0),this._filterElm.classList.remove("filled"),this._filterInputElm.classList.remove("filled"))}destroy(){var i,t,u,g;this._bindEventService.unbindAll(),null===(t=null===(i=this._selectOperatorElm)||void 0===i?void 0:i.remove)||void 0===t||t.call(i),null===(g=null===(u=this._filterElm)||void 0===u?void 0:u.remove)||void 0===g||g.call(u)}getValues(){return this._filterInputElm.value}setValues(i,t){let u="";if(i){const g=Array.isArray(i)?i[0]:i;u=`${null!=g?g:""}`}if(this._filterInputElm.value=u,""!==this.getValues()?(this._filterElm.classList.add("filled"),this._filterInputElm.classList.add("filled")):(this._filterElm.classList.remove("filled"),this._filterInputElm.classList.remove("filled")),this.operator=t||this.defaultOperator,t&&this._selectOperatorElm){const g=lt(this.operator);this._selectOperatorElm.value=g}}buildInputElement(){var i,t,u,g,C,D,B;const J=null!==(t=null===(i=this.columnDef)||void 0===i?void 0:i.id)&&void 0!==t?t:"";let ie=null!==(g=null===(u=this.gridOptions)||void 0===u?void 0:u.defaultFilterPlaceholder)&&void 0!==g?g:"";(null===(C=this.columnFilter)||void 0===C?void 0:C.placeholder)&&(ie=this.columnFilter.placeholder);const le=Wt("input",{type:this._inputType||"text",autocomplete:"off",placeholder:ie,className:`form-control compound-input filter-${J}`});return le.setAttribute("role","presentation"),le.setAttribute("aria-label",null!==(B=null===(D=this.columnFilter)||void 0===D?void 0:D.ariaLabel)&&void 0!==B?B:`${Tn(J+"")} Search Filter`),le}getOperatorOptionValues(){var i;const t=this.columnDef.type&&this.columnDef.type?this.columnDef.type:Ee.string;let u=[];if(null===(i=this.columnFilter)||void 0===i?void 0:i.compoundOperatorList)return this.columnFilter.compoundOperatorList;switch(t){case Ee.string:case Ee.text:case Ee.readonly:case Ee.password:u=[{operator:"",description:this.getOutputText("CONTAINS","TEXT_CONTAINS","Contains")},{operator:"<>",description:this.getOutputText("NOT_CONTAINS","TEXT_NOT_CONTAINS","Not Contains")},{operator:"=",description:this.getOutputText("EQUALS","TEXT_EQUALS","Equals")},{operator:"!=",description:this.getOutputText("NOT_EQUAL_TO","TEXT_NOT_EQUAL_TO","Not equal to")},{operator:"a*",description:this.getOutputText("STARTS_WITH","TEXT_STARTS_WITH","Starts with")},{operator:"*z",description:this.getOutputText("ENDS_WITH","TEXT_ENDS_WITH","Ends with")}];break;default:u=[{operator:"",description:""},{operator:"=",description:this.getOutputText("EQUAL_TO","TEXT_EQUAL_TO","Equal to")},{operator:"<",description:this.getOutputText("LESS_THAN","TEXT_LESS_THAN","Less than")},{operator:"<=",description:this.getOutputText("LESS_THAN_OR_EQUAL_TO","TEXT_LESS_THAN_OR_EQUAL_TO","Less than or equal to")},{operator:">",description:this.getOutputText("GREATER_THAN","TEXT_GREATER_THAN","Greater than")},{operator:">=",description:this.getOutputText("GREATER_THAN_OR_EQUAL_TO","TEXT_GREATER_THAN_OR_EQUAL_TO","Greater than or equal to")},{operator:"<>",description:this.getOutputText("NOT_EQUAL_TO","TEXT_NOT_EQUAL_TO","Not equal to")}]}return u}getOutputText(i,t,u){var g,C,D,B;if((null===(g=this.gridOptions)||void 0===g?void 0:g.enableTranslate)&&(null===(C=this.translaterService)||void 0===C?void 0:C.translate)){const J=pe(this.gridOptions);return this.translaterService.translate(`${J}${i}`)}return null!==(B=null===(D=this.locales)||void 0===D?void 0:D[t])&&void 0!==B?B:u}createDomElement(i){var t,u;const g=null!==(u=null===(t=this.columnDef)||void 0===t?void 0:t.id)&&void 0!==u?u:"",C=this.grid.getHeaderRowColumn(g);di(C),this._selectOperatorElm=Gi(this.getOperatorOptionValues(),this.gridOptions),this._filterInputElm=this.buildInputElement();const D=Wt("span"),B=Wt("div",{className:`form-group search-filter filter-${g}`}),J=Wt("div",{className:"input-group"}),ie=Wt("div",{className:"input-group-addon input-group-prepend operator"});if(ie.appendChild(this._selectOperatorElm),J.appendChild(ie),J.appendChild(this._filterInputElm),J.appendChild(D),B.appendChild(J),this._filterInputElm.value=`${null!=i?i:""}`,this._filterInputElm.dataset.columnid=`${g}`,this.operator){const le=lt(this.operator);this._selectOperatorElm.value=le}return i&&this._filterInputElm.classList.add("filled"),B&&C.appendChild(B),B}onTriggerEvent(i){var t,u;if(this._clearFilterTriggered)this.callback(i,{columnDef:this.columnDef,clearFilterTriggered:this._clearFilterTriggered,shouldTriggerQuery:this._shouldTriggerQuery}),this._filterElm.classList.remove("filled");else{const g=null!==(t=null==i?void 0:i.type)&&void 0!==t?t:"",C=this._selectOperatorElm.value;let D=this._filterInputElm.value;const B=this.gridOptions.enableFilterTrimWhiteSpace||this.columnFilter.enableTrimWhiteSpace;"string"==typeof D&&B&&(D=D.trim()),null!=D&&""!==D?this._filterElm.classList.add("filled"):this._filterElm.classList.remove("filled");const J={columnDef:this.columnDef,searchTerms:D?[D]:null,operator:C,shouldTriggerQuery:this._shouldTriggerQuery},ie="keyup"===g&&"Enter"!==(null===(u=i)||void 0===u?void 0:u.key)?this._debounceTypingDelay:0;ie>0?(clearTimeout(this.timer),this.timer=setTimeout(()=>this.callback(i,J),ie)):this.callback(i,J)}this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0}}const gs=m&&ui||m,ys=te()||be;class ea{constructor(i){this.translaterService=i}filterCollection(i,t,u=Le.chain){let g=[];if(Array.isArray(t)){g=u===Le.merge?[]:[...i];for(const C of t)if(u===Le.merge){const D=this.singleFilterCollection(i,C);g=$i([...g,...D])}else g=this.singleFilterCollection(g,C)}else g=this.singleFilterCollection(i,t);return g}singleFilterCollection(i,t){let u=[];if(t){const g=t.property,C=t.operator||ze.equal,D=void 0===t.value?"":t.value;switch(C){case ze.equal:u=g?i.filter(B=>B[g]===D):i.filter(B=>B===D);break;case ze.contains:u=g?i.filter(B=>-1!==B[g].toString().indexOf(D.toString())):i.filter(B=>null!=B&&-1!==B.toString().indexOf(D.toString()));break;case ze.notContains:u=g?i.filter(B=>-1===B[g].toString().indexOf(D.toString())):i.filter(B=>null!=B&&-1===B.toString().indexOf(D.toString()));break;case ze.notEqual:default:u=g?i.filter(B=>B[g]!==D):i.filter(B=>B!==D)}}return u}sortCollection(i,t,u,g){var C,D,B,J;if(g&&(!this.translaterService||!this.translaterService.translate))throw new Error('[Slickgrid-Universal] requires a Translate Service to be installed and configured when the grid option "enableTranslate" is enabled.');let ie=[];if(u)if(Array.isArray(u))ie=t.sort((le,De)=>{var Ne,Ze,ht,Ct;for(let Kt=0,Xt=u.length;Kt<Xt;Kt++){const dn=u[Kt];if(null==dn?void 0:dn.property){const yi=dn.sortDesc?nt.desc:nt.asc,ni=dn.property,Xn=ps(null!==(Ze=null!==(Ne=null==dn?void 0:dn.fieldType)&&void 0!==Ne?Ne:null==i?void 0:i.type)&&void 0!==Ze?Ze:Ee.string,g?(null===(ht=this.translaterService)||void 0===ht?void 0:ht.translate)&&this.translaterService.translate(le[ni]||" "):le[ni],g?(null===(Ct=this.translaterService)||void 0===Ct?void 0:Ct.translate)&&this.translaterService.translate(De[ni]||" "):De[ni],yi,i);if(Xn!==nt.neutral)return Xn}}return nt.neutral});else if(null==u?void 0:u.property){const le=u.property,De=u.sortDesc?nt.desc:nt.asc,Ne=null!==(D=null!==(C=null==u?void 0:u.fieldType)&&void 0!==C?C:null==i?void 0:i.type)&&void 0!==D?D:Ee.string;ie=t.sort((Ze,ht)=>{var Ct,Kt;const Xt=g?(null===(Ct=this.translaterService)||void 0===Ct?void 0:Ct.translate)&&this.translaterService.translate(Ze[le]||" "):Ze[le],dn=g?(null===(Kt=this.translaterService)||void 0===Kt?void 0:Kt.translate)&&this.translaterService.translate(ht[le]||" "):ht[le],yi=ps(Ne,Xt,dn,De,i);return yi!==nt.neutral?yi:nt.neutral})}else if(u&&!u.property){const le=u.sortDesc?nt.desc:nt.asc,De=null!==(J=null!==(B=null==u?void 0:u.fieldType)&&void 0!==B?B:null==i?void 0:i.type)&&void 0!==J?J:Ee.string;ie=t.sort((Ne,Ze)=>{var ht,Ct;const Kt=g?(null===(ht=this.translaterService)||void 0===ht?void 0:ht.translate)&&this.translaterService.translate(Ne||" "):Ne,Xt=g?(null===(Ct=this.translaterService)||void 0===Ct?void 0:Ct.translate)&&this.translaterService.translate(Ze||" "):Ze,dn=ps(De,Kt,Xt,le,i);return dn!==nt.neutral?dn:nt.neutral})}return ie}}class Gr{constructor(i,t,u){this.sharedService=i,this.backendUtilities=t,this.translaterService=u}getPickerTitleOutputString(i,t){var u,g,C,D,B,J,ie,le,De,Ne,Ze,ht,Ct,Kt,Xt,dn,yi;if(this.sharedService.gridOptions&&this.sharedService.gridOptions.enableTranslate&&(!this.translaterService||!this.translaterService.translate))throw new Error('[Slickgrid-Universal] requires a Translate Service to be installed and configured when the grid option "enableTranslate" is enabled.');let ni="";const Jn=null!==(g=null===(u=this.sharedService.gridOptions)||void 0===u?void 0:u[t])&&void 0!==g?g:{},Ti=null!==(D=null===(C=this.sharedService.gridOptions)||void 0===C?void 0:C.enableTranslate)&&void 0!==D&&D,ri=null!==(J=null===(B=this.sharedService.gridOptions)||void 0===B?void 0:B.locales)&&void 0!==J?J:ae.locales,Xn=null===(ie=Jn)||void 0===ie?void 0:ie[i],Wi=null===(le=Jn)||void 0===le?void 0:le[`${i}Key`],Ci=pe(this.sharedService.gridOptions);if(Wi&&(null===(De=this.translaterService)||void 0===De?void 0:De.translate))ni=this.translaterService.translate(Wi||" ");else switch(i){case"commandTitle":ni=Xn||Ti&&(null===(Ne=this.translaterService)||void 0===Ne?void 0:Ne.getCurrentLanguage)&&(null===(Ze=this.translaterService)||void 0===Ze?void 0:Ze.translate(`${Ci}COMMANDS`||" "))||(null==ri?void 0:ri.TEXT_COMMANDS);break;case"columnTitle":ni=Xn||Ti&&(null===(ht=this.translaterService)||void 0===ht?void 0:ht.getCurrentLanguage)&&(null===(Ct=this.translaterService)||void 0===Ct?void 0:Ct.translate(`${Ci}COLUMNS`||" "))||(null==ri?void 0:ri.TEXT_COLUMNS);break;case"forceFitTitle":ni=Xn||Ti&&(null===(Kt=this.translaterService)||void 0===Kt?void 0:Kt.getCurrentLanguage)&&(null===(Xt=this.translaterService)||void 0===Xt?void 0:Xt.translate(`${Ci}FORCE_FIT_COLUMNS`||" "))||(null==ri?void 0:ri.TEXT_FORCE_FIT_COLUMNS);break;case"syncResizeTitle":ni=Xn||Ti&&(null===(dn=this.translaterService)||void 0===dn?void 0:dn.getCurrentLanguage)&&(null===(yi=this.translaterService)||void 0===yi?void 0:yi.translate(`${Ci}SYNCHRONOUS_RESIZE`||" "))||(null==ri?void 0:ri.TEXT_SYNCHRONOUS_RESIZE);break;default:ni=Xn}return ni}readjustFrozenColumnIndexWhenNeeded(i,t,u){if(i>=0){const g=u.findIndex(C=>C.id===this.sharedService.frozenVisibleColumnId);g>=0&&g!==i&&(this.sharedService.gridOptions.frozenColumn=g,this.sharedService.slickGrid.setOptions({frozenColumn:g})),Array.isArray(u)&&Array.isArray(t)&&u.length!==t.length&&this.sharedService.slickGrid.setColumns(u)}}refreshBackendDataset(i){var t;let u=this.sharedService.gridOptions;i&&(u=tn(tn({},this.sharedService.gridOptions),i),this.sharedService.gridOptions=u),null===(t=this.backendUtilities)||void 0===t||t.refreshBackendDataset(u)}runOverrideFunctionWhenExists(i,t){return"function"!=typeof i||!!i.call(this,t)}sortItems(i,t){Array.isArray(i)&&i.sort((u,g)=>u&&g&&u.hasOwnProperty(t)&&g.hasOwnProperty(t)?u[t]-g[t]:0)}translateItems(i,t,u){var g,C;if(Array.isArray(i))for(const D of i)D.hasOwnProperty(t)&&(D[u]=null===(C=null===(g=this.translaterService)||void 0===g?void 0:g.translate)||void 0===C?void 0:C.call(g,D[t]))}translateMenuItemsFromTitleKey(i){const t=pe(this.sharedService.gridOptions);for(const u of i)"object"==typeof u&&u.titleKey&&(u.title=this.translateWhenEnabledAndServiceExist(`${t}${u.titleKey}`,`TEXT_${u.titleKey}`))}translateWhenEnabledAndServiceExist(i,t,u){var g,C,D;let B="";const J=null===(g=this.sharedService)||void 0===g?void 0:g.gridOptions,ie=null!==(C=null==J?void 0:J.locales)&&void 0!==C?C:ae.locales;return B=u||(J.enableTranslate&&(null===(D=this.translaterService)||void 0===D?void 0:D.translate)?this.translaterService.translate(i||" "):t in ie?ie[t]:t),B}}class ur{constructor(i){this._defaults={enableForCells:!0,enableForHeaderCells:!1,maxToolTipLength:void 0,replaceExisting:!0},this.pluginName="AutoTooltips",this._eventHandler=new Slick.EventHandler,this._addonOptions=i}get addonOptions(){return this._addonOptions}get eventHandler(){return this._eventHandler}init(i){this._addonOptions=tn(tn({},this._defaults),this.addonOptions),this._grid=i,this._addonOptions.enableForCells&&this._eventHandler.subscribe(this._grid.onMouseEnter,this.handleMouseEnter.bind(this)),this._addonOptions.enableForHeaderCells&&this._eventHandler.subscribe(this._grid.onHeaderMouseEnter,this.handleHeaderMouseEnter.bind(this))}dispose(){var i;null===(i=this._eventHandler)||void 0===i||i.unsubscribeAll()}handleMouseEnter(i){var t,u,g,C,D;const B=this._grid.getCellFromEvent(i);if(B){let ie,J=this._grid.getCellNode(B.row,B.cell);this._addonOptions&&J&&(!J.title||(null===(t=this._addonOptions)||void 0===t?void 0:t.replaceExisting))&&(J.clientWidth<J.scrollWidth?(ie=null!==(g=null===(u=J.textContent)||void 0===u?void 0:u.trim())&&void 0!==g?g:"",(null===(C=this._addonOptions)||void 0===C?void 0:C.maxToolTipLength)&&ie.length>(null===(D=this._addonOptions)||void 0===D?void 0:D.maxToolTipLength)&&(ie=ie.substr(0,this._addonOptions.maxToolTipLength-3)+"...")):ie="",J.title=ie),J=null}}handleHeaderMouseEnter(i,t){var u;const g=t.column;let C;const D=i.target;D&&(C=D.closest(".slick-header-column"),C&&!(null==g?void 0:g.toolTip)&&(C.title=D.clientWidth<C.clientWidth&&null!==(u=null==g?void 0:g.name)&&void 0!==u?u:"")),C=null}}class io{constructor(){this.pluginName="CellExcelCopyManager",this._eventHandler=new Slick.EventHandler,this._bindingEventService=new Oi}get addonOptions(){return this._addonOptions}get eventHandler(){return this._eventHandler}get commandQueue(){return this._commandQueue}get gridOptions(){var i,t,u;return null!==(u=null===(t=null===(i=this._grid)||void 0===i?void 0:i.getOptions)||void 0===t?void 0:t.call(i))&&void 0!==u?u:{}}get undoRedoBuffer(){return this._undoRedoBuffer}init(i,t){this._grid=i,this.createUndoRedoBuffer(),this._cellSelectionModel=new Q,this._grid.setSelectionModel(this._cellSelectionModel),this._bindingEventService.bind(document.body,"keydown",this.handleBodyKeyDown.bind(this)),this._addonOptions=tn(tn({},this.getDefaultOptions()),t),this._cellExternalCopyManagerPlugin=new Ho,this._cellExternalCopyManagerPlugin.init(this._grid,this._addonOptions),this._eventHandler.subscribe(this._cellExternalCopyManagerPlugin.onCopyCells,(u,g)=>{this._addonOptions&&"function"==typeof this._addonOptions.onCopyCells&&this._addonOptions.onCopyCells(u,g)}),this._eventHandler.subscribe(this._cellExternalCopyManagerPlugin.onCopyCancelled,(u,g)=>{this._addonOptions&&"function"==typeof this._addonOptions.onCopyCancelled&&this._addonOptions.onCopyCancelled(u,g)}),this._eventHandler.subscribe(this._cellExternalCopyManagerPlugin.onPasteCells,(u,g)=>{this._addonOptions&&"function"==typeof this._addonOptions.onPasteCells&&this._addonOptions.onPasteCells(u,g)})}dispose(){var i,t;this._eventHandler.unsubscribeAll(),this._bindingEventService.unbindAll(),null===(i=this._cellSelectionModel)||void 0===i||i.dispose(),null===(t=this._cellExternalCopyManagerPlugin)||void 0===t||t.dispose()}createUndoRedoBuffer(){let i=0;this._commandQueue=[],this._undoRedoBuffer={queueAndExecuteCommand:t=>{this._commandQueue[i]=t,i++,t.execute()},undo:()=>{if(0===i)return;i--;const t=this._commandQueue[i];t&&Slick.GlobalEditorLock.cancelCurrentEdit()&&t.undo()},redo:()=>{if(i>=this._commandQueue.length)return;const t=this._commandQueue[i];i++,t&&Slick.GlobalEditorLock.cancelCurrentEdit()&&t.execute()}}}getDefaultOptions(){let i=0;return{clipboardCommandHandler:t=>{this._undoRedoBuffer.queueAndExecuteCommand.call(this._undoRedoBuffer,t)},dataItemColumnValueExtractor:(t,u)=>{if(!this.gridOptions.editable||!u.editor){const g=tn(tn({},this.gridOptions.exportOptions),this.gridOptions.textExportOptions),C=void 0!==u.exportWithFormatter?u.exportWithFormatter:null==g?void 0:g.exportWithFormatter;if(u.formatter&&C){const D=u.formatter(0,0,t[u.field],u,t,this._grid);if(u.sanitizeDataExport||(null==g?void 0:g.sanitizeDataExport)){let B=D;return D&&"object"==typeof D&&D.hasOwnProperty("text")&&(B=D.text),null===B&&(B=""),Us(B)}return D}}return null},readOnlyMode:!1,includeHeaderWhenCopying:!1,newRowCreator:t=>{for(let u=0;u<t;u++)this._grid.getData().addItem({id:"newRow_"+i++})}}}handleBodyKeyDown(i){90===(i.keyCode||i.code)&&(i.ctrlKey||i.metaKey)&&(i.shiftKey?this._undoRedoBuffer.redo():this._undoRedoBuffer.undo())}}class Ho{constructor(){this._bodyElement=document.body,this._copiedCellStyle="copied",this._copiedCellStyleLayerKey="copy-manager",this._copiedRanges=null,this.pluginName="CellExternalCopyManager",this.onCopyCells=new Slick.Event,this.onCopyCancelled=new Slick.Event,this.onPasteCells=new Slick.Event,this._eventHandler=new Slick.EventHandler}get addonOptions(){return this._addonOptions}get clipCommand(){return this._clipCommand}get eventHandler(){return this._eventHandler}init(i,t){this._grid=i,this._addonOptions=tn(tn({},this._addonOptions),t),this._copiedCellStyleLayerKey=this._addonOptions.copiedCellStyleLayerKey||"copy-manager",this._copiedCellStyle=this._addonOptions.copiedCellStyle||"copied",this._bodyElement=this._addonOptions.bodyElement||document.body,this._onCopyInit=this._addonOptions.onCopyInit||void 0,this._onCopySuccess=this._addonOptions.onCopySuccess||void 0,this._eventHandler.subscribe(this._grid.onKeyDown,this.handleKeyDown.bind(this));const u=i.getSelectionModel();if(!u)throw new Error("Selection model is mandatory for this plugin. Please set a selection model on the grid before adding this plugin: grid.setSelectionModel(new Slick.CellSelectionModel())");this._eventHandler.subscribe(u.onSelectedRangesChanged,()=>this._grid.focus())}dispose(){this._eventHandler.unsubscribeAll()}clearCopySelection(){this._grid.removeCellCssStyles(this._copiedCellStyleLayerKey)}getHeaderValueForColumn(i){if("function"==typeof this._addonOptions.headerColumnValueExtractor){const t=this._addonOptions.headerColumnValueExtractor(i);if(t)return t}return i.name}getDataItemValueForColumn(i,t,u){if("function"==typeof this._addonOptions.dataItemColumnValueExtractor){const C=this._addonOptions.dataItemColumnValueExtractor(i,t);if(C)return C}let g="";if(t)if(t.editor){const C=new t.editor({container:document.createElement("p"),column:t,event:u,position:{top:0,left:0},grid:this._grid});C.loadValue(i),g=C.serializeValue(),C.destroy()}else g=i[t.field||""];return g}setDataItemValueForColumn(i,t,u){if(!(null==t?void 0:t.denyPaste)){if(this._addonOptions.dataItemColumnValueSetter)return this._addonOptions.dataItemColumnValueSetter(i,t,u);if(t.editor){const g=new t.editor({container:document.body,column:t,position:{top:0,left:0},grid:this._grid});g.loadValue(i),g.applyValue(i,u),g.destroy()}else i[t.field]=u}}setIncludeHeaderWhenCopying(i){this._addonOptions.includeHeaderWhenCopying=i}createTextBox(i){const t=Wt("textarea",{value:i,style:{position:"absolute",left:"-1000px",top:`${document.body.scrollTop}px`}});return this._bodyElement.appendChild(t),t.select(),t}decodeTabularData(i,t){var u;const g=i.getColumns(),D=t.value.split(/[\n\f\r]/);""===D[D.length-1]&&D.pop();let B=0;const J=[];this._bodyElement.removeChild(t);for(const ni of D)J[B++]=""!==ni?ni.split("\t"):[""];const ie=this._grid.getActiveCell(),le=null===(u=this._grid.getSelectionModel())||void 0===u?void 0:u.getSelectedRanges(),De=(null==le?void 0:le.length)?le[0]:null;let Ne,Ze;if(De)Ne=De.fromRow,Ze=De.fromCell;else{if(!ie)return;Ne=ie.row,Ze=ie.cell}let ht=!1,Ct=J.length,Kt=J.length?J[0].length:0;1===J.length&&1===J[0].length&&De&&(ht=!0,Ct=De.toRow-De.fromRow+1,Kt=De.toCell-De.fromCell+1);const Xt=this._grid.getData().length-Ne;let dn=0;if(Xt<Ct&&"function"==typeof this._addonOptions.newRowCreator){const ni=this._grid.getData();for(dn=1;dn<=Ct-Xt;dn++)ni.push({});this._grid.setData(ni),this._grid.render()}if(Ne+Ct>this._grid.getDataLength()&&"function"==typeof this._addonOptions.newRowCreator){const ni=Ne+Ct-this._grid.getDataLength();this._addonOptions.newRowCreator(ni)}this._clipCommand={isClipboardCommand:!0,clippedRange:J,oldValues:[],cellExternalCopyManager:this,_options:this._addonOptions,setDataItemValueForColumn:this.setDataItemValueForColumn,markCopySelection:this.markCopySelection,oneCellToMultiple:ht,activeRow:Ne,activeCell:Ze,destH:Ct,destW:Kt,maxDestY:this._grid.getDataLength(),maxDestX:this._grid.getColumns().length,h:0,w:0,execute:()=>{var ni;this._clipCommand.h=0;for(let Ti=0;Ti<this._clipCommand.destH;Ti++){this._clipCommand.oldValues[Ti]=[],this._clipCommand.w=0,this._clipCommand.h++;for(let ri=0;ri<this._clipCommand.destW;ri++){this._clipCommand.w++;const Xn=Ne+Ti,Wi=Ze+ri;if(Xn<this._clipCommand.maxDestY&&Wi<this._clipCommand.maxDestX){const vr=this._grid.getDataItem(Xn);this._clipCommand.oldValues[Ti][ri]=vr[g[Wi].field],ht?this.setDataItemValueForColumn(vr,g[Wi],J[0][0]):this.setDataItemValueForColumn(vr,g[Wi],J[Ti]?J[Ti][ri]:""),this._grid.updateCell(Xn,Wi),this._grid.onCellChange.notify({row:Xn,cell:Wi,item:vr,grid:this._grid,column:{}})}}}const Jn={fromCell:Ze,fromRow:Ne,toCell:Ze+this._clipCommand.w-1,toRow:Ne+this._clipCommand.h-1};this.markCopySelection([Jn]),null===(ni=this._grid.getSelectionModel())||void 0===ni||ni.setSelectedRanges([Jn]),this.onPasteCells.notify({ranges:[Jn]})},undo:()=>{var ni;for(let Ti=0;Ti<this._clipCommand.destH;Ti++)for(let ri=0;ri<this._clipCommand.destW;ri++){const Xn=Ne+Ti,Wi=Ze+ri;if(Xn<this._clipCommand.maxDestY&&Wi<this._clipCommand.maxDestX){const vr=this._grid.getDataItem(Xn);ht?this.setDataItemValueForColumn(vr,g[Wi],this._clipCommand.oldValues[0][0]):this.setDataItemValueForColumn(vr,g[Wi],this._clipCommand.oldValues[Ti][ri]),this._grid.updateCell(Xn,Wi),this._grid.onCellChange.notify({row:Xn,cell:Wi,item:vr,grid:this._grid,column:{}})}}const Jn={fromCell:Ze,fromRow:Ne,toCell:Ze+this._clipCommand.w-1,toRow:Ne+this._clipCommand.h-1};if(this.markCopySelection([Jn]),null===(ni=this._grid.getSelectionModel())||void 0===ni||ni.setSelectedRanges([Jn]),this.onPasteCells.notify({ranges:[Jn]}),"function"==typeof this._addonOptions.onPasteCells&&this._addonOptions.onPasteCells(new Slick.EventData,{ranges:[Jn]}),dn>1){const Ti=this._grid.getData();for(;dn>1;dn--)Ti.splice(Ti.length-1,1);this._grid.setData(Ti),this._grid.render()}}},this._addonOptions.clipboardCommandHandler?this._addonOptions.clipboardCommandHandler(this._clipCommand):this._clipCommand.execute()}handleKeyDown(i){var t,u,g,C,D,B;let J;if(!this._grid.getEditorLock().isActive()||this._grid.getOptions().autoEdit){if((i.which===He.ESCAPE||"Escape"===i.key)&&this._copiedRanges&&(i.preventDefault(),this.clearCopySelection(),this.onCopyCancelled.notify({ranges:this._copiedRanges}),"function"==typeof this._addonOptions.onCopyCancelled&&this._addonOptions.onCopyCancelled(i,{ranges:this._copiedRanges}),this._copiedRanges=null),(i.which===He.C||"c"===i.key||i.which===He.INSERT||"Insert"===i.key)&&(i.ctrlKey||i.metaKey)&&!i.shiftKey&&("function"==typeof this._onCopyInit&&this._onCopyInit.call(this),J=null!==(u=null===(t=this._grid.getSelectionModel())||void 0===t?void 0:t.getSelectedRanges())&&void 0!==u?u:[],0!==J.length)){this._copiedRanges=J,this.markCopySelection(J),this.onCopyCells.notify({ranges:J}),"function"==typeof this._addonOptions.onCopyCells&&this._addonOptions.onCopyCells(i,{ranges:J});const ie=this._grid.getColumns();let le="";for(let De=0;De<J.length;De++){const Ne=J[De],Ze=[];for(let ht=Ne.fromRow;ht<Ne.toRow+1;ht++){const Ct=[],Kt=this._grid.getDataItem(ht);if(0===Ze.length&&this._addonOptions.includeHeaderWhenCopying){const Xt=[];for(let dn=Ne.fromCell;dn<Ne.toCell+1;dn++)ie[dn].name.length>0&&Xt.push(this.getHeaderValueForColumn(ie[dn]));Ze.push(Xt.join("\t"))}for(let Xt=Ne.fromCell;Xt<Ne.toCell+1;Xt++)Ct.push(this.getDataItemValueForColumn(Kt,ie[Xt],i));Ze.push(Ct.join("\t"))}le+=Ze.join("\r\n")+"\r\n"}if(window.clipboardData)return window.clipboardData.setData("Text",le),!0;{const De=document.activeElement,Ne=this.createTextBox(le);if(Ne.focus(),setTimeout(()=>{this._bodyElement.removeChild(Ne),De?De.focus():console.log("No element to restore focus to after copy?")},null!==(C=null===(g=this.addonOptions)||void 0===g?void 0:g.clipboardPasteDelay)&&void 0!==C?C:100),"function"==typeof this._onCopySuccess){const Ze=1===J.length?J[0].toRow+1-J[0].fromRow:J.length;this._onCopySuccess(Ze)}return!1}}if(!this._addonOptions.readOnlyMode&&((i.which===He.V||"v"===i.key)&&(i.ctrlKey||i.metaKey)&&!i.shiftKey||(i.which===He.INSERT||"Insert"===i.key)&&i.shiftKey&&!i.ctrlKey)){const ie=this.createTextBox("");return setTimeout(()=>this.decodeTabularData(this._grid,ie),null!==(B=null===(D=this.addonOptions)||void 0===D?void 0:D.clipboardPasteDelay)&&void 0!==B?B:100),!1}}}markCopySelection(i){var t;this.clearCopySelection();const u=this._grid.getColumns(),g={};for(const C of i)for(let D=C.fromRow;D<=C.toRow;D++){g[D]={};for(let B=C.fromCell;B<=C.toCell&&B<u.length;B++)g[D][u[B].id]=this._copiedCellStyle}this._grid.setCellCssStyles(this._copiedCellStyleLayerKey,g),clearTimeout(this._clearCopyTI),this._clearCopyTI=setTimeout(()=>this.clearCopySelection(),(null===(t=this.addonOptions)||void 0===t?void 0:t.clearCopySelectionDelay)||2e3)}}class to{constructor(i,t,u){this.extensionUtility=i,this.pubSubService=t,this.sharedService=u,this._addonOptions={},this._camelPluginName="",this._gridUid="",this._menuCssPrefix="",this._menuPluginCssPrefix="",this._bindEventService=new Oi,this._eventHandler=new Slick.EventHandler}get addonOptions(){return this._addonOptions}set addonOptions(i){this._addonOptions=i}get eventHandler(){return this._eventHandler}get grid(){return this.sharedService.slickGrid}get gridOptions(){var i;return null!==(i=this.sharedService.gridOptions)&&void 0!==i?i:{}}get gridUid(){var i,t;return this._gridUid||(null!==(t=null===(i=this.grid)||void 0===i?void 0:i.getUID())&&void 0!==t?t:"")}get gridUidSelector(){return this.gridUid?`.${this.gridUid}`:""}get menuElement(){return this._menuElm||document.querySelector(`.${this._menuPluginCssPrefix||this._menuCssPrefix}${this.gridUidSelector}`)}dispose(){var i,t,u,g;null===(i=this._eventHandler)||void 0===i||i.unsubscribeAll(),this._bindEventService.unbindAll(),this.pubSubService.unsubscribeAll(),null===(t=this._commandTitleElm)||void 0===t||t.remove(),null===(u=this._optionTitleElm)||void 0===u||u.remove(),null===(g=this.menuElement)||void 0===g||g.remove()}setOptions(i){this._addonOptions=tn(tn({},this._addonOptions),i)}populateCommandOrOptionItems(i,t,u,g,C,D){if(C&&g&&t)for(const B of g)this.populateSingleCommandOrOptionItem(i,t,u,B,C,D)}populateCommandOrOptionTitle(i,t,u){var g,C,D;if(t){const B=null!==(C=null===(g=this._menuElm)||void 0===g?void 0:g.querySelector(`.slick-${i}-header`))&&void 0!==C?C:Wt("div",{className:`slick-${i}-header`}),J=`${i}Title`;(null===(D=t)||void 0===D?void 0:D[J])?(this[`_${i}TitleElm`]=Wt("span",{className:"slick-menu-title",textContent:t[J]}),B.appendChild(this[`_${i}TitleElm`]),B.classList.add("with-title")):B.classList.add("no-title"),u.appendChild(B)}}populateSingleCommandOrOptionItem(i,t,u,g,C,D){var B;let J=null;if(C&&g&&t){const ie="headerButtons"===this._camelPluginName?"":"-item",le=`${this._menuCssPrefix}${ie}`;let De=!0,Ne=!0;if("object"==typeof g&&(De=this.extensionUtility.runOverrideFunctionWhenExists(g.itemVisibilityOverride,C),Ne=this.extensionUtility.runOverrideFunctionWhenExists(g.itemUsabilityOverride,C)),!De)return null;if("object"==typeof g&&g.itemUsabilityOverride&&(g.disabled=!Ne),J=Wt("li",{className:le}),"object"==typeof g&&qe(g[i])&&(J.dataset[i]=null===(B=g)||void 0===B?void 0:B[i]),u&&u.appendChild(J),"object"==typeof g&&g.divider||"divider"===g)return J.classList.add(`${le}-divider`),J;if(g.disabled&&J.classList.add(`${le}-disabled`),(g.hidden||g.showOnHover)&&J.classList.add(`${le}-hidden`),g.cssClass&&J.classList.add(...g.cssClass.split(" ")),g.tooltip&&(J.title=g.tooltip),"headerButtons"!==this._camelPluginName){const Ze=Wt("div",{className:`${this._menuCssPrefix}-icon`});J.appendChild(Ze),g.iconCssClass?Ze.classList.add(...g.iconCssClass.split(" ")):Ze.textContent="\u25e6";const ht=Wt("span",{className:`${this._menuCssPrefix}-content`,textContent:"object"==typeof g&&g.title||""});J.appendChild(ht),g.textCssClass&&ht.classList.add(...g.textCssClass.split(" "))}this._bindEventService.bind(J,"click",Ze=>D.call(this,Ze,i,g,null==C?void 0:C.column)),g.handler&&!g.disabled&&this._bindEventService.bind(J,"click",Ze=>g.handler.call(this,Ze))}return J}}class rs extends to{constructor(i,t,u){super(i,t,u),this.extensionUtility=i,this.pubSubService=t,this.sharedService=u,this._currentCell=-1,this._currentRow=-1}createMenu(i){var t,u,g,C,D,B,J,ie,le,De,Ne,Ze,ht,Ct,Kt;null===(t=this.menuElement)||void 0===t||t.remove(),this._menuElm=void 0;const Xt=this.grid.getCellFromEvent(i);if(Xt){this._currentCell=null!==(u=Xt.cell)&&void 0!==u?u:0,this._currentRow=null!==(g=Xt.row)&&void 0!==g?g:0;const dn=this.grid.getColumns()[this._currentCell],yi=this.grid.getDataItem(this._currentRow),ni=(null===(C=this._addonOptions)||void 0===C?void 0:C.commandItems)||[],Jn=(null===(D=this._addonOptions)||void 0===D?void 0:D.optionItems)||[];let Ti=!0,ri=!0;if("contextMenu"===this._camelPluginName){if(Ti=this.checkIsColumnAllowed(null!==(J=null===(B=this._addonOptions)||void 0===B?void 0:B.optionShownOverColumnIds)&&void 0!==J?J:[],dn.id),ri=this.checkIsColumnAllowed(null!==(le=null===(ie=this._addonOptions)||void 0===ie?void 0:ie.commandShownOverColumnIds)&&void 0!==le?le:[],dn.id),!(dn&&(ri&&ni.length||Ti&&Jn.length)))return void this.hideMenu()}else if(!dn||!dn.cellMenu||!ni.length&&!Jn.length)return;const Xn={cell:this._currentCell,row:this._currentRow,grid:this.grid};if(this.closeMenu(i,Xn),"function"==typeof i.stopPropagation&&(this.pubSubService.publish(`on${_n(this._camelPluginName)}BeforeMenuShow`,Xn),"function"==typeof(null===(De=this.addonOptions)||void 0===De?void 0:De.onBeforeMenuShow)&&!1===this.addonOptions.onBeforeMenuShow(i,Xn)))return;this._menuElm=Wt("div",{className:`${this._menuPluginCssPrefix||this._menuCssPrefix} ${this.gridUid}`,style:{display:"none",left:`${i.pageX}px`,top:`${i.pageY+5}px`}});const Wi=isNaN(this.addonOptions.maxHeight)?this.addonOptions.maxHeight:`${null!==(Ne=this.addonOptions.maxHeight)&&void 0!==Ne?Ne:0}px`,vr=isNaN(this.addonOptions.maxWidth)?this.addonOptions.maxWidth:`${null!==(Ze=this.addonOptions.maxWidth)&&void 0!==Ze?Ze:0}px`;Wi&&(this._menuElm.style.maxHeight=Wi),vr&&(this._menuElm.style.maxWidth=vr),(null===(ht=this.addonOptions)||void 0===ht?void 0:ht.width)&&(this._menuElm.style.width=sr(null===(Ct=this.addonOptions)||void 0===Ct?void 0:Ct.width));const Ci=Wt("button",{className:"close",type:"button",innerHTML:"&times;",dataset:{dismiss:this._menuCssPrefix}});if(Ci.setAttribute("aria-label","Close"),!this.addonOptions.hideOptionSection&&Ti&&Jn.length>0){const As=Wt("div",{className:`${this._menuCssPrefix}-option-list`});this.populateCommandOrOptionTitle("option",this.addonOptions,As),this.addonOptions.hideCloseButton||this.populateCommandOrOptionCloseBtn("option",Ci,As),this._menuElm.appendChild(As),this.populateCommandOrOptionItems("option",this.addonOptions,As,Jn,{cell:this._currentCell,row:this._currentRow,column:dn,dataContext:yi,grid:this.grid},this.handleMenuItemCommandClick)}if(!this.addonOptions.hideCommandSection&&ri&&ni.length>0){const As=Wt("div",{className:`${this._menuCssPrefix}-command-list`});this.populateCommandOrOptionTitle("command",this.addonOptions,As),!this.addonOptions.hideCloseButton&&(!Ti||0===Jn.length||this.addonOptions.hideOptionSection)&&this.populateCommandOrOptionCloseBtn("command",Ci,As),this._menuElm.appendChild(As),this.populateCommandOrOptionItems("command",this.addonOptions,As,ni,{cell:this._currentCell,row:this._currentRow,column:dn,dataContext:yi,grid:this.grid},this.handleMenuItemCommandClick)}if(this._menuElm.style.display="block",document.body.appendChild(this._menuElm),this.pubSubService.publish(`on${_n(this._camelPluginName)}AfterMenuShow`,Xn),"function"==typeof(null===(Kt=this.addonOptions)||void 0===Kt?void 0:Kt.onAfterMenuShow)&&!1===this.addonOptions.onAfterMenuShow(i,Xn))return}return this._menuElm}closeMenu(i,t){var u;if(this.menuElement){if("function"==typeof(null===(u=this.addonOptions)||void 0===u?void 0:u.onBeforeMenuClose)&&!1===this.addonOptions.onBeforeMenuClose(i,t))return;this.hideMenu()}}hideMenu(){var i;null===(i=this.menuElement)||void 0===i||i.remove(),this._menuElm=null}checkIsColumnAllowed(i,t){return!((null==i?void 0:i.length)>0)||i.findIndex(u=>u===t)>=0}handleBodyMouseDown(i){var t;(this.menuElement!==i.target&&!(null===(t=this.menuElement)||void 0===t?void 0:t.contains(i.target))||"close"===i.target.className)&&this.closeMenu(i,{cell:this._currentCell,row:this._currentRow,grid:this.grid})}handleCloseButtonClicked(i){i.defaultPrevented||this.closeMenu(i,{cell:0,row:0,grid:this.grid})}handleMenuItemCommandClick(i,t,u){var g,C;if(void 0!==(null===(g=u)||void 0===g?void 0:g[t])&&"divider"!==u&&!u.disabled&&!u.divider&&void 0!==this._currentCell&&void 0!==this._currentRow){if("option"===t&&!this.grid.getEditorLock().commitCurrentEdit())return;const D=this._currentCell,B=this._currentRow,J=this.grid.getColumns()[this._currentCell],ie=this.grid.getDataItem(this._currentRow),le={cell:this._currentCell,row:this._currentRow,grid:this.grid,[t]:u[t],item:u,column:J,dataContext:ie},De="command"===t?"onCommand":"onOptionSelected",Ne=`${this._camelPluginName}:${De}`;this.pubSubService.publish(Ne,le),"function"==typeof(null===(C=this._addonOptions)||void 0===C?void 0:C[De])&&this._addonOptions[De](i,le),"function"==typeof u.action&&u.action.call(this,i,le),i.defaultPrevented||this.closeMenu(i,{cell:D,row:B,grid:this.grid})}}populateCommandOrOptionCloseBtn(i,t,u){var g;this._bindEventService.bind(t,"click",D=>this.handleCloseButtonClicked(D));const C=null!==(g=u.querySelector(`.slick-${i}-header`))&&void 0!==g?g:Wt("div",{className:`slick-${i}-header`});null==C||C.appendChild(t),u.appendChild(C),C.classList.add("with-close")}repositionMenu(i){var t,u,g,C,D,B;if(this._menuElm&&i.target){this._menuElm.style.top="0px",this._menuElm.style.left="0px";const J=i.target.closest(".slick-cell");let ie=J&&"cellMenu"===this._camelPluginName?null!==(u=null===(t=_r(J))||void 0===t?void 0:t.left)&&void 0!==u?u:0:i.pageX,le=J&&"cellMenu"===this._camelPluginName?null!==(C=null===(g=_r(J))||void 0===g?void 0:g.top)&&void 0!==C?C:0:i.pageY;const De=J.offsetWidth||0,Ne=(null===(D=this._menuElm)||void 0===D?void 0:D.offsetHeight)||0,Ze=(null===(B=this._menuElm)||void 0===B?void 0:B.offsetWidth)||this._addonOptions.width||0,ht=this.gridOptions.rowHeight||0,Ct=+(this._addonOptions.autoAdjustDropOffset||0),Kt=+(this._addonOptions.autoAlignSideOffset||0);if(this._addonOptions.autoAdjustDrop||this._addonOptions.dropDirection){const yi=mn(J).bottom+Ct-ht,ni=mn(J).top-Ct+ht;"top"==(yi<Ne&&ni>yi?"top":"bottom")||"top"===this._addonOptions.dropDirection?(this._menuElm.classList.remove("dropdown"),this._menuElm.classList.add("dropup"),le=le-Ne-Ct):(this._menuElm.classList.remove("dropup"),this._menuElm.classList.add("dropdown"),le+=Ct,"cellMenu"===this._camelPluginName&&(le+=ht))}if(this._addonOptions.autoAlignSide||"left"===this._addonOptions.dropSide){const Xt=this.grid.getGridPosition();"left"==(ie+ +Ze>=Xt.width?"left":"right")||"left"===this._addonOptions.dropSide?(this._menuElm.classList.remove("dropright"),this._menuElm.classList.add("dropleft"),ie="cellMenu"===this._camelPluginName?ie-(+Ze-De)-Kt:ie-+Ze-Kt):(this._menuElm.classList.remove("dropleft"),this._menuElm.classList.add("dropright"),ie+=Kt)}this._menuElm.style.top=`${le}px`,this._menuElm.style.left=`${ie}px`}}}class Eo extends rs{constructor(i,t,u){super(i,t,u),this.extensionUtility=i,this.pubSubService=t,this.sharedService=u,this._defaults={autoAdjustDrop:!0,autoAlignSide:!0,autoAdjustDropOffset:0,autoAlignSideOffset:0,hideMenuOnScroll:!0},this.pluginName="CellMenu",this._camelPluginName="cellMenu",this._menuCssPrefix="slick-menu",this._menuPluginCssPrefix="slick-cell-menu",this.init(u.gridOptions.cellMenu)}init(i){this._addonOptions=tn(tn({},this._defaults),i),this.sortMenuItems(this.sharedService.allColumns),this._eventHandler.subscribe(this.grid.onClick,this.handleCellClick.bind(this)),this._addonOptions.hideMenuOnScroll&&this._eventHandler.subscribe(this.grid.onScroll,this.closeMenu.bind(this))}translateCellMenu(){var i;const t=null===(i=this.sharedService)||void 0===i?void 0:i.gridOptions,u=this.sharedService.allColumns;(null==t?void 0:t.enableTranslate)&&Array.isArray(u)&&u.forEach(g=>{if((null==g?void 0:g.cellMenu)&&(Array.isArray(g.cellMenu.commandItems)||Array.isArray(g.cellMenu.optionItems))){const C=g.cellMenu.commandItems||[],D=g.cellMenu.optionItems||[];g.cellMenu.commandTitleKey&&(g.cellMenu.commandTitle=this.extensionUtility.translateWhenEnabledAndServiceExist(g.cellMenu.commandTitleKey,"TEXT_COMMANDS")||g.cellMenu.commandTitle),g.cellMenu.optionTitleKey&&(g.cellMenu.optionTitle=this.extensionUtility.translateWhenEnabledAndServiceExist(g.cellMenu.optionTitleKey,"TEXT_COMMANDS")||g.cellMenu.optionTitle),this.extensionUtility.translateMenuItemsFromTitleKey(C),this.extensionUtility.translateMenuItemsFromTitleKey(D),this.extensionUtility.translateItems(C,"titleKey","title"),this.extensionUtility.translateItems(D,"titleKey","title")}})}handleCellClick(i,t){const u=this.grid.getCellFromEvent(i);if(u){const g=this.grid.getDataItem(u.row),C=this.grid.getColumns()[u.cell];if((null==C?void 0:C.cellMenu)&&i.preventDefault(),this._addonOptions=tn(tn({},this._addonOptions),C.cellMenu),(t=t||{}).column=C,t.dataContext=g,t.grid=this.grid,!this.extensionUtility.runOverrideFunctionWhenExists(this._addonOptions.menuUsabilityOverride,t))return;this._menuElm=this.createMenu(i),this._menuElm&&(this.repositionMenu(i),this._menuElm.setAttribute("aria-expanded","true"),this._menuElm.style.display="block"),this._bindEventService.bind(document.body,"mousedown",this.handleBodyMouseDown.bind(this))}}sortMenuItems(i){i.forEach(t=>{var u,g;(null===(u=null==t?void 0:t.cellMenu)||void 0===u?void 0:u.commandItems)&&this.extensionUtility.sortItems(t.cellMenu.commandItems||[],"positionOrder"),(null===(g=null==t?void 0:t.cellMenu)||void 0===g?void 0:g.optionItems)&&this.extensionUtility.sortItems(t.cellMenu.optionItems||[],"positionOrder")})}}class Ls{constructor(i,t){this._defaults={selectionCssClass:"slick-range-decorator",selectionCss:{border:"2px dashed red",zIndex:"9999"},offset:{top:-1,left:-1,height:-2,width:-2}},this.pluginName="CellRangeDecorator",this._addonOptions=Dn(this._defaults,t),this._grid=i}get addonOptions(){return this._addonOptions}get addonElement(){return this._elem}dispose(){this.hide()}hide(){var i;null===(i=this._elem)||void 0===i||i.remove(),this._elem=null}show(i){var t,u,g,C,D;this._elem||(this._elem=Wt("div",{className:this._addonOptions.selectionCssClass}),Object.keys(this._addonOptions.selectionCss).forEach(ie=>{this._elem.style[ie]=this._addonOptions.selectionCss[ie]}),this._elem.style.position="absolute",null===(u=null===(t=this._grid)||void 0===t?void 0:t.getActiveCanvasNode())||void 0===u||u.appendChild(this._elem));const B=null===(g=this._grid)||void 0===g?void 0:g.getCellNodeBox(i.fromRow,i.fromCell),J=null===(C=this._grid)||void 0===C?void 0:C.getCellNodeBox(i.toRow,i.toCell);return B&&J&&(null===(D=this._addonOptions)||void 0===D?void 0:D.offset)&&(this._elem.style.top=`${B.top+this._addonOptions.offset.top}px`,this._elem.style.left=`${B.left+this._addonOptions.offset.left}px`,this._elem.style.height=`${J.bottom-B.top+this._addonOptions.offset.height}px`,this._elem.style.width=`${J.right-B.left+this._addonOptions.offset.width}px`),this._elem}}class R{constructor(i){this._currentlySelectedRange=null,this._dragging=!1,this._gridUid="",this._columnOffset=0,this._rowOffset=0,this._isRightCanvas=!1,this._isBottomCanvas=!1,this._scrollLeft=0,this._scrollTop=0,this._defaults={selectionCss:{border:"2px dashed blue"}},this.pluginName="CellRangeSelector",this.onBeforeCellRangeSelected=new Slick.Event,this.onCellRangeSelected=new Slick.Event,this._eventHandler=new Slick.EventHandler,this._addonOptions=Dn(this._defaults,i)}get addonOptions(){return this._addonOptions}get eventHandler(){return this._eventHandler}get gridUid(){var i,t;return this._gridUid||(null!==(t=null===(i=this._grid)||void 0===i?void 0:i.getUID())&&void 0!==t?t:"")}get gridUidSelector(){return this.gridUid?`.${this.gridUid}`:""}init(i){this._grid=i,this._decorator=this._addonOptions.cellDecorator||new Ls(i,this._addonOptions),this._canvas=i.getCanvasNode(),this._gridOptions=i.getOptions(),this._gridUid=i.getUID(),this._eventHandler.subscribe(this._grid.onDrag,this.handleDrag.bind(this)).subscribe(this._grid.onDragInit,this.handleDragInit.bind(this)).subscribe(this._grid.onDragStart,this.handleDragStart.bind(this)).subscribe(this._grid.onDragEnd,this.handleDragEnd.bind(this)).subscribe(this._grid.onScroll,this.handleScroll.bind(this))}dispose(){var i,t;null===(i=this._eventHandler)||void 0===i||i.unsubscribeAll(),di(this._activeCanvas),di(this._canvas),(null===(t=this._decorator)||void 0===t?void 0:t.dispose)&&this._decorator.dispose()}getCellDecorator(){return this._decorator}getCurrentRange(){return this._currentlySelectedRange}handleDrag(i,t){var u,g,C,D;if(!this._dragging)return;i.stopImmediatePropagation();const B=this._grid.getCellFromPoint(i.pageX-(null!==(g=null===(u=_r(this._activeCanvas))||void 0===u?void 0:u.left)&&void 0!==g?g:0)+this._columnOffset,i.pageY-(null!==(D=null===(C=_r(this._activeCanvas))||void 0===C?void 0:C.top)&&void 0!==D?D:0)+this._rowOffset);this._gridOptions.frozenColumn>=0&&(!this._isRightCanvas&&B.cell>this._gridOptions.frozenColumn||this._isRightCanvas&&B.cell<=this._gridOptions.frozenColumn)||this._gridOptions.frozenRow>=0&&(!this._isBottomCanvas&&B.row>=this._gridOptions.frozenRow||this._isBottomCanvas&&B.row<this._gridOptions.frozenRow)||!this._grid.canCellBeSelected(B.row,B.cell)||(t.range.end=B,this._decorator.show(new Slick.Range(t.range.start.row,t.range.start.cell,B.row,B.cell)))}handleDragEnd(i,t){!this._dragging||(this._dragging=!1,i.stopImmediatePropagation(),this._decorator.hide(),this.onCellRangeSelected.notify({range:new Slick.Range(t.range.start.row,t.range.start.cell,t.range.end.row,t.range.end.cell)}))}handleDragInit(i){var t,u,g,C;if(this._activeCanvas=this._grid.getActiveCanvasNode(i),this._rowOffset=0,this._columnOffset=0,this._isBottomCanvas=this._activeCanvas.classList.contains("grid-canvas-bottom"),this._gridOptions.frozenRow>-1&&this._isBottomCanvas){const D=`${this.gridUidSelector} .grid-canvas-${this._gridOptions.frozenBottom?"bottom":"top"}`;this._rowOffset=null!==(u=null===(t=document.querySelector(D))||void 0===t?void 0:t.clientHeight)&&void 0!==u?u:0}this._isRightCanvas=this._activeCanvas.classList.contains("grid-canvas-right"),this._gridOptions.frozenColumn>-1&&this._isRightCanvas&&(this._columnOffset=null!==(C=null===(g=document.querySelector(`${this.gridUidSelector} .grid-canvas-left`))||void 0===g?void 0:g.clientWidth)&&void 0!==C?C:0),i.stopImmediatePropagation()}handleDragStart(i,t){var u,g,C,D;const B=this._grid.getCellFromEvent(i);if(!1!==this.onBeforeCellRangeSelected.notify(B)&&B&&this._grid.canCellBeSelected(B.row,B.cell)&&(this._dragging=!0,i.stopImmediatePropagation()),!this._dragging)return;this._grid.focus();let J=t.startX-(null!==(g=null===(u=_r(this._canvas))||void 0===u?void 0:u.left)&&void 0!==g?g:0);this._gridOptions.frozenColumn>=0&&this._isRightCanvas&&(J+=this._scrollLeft);let ie=t.startY-(null!==(D=null===(C=_r(this._canvas))||void 0===C?void 0:C.top)&&void 0!==D?D:0);this._gridOptions.frozenRow>=0&&this._isBottomCanvas&&(ie+=this._scrollTop);const le=this._grid.getCellFromPoint(J,ie);return t.range={start:le,end:{}},this._currentlySelectedRange=t.range,this._decorator.show(new Slick.Range(le.row,le.cell))}handleScroll(i,t){this._scrollTop=t.scrollTop,this._scrollLeft=t.scrollLeft}}class Q{constructor(i){this._canvas=null,this._ranges=[],this._defaults={selectActiveCell:!0},this.onSelectedRangesChanged=new Slick.Event,this.pluginName="CellSelectionModel",this._eventHandler=new Slick.EventHandler,void 0===i||void 0===i.cellRangeSelector?this._selector=new R({selectionCss:{border:"2px solid black"}}):this._selector=i.cellRangeSelector,this._addonOptions=i}get addonOptions(){return this._addonOptions}get canvas(){return this._canvas}get cellRangeSelector(){return this._selector}get eventHandler(){return this._eventHandler}init(i){this._grid=i,this._addonOptions=tn(tn({},this._defaults),this._addonOptions),this._eventHandler.subscribe(this._grid.onActiveCellChanged,this.handleActiveCellChange.bind(this)).subscribe(this._grid.onKeyDown,this.handleKeyDown.bind(this)).subscribe(this._selector.onBeforeCellRangeSelected,this.handleBeforeCellRangeSelected.bind(this)).subscribe(this._selector.onCellRangeSelected,this.handleCellRangeSelected.bind(this)),i.registerPlugin(this._selector),this._canvas=this._grid.getCanvasNode()}dispose(){var i,t;this._canvas=null,this._eventHandler.unsubscribeAll(),null===(i=this._grid)||void 0===i||i.unregisterPlugin(this._selector),null===(t=this._selector)||void 0===t||t.dispose()}getSelectedRanges(){return this._ranges}rangesAreEqual(i,t){let u=i.length!==t.length;if(!u)for(let g=0;g<i.length;g++)if(i[g].fromCell!==t[g].fromCell||i[g].fromRow!==t[g].fromRow||i[g].toCell!==t[g].toCell||i[g].toRow!==t[g].toRow){u=!0;break}return!u}removeInvalidRanges(i){const t=[];for(let u=0;u<i.length;u++){const g=i[u];this._grid.canCellBeSelected(g.fromRow,g.fromCell)&&this._grid.canCellBeSelected(g.toRow,g.toCell)&&t.push(g)}return t}setSelectedRanges(i,t="SlickCellSelectionModel.setSelectedRanges"){if(!(this._ranges&&0!==this._ranges.length||i&&0!==i.length))return;const u=!this.rangesAreEqual(this._ranges,i);if(this._ranges=this.removeInvalidRanges(i),u){const g=new Slick.EventData;Object.defineProperty(g,"detail",{writable:!0,configurable:!0,value:{caller:t}}),this.onSelectedRangesChanged.notify(this._ranges,g)}}handleActiveCellChange(i,t){var u,g;(null===(u=this._addonOptions)||void 0===u?void 0:u.selectActiveCell)&&null!==t.row&&null!==t.cell?this.setSelectedRanges([new Slick.Range(t.row,t.cell)]):(null===(g=this._addonOptions)||void 0===g?void 0:g.selectActiveCell)||this.setSelectedRanges([])}handleBeforeCellRangeSelected(i){if(this._grid.getEditorLock().isActive())return i.stopPropagation(),!1}handleCellRangeSelected(i,t){this._grid.setActiveCell(t.range.fromRow,t.range.fromCell,!1,!1,!0),this.setSelectedRanges([t.range])}handleKeyDown(i){let t,u;const g=this._grid.getActiveCell(),C=i.ctrlKey||i.metaKey;if(g&&i.shiftKey&&!C&&!i.altKey&&(i.which===He.LEFT||"ArrowLeft"===i.key||i.which===He.RIGHT||"ArrowRight"===i.key||i.which===He.UP||"ArrowUp"===i.key||i.which===He.DOWN||"ArrowDown"===i.key)&&(t=this.getSelectedRanges().slice(),t.length||t.push(new Slick.Range(g.row,g.cell)),u=t.pop(),"function"==typeof(null==u?void 0:u.contains))){u.contains(g.row,g.cell)||(u=new Slick.Range(g.row,g.cell));let D=u.toRow-u.fromRow,B=u.toCell-u.fromCell;const J=g.row===u.fromRow?1:-1,ie=g.cell===u.fromCell?1:-1;i.which===He.LEFT||"ArrowLeft"===i.key?B-=ie:i.which===He.RIGHT||"ArrowRight"===i.key?B+=ie:i.which===He.UP||"ArrowUp"===i.key?D-=J:(i.which===He.DOWN||"ArrowDown"===i.key)&&(D+=J);const le=new Slick.Range(g.row,g.cell,g.row+J*D,g.cell+ie*B);if(this.removeInvalidRanges([le]).length){t.push(le);const De=J>0?le.toRow:le.fromRow,Ne=ie>0?le.toCell:le.fromCell;this._grid.scrollRowIntoView(De),this._grid.scrollCellIntoView(De,Ne,!1)}else t.push(u);this.setSelectedRanges(t),i.preventDefault(),i.stopPropagation()}}}class ue{constructor(i){this._ranges=[],this._defaults={selectActiveRow:!0},this.pluginName="RowSelectionModel",this.onSelectedRangesChanged=new Slick.Event,this._eventHandler=new Slick.EventHandler,this._addonOptions=tn(tn({},this._defaults),i)}get addonOptions(){return this._addonOptions}get eventHandler(){return this._eventHandler}init(i){this._grid=i,this._addonOptions=tn(tn({},this._defaults),this._addonOptions),this._eventHandler.subscribe(this._grid.onActiveCellChanged,this.handleActiveCellChange.bind(this)).subscribe(this._grid.onClick,this.handleClick.bind(this)).subscribe(this._grid.onKeyDown,this.handleKeyDown.bind(this))}dispose(){this._eventHandler.unsubscribeAll()}getSelectedRanges(){return this._ranges}getSelectedRows(){return this.rangesToRows(this._ranges)}setSelectedRows(i){this.setSelectedRanges(this.rowsToRanges(i),"SlickRowSelectionModel.setSelectedRows")}setSelectedRanges(i,t="SlickRowSelectionModel.setSelectedRanges"){if(!(this._ranges&&0!==this._ranges.length||i&&0!==i.length))return;this._ranges=i;const u=new Slick.EventData;Object.defineProperty(u,"detail",{writable:!0,configurable:!0,value:{caller:t}}),this.onSelectedRangesChanged.notify(this._ranges,u)}getRowsRange(i,t){let u;const g=[];for(u=i;u<=t;u++)g.push(u);for(u=t;u<i;u++)g.push(u);return g}handleActiveCellChange(i,t){this._addonOptions.selectActiveRow&&null!==t.row&&this.setSelectedRanges([new Slick.Range(t.row,0,t.row,this._grid.getColumns().length-1)])}handleClick(i){const t=this._grid.getCellFromEvent(i);if(!(t&&this._grid.canCellBeActive(t.row,t.cell)&&this._grid.getOptions().multiSelect&&(i.ctrlKey||i.shiftKey||i.metaKey)))return!1;let u=this.rangesToRows(this._ranges);const g=u.indexOf(t.row);if(-1===g&&(i.ctrlKey||i.metaKey))u.push(t.row),this._grid.setActiveCell(t.row,t.cell);else if(-1!==g&&(i.ctrlKey||i.metaKey))u=u.filter(D=>D!==t.row),this._grid.setActiveCell(t.row,t.cell);else if(u.length&&i.shiftKey){const D=u.pop(),B=Math.min(t.row,D),J=Math.max(t.row,D);u=[];for(let ie=B;ie<=J;ie++)ie!==D&&u.push(ie);u.push(D),this._grid.setActiveCell(t.row,t.cell)}const C=this.rowsToRanges(u);return this.setSelectedRanges(C),i.stopImmediatePropagation(),!0}handleKeyDown(i){const t=this._grid.getActiveCell();if(this._grid.getOptions().multiSelect&&t&&i.shiftKey&&!i.ctrlKey&&!i.altKey&&!i.metaKey&&(i.which===He.UP||"ArrowUp"===i.key||i.which===He.DOWN||"ArrowDown"===i.key)){let u=this.getSelectedRows();u.sort((B,J)=>B-J),u.length||(u=[t.row]);let g,C=u[0],D=u[u.length-1];if(g=i.which===He.DOWN||"ArrowDown"===i.key?t.row<D||C===D?++D:++C:t.row<D?--D:--C,g>=0&&g<this._grid.getDataLength()){this._grid.scrollRowIntoView(g);const B=this.rowsToRanges(this.getRowsRange(C,D));this.setSelectedRanges(B)}i.preventDefault(),i.stopPropagation()}}rangesToRows(i){const t=[];for(let u=0;u<i.length;u++)for(let g=i[u].fromRow;g<=i[u].toRow;g++)t.push(g);return t}rowsToRanges(i){const t=[],u=this._grid.getColumns().length-1;for(const g of i)t.push(new Slick.Range(g,0,g,u));return t}}class ve{constructor(i){this.pluginName="CheckboxSelectColumn",this._defaults={columnId:"_checkbox_selector",cssClass:null,field:"sel",hideSelectAllCheckbox:!1,toolTip:"Select/Deselect All",width:30,hideInColumnTitleRow:!1,hideInFilterHeaderRow:!0},this._addonOptions=this._defaults,this._checkboxColumnCellIndex=null,this._isSelectAllChecked=!1,this._selectedRowsLookup={},this._selectAll_UID=this.createUID(),this._bindEventService=new Oi,this._eventHandler=new Slick.EventHandler,this._addonOptions=tn(tn({},this._defaults),i)}get addonOptions(){return this._addonOptions}get headerRowNode(){return this._headerRowNode}get gridOptions(){var i,t,u;return null!==(u=null===(t=null===(i=this._grid)||void 0===i?void 0:i.getOptions)||void 0===t?void 0:t.call(i))&&void 0!==u?u:{}}get selectAllUid(){return this._selectAll_UID}set selectedRowsLookup(i){this._selectedRowsLookup=i}init(i){this._grid=i,this._eventHandler.subscribe(i.onSelectedRowsChanged,this.handleSelectedRowsChanged.bind(this)).subscribe(i.onClick,this.handleClick.bind(this)).subscribe(i.onKeyDown,this.handleKeyDown.bind(this)),this._addonOptions.hideInFilterHeaderRow||this.addCheckboxToFilterHeaderRow(i),this._addonOptions.hideInColumnTitleRow||this._eventHandler.subscribe(this._grid.onHeaderClick,this.handleHeaderClick.bind(this)),(!this._rowSelectionModel||!this._grid.getSelectionModel())&&(this._rowSelectionModel=new ue(this.gridOptions.rowSelectionOptions),this._grid.setSelectionModel(this._rowSelectionModel)),this.gridOptions.preselectedRows&&this._rowSelectionModel&&this._grid.getSelectionModel()&&setTimeout(()=>this.selectRows(this.gridOptions.preselectedRows||[])),"function"==typeof this._addonOptions.selectableOverride&&this.selectableOverride(this._addonOptions.selectableOverride)}dispose(){this._bindEventService.unbindAll(),this._eventHandler.unsubscribeAll()}create(i,t){var u,g;if(this._addonOptions=tn(tn({},this._defaults),t.checkboxSelector),Array.isArray(i)&&t){const C=this.getColumnDefinition(),D=null!==(g=null===(u=null==t?void 0:t.checkboxSelector)||void 0===u?void 0:u.columnIndexPosition)&&void 0!==g?g:0;D>0?i.splice(D,0,C):i.unshift(C)}return this}getOptions(){return this._addonOptions}setOptions(i){var t;if(this._addonOptions=tn(tn({},this._addonOptions),i),this._addonOptions.hideSelectAllCheckbox)this.hideSelectAllFromColumnHeaderTitleRow(),this.hideSelectAllFromColumnHeaderFilterRow();else if(this._addonOptions.hideInColumnTitleRow?this.hideSelectAllFromColumnHeaderTitleRow():(this.renderSelectAllCheckbox(this._isSelectAllChecked),this._eventHandler.subscribe(this._grid.onHeaderClick,this.handleHeaderClick.bind(this))),this._addonOptions.hideInFilterHeaderRow)this.hideSelectAllFromColumnHeaderFilterRow();else{const u=null===(t=this.headerRowNode)||void 0===t?void 0:t.querySelector("#filter-checkbox-selectall-container");if(u){u.style.display="flex";const g=u.querySelector('input[type="checkbox"]');g&&(g.checked=this._isSelectAllChecked)}}}deSelectRows(i){const t=[];for(const u of i)this._selectedRowsLookup[u]&&(t[t.length]=u);this._grid.setSelectedRows(this._grid.getSelectedRows().filter(u=>t.indexOf(u)<0),"SlickCheckboxSelectColumn.deSelectRows")}selectRows(i){var t;const u=[];for(const C of i)this._selectedRowsLookup[C]&&(u[u.length]=C);const g=null===(t=this._grid.getSelectedRows())||void 0===t?void 0:t.concat(u);this._grid.setSelectedRows(g)}getColumnDefinition(){return{id:this._addonOptions.columnId,name:this._addonOptions.hideSelectAllCheckbox||this._addonOptions.hideInColumnTitleRow?"":`<input id="header-selector${this._selectAll_UID}" type="checkbox"><label for="header-selector${this._selectAll_UID}"></label>`,toolTip:this._addonOptions.hideSelectAllCheckbox||this._addonOptions.hideInColumnTitleRow?"":this._addonOptions.toolTip,field:this._addonOptions.field||"sel",cssClass:this._addonOptions.cssClass,excludeFromExport:!0,excludeFromColumnPicker:!0,excludeFromGridMenu:!0,excludeFromQuery:!0,excludeFromHeaderMenu:!0,hideSelectAllCheckbox:this._addonOptions.hideSelectAllCheckbox,resizable:!1,sortable:!1,width:this._addonOptions.width||30,formatter:this.checkboxSelectionFormatter.bind(this)}}hideSelectAllFromColumnHeaderTitleRow(){this._grid.updateColumnHeader(this._addonOptions.columnId||"","","")}hideSelectAllFromColumnHeaderFilterRow(){var i;const t=null===(i=this.headerRowNode)||void 0===i?void 0:i.querySelector("#filter-checkbox-selectall-container");t&&(t.style.display="none")}toggleRowSelection(i){this.toggleRowSelectionWithEvent(null,i)}toggleRowSelectionWithEvent(i,t){const u=this._grid.getDataItem(t);if(!this.checkSelectableOverride(t,u,this._grid))return;const g=this._grid.getSelectedRows();this._addonOptions.onRowToggleStart&&this._addonOptions.onRowToggleStart(i,{row:t,previousSelectedRows:g});const C=this._selectedRowsLookup[t]?this._grid.getSelectedRows().filter(D=>D!==t):this._grid.getSelectedRows().concat(t);this._grid.setSelectedRows(C,"click.toggle"),this._grid.setActiveCell(t,this.getCheckboxColumnCellIndex()),this._addonOptions.onRowToggleEnd&&this._addonOptions.onRowToggleEnd(i,{row:t,previousSelectedRows:g})}selectableOverride(i){this._selectableOverride=i}addCheckboxToFilterHeaderRow(i){this._eventHandler.subscribe(i.onHeaderRowCellRendered,(t,u)=>{if(u.column.field===(this.addonOptions.field||"sel")){di(u.node);const g=Wt("span",{id:"filter-checkbox-selectall-container"});g.appendChild(Wt("input",{type:"checkbox",id:`header-filter-selector${this._selectAll_UID}`})),g.appendChild(Wt("label",{htmlFor:`header-filter-selector${this._selectAll_UID}`})),u.node.appendChild(g),this._headerRowNode=u.node,this._bindEventService.bind(g,"click",C=>this.handleHeaderClick(C,u))}})}checkboxSelectionFormatter(i,t,u,g,C,D){if(C&&this.checkSelectableOverride(i,C,D)){const B=this.createUID()+i;return`<input id="selector${B}" type="checkbox" ${this._selectedRowsLookup[i]?'checked="checked"':""}><label for="selector${B}"></label>`}return null}checkSelectableOverride(i,t,u){return"function"!=typeof this._selectableOverride||this._selectableOverride(i,t,u)}createUID(){return Math.round(1e7*Math.random())}getCheckboxColumnCellIndex(){if(null===this._checkboxColumnCellIndex){this._checkboxColumnCellIndex=0;const i=this._grid.getColumns();for(let t=0;t<i.length;t++)i[t].id===this._addonOptions.columnId&&(this._checkboxColumnCellIndex=t)}return this._checkboxColumnCellIndex}handleClick(i,t){if(this._grid.getColumns()[t.cell].id===this._addonOptions.columnId&&"checkbox"===i.target.type){if(this._grid.getEditorLock().isActive()&&!this._grid.getEditorLock().commitCurrentEdit())return i.preventDefault(),void i.stopImmediatePropagation();this.toggleRowSelectionWithEvent(i,t.row),i.stopPropagation(),i.stopImmediatePropagation()}}handleHeaderClick(i,t){if(t.column.id===this._addonOptions.columnId&&"checkbox"===i.target.type){if(this._grid.getEditorLock().isActive()&&!this._grid.getEditorLock().commitCurrentEdit())return i.preventDefault(),void i.stopImmediatePropagation();const u=i.target.checked,g=u?"click.selectAll":"click.unselectAll",C=this._grid.getSelectedRows();this._addonOptions.onSelectAllToggleStart&&this._addonOptions.onSelectAllToggleStart(i,{previousSelectedRows:C,caller:g});let D=[];if(u){const B=[];for(let J=0;J<this._grid.getDataLength();J++){const ie=this._grid.getDataItem(J);!ie.__group&&!ie.__groupTotals&&this.checkSelectableOverride(J,ie,this._grid)&&B.push(J)}D=B}this._grid.setSelectedRows(D,g),this._addonOptions.onSelectAllToggleEnd&&this._addonOptions.onSelectAllToggleEnd(i,{rows:D,previousSelectedRows:C,caller:g}),i.stopPropagation(),i.stopImmediatePropagation()}}handleKeyDown(i,t){(i.which===He.SPACE||" "===i.key)&&this._grid.getColumns()[t.cell].id===this._addonOptions.columnId&&((!this._grid.getEditorLock().isActive()||this._grid.getEditorLock().commitCurrentEdit())&&this.toggleRowSelectionWithEvent(i,t.row),i.preventDefault(),i.stopImmediatePropagation())}handleSelectedRowsChanged(){var i,t;const u=this._grid.getSelectedRows(),g={};let C=0,D=0,B=0,J=0;if("function"==typeof this._selectableOverride)for(B=0;B<this._grid.getDataLength();B++){const le=this._grid.getDataItem(B);this.checkSelectableOverride(D,le,this._grid)||J++}const ie=[];for(D=0;D<u.length;D++){C=u[D];const le=this._grid.getDataItem(C);this.checkSelectableOverride(D,le,this._grid)?(g[C]=!0,g[C]!==this._selectedRowsLookup[C]&&(this._grid.invalidateRow(C),delete this._selectedRowsLookup[C])):ie.push(C)}for(const le in this._selectedRowsLookup)void 0!==le&&this._grid.invalidateRow(+le);if(this._selectedRowsLookup=g,this._grid.render(),this._isSelectAllChecked=(null!==(i=null==u?void 0:u.length)&&void 0!==i?i:0)+J>=this._grid.getDataLength(),!this._addonOptions.hideInColumnTitleRow&&!this._addonOptions.hideSelectAllCheckbox&&this.renderSelectAllCheckbox(this._isSelectAllChecked),!this._addonOptions.hideInFilterHeaderRow){const le=null===(t=this.headerRowNode)||void 0===t?void 0:t.querySelector(`#header-filter-selector${this._selectAll_UID}`);le&&(le.checked=this._isSelectAllChecked)}if(ie.length>0){for(const le of ie){const De=u.indexOf(le);u.splice(De,1)}this._grid.setSelectedRows(u,"click.toggle")}}renderSelectAllCheckbox(i){const t=i?' checked="checked"':"";this._grid.updateColumnHeader(this._addonOptions.columnId||"",`<input id="header-selector${this._selectAll_UID}" type="checkbox"${t}><label for="header-selector${this._selectAll_UID}"></label>`,this._addonOptions.toolTip)}}class Ve extends to{constructor(i,t,u,g,C){var D,B,J,ie;super(i,u,g),this.extensionUtility=i,this.filterService=t,this.pubSubService=u,this.sharedService=g,this.sortService=C,this._areVisibleColumnDifferent=!1,this._columns=[],this._columnCheckboxes=[],this._gridMenuOptions=null,this._headerElm=null,this._isMenuOpen=!1,this.onAfterMenuShow=new Slick.Event,this.onBeforeMenuShow=new Slick.Event,this.onMenuClose=new Slick.Event,this.onCommand=new Slick.Event,this.onColumnsChanged=new Slick.Event,this._defaults={dropSide:"left",showButton:!0,hideForceFitButton:!1,hideSyncResizeButton:!1,forceFitTitle:"Force fit columns",marginBottom:15,menuWidth:18,minHeight:250,contentMinWidth:0,resizeOnShowHeaderRow:!1,syncResizeTitle:"Synchronous resize",headerColumnValueExtractor:le=>le.name},this._menuCssPrefix="slick-menu",this._menuPluginCssPrefix="slick-grid-menu",this._camelPluginName="gridMenu",this._columns=null!==(D=this.sharedService.allColumns)&&void 0!==D?D:[],this._gridUid=null!==(ie=null===(J=null===(B=this.grid)||void 0===B?void 0:B.getUID)||void 0===J?void 0:J.call(B))&&void 0!==ie?ie:"",this.initEventHandlers(),this.init()}get addonOptions(){return this._gridMenuOptions||{}}get columns(){return this._columns}set columns(i){this._columns=i}get gridOptions(){return this.grid.getOptions()||{}}initEventHandlers(){this._eventHandler.subscribe(this.grid.onColumnsReordered,de.bind(this)),this._eventHandler.subscribe(this.grid.onBeforeDestroy,this.dispose.bind(this)),this._eventHandler.subscribe(this.grid.onSetOptions,(i,t)=>{if(t&&t.optionsBefore&&t.optionsAfter){const u=t.optionsBefore.frozenColumn>=0&&-1===t.optionsAfter.frozenColumn,g=-1===t.optionsBefore.frozenColumn&&t.optionsAfter.frozenColumn>=0;(u||g)&&this.recreateGridMenu()}})}init(){var i;this._gridUid=null!==(i=this.grid.getUID())&&void 0!==i?i:"",this._userOriginalGridMenu=tn({},this.sharedService.gridOptions.gridMenu),this._gridMenuOptions=tn(tn(tn({},this._defaults),this.getDefaultGridMenuOptions()),this.sharedService.gridOptions.gridMenu),this.sharedService.gridOptions.gridMenu=this._gridMenuOptions;const t=this._userOriginalGridMenu.commandItems,u=this._userOriginalGridMenu&&Array.isArray(t)?t:[];this._gridMenuOptions.commandItems=[...u,...this.addGridMenuCustomCommands(u)],this.extensionUtility.translateMenuItemsFromTitleKey(this._gridMenuOptions.commandItems||[]),this.extensionUtility.sortItems(this._gridMenuOptions.commandItems,"positionOrder"),this._gridMenuOptions.commandItems=this._gridMenuOptions.commandItems,this.createGridMenu()}dispose(){this.deleteMenu(),super.dispose()}deleteMenu(){var i,t,u;this._bindEventService.unbindAll();const g=document.querySelector(`div.slick-grid-menu.${this._gridUid}`);g&&(g.style.display="none"),this._headerElm&&(this._headerElm.style.width="100%"),null===(i=this._gridMenuButtonElm)||void 0===i||i.remove(),null===(t=this._menuElm)||void 0===t||t.remove(),null===(u=this._commandMenuElm)||void 0===u||u.remove()}createColumnPickerContainer(){this._menuElm&&(Xe.call(this,this._menuElm),this._listElm=Wt("div",{className:"slick-column-picker-list"}),this._bindEventService.bind(this._menuElm,"click",Bt.bind(this)))}createGridMenu(){var i,t,u,g,C,D;this._gridUid=null!==(t=null!==(i=this._gridUid)&&void 0!==i?i:this.grid.getUID())&&void 0!==t?t:"";const B=this._gridUid?`.${this._gridUid}`:"",J=(null===(u=this._gridMenuOptions)||void 0===u?void 0:u.menuWidth)||this._defaults.menuWidth,ie=this.gridOptions.hasOwnProperty("frozenColumn")&&this.gridOptions.frozenColumn>=0?"right":"left";if(this._headerElm=document.querySelector(`${B} .slick-header-${ie}`),this._headerElm&&this._gridMenuOptions){if(this._headerElm.style.width=`calc(100% - ${J}px)`,(null!==(g=this._gridMenuOptions.resizeOnShowHeaderRow)&&void 0!==g?g:this._defaults.resizeOnShowHeaderRow)&&this.gridOptions.showHeaderRow){const Ne=document.querySelector(`${B} .slick-headerrow`);Ne&&(Ne.style.width=`calc(100% - ${J}px)`)}(null!==(C=this._gridMenuOptions.showButton)&&void 0!==C?C:this._defaults.showButton)&&(this._gridMenuButtonElm=Wt("button",{className:"slick-grid-menu-button"}),(null===(D=this._gridMenuOptions)||void 0===D?void 0:D.iconCssClass)&&this._gridMenuButtonElm.classList.add(...this._gridMenuOptions.iconCssClass.split(" ")),this._headerElm.parentElement.insertBefore(this._gridMenuButtonElm,this._headerElm.parentElement.firstChild),this._bindEventService.bind(this._gridMenuButtonElm,"click",this.showGridMenu.bind(this))),this.sharedService.gridOptions.gridMenu=tn(tn({},this._defaults),this._gridMenuOptions),this.translateTitleLabels(this._gridMenuOptions),this.translateTitleLabels(this.sharedService.gridOptions.gridMenu),this._menuElm=document.createElement("div"),this._menuElm.classList.add("slick-grid-menu",this._gridUid),this._menuElm.style.display="none",this._commandMenuElm=Wt("div",{className:"slick-menu-command-list"}),this._menuElm.appendChild(this._commandMenuElm),this.recreateCommandList(this._gridMenuOptions,{grid:this.grid,menu:this._menuElm,columns:this.columns,allColumns:this.getAllColumns(),visibleColumns:this.getVisibleColumns()}),this.createColumnPickerContainer(),document.body.appendChild(this._menuElm),this._bindEventService.bind(document.body,"mousedown",this.handleBodyMouseDown.bind(this)),this._bindEventService.bind(document.body,"beforeunload",this.dispose.bind(this))}}getAllColumns(){return this._columns}getVisibleColumns(){return this.grid.getColumns()}hideMenu(i){var t,u,g,C;if("block"===(null===(u=null===(t=this._menuElm)||void 0===t?void 0:t.style)||void 0===u?void 0:u.display)){const D={grid:this.grid,menu:this._menuElm,allColumns:this.columns,visibleColumns:this.getVisibleColumns()};if(this.pubSubService.publish("onGridMenuMenuClose",D),"function"==typeof(null===(g=this._gridMenuOptions)||void 0===g?void 0:g.onMenuClose)&&!1===this._gridMenuOptions.onMenuClose(i,D)||!1===this.onMenuClose.notify(D,null,this))return;if(this._menuElm.style.display="none",this._menuElm.setAttribute("aria-expanded","false"),this._isMenuOpen=!1,"function"==typeof(null===(C=this.grid)||void 0===C?void 0:C.autosizeColumns)){const B=this.grid.getUID()||"";this._areVisibleColumnDifferent&&B&&null!==document.querySelector(`.${B}`)&&(this.gridOptions.enableAutoSizeColumns&&this.grid.autosizeColumns(),this._areVisibleColumnDifferent=!1)}}}recreateGridMenu(){this.deleteMenu(),this.init()}repositionMenu(i,t,u=!0){var g,C,D,B,J,ie,le,De;if(this._menuElm){let Ne="BUTTON"===i.target.nodeName?i.target:i.target.querySelector("button");Ne||(Ne=i.target.parentElement),this._menuElm.style.display="block",this._menuElm.style.opacity="0";const Ze=_r(Ne),ht=getComputedStyle(Ne),Ct=parseInt(null!==(g=null==ht?void 0:ht.width)&&void 0!==g?g:null===(C=this._defaults)||void 0===C?void 0:C.menuWidth,10),Kt=null!==(B=null===(D=this._menuElm)||void 0===D?void 0:D.offsetWidth)&&void 0!==B?B:0,Xt=null!==(ie=null!==(J=null==t?void 0:t.contentMinWidth)&&void 0!==J?J:this._defaults.contentMinWidth)&&void 0!==ie?ie:0,dn=(Xt>Kt?Xt:Kt)||0,yi=null!==(le=null==Ze?void 0:Ze.top)&&void 0!==le?le:0,ni=null!==(De=null==Ze?void 0:Ze.right)&&void 0!==De?De:0,Jn=(void 0!==(null==t?void 0:t.marginBottom)?t.marginBottom:this._defaults.marginBottom)||0,Ti="right"===(null==t?void 0:t.dropSide)?ni-Ct:ni-dn;this._menuElm.style.top=`${yi+Ne.offsetHeight}px`,this._menuElm.style.left=`${Ti}px`,"left"===t.dropSide?(this._menuElm.classList.remove("dropright"),this._menuElm.classList.add("dropleft")):(this._menuElm.classList.remove("dropleft"),this._menuElm.classList.add("dropright")),this._menuElm.appendChild(this._listElm),Xt>0&&(this._menuElm.style.minWidth=`${Xt}px`),this._menuElm.style.minHeight=sr(t.minHeight,""),void 0!==(null==t?void 0:t.height)?this._menuElm.style.height=sr(t.height,""):this._menuElm.style.maxHeight=sr(t.maxHeight,window.innerHeight-i.clientY-Jn+"px"),this._menuElm.style.display="block",u&&(this._menuElm.style.opacity="1"),this._menuElm.setAttribute("aria-expanded","true"),this._menuElm.appendChild(this._listElm),this._isMenuOpen=!0}}showGridMenu(i,t){if(i.preventDefault(),di(this._listElm),di(this._commandMenuElm),this._gridMenuOptions){const u={grid:this.grid,menu:this._menuElm,columns:this.columns,allColumns:this.getAllColumns(),visibleColumns:this.getVisibleColumns()},g=tn(tn({},this._gridMenuOptions),t);if(this.recreateCommandList(g,u),de.call(this),this._columnCheckboxes=[],g&&!this.extensionUtility.runOverrideFunctionWhenExists(g.menuUsabilityOverride,u)||"function"==typeof i.stopPropagation&&(this.pubSubService.publish("onGridMenuBeforeMenuShow",u),"function"==typeof(null==g?void 0:g.onBeforeMenuShow)&&!1===g.onBeforeMenuShow(i,u)||this.onBeforeMenuShow.notify(u,null,this)))return;Lt.call(this,g),this.repositionMenu(i,g,!1),this.repositionMenu(i,g,!0),this.pubSubService.publish("onGridMenuAfterMenuShow",u),"function"==typeof(null==g?void 0:g.onAfterMenuShow)&&g.onAfterMenuShow(i,u),this.onAfterMenuShow.notify(u,null,this)}}updateAllTitles(i){var t,u,g,C;(null===(t=this._commandTitleElm)||void 0===t?void 0:t.textContent)&&i.commandTitle&&(this._commandTitleElm.textContent=(null===(g=null===(u=this._gridMenuOptions)||void 0===u?void 0:u.commandItems)||void 0===g?void 0:g.length)?i.commandTitle:"",this._gridMenuOptions.commandTitle=this._commandTitleElm.textContent),(null===(C=this._columnTitleElm)||void 0===C?void 0:C.textContent)&&i.columnTitle&&(this._columnTitleElm.textContent=i.columnTitle,this._gridMenuOptions.columnTitle=i.columnTitle)}translateGridMenu(){var i;if(this.sharedService.gridOptions.gridMenu){this.sharedService.gridOptions.gridMenu.commandItems=[],this.sharedService.gridOptions.gridMenu.commandTitle="",this.sharedService.gridOptions.gridMenu.columnTitle="",this.sharedService.gridOptions.gridMenu.forceFitTitle="",this.sharedService.gridOptions.gridMenu.syncResizeTitle="";const t=this._userOriginalGridMenu&&Array.isArray(this._userOriginalGridMenu.commandItems)?this._userOriginalGridMenu.commandItems:[];this.sharedService.gridOptions.gridMenu.commandItems=[...t,...this.addGridMenuCustomCommands(t)],this.extensionUtility.translateMenuItemsFromTitleKey((null===(i=this._gridMenuOptions)||void 0===i?void 0:i.commandItems)||[]),this.extensionUtility.sortItems(this.sharedService.gridOptions.gridMenu.commandItems,"positionOrder"),this.translateTitleLabels(this.sharedService.gridOptions.gridMenu),this.translateTitleLabels(this._gridMenuOptions),this.extensionUtility.translateItems(this._columns,"nameKey","name"),this.updateAllTitles(this.sharedService.gridOptions.gridMenu)}}translateTitleLabels(i){i&&(i.commandTitle=this.extensionUtility.getPickerTitleOutputString("commandTitle","gridMenu"),i.columnTitle=this.extensionUtility.getPickerTitleOutputString("columnTitle","gridMenu"),i.forceFitTitle=this.extensionUtility.getPickerTitleOutputString("forceFitTitle","gridMenu"),i.syncResizeTitle=this.extensionUtility.getPickerTitleOutputString("syncResizeTitle","gridMenu"))}addGridMenuCustomCommands(i){var t,u,g,C,D,B,J,ie,le,De,Ne,Ze,ht,Ct,Kt;const Xt=this.gridOptions.backendServiceApi||null,dn=[],ni=pe(this.gridOptions),Jn=null===(t=this._gridMenuOptions)||void 0===t?void 0:t.commandLabels;if(this.gridOptions&&this._gridMenuOptions&&!this._gridMenuOptions.hideClearFrozenColumnsCommand){const ri="clear-pinning";i.some(Xn=>"divider"!==Xn&&Xn.hasOwnProperty("command")&&Xn.command===ri)||dn.push({iconCssClass:this._gridMenuOptions.iconClearFrozenColumnsCommand||"fa fa-times",titleKey:`${ni}${null!==(u=null==Jn?void 0:Jn.clearFrozenColumnsCommandKey)&&void 0!==u?u:"CLEAR_PINNING"}`,disabled:!1,command:ri,positionOrder:52})}if(this.gridOptions&&this.gridOptions.enableFiltering&&!this.sharedService.hideHeaderRowAfterPageLoad){if(this.gridOptions&&this._gridMenuOptions&&!this._gridMenuOptions.hideClearAllFiltersCommand){const ri="clear-filter";i.some(Xn=>"divider"!==Xn&&Xn.hasOwnProperty("command")&&Xn.command===ri)||dn.push({iconCssClass:this._gridMenuOptions.iconClearAllFiltersCommand||"fa fa-filter text-danger",titleKey:`${ni}${null!==(g=null==Jn?void 0:Jn.clearAllFiltersCommandKey)&&void 0!==g?g:"CLEAR_ALL_FILTERS"}`,disabled:!1,command:ri,positionOrder:50})}if(this.gridOptions&&this._gridMenuOptions&&!this._gridMenuOptions.hideToggleFilterCommand){const ri="toggle-filter";i.some(Xn=>"divider"!==Xn&&Xn.hasOwnProperty("command")&&Xn.command===ri)||dn.push({iconCssClass:this._gridMenuOptions.iconToggleFilterCommand||"fa fa-random",titleKey:`${ni}${null!==(C=null==Jn?void 0:Jn.toggleFilterCommandKey)&&void 0!==C?C:"TOGGLE_FILTER_ROW"}`,disabled:!1,command:ri,positionOrder:53})}if(Xt&&this.gridOptions&&this._gridMenuOptions&&!this._gridMenuOptions.hideRefreshDatasetCommand){const ri="refresh-dataset";i.some(Xn=>"divider"!==Xn&&Xn.hasOwnProperty("command")&&Xn.command===ri)||dn.push({iconCssClass:this._gridMenuOptions.iconRefreshDatasetCommand||"fa fa-refresh",titleKey:`${ni}${null!==(D=null==Jn?void 0:Jn.refreshDatasetCommandKey)&&void 0!==D?D:"REFRESH_DATASET"}`,disabled:!1,command:ri,positionOrder:57})}}if(this.gridOptions.showPreHeaderPanel&&this.gridOptions&&this._gridMenuOptions&&!this._gridMenuOptions.hideTogglePreHeaderCommand){const ri="toggle-preheader";i.some(Xn=>"divider"!==Xn&&Xn.hasOwnProperty("command")&&Xn.command===ri)||dn.push({iconCssClass:this._gridMenuOptions.iconTogglePreHeaderCommand||"fa fa-random",titleKey:`${ni}${null!==(B=null==Jn?void 0:Jn.togglePreHeaderCommandKey)&&void 0!==B?B:"TOGGLE_PRE_HEADER_ROW"}`,disabled:!1,command:ri,positionOrder:53})}if(this.gridOptions.enableSorting&&this.gridOptions&&this._gridMenuOptions&&!this._gridMenuOptions.hideClearAllSortingCommand){const ri="clear-sorting";i.some(Xn=>"divider"!==Xn&&Xn.hasOwnProperty("command")&&Xn.command===ri)||dn.push({iconCssClass:this._gridMenuOptions.iconClearAllSortingCommand||"fa fa-unsorted text-danger",titleKey:`${ni}${null!==(J=null==Jn?void 0:Jn.clearAllSortingCommandKey)&&void 0!==J?J:"CLEAR_ALL_SORTING"}`,disabled:!1,command:ri,positionOrder:51})}if(((null===(ie=this.gridOptions)||void 0===ie?void 0:ie.enableExport)||(null===(le=this.gridOptions)||void 0===le?void 0:le.enableTextExport))&&this._gridMenuOptions&&!this._gridMenuOptions.hideExportCsvCommand){const ri="export-csv";i.some(Xn=>"divider"!==Xn&&Xn.hasOwnProperty("command")&&Xn.command===ri)||dn.push({iconCssClass:this._gridMenuOptions.iconExportCsvCommand||"fa fa-download",titleKey:`${ni}${null!==(De=null==Jn?void 0:Jn.exportCsvCommandKey)&&void 0!==De?De:"EXPORT_TO_CSV"}`,disabled:!1,command:ri,positionOrder:54})}if(this.gridOptions&&this.gridOptions.enableExcelExport&&this._gridMenuOptions&&!this._gridMenuOptions.hideExportExcelCommand){const ri="export-excel";i.some(Xn=>"divider"!==Xn&&Xn.hasOwnProperty("command")&&Xn.command===ri)||dn.push({iconCssClass:this._gridMenuOptions.iconExportExcelCommand||"fa fa-file-excel-o text-success",titleKey:`${ni}${null!==(Ne=null==Jn?void 0:Jn.exportExcelCommandKey)&&void 0!==Ne?Ne:"EXPORT_TO_EXCEL"}`,disabled:!1,command:ri,positionOrder:55})}if(((null===(Ze=this.gridOptions)||void 0===Ze?void 0:Ze.enableExport)||(null===(ht=this.gridOptions)||void 0===ht?void 0:ht.enableTextExport))&&this._gridMenuOptions&&!this._gridMenuOptions.hideExportTextDelimitedCommand){const ri="export-text-delimited";i.some(Xn=>"divider"!==Xn&&Xn.hasOwnProperty("command")&&Xn.command===ri)||dn.push({iconCssClass:this._gridMenuOptions.iconExportTextDelimitedCommand||"fa fa-download",titleKey:`${ni}${null!==(Ct=null==Jn?void 0:Jn.exportTextDelimitedCommandKey)&&void 0!==Ct?Ct:"EXPORT_TO_TAB_DELIMITED"}`,disabled:!1,command:ri,positionOrder:56})}const Ti=(null===(Kt=this._gridMenuOptions)||void 0===Kt?void 0:Kt.commandItems)||[];return this.gridOptions&&this._gridMenuOptions&&(Array.isArray(dn)&&dn.length>0||Array.isArray(Ti)&&Ti.length>0)&&(this._gridMenuOptions.commandTitle=this._gridMenuOptions.commandTitle||this.extensionUtility.getPickerTitleOutputString("commandTitle","gridMenu")),dn}executeGridMenuInternalCustomCommands(i,t){var u,g,C,D,B;const J=(null===(u=this.sharedService)||void 0===u?void 0:u.externalRegisteredResources)||[];if(null==t?void 0:t.command)switch(t.command){case"clear-pinning":const ie=[...this.sharedService.visibleColumns],le={frozenColumn:-1,frozenRow:-1,frozenBottom:!1,enableMouseWheelScrollHandler:!1};this.grid.setOptions(le),this.sharedService.gridOptions.frozenColumn=le.frozenColumn,this.sharedService.gridOptions.frozenRow=le.frozenRow,this.sharedService.gridOptions.frozenBottom=le.frozenBottom,this.sharedService.gridOptions.enableMouseWheelScrollHandler=le.enableMouseWheelScrollHandler,Array.isArray(ie)&&this.grid.setColumns(ie),this.gridOptions.enableAutoSizeColumns&&this.grid.autosizeColumns(),this.pubSubService.publish("onGridMenuClearAllPinning");break;case"clear-filter":this.filterService.clearFilters(),this.sharedService.dataView.refresh(),this.pubSubService.publish("onGridMenuClearAllFilters");break;case"clear-sorting":this.sortService.clearSorting(),this.sharedService.dataView.refresh(),this.pubSubService.publish("onGridMenuClearAllSorting");break;case"export-csv":const Ne=J.find(Xt=>"TextExportService"===Xt.className);(null==Ne?void 0:Ne.exportToFile)?Ne.exportToFile({delimiter:Te.comma,format:Ie.csv}):console.error("[Slickgrid-Universal] You must register the TextExportService to properly use Export to File in the Grid Menu. Example:: this.gridOptions = { enableTextExport: true, registerExternalResources: [new TextExportService()] };");break;case"export-excel":const Ze=J.find(Xt=>"ExcelExportService"===Xt.className);(null==Ze?void 0:Ze.exportToExcel)?Ze.exportToExcel():console.error("[Slickgrid-Universal] You must register the ExcelExportService to properly use Export to Excel in the Grid Menu. Example:: this.gridOptions = { enableExcelExport: true, registerExternalResources: [new ExcelExportService()] };");break;case"export-text-delimited":const ht=J.find(Xt=>"TextExportService"===Xt.className);(null==ht?void 0:ht.exportToFile)?ht.exportToFile({delimiter:Te.tab,format:Ie.txt}):console.error("[Slickgrid-Universal] You must register the TextExportService to properly use Export to File in the Grid Menu. Example:: this.gridOptions = { enableTextExport: true, registerExternalResources: [new TextExportService()] };");break;case"toggle-filter":let Ct=null!==(C=null===(g=this.gridOptions)||void 0===g?void 0:g.showHeaderRow)&&void 0!==C&&C;Ct=!Ct,this.grid.setHeaderRowVisibility(Ct),!0===Ct&&(this.grid.setColumns(this.sharedService.columnDefinitions),this.grid.scrollColumnIntoView(0));break;case"toggle-preheader":const Kt=null!==(B=null===(D=this.gridOptions)||void 0===D?void 0:D.showPreHeaderPanel)&&void 0!==B&&B;this.grid.setPreHeaderPanelVisibility(!Kt);break;case"refresh-dataset":this.extensionUtility.refreshBackendDataset()}}getDefaultGridMenuOptions(){return{commandTitle:void 0,columnTitle:this.extensionUtility.getPickerTitleOutputString("columnTitle","gridMenu"),forceFitTitle:this.extensionUtility.getPickerTitleOutputString("forceFitTitle","gridMenu"),syncResizeTitle:this.extensionUtility.getPickerTitleOutputString("syncResizeTitle","gridMenu"),iconCssClass:"fa fa-bars",menuWidth:18,commandItems:[],hideClearAllFiltersCommand:!1,hideRefreshDatasetCommand:!1,hideToggleFilterCommand:!1}}handleBodyMouseDown(i){var t;(this._menuElm!==i.target&&!(null===(t=this._menuElm)||void 0===t?void 0:t.contains(i.target))&&this._isMenuOpen||"close"===i.target.className)&&this.hideMenu(i)}handleMenuItemCommandClick(i,t,u){var g,C;if("divider"===u||u.command&&(u.disabled||u.divider))return!1;const D={grid:this.grid,command:u.command,item:u,allColumns:this.columns,visibleColumns:this.getVisibleColumns()};this.executeGridMenuInternalCustomCommands(i,D),this.pubSubService.publish("onGridMenuCommand",D),"function"==typeof(null===(g=this._gridMenuOptions)||void 0===g?void 0:g.onCommand)&&this._gridMenuOptions.onCommand(i,D),this.onCommand.notify(D,null,this),"function"==typeof u.action&&u.action.call(this,i,D),!(null===(C=this._gridMenuOptions)||void 0===C?void 0:C.leaveOpen)&&!i.defaultPrevented&&this.hideMenu(i),i.preventDefault(),i.stopPropagation()}recreateCommandList(i,t){var u;this.populateCommandOrOptionTitle("command",i,this._commandMenuElm);const g=null!==(u=this._commandMenuElm.querySelector(".slick-command-header"))&&void 0!==u?u:Wt("div",{className:"slick-command-header"});g.classList.add("with-close"),Ge.call(this,g),this._commandMenuElm.appendChild(g),this.populateCommandOrOptionItems("command",i,this._commandMenuElm,(null==i?void 0:i.commandItems)||[],t,this.handleMenuItemCommandClick)}}function Ge(W){const t=Wt("button",{type:"button",className:"close",innerHTML:"&times;",dataset:{dismiss:this instanceof P?"slick-column-picker":"slick-grid-menu"}});t.setAttribute("aria-label","Close"),W.appendChild(t)}function Xe(W){var i,t,u;const g=this;(null===(i=g.addonOptions)||void 0===i?void 0:i.columnTitle)&&(g._columnTitleElm=Wt("div",{className:"slick-menu-title",textContent:null!==(u=null===(t=g.addonOptions)||void 0===t?void 0:t.columnTitle)&&void 0!==u?u:g._defaults.columnTitle}),W.appendChild(g._columnTitleElm))}function Bt(W){var i,t;const u=this,g=u instanceof P?"columnPicker":"gridMenu";if("autoresize"===W.target.dataset.option){const C=u.getVisibleColumns(),D=W.target.checked;return u.grid.setOptions({forceFitColumns:D}),void u.grid.setColumns(C)}if("syncresize"!==W.target.dataset.option){if("checkbox"===W.target.type){u._areVisibleColumnDifferent=!0;const C=W.target.checked,D=W.target.dataset.columnid||"",B=[];if(u._columnCheckboxes.forEach((le,De)=>{le.checked&&B.push(u.columns[De])}),!B.length)return void(W.target.checked=!0);if(u.grid.setColumns(B),Array.isArray(B)&&B.length!==u.sharedService.visibleColumns.length&&(u.sharedService.visibleColumns=B),u.gridOptions.enableRowSelection&&C){const le=u.grid.getSelectedRows();u.grid.setSelectedRows(le)}const J=null!==(i=u.gridOptions.frozenColumn)&&void 0!==i?i:-1;J>=0&&u.extensionUtility.readjustFrozenColumnIndexWhenNeeded(J,u.columns,B);const ie={columnId:D,showing:C,allColumns:u.columns,visibleColumns:B,columns:B,grid:u.grid};u.pubSubService.publish(`on${_n(g)}ColumnsChanged`,ie),"function"==typeof(null===(t=u.addonOptions)||void 0===t?void 0:t.onColumnsChanged)&&u.addonOptions.onColumnsChanged(W,ie),u.onColumnsChanged.notify(ie,null,u)}}else u.grid.setOptions({syncColumnCellResize:!!W.target.checked})}function Lt(W){var i,t;const u=this,g=u instanceof Ve?"gridmenu-":"";for(const C of u.columns){const D=C.id,B=document.createElement("li");C.excludeFromColumnPicker&&(B.className="hidden");const J=Wt("input",{type:"checkbox",id:`${u._gridUid}-${g}colpicker-${D}`,dataset:{columnid:`${D}`}});u.grid.getColumnIndex(D)>=0&&(J.checked=!0),B.appendChild(J),u._columnCheckboxes.push(J);const De=("function"==typeof(null==W?void 0:W.headerColumnValueExtractor)?W.headerColumnValueExtractor:u._defaults.headerColumnValueExtractor)(C,u.gridOptions);B.appendChild(Wt("label",{htmlFor:`${u._gridUid}-${g}colpicker-${D}`,innerHTML:Hi(u.gridOptions,De)})),u._listElm.appendChild(B)}if((!W.hideForceFitButton||!W.hideSyncResizeButton)&&u._listElm.appendChild(document.createElement("hr")),!(null==W?void 0:W.hideForceFitButton)){const C=document.createElement("li");C.appendChild(Wt("input",{type:"checkbox",id:`${u._gridUid}-${g}colpicker-forcefit`,checked:u.gridOptions.forceFitColumns,dataset:{option:"autoresize"}})),C.appendChild(Wt("label",{htmlFor:`${u._gridUid}-${g}colpicker-forcefit`,textContent:null!==(i=null==W?void 0:W.forceFitTitle)&&void 0!==i?i:""})),u._listElm.appendChild(C)}if(!(null==W?void 0:W.hideSyncResizeButton)){const C=document.createElement("li");C.appendChild(Wt("input",{type:"checkbox",id:`${u._gridUid}-${g}colpicker-syncresize`,checked:u.gridOptions.syncColumnCellResize,dataset:{option:"syncresize"}})),C.appendChild(Wt("label",{htmlFor:`${u._gridUid}-${g}colpicker-syncresize`,textContent:null!==(t=null==W?void 0:W.syncResizeTitle)&&void 0!==t?t:""})),u._listElm.appendChild(C)}}function de(){const W=this,i=W.grid.getColumns().slice(0),t=new Array(W.columns.length);for(let u=0;u<t.length;u++)void 0===W.grid.getColumnIndex(W.columns[u].id)?t[u]=W.columns[u]:t[u]=i.shift();W._columns=t}class P{constructor(i,t,u){var g,C,D,B;this.extensionUtility=i,this.pubSubService=t,this.sharedService=u,this._areVisibleColumnDifferent=!1,this._columns=[],this._gridUid="",this._columnCheckboxes=[],this.onColumnsChanged=new Slick.Event,this._defaults={hideForceFitButton:!1,hideSyncResizeButton:!1,forceFitTitle:"Force fit columns",minHeight:200,syncResizeTitle:"Synchronous resize",headerColumnValueExtractor:J=>J.name},this._bindEventService=new Oi,this._eventHandler=new Slick.EventHandler,this._columns=null!==(g=this.sharedService.allColumns)&&void 0!==g?g:[],this._gridUid=null!==(B=null===(D=null===(C=this.grid)||void 0===C?void 0:C.getUID)||void 0===D?void 0:D.call(C))&&void 0!==B?B:"",this.init()}get addonOptions(){return this.gridOptions.columnPicker||{}}get eventHandler(){return this._eventHandler}get columns(){return this._columns}set columns(i){this._columns=i}get gridOptions(){var i;return null!==(i=this.sharedService.gridOptions)&&void 0!==i?i:{}}get grid(){return this.sharedService.slickGrid}get menuElement(){return this._menuElm}init(){var i;this._gridUid=null!==(i=this.grid.getUID())&&void 0!==i?i:"",this.gridOptions.columnPicker=tn(tn({},this._defaults),this.gridOptions.columnPicker),this.addonOptions.columnTitle=this.extensionUtility.getPickerTitleOutputString("columnTitle","columnPicker"),this.addonOptions.forceFitTitle=this.extensionUtility.getPickerTitleOutputString("forceFitTitle","columnPicker"),this.addonOptions.syncResizeTitle=this.extensionUtility.getPickerTitleOutputString("syncResizeTitle","columnPicker"),this._eventHandler.subscribe(this.grid.onHeaderContextMenu,this.handleHeaderContextMenu.bind(this)),this._eventHandler.subscribe(this.grid.onColumnsReordered,de.bind(this)),this._menuElm=Wt("div",{className:`slick-column-picker ${this._gridUid}`,style:{display:"none"}}),this._menuElm.setAttribute("aria-expanded","false"),Xe.call(this,this._menuElm),Ge.call(this,this._menuElm),this._listElm=Wt("div",{className:"slick-column-picker-list"}),this._bindEventService.bind(this._menuElm,"click",Bt.bind(this)),this._bindEventService.bind(document.body,"mousedown",this.handleBodyMouseDown.bind(this)),this._bindEventService.bind(document.body,"beforeunload",this.dispose.bind(this)),document.body.appendChild(this._menuElm)}dispose(){var i,t,u,g;this._eventHandler.unsubscribeAll(),this._bindEventService.unbindAll(),null===(t=null===(i=this._listElm)||void 0===i?void 0:i.remove)||void 0===t||t.call(i),null===(g=null===(u=this._menuElm)||void 0===u?void 0:u.remove)||void 0===g||g.call(u)}getAllColumns(){return this._columns}getVisibleColumns(){return this.grid.getColumns()}translateColumnPicker(){this.addonOptions&&(this.addonOptions.columnTitle="",this.addonOptions.forceFitTitle="",this.addonOptions.syncResizeTitle="",this.addonOptions.columnTitle=this.extensionUtility.getPickerTitleOutputString("columnTitle","columnPicker"),this.addonOptions.forceFitTitle=this.extensionUtility.getPickerTitleOutputString("forceFitTitle","columnPicker"),this.addonOptions.syncResizeTitle=this.extensionUtility.getPickerTitleOutputString("syncResizeTitle","columnPicker")),this.extensionUtility.translateItems(this._columns,"nameKey","name"),this.addonOptions&&this.updateAllTitles(this.addonOptions)}handleBodyMouseDown(i){(this._menuElm!==i.target&&!this._menuElm.contains(i.target)||"close"===i.target.className)&&(this._menuElm.setAttribute("aria-expanded","false"),this._menuElm.style.display="none")}handleHeaderContextMenu(i){i.preventDefault(),di(this._listElm),de.call(this),this._columnCheckboxes=[],Lt.call(this,this.addonOptions),this.repositionMenu(i)}repositionMenu(i){this._menuElm.style.top=i.pageY-10+"px",this._menuElm.style.left=i.pageX-10+"px",this._menuElm.style.minHeight=sr(this.addonOptions.minHeight,""),this._menuElm.style.maxHeight=sr(this.addonOptions.maxHeight,window.innerHeight-i.clientY+"px"),this._menuElm.style.display="block",this._menuElm.setAttribute("aria-expanded","true"),this._menuElm.appendChild(this._listElm)}updateAllTitles(i){var t;(null===(t=this._columnTitleElm)||void 0===t?void 0:t.textContent)&&i.columnTitle&&(this._columnTitleElm.textContent=i.columnTitle)}}const O=(W,i,t,u,g,C)=>{const D=u.params||{};if(!D.formatters||!Array.isArray(D.formatters))throw new Error('The multiple formatter requires the "formatters" to be provided as a column params.\n    For example: this.columnDefinitions = [{ id: title, field: title, formatter: Formatters.multiple, params: { formatters: [Formatters.lowercase, Formatters.uppercase] }');const B=D.formatters;let J=t;for(const ie of B)J=ie(W,i,J,u,g,C);return J},Z=te()||be;function Me(W,i){if(Array.isArray(W))for(const t of W)if(t.editor)if(t.formatter&&t.formatter!==O&&t.formatter!==i){const u=t.formatter;t.formatter=O,t.params=Vs(tn({},t.params),{formatters:[u,i]})}else t.formatter&&t.formatter===O&&t.params?-1===t.params.formatters.findIndex(u=>u===i)&&(t.params.formatters=[...t.params.formatters,i]):t.formatter=i}function et(W,i,t,u){var g;const C=t&&"function"==typeof t.getOptions?t.getOptions():{},D=i&&i.params;return D&&D.hasOwnProperty(W)?D[W]:(null===(g=C.formatterOptions)||void 0===g?void 0:g.hasOwnProperty(W))?C.formatterOptions[W]:u}function hn(W,i){const t=xe(W);return(u,g,C,D,B,J)=>{var ie,le,De,Ne,Ze;const ht=J&&"function"==typeof J.getOptions?J.getOptions():{},Ct=null!==(le=null===(ie=null==ht?void 0:ht.formatterOptions)||void 0===ie?void 0:ie.dateSeparator)&&void 0!==le?le:i,Xt=xe(null!==(De=null==D?void 0:D.type)&&void 0!==De?De:Ee.date),dn=null!==(Ze=null===(Ne=null==D?void 0:D.params)||void 0===Ne?void 0:Ne.parseDateAsUtc)&&void 0!==Ze&&Ze,yi=Z(C,Xt,!1).isValid();let ni=C;if(C&&yi&&(ni=dn?Z.utc(C).format(t):Z(C).format(t)),ni&&Ct!==i){const Jn=new RegExp(i,"ig");ni=ni.replace(Jn,Ct)}return ni}}function En(W,i,t,u,g,C){let B,D=!1;C&&C.hasOwnProperty("exportWithFormatter")&&(D=!!C.exportWithFormatter),t&&t.hasOwnProperty("exportWithFormatter")&&(D=!!t.exportWithFormatter),u&&t.exportCustomFormatter?B=t.exportCustomFormatter:D&&t.formatter&&(B=t.formatter);const J=vi(B,W,i,t,u,g);return(null==C?void 0:C.sanitizeDataExport)?Us(J):J}function vi(W,i,t,u,g,C){let D="",J=u.field||u.id||"";if("string"==typeof u.field&&u.field.indexOf(".")>0){const le=u.field.split(".");J=le.length>0?le[0]:u.field}const ie=g.hasOwnProperty(J)?g[J]:null;if("function"==typeof W){const le=W(i,t,ie,u,g,C);D=le,le&&"object"==typeof le&&le.hasOwnProperty("text")&&(D=le.text),null==D&&(D="")}else D=g.hasOwnProperty(J)?ie:"",null==D&&(D="");return"object"==typeof D&&0===Object.entries(D).length&&(D=""),D}class Zi extends rs{constructor(i,t,u,g){super(i,t,u),this.extensionUtility=i,this.pubSubService=t,this.sharedService=u,this.treeDataService=g,this._defaults={autoAdjustDrop:!0,autoAlignSide:!0,autoAdjustDropOffset:0,autoAlignSideOffset:0,hideMenuOnScroll:!1,optionShownOverColumnIds:[],commandShownOverColumnIds:[]},this.pluginName="ContextMenu",this._camelPluginName="contextMenu",this._menuCssPrefix="slick-menu",this._menuPluginCssPrefix="slick-context-menu",this.init(u.gridOptions.contextMenu)}init(i){this._addonOptions=tn(tn({},this._defaults),i);const t=this._addonOptions&&Array.isArray(this._addonOptions.commandItems)?this._addonOptions.commandItems:[];this._addonOptions.commandItems=[...t,...this.addMenuCustomCommands(t)],this._addonOptions=tn({},this._addonOptions),this.sharedService.gridOptions.contextMenu=this._addonOptions,this.sortMenuItems(),this._eventHandler.subscribe(this.grid.onContextMenu,this.handleClick.bind(this)),this._addonOptions.hideMenuOnScroll&&this._eventHandler.subscribe(this.grid.onScroll,this.closeMenu.bind(this))}translateContextMenu(){var i,t;const u=null!==(t=null===(i=this.sharedService)||void 0===i?void 0:i.gridOptions)&&void 0!==t?t:{},g=this.sharedService.gridOptions.contextMenu;if(g&&(null==u?void 0:u.enableTranslate)){const C=g.commandItems||[],D=g.optionItems||[];g.commandTitleKey&&(g.commandTitle=this.extensionUtility.translateWhenEnabledAndServiceExist(g.commandTitleKey,"TEXT_COMMANDS")||g.commandTitle),g.optionTitleKey&&(g.optionTitle=this.extensionUtility.translateWhenEnabledAndServiceExist(g.optionTitleKey,"TEXT_COMMANDS")||g.optionTitle),this.extensionUtility.translateMenuItemsFromTitleKey(C),this.extensionUtility.translateMenuItemsFromTitleKey(D)}}handleClick(i,t){const u=this.grid.getCellFromEvent(i);if(u){const g=this.grid.getDataItem(u.row),C=this.grid.getColumns()[u.cell];if((t=t||{}).cell=u.cell,t.row=u.row,t.column=C,t.dataContext=g,t.grid=this.grid,!this.extensionUtility.runOverrideFunctionWhenExists(this._addonOptions.menuUsabilityOverride,t))return;this._menuElm=this.createMenu(i),this._menuElm&&i.preventDefault(),this._menuElm&&(this.repositionMenu(i),this._menuElm.setAttribute("aria-expanded","true"),this._menuElm.style.display="block"),this._bindEventService.bind(document.body,"mousedown",this.handleBodyMouseDown.bind(this))}}addMenuCustomCommands(i){var t;const u=[],g=this.sharedService&&this.sharedService.gridOptions||{},C=null==g?void 0:g.contextMenu,D=null===(t=this.sharedService)||void 0===t?void 0:t.dataView,B=pe(g);if(C&&!C.hideCopyCellValueCommand){const J="copy";i.some(ie=>"divider"!==ie&&ie.hasOwnProperty("command")&&ie.command===J)||u.push({iconCssClass:C.iconCopyCellValueCommand||"fa fa-clone",titleKey:`${B}COPY`,disabled:!1,command:J,positionOrder:50,action:(ie,le)=>{this.copyToClipboard(le)},itemUsabilityOverride:ie=>{const le=null==ie?void 0:ie.column,De=null==ie?void 0:ie.dataContext;if("function"==typeof le.queryFieldNameGetterFn){const Ne=Mt(le,De,"");if(""!==Ne&&void 0!==Ne)return!0}else if(le&&De.hasOwnProperty(le.field))return""!==De[le.field]&&null!==De[le.field]&&void 0!==De[le.field];return!1}})}if(((null==g?void 0:g.enableExport)||(null==g?void 0:g.enableTextExport))&&C&&!C.hideExportCsvCommand){const J="export-csv";i.some(ie=>"divider"!==ie&&ie.hasOwnProperty("command")&&ie.command===J)||u.push({iconCssClass:C.iconExportCsvCommand||"fa fa-download",titleKey:`${B}EXPORT_TO_CSV`,disabled:!1,command:J,positionOrder:51,action:()=>{var ie;const De=((null===(ie=this.sharedService)||void 0===ie?void 0:ie.externalRegisteredResources)||[]).find(Ne=>"TextExportService"===Ne.className);if(!(null==De?void 0:De.exportToFile))throw new Error("[Slickgrid-Universal] You must register the TextExportService to properly use Export to File in the Context Menu. Example:: this.gridOptions = { enableTextExport: true, registerExternalResources: [new TextExportService()] };");De.exportToFile({delimiter:Te.comma,format:Ie.csv})}})}if(g&&g.enableExcelExport&&C&&!C.hideExportExcelCommand){const J="export-excel";i.some(ie=>"divider"!==ie&&ie.hasOwnProperty("command")&&ie.command===J)||u.push({iconCssClass:C.iconExportExcelCommand||"fa fa-file-excel-o text-success",titleKey:`${B}EXPORT_TO_EXCEL`,disabled:!1,command:J,positionOrder:52,action:()=>{var ie;const De=((null===(ie=this.sharedService)||void 0===ie?void 0:ie.externalRegisteredResources)||[]).find(Ne=>"ExcelExportService"===Ne.className);if(!(null==De?void 0:De.exportToExcel))throw new Error("[Slickgrid-Universal] You must register the ExcelExportService to properly use Export to Excel in the Context Menu. Example:: this.gridOptions = { enableExcelExport: true, registerExternalResources: [new ExcelExportService()] };");De.exportToExcel()}})}if(((null==g?void 0:g.enableExport)||(null==g?void 0:g.enableTextExport))&&C&&!C.hideExportTextDelimitedCommand){const J="export-text-delimited";i.some(ie=>"divider"!==ie&&ie.hasOwnProperty("command")&&ie.command===J)||u.push({iconCssClass:C.iconExportTextDelimitedCommand||"fa fa-download",titleKey:`${B}EXPORT_TO_TAB_DELIMITED`,disabled:!1,command:J,positionOrder:53,action:()=>{var ie;const De=((null===(ie=this.sharedService)||void 0===ie?void 0:ie.externalRegisteredResources)||[]).find(Ne=>"TextExportService"===Ne.className);if(!(null==De?void 0:De.exportToFile))throw new Error("[Slickgrid-Universal] You must register the TextExportService to properly use Export to File in the Context Menu. Example:: this.gridOptions = { enableTextExport: true, registerExternalResources: [new TextExportService()] };");De.exportToFile({delimiter:Te.tab,format:Ie.txt})}})}if(g&&(g.enableGrouping||g.enableDraggableGrouping||g.enableTreeData)){if(C&&!C.hideCopyCellValueCommand&&u.push({divider:!0,command:"",positionOrder:54}),g&&!g.enableTreeData&&C&&!C.hideClearAllGrouping){const J="clear-grouping";i.some(ie=>"divider"!==ie&&ie.hasOwnProperty("command")&&ie.command===J)||u.push({iconCssClass:C.iconClearGroupingCommand||"fa fa-times",titleKey:`${B}CLEAR_ALL_GROUPING`,disabled:!1,command:J,positionOrder:55,action:()=>{D.setGrouping([]),this.pubSubService.publish("onContextMenuClearGrouping")},itemUsabilityOverride:()=>{const ie=D&&D.getGrouping&&D.getGrouping();return Array.isArray(ie)&&ie.length>0}})}if(g&&C&&!C.hideCollapseAllGroups){const J="collapse-all-groups";i.some(ie=>"divider"!==ie&&ie.hasOwnProperty("command")&&ie.command===J)||u.push({iconCssClass:C.iconCollapseAllGroupsCommand||"fa fa-compress",titleKey:`${B}COLLAPSE_ALL_GROUPS`,disabled:!1,command:J,positionOrder:56,action:()=>{g.enableTreeData?this.treeDataService.toggleTreeDataCollapse(!0):D.collapseAllGroups(),this.pubSubService.publish("onContextMenuCollapseAllGroups")},itemUsabilityOverride:()=>{if(g.enableTreeData)return!0;const ie=D&&D.getGrouping&&D.getGrouping();return Array.isArray(ie)&&ie.length>0}})}if(g&&C&&!C.hideExpandAllGroups){const J="expand-all-groups";i.some(ie=>"divider"!==ie&&ie.hasOwnProperty("command")&&ie.command===J)||u.push({iconCssClass:C.iconExpandAllGroupsCommand||"fa fa-expand",titleKey:`${B}EXPAND_ALL_GROUPS`,disabled:!1,command:J,positionOrder:57,action:()=>{g.enableTreeData?this.treeDataService.toggleTreeDataCollapse(!1):D.expandAllGroups(),this.pubSubService.publish("onContextMenuExpandAllGroups")},itemUsabilityOverride:()=>{if(g.enableTreeData)return!0;const ie=D&&D.getGrouping&&D.getGrouping();return Array.isArray(ie)&&ie.length>0}})}}return this.extensionUtility.translateMenuItemsFromTitleKey(u),u}copyToClipboard(i){var t,u,g,C,D;try{if(i&&i.grid&&i.command){const B=null!==(u=null===(t=this.sharedService)||void 0===t?void 0:t.gridOptions)&&void 0!==u?u:{},J=null!==(g=null==i?void 0:i.cell)&&void 0!==g?g:0,ie=null!==(C=null==i?void 0:i.row)&&void 0!==C?C:0,le=null==i?void 0:i.column,De=null==i?void 0:i.dataContext,Ne=null===(D=this.sharedService)||void 0===D?void 0:D.slickGrid;let ht=En(ie,J,le,De,Ne,B&&(B.excelExportOptions||tn(tn({},B.exportOptions),B.textExportOptions)));"function"==typeof le.queryFieldNameGetterFn&&(ht=Mt(le,De,""));let Ct=ht;"string"==typeof ht&&(Ct=ht.replace(/^([\xb7|\u2b9e|\u2b9f]\s*)|([\xb7|\u2b9e|\u2b9f])\s*/gi,"").replace(/[\u00b7|\u034f]/gi,"").trim());const Kt=document.createElement("textarea");Kt&&document.body&&(Kt.style.position="absolute",Kt.style.opacity="0",Kt.value=Ct,document.body.appendChild(Kt),Kt.select(),document.execCommand("copy",!1,Ct)&&Kt.remove())}}catch(B){}}sortMenuItems(){var i,t;const u=null===(t=null===(i=this.sharedService)||void 0===i?void 0:i.gridOptions)||void 0===t?void 0:t.contextMenu;u&&(this.extensionUtility.sortItems(u.commandItems||[],"positionOrder"),this.extensionUtility.sortItems(u.optionItems||[],"positionOrder"))}}class Ir{constructor(i,t,u){this.extensionUtility=i,this.pubSubService=t,this.sharedService=u,this._gridColumns=[],this._gridUid="",this._subscriptions=[],this._defaults={dropPlaceHolderText:"Drop a column header here to group by the column",hideToggleAllButton:!1,toggleAllButtonText:"",toggleAllPlaceholderText:"Toggle all Groups"},this.columnsGroupBy=[],this.pluginName="DraggableGrouping",this._bindEventService=new Oi,this._eventHandler=new Slick.EventHandler,this.onGroupChanged=new Slick.Event}get addonOptions(){return this._addonOptions}get dataView(){var i,t,u;return null!==(u=null===(t=null===(i=this.grid)||void 0===i?void 0:i.getData)||void 0===t?void 0:t.call(i))&&void 0!==u?u:{}}get dropboxElement(){return this._dropboxElm}get droppableInstance(){return this._droppableInstance}get sortableInstance(){return this._sortableInstance}get eventHandler(){return this._eventHandler}get grid(){var i,t;return null!==(t=null!==(i=this._grid)&&void 0!==i?i:this.sharedService.slickGrid)&&void 0!==t?t:{}}get gridOptions(){var i;return null!==(i=this.sharedService.gridOptions)&&void 0!==i?i:{}}get gridUid(){var i,t;return this._gridUid||(null!==(t=null===(i=this.grid)||void 0===i?void 0:i.getUID())&&void 0!==t?t:"")}get gridUidSelector(){return this.gridUid?`#${this.gridUid}`:""}init(i,t){var u,g,C,D,B,J;if(this._addonOptions=tn(tn({},this._defaults),t),this._grid=i,i){if(this._gridUid=i.getUID(),this._gridColumns=i.getColumns(),this._dropboxElm=i.getPreHeaderPanel(),!this._addonOptions.hideToggleAllButton){this._groupToggler=Wt("div",{className:"slick-group-toggle-all",title:null!==(u=this._addonOptions.toggleAllPlaceholderText)&&void 0!==u?u:"",style:{display:"none"}});const ie=Wt("span",{className:"slick-group-toggle-all-icon expanded mdi mdi-close"});this._groupToggler.appendChild(ie),this.gridOptions.enableTranslate&&this._addonOptions.toggleAllButtonTextKey&&(this._addonOptions.toggleAllButtonText=this.extensionUtility.translateWhenEnabledAndServiceExist(this._addonOptions.toggleAllButtonTextKey,"TEXT_TOGGLE_ALL_GROUPS")),this.gridOptions.enableTranslate&&this._addonOptions.toggleAllPlaceholderTextKey&&(this._addonOptions.toggleAllPlaceholderText=this.extensionUtility.translateWhenEnabledAndServiceExist(this._addonOptions.toggleAllPlaceholderTextKey,"TEXT_TOGGLE_ALL_GROUPS")),this._groupToggler.title=null!==(g=this._addonOptions.toggleAllPlaceholderText)&&void 0!==g?g:"",this._addonOptions.toggleAllButtonText&&this._groupToggler.appendChild(Wt("span",{className:"slick-group-toggle-all-text",textContent:this._addonOptions.toggleAllButtonText||""})),this._dropboxElm.appendChild(this._groupToggler),this._subscriptions.push(this.pubSubService.subscribe("onContextMenuCollapseAllGroups",()=>this.toggleGroupToggler(ie,!0,!1)),this.pubSubService.subscribe("onContextMenuExpandAllGroups",()=>this.toggleGroupToggler(ie,!1,!1)))}this._dropboxPlaceholderElm=Wt("div",{className:"slick-draggable-dropbox-toggle-placeholder"}),this.gridOptions.enableTranslate&&(null===(C=this._addonOptions)||void 0===C?void 0:C.dropPlaceHolderTextKey)&&(this._addonOptions.dropPlaceHolderText=this.extensionUtility.translateWhenEnabledAndServiceExist(this._addonOptions.dropPlaceHolderTextKey,"TEXT_TOGGLE_ALL_GROUPS")),this._dropboxPlaceholderElm.textContent=null!==(J=null!==(B=null===(D=this._addonOptions)||void 0===D?void 0:D.dropPlaceHolderText)&&void 0!==B?B:this._defaults.dropPlaceHolderText)&&void 0!==J?J:"",this._dropboxElm.appendChild(this._dropboxPlaceholderElm),this.setupColumnDropbox(),this._eventHandler.subscribe(i.onHeaderCellRendered,(ie,le)=>{var De;const Ne=le.node;if(!ge(null===(De=le.column)||void 0===De?void 0:De.grouping)&&Ne&&(Ne.style.cursor="pointer",this._addonOptions.groupIconCssClass)){const Ze=Wt("span",{className:"slick-column-groupable"});this._addonOptions.groupIconCssClass&&Ze.classList.add(...this._addonOptions.groupIconCssClass.split(" ")),Ne.appendChild(Ze)}}),this._subscriptions.push(this.pubSubService.subscribe("onContextMenuClearGrouping",()=>this.clearDroppedGroups()));for(const ie of this._gridColumns){const le=ie.field;i.updateColumnHeader(le)}}return this}dispose(){this.onGroupChanged.unsubscribe(),this._eventHandler.unsubscribeAll(),this.pubSubService.unsubscribeAll(this._subscriptions),di(document.querySelector(".slick-preheader-panel"))}clearDroppedGroups(){this.columnsGroupBy=[],this.updateGroupBy("clear-all");const i=this._dropboxElm.querySelectorAll(".slick-dropped-grouping");for(const t of Array.from(i)){const u=document.querySelector(".slick-groupby-remove");null==u||u.remove(),null==t||t.remove()}this._dropboxPlaceholderElm.style.display="inline-block",this._groupToggler&&(this._groupToggler.style.display="none")}setColumns(i){this._gridColumns=i}setDroppedGroups(i){const t=Array.isArray(i)?i:[i];this._dropboxPlaceholderElm.style.display="none";for(const u of t){const g=$(this.grid.getHeaderColumn(u));this.handleGroupByDrop(this._dropboxElm,g)}}setupColumnReorder(i,t,u,g,C,D,B,J,ie){t.filter(":ui-sortable").sortable("destroy");const le=i.getPreHeaderPanel();return t.sortable({distance:3,cursor:"default",tolerance:"intersection",helper:"clone",placeholder:"slick-sortable-placeholder ui-state-default slick-header-column",forcePlaceholderSize:!0,appendTo:"body",start:(De,Ne)=>{$(Ne.helper).addClass("slick-header-column-active");const Ze=le.querySelector(".slick-draggable-dropbox-toggle-placeholder");Ze&&(Ze.style.display="inline-block");const ht=le.querySelector(".slick-dropped-grouping");ht&&(ht.style.display="none")},beforeStop:(De,Ne)=>{if($(Ne.helper).removeClass("slick-header-column-active"),le.querySelectorAll(".slick-dropped-grouping").length>0){const ht=le.querySelector(".slick-draggable-dropbox-toggle-placeholder");ht&&(ht.style.display="none");const Ct=le.querySelector(".slick-dropped-grouping");Ct&&(Ct.style.display="inline-block")}},stop:De=>{if(!i.getEditorLock().commitCurrentEdit())return void $(De.target).sortable("cancel");const Ne=t.sortable("toArray");if(t.length>1)for(let ht=1,Ct=t.length;ht<Ct;ht+=1){const Xt=$(t[ht]).sortable("toArray");for(const dn of Xt)Ne.push(dn)}const Ze=[];for(const ht of Ne)Ze.push(D[B(ht.replace(J,""))]);g(Ze),ie(i.onColumnsReordered,{grid:this.grid}),De.stopPropagation(),C()}})}addColumnGroupBy(i){this.columnsGroupBy.push(i),this.updateGroupBy("add-group")}addGroupByRemoveClickHandler(i,t,u,g){const C=document.querySelector(`${this.gridUidSelector}_${i}_entry > .slick-groupby-remove`);C&&this._bindEventService.bind(C,"click",()=>{const D=this._bindEventService.boundedEvents.filter(B=>B.element===C);for(const B of D)this._bindEventService.unbind(B.element,"click",B.listener);this.removeGroupBy(i,u,g)})}handleGroupByDrop(i,t){const u=t.attr("id").replace(this._gridUid,"");let g=!0;this.columnsGroupBy.forEach(C=>{C.id===u&&(g=!1)}),g&&(this._gridColumns.forEach(C=>{if(C.id===u&&null!==C.grouping&&!ge(C.grouping)){const D=t.children(".slick-column-name").first(),B=Wt("div",{id:`${this._gridUid}_${C.id}_entry`,className:"slick-dropped-grouping",dataset:{id:`${C.id}`}}),J=Wt("div",{textContent:D.length?D.text():t.text(),style:{display:"inline-flex"}});B.appendChild(J);const ie=Wt("div",{className:"slick-groupby-remove"});this._addonOptions.deleteIconCssClass&&ie.classList.add(...this._addonOptions.deleteIconCssClass.split(" ")),this._addonOptions.deleteIconCssClass||ie.classList.add("slick-groupby-remove-image"),B.appendChild(ie),B.appendChild(document.createElement("div")),i.appendChild(B),this.addColumnGroupBy(C),this.addGroupByRemoveClickHandler(C.id,i,t,B)}}),this._groupToggler&&(this._groupToggler.style.display="inline-block"))}removeFromArray(i,t){if(Array.isArray(i)){const u=i.findIndex(g=>g.id===t.id);u>=0&&i.splice(u,1)}return i}removeGroupBy(i,t,u){u.remove();const g=[];this._gridColumns.forEach(C=>g[C.id]=C),this.removeFromArray(this.columnsGroupBy,g[i]),0===this.columnsGroupBy.length&&(this._dropboxPlaceholderElm.style.display="inline-block",this._groupToggler&&(this._groupToggler.style.display="none")),this.updateGroupBy("remove-group")}setupColumnDropbox(){this._droppableInstance=$(this._dropboxElm).droppable({activeClass:"ui-state-default",hoverClass:"ui-state-hover",accept:":not(.ui-sortable-helper)",deactivate:()=>{this._dropboxElm.classList.remove("slick-header-column-denied")},drop:(i,t)=>{this.handleGroupByDrop(i.target,t.draggable)},over:(i,t)=>{const u=t.draggable.attr("id").replace(this._gridUid,"");for(const g of this._gridColumns)g.id===u&&!g.grouping&&this._dropboxElm.classList.add("slick-header-column-denied")}}),this._sortableInstance=$(this._dropboxElm).sortable({items:"div.slick-dropped-grouping",cursor:"default",tolerance:"pointer",helper:"clone",update:i=>{const t=$(i.target).sortable("toArray",{attribute:"data-id"}),u=[];for(const g of t)for(const C of this.columnsGroupBy)if(C.id===g){u.push(C);break}this.columnsGroupBy=u,this.updateGroupBy("sort-group")}}),this._groupToggler&&this._bindEventService.bind(this._groupToggler,"click",i=>{const t=i.target.classList.contains("slick-group-toggle-all-icon")?i.target:i.currentTarget.querySelector(".slick-group-toggle-all-icon");this.toggleGroupToggler(t,null==t?void 0:t.classList.contains("expanded"))})}toggleGroupToggler(i,t=!0,u=!0){i&&(!0===t?(i.classList.add("collapsed"),i.classList.remove("expanded"),u&&this.dataView.collapseAllGroups()):(i.classList.remove("collapsed"),i.classList.add("expanded"),u&&this.dataView.expandAllGroups()))}updateGroupBy(i){if(0===this.columnsGroupBy.length)return this.dataView.setGrouping([]),this._dropboxPlaceholderElm.style.display="inline-block",void this.onGroupChanged.notify({caller:i,groupColumns:[]});const t=[];this.columnsGroupBy.forEach(u=>t.push(u.grouping)),this.dataView.setGrouping(t),this._dropboxPlaceholderElm.style.display="none",this.onGroupChanged.notify({caller:i,groupColumns:t})}}class ci{constructor(){this._defaults={groupCssClass:"slick-group",groupTitleCssClass:"slick-group-title",totalsCssClass:"slick-group-totals",groupFocusable:!0,indentation:15,totalsFocusable:!1,toggleCssClass:"slick-group-toggle",toggleExpandedCssClass:"expanded",toggleCollapsedCssClass:"collapsed",enableExpandCollapse:!0,groupFormatter:this.defaultGroupCellFormatter.bind(this),totalsFormatter:this.defaultTotalsCellFormatter.bind(this),includeHeaderTotals:!1},this._eventHandler=new Slick.EventHandler,this._options=this._defaults}get eventHandler(){return this._eventHandler}get dataView(){var i,t,u;return null!==(u=null===(t=null===(i=this._grid)||void 0===i?void 0:i.getData)||void 0===t?void 0:t.call(i))&&void 0!==u?u:{}}get grid(){return this._grid}init(i,t){this._grid=i,this._options=tn(tn({},this._defaults),t),this._eventHandler.subscribe(i.onClick,this.handleGridClick.bind(this)),this._eventHandler.subscribe(i.onKeyDown,this.handleGridKeyDown.bind(this))}dispose(){var i;null===(i=this._eventHandler)||void 0===i||i.unsubscribeAll()}getOptions(){return this._options}setOptions(i){this._options=tn(tn({},this._options),i)}getGroupRowMetadata(i){return{selectable:!1,focusable:this._options.groupFocusable,cssClasses:`${this._options.groupCssClass} slick-group-level-${(null==i?void 0:i.level)||0}`,formatter:this._options.includeHeaderTotals&&this._options.totalsFormatter,columns:{0:{colspan:this._options.includeHeaderTotals?"1":"*",formatter:this._options.groupFormatter,editor:null}}}}getTotalsRowMetadata(i){var t;return{selectable:!1,focusable:this._options.totalsFocusable,cssClasses:`${this._options.totalsCssClass} slick-group-level-${(null===(t=null==i?void 0:i.group)||void 0===t?void 0:t.level)||0}`,formatter:this._options.totalsFormatter,editor:null}}defaultGroupCellFormatter(i,t,u,g,C){var D,B;if(!this._options.enableExpandCollapse)return C.title;const J=C.level||0,le=J*(null!==(B=null===(D=this._options)||void 0===D?void 0:D.indentation)&&void 0!==B?B:15)+"px",De=C.collapsed?this._options.toggleCollapsedCssClass:this._options.toggleExpandedCssClass;return`<span class="${this._options.toggleCssClass} ${De}" aria-expanded="${!C.collapsed}" style="margin-left: ${le}"></span><span class="${this._options.groupTitleCssClass}" level="${J}">${C.title||""}</span>`}defaultTotalsCellFormatter(i,t,u,g,C,D){var B,J;return null!==(J=null===(B=null==g?void 0:g.groupTotalsFormatter)||void 0===B?void 0:B.call(g,C,g,D))&&void 0!==J?J:""}handleGridClick(i,t){const u=i.target,g=this.grid.getDataItem(t.row);g instanceof Slick.Group&&u.classList.contains(this._options.toggleCssClass||"")&&(this.handleDataViewExpandOrCollapse(g),i.stopImmediatePropagation(),i.preventDefault())}handleGridKeyDown(i){if(this._options.enableExpandCollapse&&i.keyCode===He.SPACE){const t=this.grid.getActiveCell();if(t){const u=this.grid.getDataItem(t.row);u instanceof Slick.Group&&(this.handleDataViewExpandOrCollapse(u),i.stopImmediatePropagation(),i.preventDefault())}}}handleDataViewExpandOrCollapse(i){const t=this.grid.getRenderedRange();this.dataView.setRefreshHints({ignoreDiffsBefore:t.top,ignoreDiffsAfter:t.bottom+1}),i.collapsed?this.dataView.expandGroup(i.groupingKey):this.dataView.collapseGroup(i.groupingKey)}}class _i extends to{constructor(i,t,u){super(i,t,u),this.extensionUtility=i,this.pubSubService=t,this.sharedService=u,this._buttonElms=[],this._defaults={buttonCssClass:"slick-header-button"},this.pluginName="HeaderButtons",this._menuCssPrefix="slick-header-button",this._camelPluginName="headerButtons",this._bindEventService=new Oi,this._eventHandler=new Slick.EventHandler,this.init(u.gridOptions.headerButton)}get addonOptions(){return this._addonOptions}set addonOptions(i){this._addonOptions=i}get eventHandler(){return this._eventHandler}get grid(){return this.sharedService.slickGrid}init(i){this._addonOptions=tn(tn({},this._defaults),i),this._eventHandler.subscribe(this.grid.onHeaderCellRendered,this.handleHeaderCellRendered.bind(this)),this._eventHandler.subscribe(this.grid.onBeforeHeaderCellDestroy,this.handleBeforeHeaderCellDestroy.bind(this)),this.grid.setColumns(this.grid.getColumns())}dispose(){super.dispose(),this._buttonElms.forEach(i=>i.remove())}handleHeaderCellRendered(i,t){var u;const g=t.column;if((null===(u=g.header)||void 0===u?void 0:u.buttons)&&Array.isArray(g.header.buttons)){let C=g.header.buttons.length;for(;C--;){const D=g.header.buttons[C],B=this.populateSingleCommandOrOptionItem("command",this.addonOptions,null,D,t,this.handleButtonClick.bind(this));B&&(this._buttonElms.push(B),t.node.appendChild(B))}}}handleBeforeHeaderCellDestroy(i,t){var u,g,C;if((null===(u=t.column.header)||void 0===u?void 0:u.buttons)&&(null===(g=this._addonOptions)||void 0===g?void 0:g.buttonCssClass)){const B=((null===(C=this._addonOptions)||void 0===C?void 0:C.buttonCssClass)||"").replace(/(\s+)/g,".");B&&t.node.querySelectorAll(`.${B}`).forEach(J=>J.remove())}}handleButtonClick(i,t,u,g){var C;if(u.command&&!u.disabled){const D=u.command||"",B={grid:this.grid,column:g,button:u};D&&(B.command=D),"function"==typeof u.action&&!u.disabled&&u.action.call(this,i,B),null!==D&&!u.disabled&&(null===(C=this._addonOptions)||void 0===C?void 0:C.onCommand)&&(this.pubSubService.publish("onHeaderButtonCommand",B),this._addonOptions.onCommand(i,B),(null==g?void 0:g.id)&&this.grid.updateColumnHeader(g.id))}i.preventDefault(),i.stopPropagation()}}class wr extends to{constructor(i,t,u,g,C){super(i,u,g),this.extensionUtility=i,this.filterService=t,this.pubSubService=u,this.sharedService=g,this.sortService=C,this._defaults={autoAlign:!0,autoAlignOffset:0,buttonCssClass:null,buttonImage:null,minWidth:100,hideColumnHideCommand:!1,hideSortCommands:!1,title:""},this.pluginName="HeaderMenu",this._menuCssPrefix="slick-menu",this._menuPluginCssPrefix="slick-header-menu",this._camelPluginName="headerMenu",this.sharedService.gridOptions.headerMenu=this.addHeaderMenuCustomCommands(this.sharedService.columnDefinitions),this.init(g.gridOptions.headerMenu)}init(i){this._addonOptions=tn(tn({},this._defaults),i),this._eventHandler.subscribe(this.grid.onBeforeSetColumns,(t,u)=>{this.sharedService.gridOptions.headerMenu=this.addHeaderMenuCustomCommands(u.newColumns)}),this._eventHandler.subscribe(this.grid.onHeaderCellRendered,this.handleHeaderCellRendered.bind(this)),this._eventHandler.subscribe(this.grid.onBeforeHeaderCellDestroy,this.handleBeforeHeaderCellDestroy.bind(this)),this.grid.setColumns(this.grid.getColumns()),this._bindEventService.bind(document.body,"mousedown",this.handleBodyMouseDown.bind(this))}dispose(){var i;super.dispose(),this._menuElm=this._menuElm||document.body.querySelector(`.slick-header-menu${this.gridUidSelector}`),null===(i=this._menuElm)||void 0===i||i.remove(),this._activeHeaderColumnElm=void 0}hideColumn(i){var t,u,g;if(null===(u=null===(t=this.sharedService)||void 0===t?void 0:t.slickGrid)||void 0===u?void 0:u.getColumnIndex){const C=this.sharedService.slickGrid.getColumnIndex(i.id),D=this.sharedService.slickGrid.getColumns(),B=null!==(g=this.sharedService.gridOptions.frozenColumn)&&void 0!==g?g:-1;B>=0&&B>=C&&(this.sharedService.gridOptions.frozenColumn=B-1,this.sharedService.slickGrid.setOptions({frozenColumn:this.sharedService.gridOptions.frozenColumn}));const J=Nt(D,C);this.sharedService.visibleColumns=J,this.sharedService.slickGrid.setColumns(J),this.pubSubService.publish("onHeaderMenuHideColumns",{columns:J,hiddenColumn:i})}}hideMenu(){var i,t;null===(i=this._menuElm)||void 0===i||i.remove(),this._menuElm=void 0,null===(t=this._activeHeaderColumnElm)||void 0===t||t.classList.remove("slick-header-column-active")}showMenu(i,t,u){var g,C,D;const B={grid:this.grid,column:t,menu:u};"function"==typeof i.stopPropagation&&(this.pubSubService.publish("onHeaderMenuBeforeMenuShow",B),"function"==typeof(null===(g=this.addonOptions)||void 0===g?void 0:g.onBeforeMenuShow)&&!1===(null===(C=this.addonOptions)||void 0===C?void 0:C.onBeforeMenuShow(i,B)))||(this._menuElm||(this._menuElm=Wt("div",{className:"slick-header-menu",style:{minWidth:`${this.addonOptions.minWidth}px`}}),this._menuElm.setAttribute("aria-expanded","true"),null===(D=this.grid.getContainerNode())||void 0===D||D.appendChild(this._menuElm)),di(this._menuElm),this.populateHeaderMenuCommandList(i,u,B))}translateHeaderMenu(){var i;(null===(i=this.sharedService.gridOptions)||void 0===i?void 0:i.headerMenu)&&this.resetHeaderMenuTranslations(this.sharedService.visibleColumns)}handleHeaderCellRendered(i,t){var u;const g=t.column,C=null===(u=g.header)||void 0===u?void 0:u.menu;if(C&&t.node){if(!this.extensionUtility.runOverrideFunctionWhenExists(this.addonOptions.menuUsabilityOverride,t))return;const D=Wt("div",{className:"slick-header-menu-button"});this.addonOptions.buttonCssClass&&D.classList.add(...this.addonOptions.buttonCssClass.split(" ")),this.addonOptions.tooltip&&(D.title=this.addonOptions.tooltip),t.node.appendChild(D),this._bindEventService.bind(D,"click",B=>this.showMenu(B,g,C))}}handleBeforeHeaderCellDestroy(i,t){var u;(null===(u=t.column.header)||void 0===u?void 0:u.menu)&&t.node.querySelectorAll(".slick-header-menu-button").forEach(C=>C.remove())}handleBodyMouseDown(i){var t;(this._menuElm!==i.target&&!(null===(t=this._menuElm)||void 0===t?void 0:t.contains(i.target))||"close"===i.target.className)&&this.hideMenu()}handleMenuItemCommandClick(i,t,u,g){var C;if("divider"===u||u.command&&(u.disabled||u.divider))return!1;const D={grid:this.grid,command:u.command,column:g,item:u};this.executeHeaderMenuInternalCommands(i,D),this.pubSubService.publish("onHeaderMenuCommand",D),"function"==typeof(null===(C=this.addonOptions)||void 0===C?void 0:C.onCommand)&&this.addonOptions.onCommand(i,D),"function"==typeof u.action&&u.action.call(this,i,D),i.defaultPrevented||this.hideMenu(),i.preventDefault(),i.stopPropagation()}addHeaderMenuCustomCommands(i){const t=this.sharedService.gridOptions,u=t.headerMenu||{},g=pe(t);return Array.isArray(i)&&t.enableHeaderMenu&&i.forEach(C=>{var D,B,J;if(C&&!C.excludeFromHeaderMenu){C.header?C.header.menu||(C.header.menu={items:[]}):C.header={menu:{items:[]}};const ie=null!==(J=null===(B=null===(D=null==C?void 0:C.header)||void 0===D?void 0:D.menu)||void 0===B?void 0:B.items)&&void 0!==J?J:[];let le=!1;u&&!u.hideFreezeColumnsCommand&&(le=!0,ie.some(De=>"divider"!==De&&"freeze-columns"===(null==De?void 0:De.command))||ie.push({iconCssClass:u.iconFreezeColumns||"fa fa-thumb-tack",titleKey:`${g}FREEZE_COLUMNS`,command:"freeze-columns",positionOrder:47})),u&&!u.hideColumnResizeByContentCommand&&this.sharedService.gridOptions.enableColumnResizeOnDoubleClick&&(le=!0,ie.some(De=>"divider"!==De&&"column-resize-by-content"===(null==De?void 0:De.command))||ie.push({iconCssClass:u.iconColumnResizeByContentCommand||"fa fa-arrows-h",titleKey:`${g}COLUMN_RESIZE_BY_CONTENT`,command:"column-resize-by-content",positionOrder:48})),le&&!ie.some(De=>"divider"!==De&&49===De.positionOrder)&&ie.push({divider:!0,command:"",positionOrder:49}),t.enableSorting&&C.sortable&&u&&!u.hideSortCommands&&(ie.some(De=>"divider"!==De&&"sort-asc"===(null==De?void 0:De.command))||ie.push({iconCssClass:u.iconSortAscCommand||"fa fa-sort-asc",titleKey:`${g}SORT_ASCENDING`,command:"sort-asc",positionOrder:50}),ie.some(De=>"divider"!==De&&"sort-desc"===(null==De?void 0:De.command))||ie.push({iconCssClass:u.iconSortDescCommand||"fa fa-sort-desc",titleKey:`${g}SORT_DESCENDING`,command:"sort-desc",positionOrder:51}),ie.some(De=>"divider"!==De&&52===De.positionOrder)||ie.push({divider:!0,command:"",positionOrder:52}),!u.hideClearSortCommand&&!ie.some(De=>"divider"!==De&&"clear-sort"===(null==De?void 0:De.command))&&ie.push({iconCssClass:u.iconClearSortCommand||"fa fa-unsorted",titleKey:`${g}REMOVE_SORT`,command:"clear-sort",positionOrder:54})),t.enableFiltering&&C.filterable&&u&&!u.hideFilterCommand&&!u.hideClearFilterCommand&&!ie.some(De=>"divider"!==De&&"clear-filter"===(null==De?void 0:De.command))&&ie.push({iconCssClass:u.iconClearFilterCommand||"fa fa-filter",titleKey:`${g}REMOVE_FILTER`,command:"clear-filter",positionOrder:53}),u&&!u.hideColumnHideCommand&&!ie.some(De=>"divider"!==De&&"hide-column"===(null==De?void 0:De.command))&&ie.push({iconCssClass:u.iconColumnHideCommand||"fa fa-times",titleKey:`${g}HIDE_COLUMN`,command:"hide-column",positionOrder:55}),this.extensionUtility.translateMenuItemsFromTitleKey(ie),this.extensionUtility.sortItems(ie,"positionOrder")}}),u}clearColumnFilter(i,t){(null==t?void 0:t.column)&&this.filterService.clearFilterByColumnId(i,t.column.id)}clearColumnSort(i,t){(null==t?void 0:t.column)&&this.sharedService&&this.sortService.clearSortByColumnId(i,t.column.id)}executeHeaderMenuInternalCommands(i,t){var u;if(null==t?void 0:t.command)switch(t.command){case"hide-column":this.hideColumn(t.column),(null===(u=this.sharedService.gridOptions)||void 0===u?void 0:u.enableAutoSizeColumns)&&this.sharedService.slickGrid.autosizeColumns();break;case"clear-filter":this.clearColumnFilter(i,t);break;case"clear-sort":this.clearColumnSort(i,t);break;case"column-resize-by-content":this.pubSubService.publish("onHeaderMenuColumnResizeByContent",{columnId:t.column.id});break;case"freeze-columns":const g=[...this.sharedService.visibleColumns],D={frozenColumn:g.findIndex(le=>le.id===t.column.id),enableMouseWheelScrollHandler:!0},B=this.sharedService.slickGrid.getColumns();this.sharedService.slickGrid.setOptions(D,!1,!0),this.sharedService.gridOptions.frozenColumn=D.frozenColumn,this.sharedService.gridOptions.enableMouseWheelScrollHandler=D.enableMouseWheelScrollHandler,this.sharedService.frozenVisibleColumnId=t.column.id,this.sharedService.hasColumnsReordered||Array.isArray(g)&&Array.isArray(this.sharedService.allColumns)&&g.length!==this.sharedService.allColumns.length?this.sharedService.slickGrid.setColumns(g):this.sharedService.slickGrid.setColumns(B),this.sharedService.slickGrid.getOptions().enableAutoSizeColumns&&this.sharedService.slickGrid.autosizeColumns();break;case"sort-asc":case"sort-desc":const ie="sort-asc"===t.command;this.sortColumn(i,t,ie)}}populateHeaderMenuCommandList(i,t,u){var g,C;this.populateCommandOrOptionItems("command",this.addonOptions,this._menuElm,t.items,u,this.handleMenuItemCommandClick),this.repositionMenu(i),this.pubSubService.publish("onHeaderMenuAfterMenuShow",u),("function"!=typeof(null===(g=this.addonOptions)||void 0===g?void 0:g.onAfterMenuShow)||!1!==(null===(C=this.addonOptions)||void 0===C?void 0:C.onAfterMenuShow(i,u)))&&(i.preventDefault(),i.stopPropagation())}repositionMenu(i){var t,u,g,C,D,B,J,ie;const le=i.target;if(this._menuElm&&le.classList.contains("slick-header-menu-button")){const De=function(W,i){if(!W||!i)return;const t=W.getBoundingClientRect(),u=i.getBoundingClientRect();return{top:u.top-t.top,right:u.right-t.right,bottom:u.bottom-t.bottom,left:u.left-t.left}}(this.sharedService.gridContainerElement,le);let Ne=null!==(t=null==De?void 0:De.left)&&void 0!==t?t:0;if(this.addonOptions.autoAlign){const Ze=this.grid.getGridPosition();(null==Ze?void 0:Ze.width)&&Ne+(null!==(u=this._menuElm.clientWidth)&&void 0!==u?u:0)>=Ze.width&&(Ne=Ne+le.clientWidth-this._menuElm.clientWidth+(null!==(C=null===(g=this.addonOptions)||void 0===g?void 0:g.autoAlignOffset)&&void 0!==C?C:0))}this._menuElm.style.top=`${(null!==(D=null==De?void 0:De.top)&&void 0!==D?D:0)+(null!==(J=null===(B=this.addonOptions)||void 0===B?void 0:B.menuOffsetTop)&&void 0!==J?J:0)+le.clientHeight}px`,this._menuElm.style.left=`${Ne}px`,this._activeHeaderColumnElm=this._menuElm.closest(".slick-header-column"),null===(ie=this._activeHeaderColumnElm)||void 0===ie||ie.classList.add("slick-header-column-active")}}resetHeaderMenuTranslations(i){i.forEach(t=>{var u,g;if((null===(g=null===(u=null==t?void 0:t.header)||void 0===u?void 0:u.menu)||void 0===g?void 0:g.items)&&!t.excludeFromHeaderMenu){const C=t.header.menu.items||[];this.extensionUtility.translateMenuItemsFromTitleKey(C)}})}sortColumn(i,t,u=!0){if(null==t?void 0:t.column){const g=t.column,C=this.sharedService.gridOptions.multiColumnSort?this.sortService.getCurrentColumnSorts(g.id+""):[];let D=v.local;C.push({columnId:g.id,sortCol:g,sortAsc:u}),this.sharedService.gridOptions.backendServiceApi?(this.sortService.onBackendSortChanged(i,{multiColumnSort:!0,sortCols:C,grid:this.sharedService.slickGrid}),D=v.remote):this.sharedService.dataView?(this.sortService.onLocalSortChanged(this.sharedService.slickGrid,C),D=v.local):t.grid.onSort.notify(C);const B=C.map(J=>{var ie,le,De;return{columnId:null!==(le=null===(ie=null==J?void 0:J.sortCol)||void 0===ie?void 0:ie.id)&&void 0!==le?le:"",sortAsc:null===(De=null==J?void 0:J.sortAsc)||void 0===De||De}});if(this.sharedService.slickGrid.setSortColumns(B),D){const J=[];B.forEach(ie=>{J.push({columnId:`${ie.columnId}`,direction:ie.sortAsc?"ASC":"DESC"})}),this.sortService.emitSortChanged(D,J)}}}}class Ji{constructor(){this._dragging=!1,this._handler=new Slick.EventHandler,this._defaults={columnId:"_move",cssClass:"slick-row-move-column",cancelEditOnDrag:!1,disableRowSelection:!1,hideRowMoveShadow:!0,rowMoveShadowMarginTop:0,rowMoveShadowMarginLeft:0,rowMoveShadowOpacity:.9,rowMoveShadowScale:.75,singleRowMove:!1,width:40},this.onBeforeMoveRows=new Slick.Event,this.onMoveRows=new Slick.Event,this.pluginName="RowMoveManager",this._eventHandler=new Slick.EventHandler}get addonOptions(){return this._addonOptions}get eventHandler(){return this._eventHandler}get gridOptions(){var i,t,u;return null!==(u=null===(t=null===(i=this._grid)||void 0===i?void 0:i.getOptions)||void 0===t?void 0:t.call(i))&&void 0!==u?u:{}}init(i,t){this._addonOptions=tn(tn({},this._defaults),t),this._grid=i,this._canvas=this._grid.getCanvasNode(),this._addonOptions&&"function"==typeof this._addonOptions.usabilityOverride&&this.usabilityOverride(this._addonOptions.usabilityOverride),this._eventHandler.subscribe(this._grid.onDragInit,this.handleDragInit.bind(this)).subscribe(this._grid.onDragStart,this.handleDragStart.bind(this)).subscribe(this._grid.onDrag,this.handleDrag.bind(this)).subscribe(this._grid.onDragEnd,this.handleDragEnd.bind(this))}dispose(){var i;null===(i=this._eventHandler)||void 0===i||i.unsubscribeAll()}create(i,t){var u,g;if(this._addonOptions=tn(tn({},this._defaults),t.rowMoveManager),Array.isArray(i)&&t){const C=this.getColumnDefinition(),B=Array.isArray(i)&&i.find(ie=>ie&&"selectAndMove"===ie.behavior)||C,J=null!==(g=null===(u=null==t?void 0:t.rowMoveManager)||void 0===u?void 0:u.columnIndexPosition)&&void 0!==g?g:0;J>0?i.splice(J,0,B):i.unshift(B)}return this}getColumnDefinition(){return{id:this._addonOptions.columnId||"_move",name:"",behavior:"selectAndMove",cssClass:this._addonOptions.cssClass,excludeFromExport:!0,excludeFromColumnPicker:!0,excludeFromGridMenu:!0,excludeFromQuery:!0,excludeFromHeaderMenu:!0,field:"move",resizable:!1,selectable:!1,width:this._addonOptions.width||40,formatter:this.moveIconFormatter.bind(this)}}usabilityOverride(i){this._usabilityOverride=i}setOptions(i){this._addonOptions=tn(tn({},this._addonOptions),i)}handleDragInit(i){i.stopImmediatePropagation()}handleDragEnd(i,t){var u,g,C;if(this._dragging&&(this._dragging=!1,i.stopImmediatePropagation(),null===(u=t.guide)||void 0===u||u.remove(),null===(g=t.selectionProxy)||void 0===g||g.remove(),null===(C=t.clonedSlickRow)||void 0===C||C.remove(),t.canMove)){const D={grid:this._grid,rows:t.selectedRows,insertBefore:t.insertBefore};"function"==typeof this._addonOptions.onMoveRows&&this._addonOptions.onMoveRows(i,D),this.onMoveRows.notify(D)}}handleDrag(i,t){var u,g,C,D;if(this._dragging){i.stopImmediatePropagation();const B=i.pageY-(null!==(g=null===(u=_r(this._canvas))||void 0===u?void 0:u.top)&&void 0!==g?g:0);t.selectionProxy.style.top=B-5+"px",t.selectionProxy.style.display="block",t.clonedSlickRow&&(t.clonedSlickRow.style.top=B-6+"px",t.clonedSlickRow.style.display="block");const J=Math.max(0,Math.min(Math.round(B/(this.gridOptions.rowHeight||0)),this._grid.getDataLength()));if(J!==t.insertBefore){const ie={grid:this._grid,rows:t.selectedRows,insertBefore:J};if(!1===(null===(D=null===(C=this._addonOptions)||void 0===C?void 0:C.onBeforeMoveRows)||void 0===D?void 0:D.call(C,i,ie))||!1===this.onBeforeMoveRows.notify(ie)?t.canMove=!1:t.canMove=!0,this._usabilityOverride&&t.canMove){const le=this._grid.getDataItem(J);t.canMove=this.checkUsabilityOverride(J,le,this._grid)}t.canMove?t.guide.style.top=J*(this.gridOptions.rowHeight||0)+"px":t.guide.style.top="-1000px",t.insertBefore=J}}}handleDragStart(i,t){var u,g,C,D,B,J,ie;const le=this._grid.getCellFromEvent(i)||{cell:-1,row:-1},De=le.row,Ne=this._grid.getDataItem(De);if(this.checkUsabilityOverride(De,Ne,this._grid)){if(this._addonOptions.cancelEditOnDrag&&this._grid.getEditorLock().isActive()&&this._grid.getEditorLock().cancelCurrentEdit(),this._grid.getEditorLock().isActive()||!/move|selectAndMove/.test(this._grid.getColumns()[le.cell].behavior||""))return!1;if(this._dragging=!0,i.stopImmediatePropagation(),!this.addonOptions.hideRowMoveShadow){const Ct=null===(u=this._grid.getCellNode(le.row,le.cell))||void 0===u?void 0:u.closest(".slick-row");Ct&&(t.clonedSlickRow=Ct.cloneNode(!0),t.clonedSlickRow.classList.add("slick-reorder-shadow-row"),t.clonedSlickRow.style.display="none",t.clonedSlickRow.style.marginLeft=sr(null===(g=this._addonOptions)||void 0===g?void 0:g.rowMoveShadowMarginLeft,"0px"),t.clonedSlickRow.style.marginTop=sr(null===(C=this._addonOptions)||void 0===C?void 0:C.rowMoveShadowMarginTop,"0px"),t.clonedSlickRow.style.opacity=`${null!==(B=null===(D=this._addonOptions)||void 0===D?void 0:D.rowMoveShadowOpacity)&&void 0!==B?B:.95}`,t.clonedSlickRow.style.transform=`scale(${null!==(ie=null===(J=this.addonOptions)||void 0===J?void 0:J.rowMoveShadowScale)&&void 0!==ie?ie:.75})`,this._canvas.appendChild(t.clonedSlickRow))}let Ze=this._addonOptions.singleRowMove?[le.row]:this._grid.getSelectedRows();(0===Ze.length||!Ze.some(Ct=>Ct===le.row))&&(Ze=[le.row],this._addonOptions.disableRowSelection||this._grid.setSelectedRows(Ze));const ht=this.gridOptions.rowHeight;t.selectedRows=Ze,t.selectionProxy=Wt("div",{className:"slick-reorder-proxy",style:{display:"none",position:"absolute",zIndex:"99999",width:`${this._canvas.clientWidth}px`,height:ht*Ze.length+"px"}}),this._canvas.appendChild(t.selectionProxy),t.guide=Wt("div",{className:"slick-reorder-guide",style:{position:"absolute",zIndex:"99999",width:`${this._canvas.clientWidth}px`,top:"-1000px"}}),this._canvas.appendChild(t.guide),t.insertBefore=-1}}checkUsabilityOverride(i,t,u){return"function"!=typeof this._usabilityOverride||this._usabilityOverride(i,t,u)}moveIconFormatter(i,t,u,g,C,D){return this.checkUsabilityOverride(i,C,D)?{addClasses:"cell-reorder dnd",text:""}:""}}class wi{constructor(i,t,u,g,C,D,B){this.extensionUtility=i,this.filterService=t,this.pubSubService=u,this.sharedService=g,this.sortService=C,this.treeDataService=D,this.translaterService=B,this._extensionCreatedList={},this._extensionList={}}get extensionList(){return this._extensionList}get gridOptions(){return this.sharedService.gridOptions||{}}dispose(){var i;this.sharedService.visibleColumns=[];for(const t of Object.keys(this._extensionList))if(this._extensionList.hasOwnProperty(t)){const u=this._extensionList[t];(null===(i=null==u?void 0:u.instance)||void 0===i?void 0:i.dispose)&&u.instance.dispose()}for(const t of Object.keys(this._extensionList))delete this._extensionList[t]}addExtensionToList(i,t){this._extensionList[i]=t}getAllColumns(){return this.sharedService.allColumns||[]}getVisibleColumns(){return this.sharedService.visibleColumns||[]}getCreatedExtensionByName(i){var t;if(null===(t=this._extensionCreatedList)||void 0===t?void 0:t.hasOwnProperty(i))return this._extensionCreatedList[i]}getExtensionByName(i){var t;return null===(t=this._extensionList)||void 0===t?void 0:t[i]}getExtensionInstanceByName(i){var t;return null===(t=this.getExtensionByName(i))||void 0===t?void 0:t.instance}autoResizeColumns(){this.sharedService.slickGrid.autosizeColumns()}bindDifferentExtensions(){var i,t,u,g,C,D,B,J,ie;if(this.gridOptions){if(this.gridOptions.enableTranslate&&this.translateItems(this.sharedService.allColumns,"nameKey","name"),this.gridOptions.enableAutoTooltip){const le=new ur(null===(i=this.gridOptions)||void 0===i?void 0:i.autoTooltipOptions);this.sharedService.slickGrid.registerPlugin(le),this._extensionList[G.autoTooltip]={name:G.autoTooltip,instance:le}}if(this.gridOptions.enableExcelCopyBuffer&&(this._cellExcelCopyManagerPlugin=new io,this._cellExcelCopyManagerPlugin.init(this.sharedService.slickGrid,this.sharedService.gridOptions.excelCopyBufferOptions),(null===(t=this.gridOptions.excelCopyBufferOptions)||void 0===t?void 0:t.onExtensionRegistered)&&this.gridOptions.excelCopyBufferOptions.onExtensionRegistered(this._cellExcelCopyManagerPlugin),this._extensionList[G.cellExternalCopyManager]={name:G.cellExternalCopyManager,instance:this._cellExcelCopyManagerPlugin}),this.gridOptions.enableCellMenu&&(this._cellMenuPlugin=new Eo(this.extensionUtility,this.pubSubService,this.sharedService),(null===(u=this.gridOptions.cellMenu)||void 0===u?void 0:u.onExtensionRegistered)&&this.gridOptions.cellMenu.onExtensionRegistered(this._cellMenuPlugin),this._extensionList[G.cellMenu]={name:G.cellMenu,instance:this._cellMenuPlugin}),!this._rowSelectionModel&&(this.gridOptions.enableRowSelection||this.gridOptions.enableCheckboxSelector||this.sharedService.gridOptions.enableRowDetailView||this.sharedService.gridOptions.enableRowMoveManager)&&((!this._rowSelectionModel||!this.sharedService.slickGrid.getSelectionModel())&&(this._rowSelectionModel=new ue(this.sharedService.gridOptions.rowSelectionOptions),this.sharedService.slickGrid.setSelectionModel(this._rowSelectionModel)),this._extensionList[G.rowSelection]={name:G.rowSelection,instance:this._rowSelectionModel}),this.gridOptions.enableCheckboxSelector){this._checkboxSelectColumn=this._checkboxSelectColumn||new ve(this.sharedService.gridOptions.checkboxSelector),this._checkboxSelectColumn.init(this.sharedService.slickGrid);const le=this.getCreatedExtensionByName(G.checkboxSelector);le&&le.instance&&(this._extensionList[G.checkboxSelector]={name:G.checkboxSelector,instance:this._checkboxSelectColumn})}if(this.gridOptions.enableColumnPicker&&(this._columnPickerControl=new P(this.extensionUtility,this.pubSubService,this.sharedService),(null===(g=this.gridOptions.columnPicker)||void 0===g?void 0:g.onExtensionRegistered)&&this.gridOptions.columnPicker.onExtensionRegistered(this._columnPickerControl),this._extensionList[G.columnPicker]={name:G.columnPicker,instance:this._columnPickerControl}),this.gridOptions.enableContextMenu&&(this._contextMenuPlugin=new Zi(this.extensionUtility,this.pubSubService,this.sharedService,this.treeDataService),(null===(C=this.gridOptions.contextMenu)||void 0===C?void 0:C.onExtensionRegistered)&&this.gridOptions.contextMenu.onExtensionRegistered(this._contextMenuPlugin),this._extensionList[G.contextMenu]={name:G.contextMenu,instance:this._contextMenuPlugin}),this.gridOptions.enableDraggableGrouping&&(this._draggleGroupingPlugin&&(this._draggleGroupingPlugin.init(this.sharedService.slickGrid,this.gridOptions.draggableGrouping),(null===(D=this.gridOptions.draggableGrouping)||void 0===D?void 0:D.onExtensionRegistered)&&this.gridOptions.draggableGrouping.onExtensionRegistered(this._draggleGroupingPlugin),this._extensionList[G.contextMenu]={name:G.contextMenu,instance:this._draggleGroupingPlugin}),this._extensionList[G.draggableGrouping]={name:G.draggableGrouping,instance:this._draggleGroupingPlugin}),this.gridOptions.enableGridMenu&&(this._gridMenuControl=new Ve(this.extensionUtility,this.filterService,this.pubSubService,this.sharedService,this.sortService),(null===(B=this.gridOptions.gridMenu)||void 0===B?void 0:B.onExtensionRegistered)&&this.gridOptions.gridMenu.onExtensionRegistered(this._gridMenuControl),this._extensionList[G.gridMenu]={name:G.gridMenu,instance:this._gridMenuControl}),(this.gridOptions.enableDraggableGrouping||this.gridOptions.enableGrouping)&&(this._groupItemMetadataProviderService=this._groupItemMetadataProviderService?this._groupItemMetadataProviderService:new ci,this._groupItemMetadataProviderService.init(this.sharedService.slickGrid),this._extensionList[G.groupItemMetaProvider]={name:G.groupItemMetaProvider,instance:this._groupItemMetadataProviderService}),this.gridOptions.enableHeaderButton){const le=new _i(this.extensionUtility,this.pubSubService,this.sharedService);(null===(J=this.gridOptions.headerButton)||void 0===J?void 0:J.onExtensionRegistered)&&this.gridOptions.headerButton.onExtensionRegistered(le),this._extensionList[G.headerButton]={name:G.headerButton,instance:le}}if(this.gridOptions.enableHeaderMenu&&(this._headerMenuPlugin=new wr(this.extensionUtility,this.filterService,this.pubSubService,this.sharedService,this.sortService),(null===(ie=this.gridOptions.headerMenu)||void 0===ie?void 0:ie.onExtensionRegistered)&&this.gridOptions.headerMenu.onExtensionRegistered(this._headerMenuPlugin),this._extensionList[G.headerMenu]={name:G.headerMenu,instance:this._headerMenuPlugin}),this.gridOptions.enableRowMoveManager){this._rowMoveManagerPlugin=this._rowMoveManagerPlugin||new Ji,this._rowMoveManagerPlugin.init(this.sharedService.slickGrid,this.sharedService.gridOptions.rowMoveManager),(!this._rowSelectionModel||!this.sharedService.slickGrid.getSelectionModel())&&(this._rowSelectionModel=new ue(this.sharedService.gridOptions.rowSelectionOptions),this.sharedService.slickGrid.setSelectionModel(this._rowSelectionModel));const le=this.getCreatedExtensionByName(G.rowMoveManager);(null==le?void 0:le.instance)&&(this._extensionList[G.rowMoveManager]={name:G.rowMoveManager,instance:this._rowMoveManagerPlugin})}}}createExtensionsBeforeGridCreation(i,t){var u,g,C,D;const B=[];t.enableCheckboxSelector&&(this.getCreatedExtensionByName(G.checkboxSelector)||(this._checkboxSelectColumn=new ve(this.sharedService.gridOptions.checkboxSelector),B.push({name:G.checkboxSelector,extension:this._checkboxSelectColumn,columnIndexPosition:null!==(g=null===(u=null==t?void 0:t.checkboxSelector)||void 0===u?void 0:u.columnIndexPosition)&&void 0!==g?g:B.length}))),t.enableRowMoveManager&&(this.getCreatedExtensionByName(G.rowMoveManager)||(this._rowMoveManagerPlugin=new Ji,B.push({name:G.rowMoveManager,extension:this._rowMoveManagerPlugin,columnIndexPosition:null!==(D=null===(C=null==t?void 0:t.rowMoveManager)||void 0===C?void 0:C.columnIndexPosition)&&void 0!==D?D:B.length}))),this.createExtensionByTheirColumnIndex(B,i,t),t.enableDraggableGrouping&&(this.getCreatedExtensionByName(G.draggableGrouping)||(this._draggleGroupingPlugin=new Ir(this.extensionUtility,this.pubSubService,this.sharedService),this._draggleGroupingPlugin&&(t.enableColumnReorder=this._draggleGroupingPlugin.setupColumnReorder,this._extensionCreatedList[G.draggableGrouping]={name:G.draggableGrouping,instance:this._draggleGroupingPlugin})))}hideColumn(i){var t,u;if("function"==typeof(null===(u=null===(t=this.sharedService)||void 0===t?void 0:t.slickGrid)||void 0===u?void 0:u.getColumns)){const g=this.sharedService.slickGrid.getColumnIndex(i.id);this.sharedService.visibleColumns=this.removeColumnByIndex(this.sharedService.slickGrid.getColumns(),g),this.sharedService.slickGrid.setColumns(this.sharedService.visibleColumns)}}refreshBackendDataset(i){this.extensionUtility.refreshBackendDataset(i)}removeColumnByIndex(i,t){return Array.isArray(i)?i.filter((u,g)=>t!==g):i}translateAllExtensions(){this.translateCellMenu(),this.translateColumnHeaders(),this.translateColumnPicker(),this.translateContextMenu(),this.translateGridMenu(),this.translateHeaderMenu()}translateCellMenu(){var i,t;null===(t=null===(i=this._cellMenuPlugin)||void 0===i?void 0:i.translateCellMenu)||void 0===t||t.call(i)}translateColumnPicker(){var i;(null===(i=this._columnPickerControl)||void 0===i?void 0:i.translateColumnPicker)&&this._columnPickerControl.translateColumnPicker()}translateContextMenu(){var i,t;null===(t=null===(i=this._contextMenuPlugin)||void 0===i?void 0:i.translateContextMenu)||void 0===t||t.call(i)}translateGridMenu(){var i,t;null===(t=null===(i=this._gridMenuControl)||void 0===i?void 0:i.translateGridMenu)||void 0===t||t.call(i)}translateHeaderMenu(){var i,t;null===(t=null===(i=this._headerMenuPlugin)||void 0===i?void 0:i.translateHeaderMenu)||void 0===t||t.call(i)}translateColumnHeaders(i,t){var u,g,C;if(this.sharedService&&this.gridOptions&&this.gridOptions.enableTranslate&&(!this.translaterService||!this.translaterService.translate))throw new Error('[Slickgrid-Universal] requires a Translate Service to be installed and configured when the grid option "enableTranslate" is enabled.');i&&(null===(u=this.translaterService)||void 0===u?void 0:u.use)&&this.translaterService.use(i);let D=t;D||(D=this.sharedService.columnDefinitions),this.translateItems(D,"nameKey","name"),this.translateItems(this.sharedService.allColumns,"nameKey","name"),this.renderColumnHeaders(D,Array.isArray(t)),null===(C=null===(g=this._gridMenuControl)||void 0===g?void 0:g.translateGridMenu)||void 0===C||C.call(g)}renderColumnHeaders(i,t=!1){var u;let g=i;g||(g=this.sharedService.columnDefinitions),Array.isArray(g)&&this.sharedService.slickGrid&&this.sharedService.slickGrid.setColumns&&((g.length>this.sharedService.allColumns.length||t)&&(this.sharedService.allColumns=g),this.sharedService.slickGrid.setColumns(g)),this.gridOptions.enableColumnPicker&&this._columnPickerControl&&(this._columnPickerControl.columns=this.sharedService.allColumns),this.gridOptions.enableGridMenu&&this._gridMenuControl&&(this._gridMenuControl.columns=null!==(u=this.sharedService.allColumns)&&void 0!==u?u:[],this._gridMenuControl.recreateGridMenu())}createExtensionByTheirColumnIndex(i,t,u){i.sort((g,C)=>g.columnIndexPosition-C.columnIndexPosition),i.forEach(g=>{const C=g.extension.create(t,u);C&&(this._extensionCreatedList[g.name]={name:g.name,instance:C})})}translateItems(i,t,u){var g,C,D;if((null===(g=this.gridOptions)||void 0===g?void 0:g.enableTranslate)&&!(null===(C=this.translaterService)||void 0===C?void 0:C.translate))throw new Error('[Slickgrid-Universal] requires a Translate Service to be installed and configured when the grid option "enableTranslate" is enabled.');if(Array.isArray(i))for(const B of i)B[t]&&(B[u]=null===(D=this.translaterService)||void 0===D?void 0:D.translate(B[t]))}}var mo=L(1107);function ra(W,i,t){if(t&&((null==W?void 0:W.hasOwnProperty(t))||(null==i?void 0:i.hasOwnProperty(t))))return W[t]===i||W===i[t]||W[t]===i[t];for(const u in W)if(W.hasOwnProperty(u)&&W[u]!==i[u])return!1;return!0}const Co=(W,i,t)=>{switch(W.toUpperCase()){case"<":case"LT":return i<t;case"<=":case"LE":return i<=t;case">":case"GT":return i>t;case">=":case"GE":return i>=t;case"!=":case"<>":case"NE":return i!==t;case"=":case"==":case"EQ":return i===t;case"IN":return!(!t||!Array.isArray(t))&&t.includes(i);case"NIN":case"NOT_IN":return!(!t||!Array.isArray(t))&&!t.includes(i);case"IN_CONTAINS":return!(!t||!Array.isArray(t)||"string"!=typeof i)&&t.some(u=>i.split(/[,]+/).map(g=>g.trim()).includes(u));case"NIN_CONTAINS":case"NOT_IN_CONTAINS":return!(!t||!Array.isArray(t)||"string"!=typeof i)&&!t.some(u=>i.split(/[,]+/).map(g=>g.trim()).includes(u));case"IN_COLLECTION":return!!(i&&t&&Array.isArray(i)&&Array.isArray(t))&&t.some(u=>i.includes(u));case"NOT_IN_COLLECTION":return!!(i&&t&&Array.isArray(i)&&Array.isArray(t))&&!t.some(u=>i.includes(u))}return!0},Oo=(W,i)=>{var t;let[u,g]=i;if(void 0===u&&!W.operator)return!0;W.cellValue=void 0===W.cellValue||null===W.cellValue?"":W.cellValue.toString();const C=(null==W?void 0:W.ignoreAccentOnStringFilterAndSort)?It(W.cellValue,!0):W.cellValue.toLowerCase();if("string"==typeof u&&(u=(null==W?void 0:W.ignoreAccentOnStringFilterAndSort)?It(u,!0):u.toLowerCase()),"string"==typeof g&&(g=(null==W?void 0:W.ignoreAccentOnStringFilterAndSort)?It(g,!0):g.toLowerCase()),void 0!==u&&void 0!==g){let B=null!==(t=null==W?void 0:W.operator)&&void 0!==t?t:W.defaultFilterRangeOperator;B!==ze.rangeInclusive&&B!==ze.rangeExclusive&&(B=W.defaultFilterRangeOperator);const J=B===ze.rangeInclusive,ie=wo(J?">=":">",C,u,W.searchInputLastChar),le=wo(J?"<=":"<",C,g,W.searchInputLastChar);return ie&&le}return wo(W.operator,C,u,W.searchInputLastChar)};function wo(W,i,t,u){return"*"===W||W===ze.endsWith||"*z"===W?i.endsWith(t):""===W&&"*"===u||W===ze.startsWith||"a*"===W?i.startsWith(t):""===W||W===ze.contains?i.indexOf(t)>-1:"<>"===W||W===ze.notContains?-1===i.indexOf(t):Co(W||"==",i,t)}const Un=(W,i)=>{var t;const u=parseFloat(W.cellValue),[g,C]=i;if(void 0===g&&!W.operator)return!0;if(void 0!==g&&void 0!==C){let D=null!==(t=null==W?void 0:W.operator)&&void 0!==t?t:W.defaultFilterRangeOperator;D!==ze.rangeInclusive&&D!==ze.rangeExclusive&&(D=W.defaultFilterRangeOperator);const B=D===ze.rangeInclusive,J=Co(B?">=":">",u,+g),ie=Co(B?"<=":"<",u,+C);return J&&ie}return Co(W.operator||"==",u,+g)};const ha=(W,i)=>Fe(W.cellValue)===Fe(i);const za=W=>{const i=W.operator;let t;return t=!Array.isArray(W.cellValue)||"IN_COLLECTION"!==i&&"NOT_IN_COLLECTION"!==i?void 0===W.cellValue||null===W.cellValue?"":`${W.cellValue}`:W.cellValue.length?W.cellValue.map(u=>`${u}`):[],Co(i||"IN",t,W.searchTerms||[])},bi=te()||be;function Ys(W,i){let u;switch(Hr(i)){case"boolean":u=function(W){return Fe(Array.isArray(W)&&W[0]||!1)}(W);break;case"date":u=function(W,i){const t=Array.isArray(W)&&W||[],g=xe(i||Ee.dateIso),C=[];if(2===t.length||"string"==typeof t[0]&&t[0].indexOf("..")>0){const D=2===t.length?t:t[0].split(".."),B=Array.isArray(D)&&D[0]||"",J=Array.isArray(D)&&D[1]||"",ie=bi(B,g,!0),le=bi(J,g,!0);if(!ie.isValid()||!le.isValid())return[];C.push(ie,le)}else{const D=bi(t[0],g,!0);if(!D.isValid())return[];C.push(D)}return C}(W,i);break;case"number":u=function(W){const t=Array.isArray(W)&&W||[0],u=[];let g,C;if(2===t.length||"string"==typeof t[0]&&t[0].indexOf("..")>0){const D=2===t.length?t:t[0].split("..");g=parseFloat(Array.isArray(D)?D[0]:""),C=parseFloat(Array.isArray(D)?D[1]:"")}else g=parseFloat(t[0]);return We(g,!0)&&We(C,!0)?u.push(g,C):We(g,!0)&&u.push(g),u}(W);break;case"object":u=function(W){return(Array.isArray(W)&&W.length>0?W[0]:"")||""}(W);break;case"string":u=function(W){const t=Array.isArray(W)&&W||[""],u=[];let g,C;if(2===t.length||"string"==typeof t[0]&&t[0].indexOf("..")>0){const D=2===t.length?t:t[0].split("..");g=`${Array.isArray(D)?D[0]:""}`,C=`${Array.isArray(D)?D[1]:""}`}else{const D=Array.isArray(W)&&W.length>0?W[0]:"";g=null==D?"":`${D}`}return void 0!==g&&void 0!==C?u.push(g,C):void 0!==g&&u.push(g),u}(W)}return u}function Hr(W){switch(W){case Ee.boolean:return"boolean";case Ee.date:case Ee.dateIso:case Ee.dateUtc:case Ee.dateTime:case Ee.dateTimeIso:case Ee.dateTimeIsoAmPm:case Ee.dateTimeIsoAM_PM:case Ee.dateTimeShortIso:case Ee.dateEuro:case Ee.dateEuroShort:case Ee.dateTimeShortEuro:case Ee.dateTimeEuro:case Ee.dateTimeEuroAmPm:case Ee.dateTimeEuroAM_PM:case Ee.dateTimeEuroShort:case Ee.dateTimeEuroShortAmPm:case Ee.dateTimeEuroShortAM_PM:case Ee.dateUs:case Ee.dateUsShort:case Ee.dateTimeShortUs:case Ee.dateTimeUs:case Ee.dateTimeUsAmPm:case Ee.dateTimeUsAM_PM:case Ee.dateTimeUsShort:case Ee.dateTimeUsShortAmPm:case Ee.dateTimeUsShortAM_PM:return"date";case Ee.integer:case Ee.float:case Ee.number:return"number";case Ee.object:return"object";case Ee.string:case Ee.text:case Ee.password:case Ee.readonly:default:return"string"}}const K_executeFilterConditionTest=(W,i)=>{if(function(W){switch(W&&W.toUpperCase()||""){case"IN":case"NIN":case"NOT_IN":case"IN_CONTAINS":case"NIN_CONTAINS":case"NOT_IN_CONTAINS":case"IN_COLLECTION":case"NOT_IN_COLLECTION":return!0;default:return!1}}(W.operator))return za(W);switch(Hr(W.filterSearchType||W.fieldType)){case"boolean":return ha(W,i);case"date":return function(W,i){var t;const g=xe(W&&(W.filterSearchType||W.fieldType)||Ee.dateIso),[C,D]=i,B=bi(W.cellValue,g,!0);if(!C&&!D||!B.isValid())return!1;const J=g.toLowerCase().includes("h")?B.valueOf():B.clone().startOf("day").valueOf();if(C&&D){let le=null!==(t=null==W?void 0:W.operator)&&void 0!==t?t:W.defaultFilterRangeOperator;le!==ze.rangeInclusive&&le!==ze.rangeExclusive&&(le=W.defaultFilterRangeOperator);const De=le===ze.rangeInclusive,Ne=Co(De?">=":">",J,C.valueOf()),Ze=Co(De?"<=":"<",J,D.valueOf());return Ne&&Ze}const ie=g.toLowerCase().includes("h")?C.valueOf():C.clone().startOf("day").valueOf();return Co(W.operator||"==",J,ie)}(W,i||[]);case"number":return Un(W,i||[]);case"object":return((W,i)=>{if(void 0===i&&!W.operator)return!0;switch((W.operator||"").toUpperCase()){case"!=":case"<>":case"NE":return!ra(W.cellValue,i,W.dataKey);default:return ra(W.cellValue,i,W.dataKey)}})(W,i);default:return Oo(W,i||[])}};class fe{constructor(i,t,u,g,C){this.filterFactory=i,this.pubSubService=t,this.sharedService=u,this.backendUtilities=g,this.rxjs=C,this._isFilterFirstRender=!0,this._firstColumnIdRendered="",this._filtersMetadata=[],this._columnFilters={},this._isTreePresetExecuted=!1,this._previousFilters=[],this._onSearchChange=new Slick.Event,this._eventHandler=new Slick.EventHandler,this.rxjs&&(this.httpCancelRequests$=this.rxjs.createSubject())}get eventHandler(){return this._eventHandler}get isFilterFirstRender(){return this._isFilterFirstRender}get onSearchChange(){return this._onSearchChange}get _gridOptions(){var i,t,u;return null!==(u=null===(t=null===(i=this._grid)||void 0===i?void 0:i.getOptions)||void 0===t?void 0:t.call(i))&&void 0!==u?u:{}}get _columnDefinitions(){var i,t,u;return null!==(u=null===(t=null===(i=this._grid)||void 0===i?void 0:i.getColumns)||void 0===t?void 0:t.call(i))&&void 0!==u?u:[]}get _dataView(){var i,t,u;return null!==(u=null===(t=null===(i=this._grid)||void 0===i?void 0:i.getData)||void 0===t?void 0:t.call(i))&&void 0!==u?u:{}}addRxJsResource(i){this.rxjs=i}init(i){this._grid=i,this._gridOptions&&this._gridOptions.enableTreeData&&this._gridOptions.treeDataOptions&&this._grid.setSortColumns([{columnId:this._gridOptions.treeDataOptions.columnId,sortAsc:!0}])}dispose(){var i;this._eventHandler.unsubscribeAll(),this.httpCancelRequests$&&(null===(i=this.rxjs)||void 0===i?void 0:i.isObservable(this.httpCancelRequests$))&&(this.httpCancelRequests$.next(),this.httpCancelRequests$.complete()),this.disposeColumnFilters(),this._onSearchChange=null}disposeColumnFilters(){this.removeAllColumnFiltersProperties(),Array.isArray(this._filtersMetadata)&&this._filtersMetadata.forEach(i=>{(null==i?void 0:i.destroy)&&i.destroy()})}bindBackendOnFilter(i){this._filtersMetadata=[],this._eventHandler.subscribe(i.onHeaderRowCellRendered,(t,u)=>{u.column.id===this._firstColumnIdRendered&&(this._isFilterFirstRender=!1),this.addFilterTemplateToHeaderRow(u,this._isFilterFirstRender),""===this._firstColumnIdRendered&&(this._firstColumnIdRendered=u.column.id)}),this.subscribeToOnHeaderRowCellRendered(i),this._onSearchChange&&this._eventHandler.subscribe(this._onSearchChange,this.onBackendFilterChange.bind(this))}bindLocalOnFilter(i){var t=this;this._filtersMetadata=[],this._dataView.setFilterArgs({columnFilters:this._columnFilters,grid:this._grid,dataView:this._dataView}),this._dataView.setFilter(this.customLocalFilter.bind(this)),this._onSearchChange&&this._eventHandler.subscribe(this._onSearchChange,function(){var u=(0,Or.Z)(function*(g,C){var D,B;const J=null!==(D=null==C?void 0:C.clearFilterTriggered)&&void 0!==D&&D;J||(yield t.emitFilterChanged(v.local,!0)),!0===(null===(B=t._gridOptions)||void 0===B?void 0:B.enableTreeData)&&(t._tmpPreFilteredData=t.preFilterTreeData(t._dataView.getItems(),t._columnFilters)),null!==C.columnId&&t._dataView.refresh(),J||(yield t.emitFilterChanged(v.local)),t._previousFilters=t.extractBasicFilterDetails(t._columnFilters)});return function(g,C){return u.apply(this,arguments)}}()),this._eventHandler.subscribe(i.onHeaderRowCellRendered,(u,g)=>{this.addFilterTemplateToHeaderRow(g)}),this.subscribeToOnHeaderRowCellRendered(i)}clearFilterByColumnId(i,t){var u=this;return(0,Or.Z)(function*(){var g,C;yield u.pubSubService.publish("onBeforeFilterClear",{columnId:t},0);const D=null!==(C=null===(g=u._gridOptions)||void 0===g?void 0:g.backendServiceApi)&&void 0!==C&&C,B=D?v.remote:v.local,J=Object.keys(u._columnFilters);let ie;Array.isArray(J)&&(ie=J.find(De=>De===`${t}`));const le=u._filtersMetadata.find(De=>De.columnDef.id===t);return(null==le?void 0:le.clear)&&le.clear(!0),D&&void 0!==ie&&u.onBackendFilterChange(i,{grid:u._grid,columnFilters:u._columnFilters}),yield u.emitFilterChanged(B),!0})()}clearFilters(i=!0){var t=this;return(0,Or.Z)(function*(){var u,g,C,D,B;i&&(yield t.pubSubService.publish("onBeforeFilterClear",!0,0)),t._filtersMetadata.forEach(ie=>{(null==ie?void 0:ie.clear)&&ie.clear(!1)}),t.removeAllColumnFiltersProperties(),Array.isArray(t._columnDefinitions)&&t._columnDefinitions.forEach(ie=>{var le;(null===(le=ie.filter)||void 0===le?void 0:le.searchTerms)&&delete ie.filter.searchTerms}),t._dataView&&t._grid&&(t._dataView.refresh(),t._grid.invalidate());const J=null===(u=t._gridOptions)||void 0===u?void 0:u.backendServiceApi;if(J&&i){const ie={clearFilterTriggered:!0,shouldTriggerQuery:i,grid:t._grid,columnFilters:t._columnFilters},De=J.service.processOnFilterChanged(void 0,ie),Ne=null!==(D=null===(C=null===(g=t._gridOptions)||void 0===g?void 0:g.pagination)||void 0===C?void 0:C.totalItems)&&void 0!==D?D:0;null===(B=t.backendUtilities)||void 0===B||B.executeBackendCallback(J,De,ie,new Date,Ne,{errorCallback:t.resetToPreviousSearchFilters.bind(t),successCallback:Ze=>t._previousFilters=t.extractBasicFilterDetails(Ze.columnFilters),emitActionChangedCallback:t.emitFilterChanged.bind(t)})}else t._previousFilters=t.extractBasicFilterDetails(t._columnFilters);i&&t.pubSubService.publish("onFilterCleared",!0)})()}customLocalFilter(i,t){var u,g,C,D,B,J;const ie=null==t?void 0:t.grid,le=null!==(g=null===(u=this._gridOptions)||void 0===u?void 0:u.enableTreeData)&&void 0!==g&&g,De=null!==(C=null==t?void 0:t.columnFilters)&&void 0!==C?C:{};let Ne;if(le&&this._gridOptions&&this._gridOptions.treeDataOptions){Ne=this._gridOptions.treeDataOptions;const Ze=null!==(D=Ne.collapsedPropName)&&void 0!==D?D:ae.treeDataProperties.COLLAPSED_PROP,ht=null!==(B=Ne.parentPropName)&&void 0!==B?B:ae.treeDataProperties.PARENT_PROP,Ct=null!==(J=this._gridOptions.datasetIdPropertyName)&&void 0!==J?J:"id";if(null!==i[ht]){let Kt=this._dataView.getItemById(i[ht]);for(;Kt;){if(Kt[Ze])return!1;Kt=this._dataView.getItemById(Kt[ht])}}if(this._tmpPreFilteredData instanceof Set)return this._tmpPreFilteredData.has(i[Ct])}else if("object"==typeof De)for(const Ze of Object.keys(De)){const ht=De[Ze],Ct=this.preProcessFilterConditionOnDataContext(i,ht,ie);if("boolean"==typeof Ct)return Ct;let Kt=null==ht?void 0:ht.parsedSearchTerms;if(void 0===Kt&&(Kt=Ys(ht.searchTerms,ht.columnDef.type||Ee.string),void 0!==Kt&&(ht.parsedSearchTerms=Kt)),!K_executeFilterConditionTest(Ct,Kt))return!1}return!0}parseFormInputFilterConditions(i,t){var u,g,C;const D=On(i)||[];let B=Array.isArray(D)&&1===D.length?D[0]:"";const J=t.columnDef,ie=null!==(C=null!==(g=null===(u=J.filter)||void 0===u?void 0:u.type)&&void 0!==g?g:J.type)&&void 0!==C?C:Ee.string;let le=null;ie!==Ee.object&&(B=null==B?"":`${B}`,le=B.match(/^([<>!=\*]{0,2})(.*[^<>!=\*])?([\*]?)$/));let De=(null==le?void 0:le[1])||t.operator;const Ne=(null==le?void 0:le[2])||"",Ze=(null==le?void 0:le[3])||("*z"===De?"*":"");return"string"==typeof B&&(B=B.replace("'","''"),"*"===De||"*z"===De?De=ze.endsWith:("a*"===De||"*"===Ze)&&(De=ze.startsWith)),Array.isArray(le)&&le.length>=1&&Array.isArray(D)&&1===D.length&&(D[0]=Ne),{dataKey:J.dataKey,fieldType:ie,searchTerms:D||[],operator:De,searchInputLastChar:Ze,filterSearchType:J.filterSearchType,defaultFilterRangeOperator:this._gridOptions.defaultFilterRangeOperator}}preProcessFilterConditionOnDataContext(i,t,u){var g,C,D,B,J,ie;const le=t.columnDef,De=t.columnId;let Ne=u.getColumnIndex(De);if(!le&&this.sharedService&&Array.isArray(this.sharedService.allColumns)&&(Ne=this.sharedService.allColumns.findIndex(dn=>dn.field===De)),!le)return!0;if(this._gridOptions.enableRowDetailView){const dn=this._gridOptions.rowDetailView&&this._gridOptions.rowDetailView.keyPrefix||"__";i[`${dn}isPadding`]&&i[`${dn}parent`]&&(i=i[`${dn}parent`])}let Ze=(null===(g=le.filter)||void 0===g?void 0:g.queryField)||le.queryFieldFilter||le.queryField||le.field||"";"function"==typeof le.queryFieldNameGetterFn&&(Ze=le.queryFieldNameGetterFn(i));const ht=null!==(B=null!==(D=null===(C=le.filter)||void 0===C?void 0:C.type)&&void 0!==D?D:le.type)&&void 0!==B?B:Ee.string;let Ct=i[Ze];(null==Ze?void 0:Ze.indexOf("."))>=0&&(Ct=ee(i,Ze));const Kt=t.operator,Xt=t.searchTerms||[];if(!Xt||Array.isArray(Xt)&&(0===Xt.length||1===Xt.length&&Kt===Xt[0]))return!0;if(Xt&&Array.isArray(Xt)&&ht!==Ee.object)for(let dn=0,yi=Xt.length;dn<yi;dn++)Xt[dn]=(void 0===Xt[dn]||null===Xt[dn]?"":Xt[dn])+"";if(!0===(null===(J=null==le?void 0:le.params)||void 0===J?void 0:J.useFormatterOuputToFilter)){const dn=u.getData(),yi=this._gridOptions.datasetIdPropertyName||"id",ni=dn&&"function"==typeof dn.getIdxById?dn.getIdxById(i[yi]):0;Ct=Us(le&&"function"==typeof le.formatter?le.formatter(ni||0,Ne,Ct,le,i,this._grid):"")}return"number"==typeof Ct&&(Ct=Ct.toString()),{dataKey:le.dataKey,fieldType:ht,searchTerms:Xt,cellValue:Ct,operator:Kt,searchInputLastChar:t.searchInputLastChar,filterSearchType:le.filterSearchType,ignoreAccentOnStringFilterAndSort:null!==(ie=this._gridOptions.ignoreAccentOnStringFilterAndSort)&&void 0!==ie&&ie,defaultFilterRangeOperator:this._gridOptions.defaultFilterRangeOperator}}preFilterTreeData(i,t){var u,g,C,D,B,J,ie,le,De,Ne,Ze,ht,Ct,Kt,Xt,dn,yi,ni,Jn;const Ti=null===(u=this._gridOptions)||void 0===u?void 0:u.treeDataOptions,ri=null!==(g=null==Ti?void 0:Ti.collapsedPropName)&&void 0!==g?g:ae.treeDataProperties.COLLAPSED_PROP,Xn=null!==(C=null==Ti?void 0:Ti.parentPropName)&&void 0!==C?C:ae.treeDataProperties.PARENT_PROP,Wi=null!==(D=null==Ti?void 0:Ti.hasChildrenPropName)&&void 0!==D?D:ae.treeDataProperties.HAS_CHILDREN_PROP,vr=null!==(J=null===(B=this._gridOptions)||void 0===B?void 0:B.datasetIdPropertyName)&&void 0!==J?J:"id",Ci=null===(le=null===(ie=this._gridOptions.presets)||void 0===ie?void 0:ie.treeData)||void 0===le?void 0:le.toggledItems,As=null!==(Ne=null===(De=this._gridOptions.treeDataOptions)||void 0===De?void 0:De.initiallyCollapsed)&&void 0!==Ne&&Ne,fo=null===(Ze=this._gridOptions.treeDataOptions)||void 0===Ze?void 0:Ze.columnId,Ws=null===(ht=this._gridOptions.treeDataOptions)||void 0===ht?void 0:ht.excludeChildrenWhenFilteringTree,wa=!Ws&&!0===(null===(Ct=this._gridOptions.treeDataOptions)||void 0===Ct?void 0:Ct.autoApproveParentItemWhenTreeColumnIsValid),ro={},Aa=new Set,oa=new Map;if(Array.isArray(i)){for(const po of i)ro[po[vr]]=po,delete ro[po[vr]].__used;for(const po of Object.keys(t)){const so=t[po],pa=(null==so?void 0:so.searchTerms)?On(so.searchTerms):[],Ro=this.parseFormInputFilterConditions(pa,so),cs=so.columnDef,zs=null!==(dn=null!==(Xt=null===(Kt=null==cs?void 0:cs.filter)||void 0===Kt?void 0:Kt.type)&&void 0!==Xt?Xt:null==cs?void 0:cs.type)&&void 0!==dn?dn:Ee.string,ul=Ys(Ro.searchTerms,zs);void 0!==ul&&(so.parsedSearchTerms=ul)}for(const po of i){const so=po[Wi];let pa=!0;for(const Ro of Object.keys(t)){const cs=t[Ro],zs=this.preProcessFilterConditionOnDataContext(po,cs,this._grid);if(zs){const ul=null==cs?void 0:cs.parsedSearchTerms,xa="boolean"==typeof zs?zs:K_executeFilterConditionTest(zs,ul);if(xa&&wa&&so&&cs.columnId===fo){oa.set(po[vr],!0);break}if(xa||!Ws&&!0===oa.get(po[Xn])){if(so&&cs.columnId===fo&&oa.set(po[vr],!0),xa||!Ws&&cs.columnId===fo)continue}else so&&!0!==oa.get(po[Xn])&&cs.columnId!==fo&&oa.set(po[vr],!1)}pa=!1}if(pa){Aa.add(po[vr]);let Ro=null!==(yi=ro[po[Xn]])&&void 0!==yi&&yi;const cs=!As;for(!this._isTreePresetExecuted&&Array.isArray(Ci)&&Ci.some(zs=>zs.itemId===Ro.id&&zs.isCollapsed===cs)&&(Ro[ri]=cs);Ro;)null!==(ni=Ro.__used)&&void 0!==ni||Aa.add(Ro[vr]),ro[Ro[vr]].__used=!0,Ro=null!==(Jn=ro[Ro[Xn]])&&void 0!==Jn&&Jn}}}return this._isTreePresetExecuted=!0,Aa}getColumnFilters(){return this._columnFilters}getPreviousFilters(){return this._previousFilters}getFiltersMetadata(){return this._filtersMetadata}getCurrentLocalFilters(){var i,t;const u=[];if(this._columnFilters)for(const g of Object.keys(this._columnFilters)){const C=this._columnFilters[g],D={columnId:g||""},B=this.sharedService.allColumns.find(ie=>ie.id===D.columnId),J=null===(t=null===(i=null==B?void 0:B.filter)||void 0===i?void 0:i.emptySearchTermReturnAllValues)||void 0===t||t;(null==C?void 0:C.searchTerms)&&(D.searchTerms=C.searchTerms),C.operator&&(D.operator=C.operator),Array.isArray(D.searchTerms)&&D.searchTerms.length>0&&(!J||""!==D.searchTerms[0])&&u.push(D)}return u}emitFilterChanged(i,t=!1){var u;const g=t?"onBeforeFilterChange":"onFilterChanged";if(i===v.remote&&(null===(u=this._gridOptions)||void 0===u?void 0:u.backendServiceApi)){let C=[];const D=this._gridOptions.backendServiceApi.service;return(null==D?void 0:D.getCurrentFilters)&&(C=D.getCurrentFilters()),this.pubSubService.publish(g,C)}if(i===v.local)return this.pubSubService.publish(g,this.getCurrentLocalFilters())}onBackendFilterChange(i,t){var u=this;return(0,Or.Z)(function*(){var g,C,D,B;const J=null==t?void 0:t.shouldTriggerQuery;if(J&&(yield u.emitFilterChanged(v.remote,!0)),!t||!t.grid)throw new Error('Something went wrong when trying to bind the "onBackendFilterChange(event, args)" function, it seems that "args" is not populated correctly');const ie=u._gridOptions.backendServiceApi;if(!ie||!ie.process||!ie.service)throw new Error('BackendServiceApi requires at least a "process" function and a "service" defined');const le=new Date;if(ie.preProcess&&ie.preProcess(),J){const De=yield ie.service.processOnFilterChanged(i,t),Ne=null!==(D=null===(C=null===(g=u._gridOptions)||void 0===g?void 0:g.pagination)||void 0===C?void 0:C.totalItems)&&void 0!==D?D:0;null===(B=u.backendUtilities)||void 0===B||B.executeBackendCallback(ie,De,t,le,Ne,{errorCallback:u.resetToPreviousSearchFilters.bind(u),successCallback:Ze=>u._previousFilters=u.extractBasicFilterDetails(Ze.columnFilters),emitActionChangedCallback:u.emitFilterChanged.bind(u),httpCancelRequestSubject:u.httpCancelRequests$})}})()}populateColumnFilterSearchTermPresets(i){var t;return Array.isArray(i)&&(this._columnDefinitions.forEach(u=>{var g;(null===(g=u.filter)||void 0===g?void 0:g.searchTerms)&&delete u.filter.searchTerms;const C=i.find(D=>D.columnId===u.id);C&&Array.isArray(null==C?void 0:C.searchTerms)&&(u.filter=u.filter||{},u.filter.operator=C.operator||u.filter.operator||"",u.filter.searchTerms=C.searchTerms)}),(null===(t=this._gridOptions)||void 0===t?void 0:t.enableTreeData)&&this.refreshTreeDataFilters(),this._previousFilters=this.extractBasicFilterDetails(this._columnFilters)),this._columnDefinitions}refreshTreeDataFilters(i){var t,u,g,C;const D=null!==(g=null!=i?i:null===(u=null===(t=this._dataView)||void 0===t?void 0:t.getItems)||void 0===u?void 0:u.call(t))&&void 0!==g?g:[];this._dataView&&(null===(C=this._gridOptions)||void 0===C?void 0:C.enableTreeData)&&D.length>0?(this._tmpPreFilteredData=this.preFilterTreeData(D,this._columnFilters),this._dataView.refresh()):0===D.length&&Array.isArray(this.sharedService.hierarchicalDataset)&&this.sharedService.hierarchicalDataset.length>0&&setTimeout(()=>this.refreshTreeDataFilters())}disableFilterFunctionality(i=!0,t=!0){const g=!this._gridOptions.enableFiltering;g!==i&&(t&&i&&this.clearFilters(),this.disableAllFilteringCommands(i),this._grid.setOptions({enableFiltering:g},!1,!0),this._grid.setHeaderRowVisibility(g),this._gridOptions.enableFiltering=!i,this.sharedService.gridOptions=this._gridOptions,this._grid.setColumns(this.sharedService.columnDefinitions))}resetToPreviousSearchFilters(){this.updateFilters(this._previousFilters,!1,!1,!1)}toggleFilterFunctionality(i=!0){const t=this._gridOptions.enableFiltering;this.disableFilterFunctionality(t,i)}toggleHeaderFilterRow(){var i,t;let u=null!==(t=null===(i=this._gridOptions)||void 0===i?void 0:i.showHeaderRow)&&void 0!==t&&t;u=!u,this._grid.setHeaderRowVisibility(u),!0===u&&this._grid.setColumns(this.sharedService.columnDefinitions)}setSortColumnIcons(i){this._grid&&Array.isArray(i)&&this._grid.setSortColumns(i)}updateFilters(i,t=!0,u=!0,g=!1){var C=this;return(0,Or.Z)(function*(){var D,B;if(!C._filtersMetadata||0===C._filtersMetadata.length||!C._gridOptions||!C._gridOptions.enableFiltering)throw new Error('[Slickgrid-Universal] in order to use "updateFilters" method, you need to have Filterable Columns defined in your grid and "enableFiltering" set in your Grid Options');if(Array.isArray(i)){C.clearFilters(!1),i.forEach(le=>{var De;const Ne=C._filtersMetadata.find(Ze=>le.columnId===Ze.columnDef.id);if(le&&Ne){const Ze=le.operator||Ne.defaultOperator;C.updateColumnFilters(le.searchTerms,Ne.columnDef,Ze),Ne.setValues(le.searchTerms||[],Ze),(g||(null===(De=C._gridOptions)||void 0===De?void 0:De.enableTreeData))&&C.callbackSearchEvent(void 0,{columnDef:Ne.columnDef,operator:Ze,searchTerms:le.searchTerms,shouldTriggerQuery:!0,forceOnSearchChangeEvent:!0})}});const J=null===(D=C._gridOptions)||void 0===D?void 0:D.backendServiceApi,ie=J?v.remote:v.local;if(t&&(yield C.emitFilterChanged(ie,!0)),C._dataView.refresh(),J){const le=null==J?void 0:J.service;(null==le?void 0:le.updateFilters)&&(le.updateFilters(i,!0),u&&(null===(B=C.backendUtilities)||void 0===B||B.refreshBackendDataset(C._gridOptions)))}t&&(yield C.emitFilterChanged(ie))}return!0})()}updateSingleFilter(i,t=!0,u=!0){var g=this;return(0,Or.Z)(function*(){var C,D,B,J,ie,le;const De=g.sharedService.allColumns.find(Ne=>Ne.id===i.columnId);if(De&&i.columnId){g._columnFilters={};const Ne=null===(D=null===(C=De.filter)||void 0===C?void 0:C.emptySearchTermReturnAllValues)||void 0===D||D;Array.isArray(i.searchTerms)&&(i.searchTerms.length>1||1===i.searchTerms.length&&(!Ne||""!==i.searchTerms[0]))&&(g._columnFilters[i.columnId]={columnId:i.columnId,operator:i.operator,searchTerms:i.searchTerms,columnDef:De,type:null!==(B=De.type)&&void 0!==B?B:Ee.string});const Ze=null===(J=g._gridOptions)||void 0===J?void 0:J.backendServiceApi,ht=Ze?v.remote:v.local;if(t&&(yield g.emitFilterChanged(ht,!0)),Ze){const Ct=null==Ze?void 0:Ze.service;(null==Ct?void 0:Ct.updateFilters)&&(Ct.updateFilters(g._columnFilters,!0),u&&(null===(ie=g.backendUtilities)||void 0===ie||ie.refreshBackendDataset(g._gridOptions)))}else g._dataView.setFilterArgs({columnFilters:g._columnFilters,grid:g._grid}),(null===(le=g._gridOptions)||void 0===le?void 0:le.enableTreeData)&&g.refreshTreeDataFilters(),g._dataView.refresh();t&&(yield g.emitFilterChanged(ht))}return!0})()}addFilterTemplateToHeaderRow(i,t=!0){var u;const g=i.column;if("selector"!==(null!==(u=null==g?void 0:g.id)&&void 0!==u?u:"")&&(null==g?void 0:g.filterable)){let D,B;const J=this.filterFactory.createFilter(g.filter);B=g&&g.filter&&g.filter.operator||J&&J.operator,this._columnFilters[g.id]?(D=this._columnFilters[g.id].searchTerms||void 0,B=this._columnFilters[g.id].operator||void 0):g.filter&&(D=g.filter.searchTerms||void 0,this.updateColumnFilters(D,g,B));const ie={grid:this._grid,operator:B,searchTerms:D,columnDef:g,callback:this.callbackSearchEvent.bind(this)};if(J){J.init(ie,t);const le=this._filtersMetadata.findIndex(De=>J.columnDef.id===De.columnDef.id);-1===le?this._filtersMetadata.push(J):this._filtersMetadata[le]=J,D&&J.setValues&&J.setValues(D,B)}}}callbackSearchEvent(i,t){var u,g,C,D,B,J,ie,le;if(t){const De=(null==i?void 0:i.target)?i.target.value:void 0,Ne=t.searchTerms&&Array.isArray(t.searchTerms)?t.searchTerms:De?[De]:void 0,Ze=t.columnDef||null,ht=null!==(u=null==Ze?void 0:Ze.id)&&void 0!==u?u:"",Ct=null!==(D=null!==(C=null===(g=null==Ze?void 0:Ze.filter)||void 0===g?void 0:g.type)&&void 0!==C?C:null==Ze?void 0:Ze.type)&&void 0!==D?D:Ee.string,Kt=t.operator||void 0,Xt=Ne&&Array.isArray(Ne),dn=Xt&&Ne&&Ne.length,yi=tn({},this._columnFilters),ni=null===(J=null===(B=Ze.filter)||void 0===B?void 0:B.emptySearchTermReturnAllValues)||void 0===J||J;let Jn;if(Ze&&ht)if(!Xt||0===dn||1===dn&&Array.isArray(Ne)&&ni&&""===Ne[0])delete this._columnFilters[ht];else{const Wi=`${ht}`,vr={columnId:Wi,columnDef:Ze,parsedSearchTerms:[],type:Ct},Ci=this.parseFormInputFilterConditions(Ne,vr);vr.operator=Kt||Ci.operator||jt(Ct),Jn=Ys(Ci.searchTerms,Ct),void 0!==Jn&&(vr.parsedSearchTerms=Jn),vr.searchTerms=Ci.searchTerms||[],this._columnFilters[Wi]=vr}const Ti=i&&"function"!=typeof i.isPropagationStopped?$.extend({},new Slick.EventData,i):i,ri=null===(ie=i)||void 0===ie?void 0:ie.key,Xn=null===(le=i)||void 0===le?void 0:le.keyCode;if(this._onSearchChange&&(t.forceOnSearchChangeEvent||"Enter"===ri||Xn===He.ENTER||!(0,mo.J)(yi,this._columnFilters))){const Wi={clearFilterTriggered:t.clearFilterTriggered,shouldTriggerQuery:t.shouldTriggerQuery,columnId:ht,columnDef:Ze,columnFilters:this._columnFilters,operator:Kt||jt(Ct),searchTerms:Ne,parsedSearchTerms:Jn,grid:this._grid};!1===this.pubSubService.publish("onBeforeSearchChange",Wi)?this._gridOptions.resetFilterSearchValueAfterOnBeforeCancellation&&this.resetToPreviousSearchFilters():this._onSearchChange.notify(Wi,Ti)}}}disableAllFilteringCommands(i=!0){var t,u;const g=this._grid.getColumns();g.forEach(D=>{var B;(null===(B=null==D?void 0:D.header)||void 0===B?void 0:B.menu)&&D.header.menu.items.forEach(J=>{J&&"string"!=typeof J&&"clear-filter"===J.command&&(J.hidden=i)})});const C=null===(u=null===(t=this._gridOptions)||void 0===t?void 0:t.gridMenu)||void 0===u?void 0:u.commandItems;return C&&C.forEach(D=>{if(D&&"string"!=typeof D){const B=D.command;("clear-filter"===B||"toggle-filter"===B)&&(D.hidden=i)}}),g}extractBasicFilterDetails(i){const t=[];if(i&&"object"==typeof i)for(const u of Object.keys(i)){const{operator:g,searchTerms:C}=i[`${u}`];t.push({columnId:u,operator:g,searchTerms:C})}return t}removeAllColumnFiltersProperties(){if("object"==typeof this._columnFilters)for(const i in this._columnFilters)i&&this._columnFilters[i]&&delete this._columnFilters[i]}subscribeToOnHeaderRowCellRendered(i){this._eventHandler.subscribe(i.onBeforeHeaderRowCellDestroy,(t,u)=>{var g;const C=this._filtersMetadata.find(D=>D.columnDef.id===u.column.id);null===(g=null==C?void 0:C.destroy)||void 0===g||g.call(C)})}updateColumnFilters(i,t,u){var g,C,D;const B=null!==(D=null!==(C=null===(g=t.filter)||void 0===g?void 0:g.type)&&void 0!==C?C:t.type)&&void 0!==D?D:Ee.string,J=Ys(i,B);i&&t&&(this._columnFilters[t.id]={columnId:t.id,columnDef:t,searchTerms:i,operator:u,parsedSearchTerms:J,type:B})}}let Be;const ot={triggerEvent:!0},Gt={highlightRow:!0,position:"top",resortGrid:!1,selectRow:!1,triggerEvent:!0},yt={highlightRow:!1,selectRow:!1,scrollRowIntoView:!1,triggerEvent:!0},Ln={autoResizeColumns:!0,triggerEvent:!0,hideFromColumnPicker:!1,hideFromGridMenu:!1};class qn{constructor(i,t,u,g,C,D,B){this.gridStateService=i,this.filterService=t,this.pubSubService=u,this.paginationService=g,this.sharedService=C,this.sortService=D,this.treeDataService=B}get _dataView(){var i;return(null===(i=this._grid)||void 0===i?void 0:i.getData)&&this._grid.getData()}get _gridOptions(){var i;return(null===(i=this._grid)||void 0===i?void 0:i.getOptions)?this._grid.getOptions():{}}dispose(){var i;null===(i=this._rowSelectionPlugin)||void 0===i||i.dispose()}init(i){this._grid=i}clearAllFiltersAndSorts(){this.sortService&&this.sortService.clearSorting&&this.sortService.clearSorting(!1),this.filterService&&this.filterService.clearFilters&&this.filterService.clearFilters()}clearPinning(){const i=[...this.sharedService.visibleColumns];this.sharedService.slickGrid.setOptions({frozenColumn:-1,frozenRow:-1,frozenBottom:!1,enableMouseWheelScrollHandler:!1}),Array.isArray(i)&&this.sharedService.slickGrid.setColumns(i)}setPinning(i,t=!0,u=!1,g=!0){_t(i)?this.clearPinning():(this.sharedService.slickGrid.setOptions(i,u,g),this.sharedService.gridOptions=tn(tn({},this.sharedService.gridOptions),i)),t&&this.sharedService.slickGrid.autosizeColumns()}getAllColumnDefinitions(){return this.sharedService.allColumns}getVisibleColumnDefinitions(){return this.sharedService.visibleColumns}getColumnFromEventArguments(i){if(!(i&&i.grid&&i.grid.getColumns&&i.grid.getDataItem))throw new Error("To get the column definition and data, we need to have these arguments passed as objects (row, cell, grid)");return{row:i.row,cell:i.cell,columnDef:i.grid.getColumns()[i.cell],dataContext:i.grid.getDataItem(i.row),dataView:this._dataView,grid:this._grid}}getDataItemByRowNumber(i){if(!this._grid||"function"!=typeof this._grid.getDataItem)throw new Error('We could not find SlickGrid Grid object or it\'s "getDataItem" method');return this._grid.getDataItem(i)}getItemRowMetadataToHighlight(i){return t=>{const u=this._dataView.getItem(t);let g={cssClasses:""};return"function"==typeof i&&(g=i(t)),g||(g={cssClasses:""}),u&&u._dirty&&(g.cssClasses=(g&&g.cssClasses||"")+" dirty"),u&&u.rowClass&&g&&(g.cssClasses+=` ${u.rowClass}`,g.cssClasses+=` row${t}`),g}}getDataItemByRowIndex(i){if(!this._grid||"function"!=typeof this._grid.getDataItem)throw new Error('We could not find SlickGrid Grid object and/or "getDataItem" method');return this._grid.getDataItem(i)}getDataItemByRowIndexes(i){if(!this._grid||"function"!=typeof this._grid.getDataItem)throw new Error('We could not find SlickGrid Grid object and/or "getDataItem" method');const t=[];return Array.isArray(i)&&i.forEach(u=>{t.push(this._grid.getDataItem(u))}),t}getSelectedRows(){if(!this._grid||"function"!=typeof this._grid.getSelectedRows)throw new Error('We could not find SlickGrid Grid object and/or "getSelectedRows" method');return this._grid.getSelectedRows()}getSelectedRowsDataItem(){if(!this._grid||"function"!=typeof this._grid.getSelectedRows)throw new Error('We could not find SlickGrid Grid object and/or "getSelectedRows" method');const i=this._grid.getSelectedRows();return this.getDataItemByRowIndexes(i)}hideColumnById(i,t){if(t=tn(tn({},Ln),t),this._grid&&this._grid.getColumns&&this._grid.setColumns){const u=this._grid.getColumns(),g=u.findIndex(C=>C.id===i);if(g>=0){const C=Nt(u,g);this.sharedService.visibleColumns=C,this._grid.setColumns(C);const D=this.sharedService.allColumns.findIndex(B=>B.id===i);return D&&((null==t?void 0:t.hideFromColumnPicker)&&(this.sharedService.allColumns[D].excludeFromColumnPicker=!0),(null==t?void 0:t.hideFromGridMenu)&&(this.sharedService.allColumns[D].excludeFromGridMenu=!0)),(null==t?void 0:t.autoResizeColumns)&&this._grid.autosizeColumns(),(null==t?void 0:t.triggerEvent)&&this.pubSubService.publish("onHeaderMenuHideColumns",{columns:C}),g}}return-1}hideColumnByIds(i,t){if(t=tn(tn({},Ln),t),Array.isArray(i)){for(const u of i)this.hideColumnById(u,Vs(tn({},t),{triggerEvent:!1,autoResizeColumns:!1}));(null==t?void 0:t.autoResizeColumns)&&this._grid.autosizeColumns(),(null==t?void 0:t.triggerEvent)&&this.pubSubService.publish("onHeaderMenuHideColumns",{columns:this.sharedService.visibleColumns})}}highlightRow(i,t=1500,u=300){this._grid.getSelectionModel()||(this._rowSelectionPlugin=new ue(this._gridOptions.rowSelectionOptions),this._grid.setSelectionModel(this._rowSelectionPlugin)),Array.isArray(i)?i.forEach(g=>this.highlightRowByMetadata(g,t,u)):this.highlightRowByMetadata(i,t,u)}highlightRowByMetadata(i,t=1500,u=300){this._dataView.getItemMetadata=this.getItemRowMetadataToHighlight(this._dataView.getItemMetadata);const g=this._dataView.getItem(i),C=this._gridOptions.datasetIdPropertyName||"id";void 0!==(null==g?void 0:g[C])&&(g.rowClass="highlight",this._dataView.updateItem(g[C],g),this.renderGrid(),clearTimeout(Be),Be=setTimeout(()=>{g.rowClass="highlight-end",this._dataView.updateItem(g[C],g),this.renderGrid()},u),setTimeout(()=>{void 0!==(null==g?void 0:g[C])&&(delete g.rowClass,void 0!==this._dataView.getIdxById(g[C])&&(this._dataView.updateItem(g[C],g),this.renderGrid()))},t+u))}setSelectedRow(i){var t;(null===(t=this._grid)||void 0===t?void 0:t.setSelectedRows)&&this._grid.setSelectedRows([i])}setSelectedRows(i){var t;(null===(t=this._grid)||void 0===t?void 0:t.setSelectedRows)&&this._grid.setSelectedRows(i)}renderGrid(){this._grid&&"function"==typeof this._grid.invalidate&&(this._grid.invalidate(),this._grid.render())}resetGrid(i){var t;if(this._grid){const u=this.sharedService.allColumns||[];Array.isArray(u)&&u.length>0&&(this._grid.setColumns(u),(null===(t=this._gridOptions)||void 0===t?void 0:t.enableAutoSizeColumns)&&this._grid.autosizeColumns(),this.gridStateService.resetColumns(i))}this.clearPinning(),this.filterService&&this.filterService.clearFilters&&this.filterService.clearFilters(),this.sortService&&this.sortService.clearSorting&&this.sortService.clearSorting()}addItem(i,t){var u,g,C,D,B;const J=null!==(u=null==(t=tn(tn({},Gt),t))?void 0:t.position)&&void 0!==u?u:"top";if(!this._grid||!this._gridOptions||!this._dataView)throw new Error("We could not find SlickGrid Grid, DataView objects");const ie=this._gridOptions.datasetIdPropertyName||"id";if(!i||!(ie in i))throw new Error(`Adding an item requires the item to include an "${ie}" property`);"bottom"===J||(null===(g=this._gridOptions)||void 0===g?void 0:g.enableTreeData)?this._dataView.addItem(i):this._dataView.insertItem(0,i);let le=0;const De=null!==(D=null===(C=i)||void 0===C?void 0:C[ie])&&void 0!==D?D:"";return(null===(B=this._gridOptions)||void 0===B?void 0:B.enableTreeData)?(this.invalidateHierarchicalDataset(),le=this._dataView.getRowById(De),this._grid.scrollRowIntoView(null!=le?le:0,!1)):t.resortGrid?(this._dataView.reSort(),le=this._dataView.getRowById(De)):(le="bottom"===J?this._dataView.getRowById(De):0,this._grid.scrollRowIntoView(null!=le?le:0)),t.highlightRow&&void 0!==le&&this.highlightRow(le),void 0!==le&&t.selectRow&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this.setSelectedRow(le),t.triggerEvent&&this.pubSubService.publish("onItemAdded",i),!(this._gridOptions&&this._gridOptions.backendServiceApi)&&this._gridOptions.enablePagination&&("top"===J?this.paginationService.goToFirstPage():this.paginationService.goToLastPage()),le}addItems(i,t){var u,g,C,D,B,J;t=tn(tn({},Gt),t);const ie=this._gridOptions.datasetIdPropertyName||"id",le=null!==(u=null==t?void 0:t.position)&&void 0!==u?u:"top",De=[];if(!Array.isArray(i))return[this.addItem(i,t)||0];if(this._dataView.beginUpdate(!0),"bottom"===le||(null===(g=this._gridOptions)||void 0===g?void 0:g.enableTreeData)?this._dataView.addItems(i):this._dataView.insertItems(0,i),this._dataView.endUpdate(),null===(C=this._gridOptions)||void 0===C?void 0:C.enableTreeData){this.invalidateHierarchicalDataset();const Ne=null!==(B=null===(D=i[0])||void 0===D?void 0:D[ie])&&void 0!==B?B:"",Ze=this._dataView.getRowById(Ne);this._grid.scrollRowIntoView(null!=Ze?Ze:0,!1)}else t.resortGrid&&this._dataView.reSort();return"bottom"!==le||(null===(J=this._gridOptions)||void 0===J?void 0:J.enableTreeData)?this._grid.navigateTop():this._grid.navigateBottom(),i.forEach(Ne=>De.push(this._dataView.getRowById(Ne[ie]))),t.highlightRow&&this.highlightRow(De),t.selectRow&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this.setSelectedRows(De),t.triggerEvent&&this.pubSubService.publish("onItemAdded",i),De}deleteItem(i,t){t=tn(tn({},ot),t);const u=this._gridOptions.datasetIdPropertyName||"id";if(!i||!(u in i))throw new Error(`Deleting an item requires the item to include an "${u}" property`);return this.deleteItemById(i[u],t)}deleteItems(i,t){t=tn(tn({},ot),t);const u=this._gridOptions.datasetIdPropertyName||"id";if(!Array.isArray(i))return this.deleteItem(i,t),[i[u]];this._dataView.beginUpdate(!0);const g=[];return i.forEach(C=>{var D;void 0!==(null===(D=C)||void 0===D?void 0:D[u])&&g.push(C[u])}),this._dataView.deleteItems(g),this._dataView.endUpdate(),t.triggerEvent&&this.pubSubService.publish("onItemDeleted",i),g}deleteItemById(i,t){if(t=tn(tn({},ot),t),null==i)throw new Error('Cannot delete a row without a valid "id"');return!(this.gridStateService&&this.gridStateService.needToPreserveRowSelection())&&this._grid&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this.setSelectedRows([]),this._dataView.deleteItem(i),t.triggerEvent&&this.pubSubService.publish("onItemDeleted",i),i}deleteItemByIds(i,t){if(t=tn(tn({},ot),t),Array.isArray(i)){this._dataView.beginUpdate(!0);for(let u=0;u<i.length;u++)null!==i[u]&&this.deleteItemById(i[u],{triggerEvent:!1});return this._dataView.endUpdate(),t.triggerEvent&&this.pubSubService.publish("onItemDeleted",i),i}return[]}updateItem(i,t){t=tn(tn({},yt),t);const u=this._gridOptions.datasetIdPropertyName||"id",g=i&&u in i?i[u]:void 0;if(void 0===g)throw new Error(`Calling Update of an item requires the item to include an "${u}" property`);return this.updateItemById(g,i,t)}updateItems(i,t){var u;t=tn(tn({},yt),t);const g=this._gridOptions.datasetIdPropertyName||"id";if(!Array.isArray(i))return[this.updateItem(i,t)];this._dataView.beginUpdate(!0);const C=[],D=[];return i.forEach(B=>{const J=B&&g in B?B[g]:void 0;if(D.push(J),void 0!==this._dataView.getIdxById(J)){const ie=this._dataView.getRowById(J);void 0!==ie&&(C.push(ie),this._grid.updateRow(ie))}}),this._dataView.updateItems(D,i),this._dataView.endUpdate(),(null===(u=this._gridOptions)||void 0===u?void 0:u.enableTreeData)&&this.invalidateHierarchicalDataset(),t.highlightRow&&this.highlightRow(C),t.selectRow&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this.setSelectedRows(C),t.triggerEvent&&this.pubSubService.publish("onItemUpdated",i),C}updateItemById(i,t,u){var g;if(u=tn(tn({},yt),u),void 0===i)throw new Error('Cannot update a row without a valid "id"');const C=this._dataView.getRowById(i);if(!(t&&void 0!==C||this._gridOptions.enablePagination))throw new Error(`The item to update in the grid was not found with id: ${i}`);return void 0!==this._dataView.getIdxById(i)&&(this._dataView.updateItem(i,t),this._grid.updateRow(C),(null===(g=this._gridOptions)||void 0===g?void 0:g.enableTreeData)&&this.invalidateHierarchicalDataset(),u.scrollRowIntoView&&this._grid.scrollRowIntoView(C),u.highlightRow&&this.highlightRow(C),u.selectRow&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this.setSelectedRow(C),u.triggerEvent&&this.pubSubService.publish("onItemUpdated",t)),C}upsertItem(i,t){t=tn(tn({},Gt),t);const u=this._gridOptions.datasetIdPropertyName||"id",g=i&&u in i?i[u]:void 0;if(void 0===g)throw new Error(`Calling Upsert of an item requires the item to include an "${u}" property`);return this.upsertItemById(g,i,t)}upsertItems(i,t){if(t=tn(tn({},Gt),t),!Array.isArray(i))return[this.upsertItem(i,t)];this._dataView.beginUpdate(!0);const u=[];i.forEach(C=>{u.push(this.upsertItem(C,Vs(tn({},t),{highlightRow:!1,resortGrid:!1,selectRow:!1,triggerEvent:!1})))}),this._dataView.endUpdate();const g=u.map(C=>void 0!==C.added?C.added:C.updated);if(t.highlightRow&&this.highlightRow(g),t.selectRow&&this._gridOptions&&(this._gridOptions.enableCheckboxSelector||this._gridOptions.enableRowSelection)&&this.setSelectedRows(g),t.triggerEvent){this.pubSubService.publish("onItemUpserted",i);const C=u.filter(B=>void 0!==B.added);Array.isArray(C)&&C.length>0&&this.pubSubService.publish("onItemAdded",C);const D=u.filter(B=>void 0!==B.updated);Array.isArray(D)&&D.length>0&&this.pubSubService.publish("onItemUpdated",D)}return u}upsertItemById(i,t,u){let C,D,g=!1;if(u=tn(tn({},Gt),u),void 0===i&&!this.hasRowSelectionEnabled())throw new Error('Calling Upsert of an item requires the item to include a valid and unique "id" property');return void 0===this._dataView.getRowById(i)?(C=this.addItem(t,u),g=!0):(D=this.updateItem(t,{highlightRow:u.highlightRow,selectRow:u.selectRow,triggerEvent:u.triggerEvent}),g=!1),u.triggerEvent&&(this.pubSubService.publish("onItemUpserted",t),g?this.pubSubService.publish("onItemAdded",t):this.pubSubService.publish("onItemUpdated",t)),{added:C,updated:D}}invalidateHierarchicalDataset(i){var t;if((null===(t=this._gridOptions)||void 0===t?void 0:t.enableTreeData)&&this.treeDataService){const u=null!=i?i:this._dataView.getItems(),g=this.treeDataService.convertFlatParentChildToTreeDatasetAndSort(u||[],this.sharedService.allColumns,this._gridOptions);this.sharedService.hierarchicalDataset=g.hierarchical,this.filterService.refreshTreeDataFilters(i),this._dataView.setItems(g.flat)}}hasRowSelectionEnabled(){const i=this._grid.getSelectionModel();return(this._gridOptions.enableRowSelection||this._gridOptions.enableCheckboxSelector)&&i}}class ii{constructor(){this._eventHandler=new Slick.EventHandler}get eventHandler(){return this._eventHandler}dispose(){this._eventHandler.unsubscribeAll()}bindOnBeforeEditCell(i){const t=(null==i?void 0:i.getData)&&i.getData();this._eventHandler.subscribe(i.onBeforeEditCell,(u,g)=>{if(!(u&&g&&i&&void 0!==g.cell&&i.getColumns&&i.getDataItem))return;const C=i.getColumns()[g.cell];if("function"==typeof C.onBeforeEditCell){const D={row:g.row,cell:g.cell,dataView:t,grid:i,columnDef:C,dataContext:i.getDataItem(g.row)};C.onBeforeEditCell(u,D)}})}bindOnCellChange(i){const t=(null==i?void 0:i.getData)&&i.getData();this._eventHandler.subscribe(i.onCellChange,(u,g)=>{if(!(u&&g&&i&&void 0!==g.cell&&i.getColumns&&i.getDataItem))return;const C=i.getColumns()[g.cell];if("function"==typeof C.onCellChange){const D={row:g.row,cell:g.cell,dataView:t,grid:i,columnDef:C,dataContext:i.getDataItem(g.row)};C.onCellChange(u,D)}})}bindOnClick(i){const t=(null==i?void 0:i.getData)&&i.getData();this._eventHandler.subscribe(i.onClick,(u,g)=>{if(!(u&&g&&i&&void 0!==g.cell&&i.getColumns&&i.getDataItem))return;const C=i&&i.getColumns&&i.getColumns()[g.cell],D=i&&i.getOptions&&i.getOptions()||{};if(D.enableCellNavigation&&(!D.editable||D.editable&&D.autoCommitEdit)&&i.setActiveCell(g.row,g.cell,!1,!1,!0),"function"==typeof C.onCellClick){const B={row:g.row,cell:g.cell,dataView:t,grid:i,columnDef:C,dataContext:i.getDataItem(g.row)};C.onCellClick(u,B)}})}}class Ei{constructor(i,t,u,g,C,D){this.extensionService=i,this.filterService=t,this.pubSubService=u,this.sharedService=g,this.sortService=C,this.treeDataService=D,this._eventHandler=new Slick.EventHandler,this._columns=[],this._subscriptions=[],this._selectedRowDataContextIds=[],this._selectedFilteredRowDataContextIds=[],this._wasRecheckedAfterPageChange=!0}get _dataView(){var i,t,u;return null!==(u=null===(t=null===(i=this._grid)||void 0===i?void 0:i.getData)||void 0===t?void 0:t.call(i))&&void 0!==u?u:{}}get _gridOptions(){var i,t,u;return null!==(u=null===(t=null===(i=this._grid)||void 0===i?void 0:i.getOptions)||void 0===t?void 0:t.call(i))&&void 0!==u?u:{}}get datasetIdPropName(){return this._gridOptions.datasetIdPropertyName||"id"}get selectedRowDataContextIds(){return this._selectedRowDataContextIds}set selectedRowDataContextIds(i){this._selectedRowDataContextIds=i,this._selectedFilteredRowDataContextIds=i}init(i){this._grid=i,this.subscribeToAllGridChanges(i)}dispose(){this._columns=[],this._eventHandler.unsubscribeAll(),this.pubSubService.unsubscribeAll(this._subscriptions)}changeColumnsArrangement(i,t=!0,u=!1){var g,C,D,B,J,ie,le,De,Ne;if(Array.isArray(i)&&i.length>0){const Ze=this.getAssociatedGridColumns(this._grid,i);if(Ze&&Array.isArray(Ze)&&Ze.length>0){if(Array.isArray(this.sharedService.allColumns)){const ht=[];if(this._gridOptions.enableCheckboxSelector){const Ct=null!==(D=null===(C=null===(g=this._gridOptions)||void 0===g?void 0:g.checkboxSelector)||void 0===C?void 0:C.columnIndexPosition)&&void 0!==D?D:0;ht.push({columnId:"_checkbox_selector",columnIndexPosition:Ct})}if(this._gridOptions.enableRowDetailView){const Ct=null!==(ie=null===(J=null===(B=this._gridOptions)||void 0===B?void 0:B.rowDetailView)||void 0===J?void 0:J.columnIndexPosition)&&void 0!==ie?ie:0;ht.push({columnId:"_detail_selector",columnIndexPosition:Ct})}if(this._gridOptions.enableRowMoveManager){const Ct=null!==(Ne=null===(De=null===(le=this._gridOptions)||void 0===le?void 0:le.rowMoveManager)||void 0===De?void 0:De.columnIndexPosition)&&void 0!==Ne?Ne:0;ht.push({columnId:"_move",columnIndexPosition:Ct})}this.addColumnDynamicWhenFeatureEnabled(ht,this.sharedService.allColumns,Ze)}Ze.forEach(ht=>ht.originalWidth=ht.width||ht.originalWidth),this._grid.setColumns(Ze),this.sharedService.visibleColumns=Ze,t?this._grid.autosizeColumns():(u||this._gridOptions.enableAutoResizeColumnsByCellContent&&!this._gridOptions.autosizeColumnsByCellContentOnFirstLoad)&&this.pubSubService.publish("onFullResizeByContentRequested",{caller:"GridStateService"})}}}getCurrentGridState(i){var t;const{frozenColumn:u,frozenRow:g,frozenBottom:C}=this.sharedService.gridOptions,D={columns:this.getCurrentColumns(),filters:this.getCurrentFilters(),sorters:this.getCurrentSorters(),pinning:{frozenColumn:u,frozenRow:g,frozenBottom:C}},B=this.getCurrentPagination();if(B&&(D.pagination=B),this.hasRowSelectionEnabled()){const J=this.getCurrentRowSelections(null==i?void 0:i.requestRefreshRowFilteredRow);J&&(D.rowSelection=J)}if(null===(t=this._gridOptions)||void 0===t?void 0:t.enableTreeData){const J=this.getCurrentTreeDataToggleState();J&&(D.treeData=J)}return D}getColumns(){return this._columns}getAssociatedCurrentColumns(i){const t=[];return i&&Array.isArray(i)&&i.forEach(u=>{(null==u?void 0:u.id)&&t.push({columnId:u.id,cssClass:u.cssClass||"",headerCssClass:u.headerCssClass||"",width:u.width||0})}),t}getAssociatedGridColumns(i,t){const u=[],g=this.sharedService.allColumns||i.getColumns();return t&&Array.isArray(t)&&t.forEach(C=>{const D=g.find(B=>B.id===C.columnId);(null==D?void 0:D.id)&&u.push(Vs(tn({},D),{cssClass:C.cssClass,headerCssClass:C.headerCssClass,width:C.width}))}),this._columns=u,u}getCurrentColumns(){return this.getAssociatedCurrentColumns(this._grid.getColumns()||[])}getCurrentFilters(){var i,t;if(null===(i=this._gridOptions)||void 0===i?void 0:i.backendServiceApi){const u=this._gridOptions.backendServiceApi.service;if(null==u?void 0:u.getCurrentFilters)return u.getCurrentFilters()}else if(null===(t=this.filterService)||void 0===t?void 0:t.getCurrentLocalFilters)return this.filterService.getCurrentLocalFilters();return null}getCurrentPagination(){var i;if(null===(i=this._gridOptions)||void 0===i?void 0:i.enablePagination){if(!this._gridOptions.backendServiceApi)return this.sharedService.currentPagination;{const t=this._gridOptions.backendServiceApi.service;if(null==t?void 0:t.getCurrentPagination)return t.getCurrentPagination()}}return null}getCurrentRowSelections(i=!0){if(this._grid&&this._gridOptions&&this._dataView&&this.hasRowSelectionEnabled()){let t=[];const u=this._dataView.mapIdsToRows(this._selectedRowDataContextIds||[]),g=this._selectedRowDataContextIds;return!0===i&&(t=this.refreshFilteredRowSelections()),t=this._selectedFilteredRowDataContextIds,{gridRowIndexes:u,dataContextIds:g,filteredDataContextIds:t}}return null}getCurrentSorters(){var i,t;if(null===(i=this._gridOptions)||void 0===i?void 0:i.backendServiceApi){const u=this._gridOptions.backendServiceApi.service;if(null==u?void 0:u.getCurrentSorters)return u.getCurrentSorters()}else if(null===(t=this.sortService)||void 0===t?void 0:t.getCurrentLocalSorters)return this.sortService.getCurrentLocalSorters();return null}getCurrentTreeDataToggleState(){var i;return(null===(i=this._gridOptions)||void 0===i?void 0:i.enableTreeData)&&this.treeDataService?this.treeDataService.getCurrentToggleState():null}needToPreserveRowSelection(){var i;let t=!1;if((null===(i=this._gridOptions)||void 0===i?void 0:i.dataView)&&this._gridOptions.dataView.hasOwnProperty("syncGridSelection")){const u=this._gridOptions.dataView.syncGridSelection;"boolean"==typeof u?t=this._gridOptions.dataView.syncGridSelection:"object"==typeof u&&(t=u.preserveHidden),t&&this._gridOptions.backendServiceApi&&this._gridOptions.dataView.hasOwnProperty("syncGridSelectionWithBackendService")&&(t=this._gridOptions.dataView.syncGridSelectionWithBackendService)}return t}resetColumns(i){const t=i||this._columns,u=this.getAssociatedCurrentColumns(t);this.pubSubService.publish("onGridStateChanged",{change:{newValues:u,type:Pe.columns},gridState:this.getCurrentGridState()})}resetToOriginalColumns(i=!0){this._grid.setColumns(this.sharedService.allColumns),this.sharedService.visibleColumns=this.sharedService.allColumns,i&&this._grid.autosizeColumns()}resetRowSelectionWhenRequired(){var i,t;if(!this.needToPreserveRowSelection()&&(this._gridOptions.enableRowSelection||this._gridOptions.enableCheckboxSelector)){const u=null===(t=null===(i=this.extensionService)||void 0===i?void 0:i.getExtensionByName)||void 0===t?void 0:t.call(i,G.rowSelection);(null==u?void 0:u.instance)&&this._grid.setSelectedRows([])}}subscribeToAllGridChanges(i){this._subscriptions.push(this.pubSubService.subscribe("onFilterChanged",t=>{this.resetRowSelectionWhenRequired(),this.pubSubService.publish("onGridStateChanged",{change:{newValues:t,type:Pe.filter},gridState:this.getCurrentGridState({requestRefreshRowFilteredRow:!this.hasRowSelectionEnabled()})}),this.hasRowSelectionEnabled()&&this.reEvaluateRowSelectionAfterFilterChange()})),this._subscriptions.push(this.pubSubService.subscribe("onFilterCleared",()=>{this.resetRowSelectionWhenRequired(),this.pubSubService.publish("onGridStateChanged",{change:{newValues:[],type:Pe.filter},gridState:this.getCurrentGridState()})})),this._subscriptions.push(this.pubSubService.subscribe("onSortChanged",t=>{this.resetRowSelectionWhenRequired(),this.pubSubService.publish("onGridStateChanged",{change:{newValues:t,type:Pe.sorter},gridState:this.getCurrentGridState()})})),this._subscriptions.push(this.pubSubService.subscribe("onSortCleared",()=>{this.resetRowSelectionWhenRequired(),this.pubSubService.publish("onGridStateChanged",{change:{newValues:[],type:Pe.sorter},gridState:this.getCurrentGridState()})})),this.bindExtensionAddonEventToGridStateChange(G.columnPicker,"onColumnsChanged"),this.bindExtensionAddonEventToGridStateChange(G.gridMenu,"onColumnsChanged"),this.bindSlickGridColumnChangeEventToGridStateChange("onColumnsReordered",i),this.bindSlickGridColumnChangeEventToGridStateChange("onColumnsResized",i),this.bindSlickGridOnSetOptionsEventToGridStateChange(i),(this._gridOptions.enableRowSelection||this._gridOptions.enableCheckboxSelector)&&this.bindSlickGridRowSelectionToGridStateChange(),this._subscriptions.push(this.pubSubService.subscribe("onHeaderMenuHideColumns",t=>{const u=this.getAssociatedCurrentColumns(t);this.pubSubService.publish("onGridStateChanged",{change:{newValues:u,type:Pe.columns},gridState:this.getCurrentGridState()})})),this._subscriptions.push(this.pubSubService.subscribe("onTreeItemToggled",t=>{this.pubSubService.publish("onGridStateChanged",{change:{newValues:t,type:Pe.treeData},gridState:this.getCurrentGridState()})})),this._subscriptions.push(this.pubSubService.subscribe("onTreeFullToggleEnd",t=>{this.pubSubService.publish("onGridStateChanged",{change:{newValues:t,type:Pe.treeData},gridState:this.getCurrentGridState()})}))}addColumnDynamicWhenFeatureEnabled(i,t,u){i.sort((g,C)=>g.columnIndexPosition-C.columnIndexPosition),i.forEach(g=>{const C=t.findIndex(B=>B.id===g.columnId),D=u.findIndex(B=>B.id===g.columnId);if(C>=0&&-1===D){const B=t[C];0===C?u.unshift(B):u.splice(C,0,B)}})}bindExtensionAddonEventToGridStateChange(i,t){var u,g,C;const D=null===(g=null===(u=this.extensionService)||void 0===u?void 0:u.getExtensionByName)||void 0===g?void 0:g.call(u,i),B=null===(C=null==D?void 0:D.instance)||void 0===C?void 0:C[t];B&&"function"==typeof B.subscribe&&this._eventHandler.subscribe(B,(J,ie)=>{const le=null==ie?void 0:ie.columns,De=this.getAssociatedCurrentColumns(le);this.pubSubService.publish("onGridStateChanged",{change:{newValues:De,type:Pe.columns},gridState:this.getCurrentGridState()})})}bindSlickGridColumnChangeEventToGridStateChange(i,t){var u;const g=null===(u=t)||void 0===u?void 0:u[i];g&&"function"==typeof g.subscribe&&this._eventHandler.subscribe(g,()=>{const C=t.getColumns(),D=this.getAssociatedCurrentColumns(C);this.pubSubService.publish("onGridStateChanged",{change:{newValues:D,type:Pe.columns},gridState:this.getCurrentGridState()})})}bindSlickGridOnSetOptionsEventToGridStateChange(i){const t=i.onSetOptions;this._eventHandler.subscribe(t,(u,g)=>{const{frozenBottom:C,frozenColumn:D,frozenRow:B}=g.optionsBefore,{frozenBottom:J,frozenColumn:ie,frozenRow:le}=g.optionsAfter;if(C!==J||D!==ie||B!==le){const De={frozenBottom:J,frozenColumn:ie,frozenRow:le},Ne=this.getCurrentGridState();this.pubSubService.publish("onGridStateChanged",{change:{newValues:De,type:Pe.pinning},gridState:Ne})}})}bindSlickGridRowSelectionToGridStateChange(){this._grid&&this._gridOptions&&this._dataView&&(this._eventHandler.subscribe(this._dataView.onBeforePagingInfoChanged,()=>{this._wasRecheckedAfterPageChange=!1}),this._eventHandler.subscribe(this._dataView.onPagingInfoChanged,()=>{setTimeout(()=>{const i=this._dataView.mapIdsToRows(this._selectedRowDataContextIds||[]),t=this._grid.getSelectedRows();(0,mo.J)(i,t)||this._grid.setSelectedRows(i)})}),this._eventHandler.subscribe(this._grid.onSelectedRowsChanged,(i,t)=>{if(Array.isArray(t.rows)&&Array.isArray(t.previousSelectedRows)){const u=t.rows,g=t.previousSelectedRows,C=u.filter(De=>g.indexOf(De)<0),D=g.filter(De=>u.indexOf(De)<0);this._wasRecheckedAfterPageChange&&D.length>0&&(this._dataView.mapRowsToIds(D)||[]).forEach(Ne=>{Array.isArray(this._selectedRowDataContextIds)&&this._selectedRowDataContextIds.splice(this._selectedRowDataContextIds.indexOf(Ne),1)}),C.length>0&&(this._dataView.mapRowsToIds(C)||[]).forEach(Ne=>{-1===this._selectedRowDataContextIds.indexOf(Ne)&&this._selectedRowDataContextIds.push(Ne)}),this._wasRecheckedAfterPageChange=!0;const B=this._dataView.mapIdsToRows(this._selectedRowDataContextIds||[]),J=this._grid.getSelectedRows();!(0,mo.J)(B,J)&&this._gridOptions.enablePagination&&this._grid.setSelectedRows(B);const ie=this.refreshFilteredRowSelections(),le={gridRowIndexes:this._grid.getSelectedRows(),dataContextIds:this._selectedRowDataContextIds,filteredDataContextIds:ie};this.pubSubService.publish("onGridStateChanged",{change:{newValues:le,type:Pe.rowSelection},gridState:this.getCurrentGridState()})}}))}hasRowSelectionEnabled(){const i=this._grid.getSelectionModel();return(this._gridOptions.enableRowSelection||this._gridOptions.enableCheckboxSelector)&&i}reEvaluateRowSelectionAfterFilterChange(){const i=this._grid.getSelectedRows(),t=(this._selectedFilteredRowDataContextIds||[]).slice(),u=this.refreshFilteredRowSelections();if(!(0,mo.J)(this._selectedFilteredRowDataContextIds,t)){const g={gridRowIndexes:i,dataContextIds:this._selectedRowDataContextIds,filteredDataContextIds:u};this.pubSubService.publish("onGridStateChanged",{change:{newValues:g,type:Pe.rowSelection},gridState:this.getCurrentGridState({requestRefreshRowFilteredRow:!1})})}}refreshFilteredRowSelections(){let i=[];const t=this._dataView.getFilteredItems()||[];return Array.isArray(this._selectedRowDataContextIds)&&(i=[...this._selectedRowDataContextIds].filter(g=>t.findIndex(C=>C[this.datasetIdPropName]===g)>-1),this._selectedFilteredRowDataContextIds=i),i}}class hi{constructor(i,t){this.extensionUtility=i,this.pubSubService=t,this._subscriptions=[],this._eventHandler=new Slick.EventHandler}get _dataView(){var i;return(null===(i=this._grid)||void 0===i?void 0:i.getData)&&this._grid.getData()}get eventHandler(){return this._eventHandler}get _gridOptions(){var i;return(null===(i=this._grid)||void 0===i?void 0:i.getOptions)?this._grid.getOptions():{}}get _columnDefinitions(){return this._grid&&this._grid.getColumns?this._grid.getColumns():[]}init(i){if(this._grid=i,i&&this._gridOptions&&this._gridOptions.createPreHeaderPanel){this._gridOptions.enableTranslate&&this.translateGroupingAndColSpan(),this._eventHandler.subscribe(i.onSort,()=>this.renderPreHeaderRowGroupingTitles()),this._eventHandler.subscribe(i.onRendered,()=>this.renderPreHeaderRowGroupingTitles()),this._eventHandler.subscribe(i.onAutosizeColumns,()=>this.renderPreHeaderRowGroupingTitles()),this._eventHandler.subscribe(i.onColumnsResized,()=>this.renderPreHeaderRowGroupingTitles()),this._eventHandler.subscribe(i.onColumnsReordered,()=>this.renderPreHeaderRowGroupingTitles()),this._eventHandler.subscribe(this._dataView.onRowCountChanged,()=>this.delayRenderPreHeaderRowGroupingTitles(0)),this._subscriptions.push(this.pubSubService.subscribe("onColumnPickerColumnsChanged",()=>this.renderPreHeaderRowGroupingTitles()),this.pubSubService.subscribe("onHeaderMenuHideColumns",()=>this.delayRenderPreHeaderRowGroupingTitles(0)),this.pubSubService.subscribe("onGridMenuColumnsChanged",()=>this.renderPreHeaderRowGroupingTitles()),this.pubSubService.subscribe("onGridMenuMenuClose",()=>this.renderPreHeaderRowGroupingTitles()));const t=i.getPluginByName("Resizer");(null==t?void 0:t.onGridAfterResize)&&this._eventHandler.subscribe(t.onGridAfterResize,()=>this.renderPreHeaderRowGroupingTitles()),this._eventHandler.subscribe(i.onSetOptions,(u,g)=>{var C,D;(null===(C=null==g?void 0:g.optionsBefore)||void 0===C?void 0:C.frozenColumn)!==(null===(D=null==g?void 0:g.optionsAfter)||void 0===D?void 0:D.frozenColumn)&&this.delayRenderPreHeaderRowGroupingTitles(0)}),this.delayRenderPreHeaderRowGroupingTitles(75)}}dispose(){this._eventHandler.unsubscribeAll(),this.pubSubService.unsubscribeAll(this._subscriptions)}delayRenderPreHeaderRowGroupingTitles(i=0){setTimeout(()=>this.renderPreHeaderRowGroupingTitles(),i)}renderPreHeaderRowGroupingTitles(){var i;if(this._gridOptions&&void 0!==this._gridOptions.frozenColumn&&this._gridOptions.frozenColumn>=0){let t=this._grid.getPreHeaderPanelLeft();this.renderHeaderGroups(t,0,this._gridOptions.frozenColumn+1),t=this._grid.getPreHeaderPanelRight(),this.renderHeaderGroups(t,(null===(i=this._gridOptions)||void 0===i?void 0:i.frozenColumn)+1,this._columnDefinitions.length)}else{const t=this._grid.getPreHeaderPanel();this.renderHeaderGroups(t,0,this._columnDefinitions.length)}}renderHeaderGroups(i,t,u){var g,C,D;di(i),i.className="slick-header-columns",i.style.left="-1000px",i.style.width=`${this._grid.getHeadersWidth()}px`,i.parentElement&&i.parentElement.classList.add("slick-header");const B=this._grid.getHeaderColumnWidthDiff();let J,ie=null,le="",De=0;const Ne=null!==(C=null===(g=this._gridOptions)||void 0===g?void 0:g.frozenHeaderWidthCalcDifferential)&&void 0!==C?C:0,Ze=void 0!==(null===(D=this._gridOptions)||void 0===D?void 0:D.frozenColumn)&&this._gridOptions.frozenColumn>=0;for(let ht=t;ht<u;ht++)if(J=this._columnDefinitions[ht],J){if(le===J.columnGroup&&ht>0)De+=J.width||0,(null==ie?void 0:ie.style)&&(ie.style.width=De-B-Ne+"px");else{De=J.width||0,ie=Wt("div",{className:"ui-state-default slick-header-column "+(Ze?"frozen":""),style:{width:De-B+"px"}});const Ct=Wt("span",{className:"slick-column-name",textContent:J.columnGroup||""});ie.appendChild(Ct),i.appendChild(ie)}le=J.columnGroup||""}}translateGroupingAndColSpan(){const i=this._grid.getColumns();this.extensionUtility.translateItems(i,"columnGroupKey","columnGroup"),this._grid.setColumns(i),this.renderPreHeaderRowGroupingTitles()}}class er{constructor(i,t,u,g){this.pubSubService=i,this.sharedService=t,this.backendUtilities=u,this.rxjs=g,this._eventHandler=new Slick.EventHandler,this._initialized=!1,this._isLocalGrid=!0,this._dataFrom=1,this._dataTo=1,this._itemsPerPage=0,this._pageCount=1,this._pageNumber=1,this._totalItems=0,this._availablePageSizes=[],this._subscriptions=[]}get dataView(){var i,t,u;return null!==(u=null===(t=null===(i=this.grid)||void 0===i?void 0:i.getData)||void 0===t?void 0:t.call(i))&&void 0!==u?u:{}}set paginationOptions(i){this._paginationOptions=i}get paginationOptions(){return this._paginationOptions}get availablePageSizes(){return this._availablePageSizes}get dataFrom(){return this._dataFrom}get dataTo(){return this._dataTo}get itemsPerPage(){return this._itemsPerPage}get pageCount(){return this._pageCount}get pageNumber(){return this._pageNumber}get totalItems(){return this._totalItems}set totalItems(i){this._totalItems=i,this._initialized&&this.refreshPagination()}addRxJsResource(i){this.rxjs=i}init(i,t,u){if(this._availablePageSizes=t.pageSizes,this.grid=i,this._backendServiceApi=u,this._paginationOptions=t,this._isLocalGrid=!u,this._pageNumber=t.pageNumber||1,u&&(!u.service||!u.process))throw new Error('BackendServiceApi requires the following 2 properties "process" and "service" to be defined.');this._isLocalGrid&&this.dataView&&(this._eventHandler.subscribe(this.dataView.onPagingInfoChanged,(C,D)=>{this._totalItems!==D.totalRows&&(this.updateTotalItems(D.totalRows),this._previousPagination={pageNumber:D.pageNum,pageSize:D.pageSize,pageSizes:this.availablePageSizes,totalItems:D.totalRows})}),setTimeout(()=>{this.dataView&&(this.dataView.setRefreshHints({isFilterUnchanged:!0}),this.dataView.setPagingOptions({pageSize:this.paginationOptions.pageSize,pageNum:this._pageNumber-1}))})),this._subscriptions.push(this.pubSubService.subscribe("onFilterChanged",()=>this.resetPagination())),this._subscriptions.push(this.pubSubService.subscribe("onFilterCleared",()=>this.resetPagination())),this.dataView&&(this._subscriptions.push(this.pubSubService.subscribe("onItemAdded",C=>this.processOnItemAddedOrRemoved(C,!0))),this._subscriptions.push(this.pubSubService.subscribe("onItemDeleted",C=>this.processOnItemAddedOrRemoved(C,!1)))),this.refreshPagination(!1,!1,!0);const g=this.getFullPagination();this._previousPagination={pageNumber:g.pageNumber,pageSize:g.pageSize,pageSizes:g.pageSizes,totalItems:this.totalItems},this._initialized=!0}dispose(){this._initialized=!1,this._eventHandler.unsubscribeAll(),this.pubSubService.unsubscribeAll(this._subscriptions)}getCurrentPagination(){return{pageNumber:this._pageNumber,pageSize:this._itemsPerPage,pageSizes:this._availablePageSizes}}getFullPagination(){return{pageCount:this._pageCount,pageNumber:this._pageNumber,pageSize:this._itemsPerPage,pageSizes:this._availablePageSizes,totalItems:this._totalItems,dataFrom:this._dataFrom,dataTo:this._dataTo}}getCurrentPageNumber(){return this._pageNumber}getCurrentItemPerPage(){return this._itemsPerPage}changeItemPerPage(i,t,u=!0){return this._pageNumber=1,this._pageCount=Math.ceil(this._totalItems/i),this._itemsPerPage=i,u?this.processOnPageChanged(this._pageNumber,t):Promise.resolve(this.getFullPagination())}goToFirstPage(i,t=!0){return this._pageNumber=1,t?this.processOnPageChanged(this._pageNumber,i):Promise.resolve(this.getFullPagination())}goToLastPage(i,t=!0){return this._pageNumber=this._pageCount||1,t?this.processOnPageChanged(this._pageNumber||1,i):Promise.resolve(this.getFullPagination())}goToNextPage(i,t=!0){return this._pageNumber<this._pageCount?(this._pageNumber++,t?this.processOnPageChanged(this._pageNumber,i):Promise.resolve(this.getFullPagination())):Promise.resolve(!1)}goToPageNumber(i,t,u=!0){const g=this._pageNumber;return i<1?this._pageNumber=1:i>this._pageCount?this._pageNumber=this._pageCount:this._pageNumber=i,this._pageNumber!==g?u?this.processOnPageChanged(this._pageNumber,t):Promise.resolve(this.getFullPagination()):Promise.resolve(!1)}goToPreviousPage(i,t=!0){return this._pageNumber>1?(this._pageNumber--,t?this.processOnPageChanged(this._pageNumber,i):Promise.resolve(this.getFullPagination())):Promise.resolve(!1)}refreshPagination(i=!1,t=!0,u=!1){var g,C,D;const B=tn({},this.getFullPagination());if(this._paginationOptions){const ie=this._paginationOptions;this._itemsPerPage||(this._isLocalGrid?this._itemsPerPage=ie.pageSize:this._itemsPerPage=+((null===(D=null===(C=null===(g=this._backendServiceApi)||void 0===g?void 0:g.options)||void 0===C?void 0:C.paginationOptions)||void 0===D?void 0:D.first)?this._backendServiceApi.options.paginationOptions.first:ie.pageSize)),(i||this._totalItems!==ie.totalItems)&&(i?(this._pageNumber=1,this.paginationOptions.pageNumber=1):!this._initialized&&ie.pageNumber&&ie.pageNumber>1&&(this._pageNumber=ie.pageNumber||1),1===this._pageNumber&&this._backendServiceApi&&this._backendServiceApi.service.resetPaginationOptions()),this._availablePageSizes=ie.pageSizes,!this._totalItems&&ie.totalItems&&(this._totalItems=ie.totalItems),this.recalculateFromToIndexes()}this._pageCount=Math.ceil(this._totalItems/this._itemsPerPage),this.sharedService.currentPagination=this.getCurrentPagination(),this.pubSubService.publish("onPaginationRefreshed",this.getFullPagination()),t&&!(0,mo.J)(B,this.getFullPagination())&&this.pubSubService.publish("onPaginationChanged",this.getFullPagination()),u&&!(0,mo.J)(B,this.getFullPagination())&&this.pubSubService.publish("onPaginationPresetsInitialized",this.getFullPagination());const J=this.getFullPagination();this._previousPagination={pageNumber:J.pageNumber,pageSize:J.pageSize,pageSizes:J.pageSizes,totalItems:this.totalItems}}resetPagination(i=!0){var t,u;this._isLocalGrid&&this.dataView&&(null===(u=null===(t=this.sharedService)||void 0===t?void 0:t.gridOptions)||void 0===u?void 0:u.enablePagination)&&this.dataView.setPagingOptions({pageSize:this._itemsPerPage,pageNum:0}),this.refreshPagination(!0,i)}togglePaginationVisibility(i){var t;if(this.grid&&(null===(t=this.sharedService)||void 0===t?void 0:t.gridOptions)){const u=void 0!==i?i:!this.sharedService.gridOptions.enablePagination;if(u&&this.goToFirstPage(),this._isLocalGrid&&this.dataView){const g=i?this._itemsPerPage:0;this.dataView.setPagingOptions({pageSize:g,pageNum:0})}this.sharedService.gridOptions.enablePagination=u,this.pubSubService.publish("onPaginationVisibilityChanged",{visible:u})}}processOnPageChanged(i,t){return!1===this.pubSubService.publish("onBeforePaginationChange",this.getFullPagination())?(this.resetToPreviousPagination(),Promise.resolve(this.getFullPagination())):new Promise((u,g)=>{var C,D,B;if(this.recalculateFromToIndexes(),this._isLocalGrid&&this.dataView)this.dataView.setPagingOptions({pageSize:this._itemsPerPage,pageNum:i-1}),this.pubSubService.publish("onPaginationChanged",this.getFullPagination()),this.pubSubService.publish("onPaginationRefreshed",this.getFullPagination()),u(this.getFullPagination());else{const J=+this._itemsPerPage,ie=new Date;if((null===(C=this._backendServiceApi)||void 0===C?void 0:C.preProcess)&&this._backendServiceApi.preProcess(),null===(D=this._backendServiceApi)||void 0===D?void 0:D.process){const le=this._backendServiceApi.service.processOnPaginationChanged(t,{newPage:i,pageSize:J}),De=this._backendServiceApi.process(le);De instanceof Promise?De.then(Ne=>{var Ze;null===(Ze=this.backendUtilities)||void 0===Ze||Ze.executeBackendProcessesCallback(ie,Ne,this._backendServiceApi,this._totalItems);const ht=this.getFullPagination();this._previousPagination={pageNumber:ht.pageNumber,pageSize:ht.pageSize,pageSizes:ht.pageSizes,totalItems:this.totalItems},u(this.getFullPagination())}).catch(Ne=>{var Ze,ht,Ct;this.resetToPreviousPagination(),null===(Ze=this.backendUtilities)||void 0===Ze||Ze.onBackendError(Ne,this._backendServiceApi),(!(null===(ht=this._backendServiceApi)||void 0===ht?void 0:ht.onError)||!(null===(Ct=this.backendUtilities)||void 0===Ct?void 0:Ct.onBackendError))&&g(De)}):(null===(B=this.rxjs)||void 0===B?void 0:B.isObservable(De))&&this._subscriptions.push(De.subscribe(Ne=>{var Ze;const ht=this.getFullPagination();this._previousPagination={pageNumber:ht.pageNumber,pageSize:ht.pageSize,pageSizes:ht.pageSizes,totalItems:this.totalItems},u(null===(Ze=this.backendUtilities)||void 0===Ze?void 0:Ze.executeBackendProcessesCallback(ie,Ne,this._backendServiceApi,this._totalItems))},Ne=>{var Ze,ht,Ct;this.resetToPreviousPagination(),null===(Ze=this.backendUtilities)||void 0===Ze||Ze.onBackendError(Ne,this._backendServiceApi),(!(null===(ht=this._backendServiceApi)||void 0===ht?void 0:ht.onError)||!(null===(Ct=this.backendUtilities)||void 0===Ct?void 0:Ct.onBackendError))&&g(De)})),this.pubSubService.publish("onPaginationRefreshed",this.getFullPagination()),this.pubSubService.publish("onPaginationChanged",this.getFullPagination())}}})}recalculateFromToIndexes(){0===this._totalItems?(this._dataFrom=0,this._dataTo=1,this._pageNumber=0):(this._dataFrom=this._pageNumber>1?this._pageNumber*this._itemsPerPage-this._itemsPerPage+1:1,this._dataTo=this._totalItems<this._itemsPerPage?this._totalItems:(this._pageNumber||1)*this._itemsPerPage,this._dataTo>this._totalItems&&(this._dataTo=this._totalItems)),this._pageNumber=this._totalItems>0&&0===this._pageNumber?1:this._pageNumber,(this._dataTo>this._totalItems||this._totalItems<this._itemsPerPage)&&(this._dataTo=this._totalItems)}resetToPreviousPagination(){var i,t,u,g,C,D,B,J,ie,le,De,Ne,Ze;const ht=(null===(i=this._previousPagination)||void 0===i?void 0:i.pageNumber)!==this.getFullPagination().pageNumber,Ct=(null===(t=this._previousPagination)||void 0===t?void 0:t.pageSize)!==this.getFullPagination().pageSize;Ct&&this.changeItemPerPage(null!==(g=null===(u=this._previousPagination)||void 0===u?void 0:u.pageSize)&&void 0!==g?g:0,null,!1),ht&&this.goToPageNumber(null!==(D=null===(C=this._previousPagination)||void 0===C?void 0:C.pageNumber)&&void 0!==D?D:0,null,!1),(ht||Ct)&&(this.refreshPagination(),null===(ie=null===(J=null===(B=this._backendServiceApi)||void 0===B?void 0:B.service)||void 0===J?void 0:J.updatePagination)||void 0===ie||ie.call(J,null!==(De=null===(le=this._previousPagination)||void 0===le?void 0:le.pageNumber)&&void 0!==De?De:0,null!==(Ze=null===(Ne=this._previousPagination)||void 0===Ne?void 0:Ne.pageSize)&&void 0!==Ze?Ze:0))}updateTotalItems(i,t=!1){this._totalItems=i,this._paginationOptions&&(this._paginationOptions.totalItems=i,this.refreshPagination(!1,t))}processOnItemAddedOrRemoved(i,t=!0){if(null!==i){const u=this._dataTo,g=Array.isArray(i)?i.length:1,C=t?+g:-g;this._totalItems+=C,this.recalculateFromToIndexes(),this._dataTo=u+C,this.pubSubService.publish("onPaginationChanged",this.getFullPagination())}}}class Ur{constructor(i){this.pubSubService=i,this._intervalRetryDelay=200,this._isStopResizeIntervalRequested=!1,this._hasResizedByContentAtLeastOnce=!1,this._totalColumnsWidthByContent=0,this._resizePaused=!1,this._subscriptions=[],this._eventHandler=new Slick.EventHandler}get eventHandler(){return this._eventHandler}get gridOptions(){var i,t,u;return null!==(u=null===(t=null===(i=this._grid)||void 0===i?void 0:i.getOptions)||void 0===t?void 0:t.call(i))&&void 0!==u?u:{}}get dataView(){var i;return null===(i=this._grid)||void 0===i?void 0:i.getData()}get gridUid(){var i,t;return null!==(t=null===(i=this._grid)||void 0===i?void 0:i.getUID())&&void 0!==t?t:""}get gridUidSelector(){return this.gridUid?`.${this.gridUid}`:""}get intervalRetryDelay(){return this._intervalRetryDelay}set intervalRetryDelay(i){this._intervalRetryDelay=i}get resizeByContentOptions(){var i,t;return null!==(t=null===(i=this.gridOptions)||void 0===i?void 0:i.resizeByContentOptions)&&void 0!==t?t:{}}dispose(){var i,t;null===(i=this._eventHandler)||void 0===i||i.unsubscribeAll(),this.pubSubService.unsubscribeAll(this._subscriptions),this._intervalId&&clearInterval(this._intervalId),clearTimeout(this._timer),"container"===(null===(t=this.gridOptions.autoResize)||void 0===t?void 0:t.resizeDetection)?this._resizeObserver&&this._resizeObserver.disconnect():$(window).off(`resize.grid${this.gridUidSelector}`)}init(i,t){var u,g,C,D,B,J,ie,le;if(!i||!this.gridOptions||!t)throw new Error('\n      [Slickgrid-Universal] Resizer Service requires a valid Grid object and DOM Element Container to be provided.\n      You can fix this by setting your gridOption to use "enableAutoResize" or create an instance of the ResizerService by calling bindAutoResizeDataGrid()');this._grid=i,this._gridParentContainerElm=t;const De=(null===(u=this.gridOptions)||void 0===u?void 0:u.gridHeight)||(null===(g=this.gridOptions)||void 0===g?void 0:g.gridWidth)?{height:null===(C=this.gridOptions)||void 0===C?void 0:C.gridHeight,width:null===(D=this.gridOptions)||void 0===D?void 0:D.gridWidth}:void 0;this._autoResizeOptions=null!==(J=null===(B=this.gridOptions)||void 0===B?void 0:B.autoResize)&&void 0!==J?J:{container:"grid1",bottomPadding:0},(null==De?void 0:De.width)&&(null==t?void 0:t.style)&&(t.style.width="string"==typeof De.width?De.width:`${De.width}px`);const Ne=null===(ie=null==i?void 0:i.getContainerNode)||void 0===ie?void 0:ie.call(i);this._gridDomElm=$(Ne),this._autoResizeOptions.container,this._pageContainerElm=$(this._autoResizeOptions.container),this._gridContainerElm=$(t),De&&(this._fixedHeight=De.height,this._fixedWidth=De.width),this.gridOptions&&this.gridOptions.enableAutoResize&&this.bindAutoResizeDataGrid(),this.gridOptions.autoResize&&this._subscriptions.push(this.pubSubService.subscribe("onFullResizeByContentRequested",()=>this.resizeColumnsByCellContent(!0))),(null===(le=this.gridOptions)||void 0===le?void 0:le.enableColumnResizeOnDoubleClick)&&(this._subscriptions.push(this.pubSubService.subscribe("onHeaderMenuColumnResizeByContent",Ze=>{this.handleSingleColumnResizeByContent(Ze.columnId)})),this._eventHandler.subscribe(this._grid.onColumnsResizeDblClick,(Ze,ht)=>{this.handleSingleColumnResizeByContent(ht.triggeredByColumn)}))}bindAutoResizeDataGrid(i){var t;if("container"===(null===(t=this.gridOptions.autoResize)||void 0===t?void 0:t.resizeDetection)){if(!this._pageContainerElm||!this._pageContainerElm[0])throw new Error('\n          [Slickgrid-Universal] Resizer Service requires a container when gridOption.autoResize.resizeDetection="container"\n          You can fix this by setting your gridOption.autoResize.container');this._resizeObserver||(this._resizeObserver=new ResizeObserver(()=>this.resizeObserverCallback())),this._resizeObserver.observe(this._pageContainerElm[0])}else{if(void 0===this._gridDomElm||void 0===this._gridDomElm.offset())return null;this.resizeGrid().then(()=>this.resizeGridWhenStylingIsBrokenUntilCorrected()).catch(u=>console.log("Error:",u)),this.resizeGrid(10,i),$(window).on(`resize.grid${this.gridUidSelector}`,this.handleResizeGrid.bind(this,i))}}handleResizeGrid(i){this.pubSubService.publish("onGridBeforeResize"),this._resizePaused||(this.resizeGrid(0,i),this.resizeGrid(0,i))}resizeObserverCallback(){this._resizePaused||this.resizeGrid()}calculateGridNewDimensions(i){var t,u,g,C,D,B;const J=null!==(t=null==i?void 0:i.autoResize)&&void 0!==t?t:{};if(!window||void 0===this._pageContainerElm||void 0===this._gridDomElm.offset())return null;let ie=void 0!==(null==J?void 0:J.bottomPadding)?J.bottomPadding:20;if(ie&&i.enablePagination&&(ie+=35),ie&&i.showCustomFooter){const ni=null!==(C=null===(g=null===(u=this.gridOptions)||void 0===u?void 0:u.customFooterOptions)||void 0===g?void 0:g.footerHeight)&&void 0!==C?C:25;ie+=parseInt(`${ni}`,10)}let le=0,De=0;if("container"===J.calculateAvailableSizeBy)le=this._pageContainerElm.height()||0;else{le=window.innerHeight||0;const ni=this._gridDomElm.offset();De=void 0!==ni?ni.top:0}const Ne=le-De-ie,Ze=this._pageContainerElm.width()||window.innerWidth||0,ht=null==J?void 0:J.maxHeight,Ct=null!==(D=null==J?void 0:J.minHeight)&&void 0!==D?D:180,Kt=null==J?void 0:J.maxWidth,Xt=null!==(B=null==J?void 0:J.minWidth)&&void 0!==B?B:300;let dn=Ne,yi=(null==J?void 0:J.rightPadding)?Ze-J.rightPadding:Ze;return dn<Ct&&(dn=Ct),ht&&dn>ht&&(dn=ht),yi<Xt&&(yi=Xt),Kt&&yi>Kt&&(yi=Kt),{height:this._fixedHeight||dn,width:this._fixedWidth||yi}}getLastResizeDimensions(){return this._lastDimensions}pauseResizer(i){this._resizePaused=i}resizeGrid(i,t){return new Promise(u=>{(i=i||0)>0?(clearTimeout(this._timer),this._timer=setTimeout(()=>u(this.resizeGridCallback(t)),i)):u(this.resizeGridCallback(t))})}resizeGridCallback(i){var t,u;const g=this.resizeGridWithDimensions(i);return this.pubSubService.publish("onGridAfterResize",g),this.gridOptions.enableAutoResizeColumnsByCellContent&&(!(null===(t=this._lastDimensions)||void 0===t?void 0:t.width)||(null==g?void 0:g.width)!==(null===(u=this._lastDimensions)||void 0===u?void 0:u.width))&&this.resizeColumnsByCellContent(!1),this._lastDimensions=g,g}resizeGridWithDimensions(i){var t,u,g,C;const D=this.calculateGridNewDimensions(this.gridOptions);if((i||D)&&this._gridDomElm.length>0){const B=(null==i?void 0:i.height)?i.height:null==D?void 0:D.height,J=(null==i?void 0:i.width)?i.width:null==D?void 0:D.width;this.gridOptions.autoHeight||(this._gridDomElm.height(B),this._gridContainerElm.height(B)),this._gridDomElm.width(J),this._gridContainerElm.width(J),null===new RegExp("MSIE [6-8]").exec(navigator.userAgent)&&(null===(t=this._grid)||void 0===t?void 0:t.resizeCanvas)&&$(this._gridContainerElm)&&this._grid.resizeCanvas(),(null===(u=this.gridOptions)||void 0===u?void 0:u.enableAutoSizeColumns)&&this._grid.autosizeColumns?this.gridUid&&$(`${this.gridUidSelector}`).length>0&&this._grid.autosizeColumns():this.gridOptions.enableAutoResizeColumnsByCellContent&&(!(null===(g=this._lastDimensions)||void 0===g?void 0:g.width)||J!==(null===(C=this._lastDimensions)||void 0===C?void 0:C.width))&&this.resizeColumnsByCellContent(!1),this._lastDimensions={height:B||0,width:J||0}}return this._lastDimensions}requestStopOfAutoFixResizeGrid(i=!0){this._isStopResizeIntervalRequested=i}resizeColumnsByCellContent(i=!1){var t,u,g,C,D,B,J;const ie=this._grid.getColumns(),le=this.dataView.getItems(),De={};let Ne=!1,Ze=0;const ht=null!==(u=null===(t=this._gridParentContainerElm)||void 0===t?void 0:t.offsetWidth)&&void 0!==u?u:0;if(!i&&this._totalColumnsWidthByContent>0&&this._totalColumnsWidthByContent<ht)return void this._grid.autosizeColumns();if(!Array.isArray(le)||0===le.length||this._hasResizedByContentAtLeastOnce&&(null===(g=this.gridOptions)||void 0===g?void 0:g.resizeByContentOnlyOnFirstLoad)&&!i)return;if(this.pubSubService.publish("onBeforeResizeByContent",void 0,0),0===this._totalColumnsWidthByContent||i){for(const Xt of ie)De[Xt.id]=null!==(D=null!==(C=Xt.originalWidth)&&void 0!==C?C:Xt.minWidth)&&void 0!==D?D:0;Ze=this.calculateCellWidthByReadingDataset(ie,De,this.resizeByContentOptions.maxItemToInspectCellContentWidth);let Kt=0;for(const Xt of ie){const dn=null!==(J=null!==(B=Xt.resizeAlwaysRecalculateWidth)&&void 0!==B?B:this.resizeByContentOptions.alwaysRecalculateColumnWidth)&&void 0!==J&&J;Xt.originalWidth&&!dn?Xt.width=Xt.originalWidth:void 0!==De[Xt.id]&&(Xt.rerenderOnResize&&(Ne=!0),this.applyNewCalculatedColumnWidthByReference(Xt,De[Xt.id])),Kt+=Xt.width||0,this._totalColumnsWidthByContent=Kt}}this._grid.setColumns(ie),this._hasResizedByContentAtLeastOnce=!0;const Ct={};for(const Kt of ie)Ct[Kt.id]=Kt.width;this._totalColumnsWidthByContent>ht?this._grid.reRenderColumns(Ne):this._grid.autosizeColumns(),this.pubSubService.publish("onAfterResizeByContent",{readItemCount:Ze,calculateColumnWidths:Ct})}calculateCellWidthByReadingDataset(i,t,u=1e3,g){const C=Array.isArray(i)?i:[i],D=this.dataView.getItems();let B=0;for(const[J,ie]of D.entries()){if(J>u)break;Array.isArray(C)&&"object"==typeof t&&C.forEach((le,De)=>{const Ne=this.calculateCellWidthByContent(ie,le,J,null!=g?g:De,t[le.id]);void 0!==Ne&&(t[le.id]=Ne)}),B=J+1}return B}calculateCellWidthByContent(i,t,u,g,C){var D,B;const J=null!==(D=this.resizeByContentOptions.cellCharWidthInPx)&&void 0!==D?D:7;if(!t.originalWidth){const ie=null!==(B=null==t?void 0:t.resizeCharWidthInPx)&&void 0!==B?B:J,De=Us(vi(null==t?void 0:t.formatter,u,g,t,i,this._grid)),Ne=Math.ceil(De.length*ie),Ze=t.resizeMaxWidthThreshold;t&&(void 0===C||Ne>C)&&(C=void 0!==Ze&&Ne>Ze?Ze:void 0!==t.maxWidth&&Ne>t.maxWidth?t.maxWidth:Ne)}return C}applyNewCalculatedColumnWidthByReference(i,t){var u,g,C,D,B,J,ie;const le=null!==(u=this.resizeByContentOptions.cellPaddingWidthInPx)&&void 0!==u?u:6,De=null!==(g=this.resizeByContentOptions.formatterPaddingWidthInPx)&&void 0!==g?g:6,Ne=null!==(B=null!==(D=null===(C=null==i?void 0:i.filter)||void 0===C?void 0:C.type)&&void 0!==D?D:null==i?void 0:i.type)&&void 0!==B?B:Ee.string;let Ze=t;const ht=null!==(ie=null!==(J=null==i?void 0:i.resizeCalcWidthRatio)&&void 0!==J?J:this.resizeByContentOptions.defaultRatioForStringType)&&void 0!==ie?ie:.9;Ze*="string"===Ne?ht:1,Ze+=le,i.resizeExtraWidthPadding&&(Ze+=i.resizeExtraWidthPadding),i.editor&&this.gridOptions.editable&&(Ze+=De),void 0!==i.maxWidth&&Ze>i.maxWidth&&(Ze=i.maxWidth),void 0!==i.resizeMaxWidthThreshold&&Ze>i.resizeMaxWidthThreshold&&(Ze=i.resizeMaxWidthThreshold),Ze=Math.ceil(Ze),(void 0===i.originalWidth||!0===i.resizeAlwaysRecalculateWidth||!0===this.resizeByContentOptions.alwaysRecalculateColumnWidth)&&(i.width=this.readjustNewColumnWidthWhenOverLimit(i,Ze))}handleSingleColumnResizeByContent(i){var t,u,g;const C=this._grid.getColumns(),D=C.findIndex(B=>B.id===i);if(D>=0){const B=C[D],J={[i]:null!==(u=null!==(t=B.originalWidth)&&void 0!==t?t:B.minWidth)&&void 0!==u?u:0};B.originalWidth=void 0,this.calculateCellWidthByReadingDataset(B,J,this.resizeByContentOptions.maxItemToInspectSingleColumnWidthByContent,D),this.applyNewCalculatedColumnWidthByReference(B,J[i]),this._grid.reRenderColumns(null!==(g=null==B?void 0:B.rerenderOnResize)&&void 0!==g&&g)}}readjustNewColumnWidthWhenOverLimit(i,t){var u,g,C,D,B,J,ie,le;const De=null!==(u=this.gridOptions.frozenColumn)&&void 0!==u?u:-1,Ne=null!==(g=this._grid.getColumns().findIndex(ht=>ht.id===i.id))&&void 0!==g?g:0;let Ze=t;if(De>=0&&Ne<=De){const ht=Array.from(this._grid.getViewports());if(ht){const Ct=null!==(D=null===(C=ht.find(ni=>ni.classList.contains("slick-viewport-left")))||void 0===C?void 0:C.clientWidth)&&void 0!==D?D:0,Kt=null!==(J=null===(B=ht.find(ni=>ni.classList.contains("slick-viewport-right")))||void 0===B?void 0:B.clientWidth)&&void 0!==J?J:0,Xt=Ct+Kt,dn=Ct-(null!==(ie=i.width)&&void 0!==ie?ie:0);if(dn+t>Xt){Ze=Ct-dn+Kt-(null!==(le=this.resizeByContentOptions.widthToRemoveFromExceededWidthReadjustment)&&void 0!==le?le:50)}}}return Math.ceil(Ze)}checkIsGridShown(){var i,t;return!(null===(t=null===(i=document.querySelector(`${this.gridUidSelector}`))||void 0===i?void 0:i.offsetParent)||void 0===t||!t)}resizeGridWhenStylingIsBrokenUntilCorrected(){var t,u,g,C,i=this;const D=null!==(u=null===(t=this.gridOptions)||void 0===t?void 0:t.autoFixResizeTimeout)&&void 0!==u?u:18e3,B=null!==(C=null===(g=this.gridOptions)||void 0===g?void 0:g.autoFixResizeRequiredGoodCount)&&void 0!==C?C:5,J=this._gridParentContainerElm.querySelector(`${this.gridUidSelector} .slick-header`),ie=this._gridParentContainerElm.querySelector(`${this.gridUidSelector} .slick-viewport`);let le=0,De=0;if(J&&ie&&this.gridOptions.autoFixResizeWhenBrokenStyleDetected){const Ne=this.dataView.getItemCount(),Ze=this._grid.getColumns()||[];this._intervalId=setInterval((0,Or.Z)(function*(){var ht,Ct,Kt,Xt,dn,yi;const Jn=_r(J);let Ti=null!==(ht=null==Jn?void 0:Jn.top)&&void 0!==ht?ht:0;i.gridOptions&&i.gridOptions.enableFiltering&&i.gridOptions.headerRowHeight&&(Ti+=i.gridOptions.headerRowHeight),i.gridOptions&&i.gridOptions.createPreHeaderPanel&&i.gridOptions.showPreHeaderPanel&&i.gridOptions.preHeaderPanelHeight&&(Ti+=i.gridOptions.preHeaderPanelHeight),Ti+=44;const ri=_r(ie),Xn=null!==(Ct=null==ri?void 0:ri.top)&&void 0!==Ct?Ct:0,Wi=_r(i._gridParentContainerElm);let vr=0===(null==Jn?void 0:Jn.top)||Ti-Xn>2||0===(null==Wi?void 0:Wi.left)&&0===(null==Wi?void 0:Wi.top);const Ci=null!==(yi=null===(dn=null===(Xt=(Kt=i._grid).getRenderedRange)||void 0===Xt?void 0:Xt.call(Kt))||void 0===dn?void 0:dn.rightPx)&&void 0!==yi?yi:0;!vr&&Ne>0&&0===Ci&&Ze.length>1&&(vr=!0),i._isStopResizeIntervalRequested&&(vr=!1,le=D),i.checkIsGridShown()&&(vr||0===(null==Wi?void 0:Wi.left)||0===(null==Wi?void 0:Wi.top))&&(yield i.resizeGrid(),i.checkIsGridShown()&&(vr=!1)),i.checkIsGridShown()&&De++,i.checkIsGridShown()&&!vr&&(De>=B||le++>=D)&&clearInterval(i._intervalId)}),this.intervalRetryDelay)}}}class sa{constructor(){this._hasColumnsReordered=!1,this._hideHeaderRowAfterPageLoad=!1}get allColumns(){return this._allColumns}set allColumns(i){this._allColumns=i}get columnDefinitions(){return this._grid&&this._grid.getColumns?this._grid.getColumns():[]}get currentPagination(){return this._currentPagination}set currentPagination(i){this._currentPagination=i}get dataView(){return this._dataView}set dataView(i){this._dataView=i}get frozenVisibleColumnId(){return this._frozenVisibleColumnId}set frozenVisibleColumnId(i){this._frozenVisibleColumnId=i}get hasColumnsReordered(){return this._hasColumnsReordered}set hasColumnsReordered(i){this._hasColumnsReordered=i}get slickGrid(){return this._grid}set slickGrid(i){this._grid=i}get gridContainerElement(){return this._gridContainerElm}set gridContainerElement(i){this._gridContainerElm=i}get gridOptions(){var i;return this._gridOptions||(null===(i=this._grid)||void 0===i?void 0:i.getOptions())||{}}set gridOptions(i){this._gridOptions=i}get groupItemMetadataProvider(){return this._groupItemMetadataProvider}set groupItemMetadataProvider(i){this._groupItemMetadataProvider=i}get hideHeaderRowAfterPageLoad(){return this._hideHeaderRowAfterPageLoad}set hideHeaderRowAfterPageLoad(i){this._hideHeaderRowAfterPageLoad=i}get externalRegisteredResources(){return this._externalRegisteredResources}set externalRegisteredResources(i){this._externalRegisteredResources=i}get visibleColumns(){return this._visibleColumns}set visibleColumns(i){this._visibleColumns=i}get hierarchicalDataset(){return this._hierarchicalDataset}set hierarchicalDataset(i){this._hierarchicalDataset=i}}class al{constructor(i,t,u,g){this.sharedService=i,this.pubSubService=t,this.backendUtilities=u,this.rxjs=g,this._currentLocalSorters=[],this._isBackendGrid=!1,this._eventHandler=new Slick.EventHandler,this.rxjs&&(this.httpCancelRequests$=this.rxjs.createSubject())}get eventHandler(){return this._eventHandler}get _gridOptions(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}}get _columnDefinitions(){return this._grid&&this._grid.getColumns?this._grid.getColumns():[]}dispose(){var i,t;(null===(i=this._eventHandler)||void 0===i?void 0:i.unsubscribeAll)&&this._eventHandler.unsubscribeAll(),this.httpCancelRequests$&&(null===(t=this.rxjs)||void 0===t?void 0:t.isObservable(this.httpCancelRequests$))&&(this.httpCancelRequests$.next(),this.httpCancelRequests$.complete())}addRxJsResource(i){this.rxjs=i}bindBackendOnSort(i){var t,u;this._isBackendGrid=!0,this._grid=i,this._dataView=null!==(u=null===(t=null==i?void 0:i.getData)||void 0===t?void 0:t.call(i))&&void 0!==u?u:{},this._eventHandler.subscribe(i.onSort,this.onBackendSortChanged.bind(this))}bindLocalOnSort(i){this._isBackendGrid=!1,this._grid=i,this._dataView=i.getData(),this.processTreeDataInitialSort(),this._eventHandler.subscribe(i.onSort,this.handleLocalOnSort.bind(this))}handleLocalOnSort(i,t){const u=t.multiColumnSort?t.sortCols:new Array({columnId:t.sortCol.id,sortAsc:t.sortAsc,sortCol:t.sortCol});this._currentLocalSorters=[],Array.isArray(u)&&u.forEach(g=>{g.sortCol&&this._currentLocalSorters.push({columnId:g.sortCol.id,direction:g.sortAsc?dt.ASC:dt.DESC})}),this.onLocalSortChanged(this._grid,u),this.emitSortChanged(v.local)}clearSortByColumnId(i,t){var u,g;const C=this.getCurrentColumnSorts(),D=this.getCurrentColumnSorts(`${t}`);if(Array.isArray(C)&&Array.isArray(D)&&C.length!==D.length){if(this._gridOptions.backendServiceApi)this.onBackendSortChanged(i,{multiColumnSort:!0,sortCols:D,grid:this._grid});else if(this._dataView)this.onLocalSortChanged(this._grid,D,!0,!0);else{const ie=null!==(g=null===(u=this._gridOptions)||void 0===u?void 0:u.multiColumnSort)&&void 0!==g&&g?D:D[0];this._grid.onSort.notify(ie)}const B=D.map(J=>({columnId:J&&J.sortCol&&J.sortCol.id,sortAsc:J&&J.sortAsc,sortCol:J&&J.sortCol}));this._grid.setSortColumns(B)}Array.isArray(D)&&0===D.length&&this.sortLocalGridByDefaultSortFieldId()}clearSorting(i=!0){var t,u;if(this._grid&&this._gridOptions&&this._dataView)if(this._grid.setSortColumns([]),i)this._isBackendGrid?this.onBackendSortChanged(void 0,{grid:this._grid,multiColumnSort:!0,sortCols:[],clearSortTriggered:!0}):this._columnDefinitions&&Array.isArray(this._columnDefinitions)&&this._columnDefinitions.length>0&&this.sortLocalGridByDefaultSortFieldId();else if(this._isBackendGrid){const g=null===(u=null===(t=this._gridOptions)||void 0===t?void 0:t.backendServiceApi)||void 0===u?void 0:u.service;(null==g?void 0:g.clearSorters)&&g.clearSorters()}this._currentLocalSorters=[],this.pubSubService.publish("onSortCleared",!0)}disableSortFunctionality(i=!0,t=!0){const g=!this._gridOptions.enableSorting;let C;this._gridOptions.enableSorting=g,i?(t&&this.clearSorting(),this._eventHandler.unsubscribeAll(),C=this.disableAllSortingCommands(!0)):(C=this.disableAllSortingCommands(!1),this._eventHandler.subscribe(this._grid.onSort,(D,B)=>this.handleLocalOnSort(D,B))),this._grid.setOptions({enableSorting:this._gridOptions.enableSorting},!1,!0),this.sharedService.gridOptions=this._gridOptions,this._grid.setColumns(C)}toggleSortFunctionality(i=!0){const t=this._gridOptions.enableSorting;this.disableSortFunctionality(t,i)}emitSortChanged(i,t){var u;if(i===v.remote&&(null===(u=this._gridOptions)||void 0===u?void 0:u.backendServiceApi)){let g=[];const C=this._gridOptions.backendServiceApi.service;(null==C?void 0:C.getCurrentSorters)&&(g=C.getCurrentSorters()),this.pubSubService.publish("onSortChanged",g)}else i===v.local&&(t&&(this._currentLocalSorters=t),this.pubSubService.publish("onSortChanged",this.getCurrentLocalSorters()))}getCurrentLocalSorters(){return this._currentLocalSorters}getCurrentColumnSorts(i){if(this._grid){const t=this._grid.getSortColumns();if(Array.isArray(t))return t.reduce((g,C)=>(C&&(!i||C.columnId!==i)&&g.push({columnId:C.columnId||"",sortCol:this._columnDefinitions[this._grid.getColumnIndex(C.columnId||"")],sortAsc:C.sortAsc}),g),[])}return[]}loadGridSorters(i){this._currentLocalSorters=[];const t=[];return Array.isArray(i)&&((this._gridOptions.multiColumnSort?i:i.slice(0,1)).forEach(g=>{const C=this._columnDefinitions.find(D=>D.id===g.columnId);C&&(t.push({columnId:C.id,sortAsc:g.direction.toUpperCase()===dt.ASC,sortCol:C}),this._currentLocalSorters.push({columnId:C.id+"",direction:g.direction.toUpperCase()}))}),this.onLocalSortChanged(this._grid,t),this._grid.setSortColumns(t.map(g=>({columnId:g.columnId,sortAsc:g.sortAsc})))),t}processTreeDataInitialSort(){var i,t,u;if((null===(i=this._gridOptions)||void 0===i?void 0:i.enableTreeData)&&this._gridOptions.treeDataOptions){const g=this._gridOptions.treeDataOptions,C=this._columnDefinitions.find(D=>D.id===g.columnId);if(C){let D=dt.ASC,B={columnId:g.columnId,sortCol:C,sortAsc:!0};if(null===(t=null==g?void 0:g.initialSort)||void 0===t?void 0:t.columnId){const J=g.initialSort.columnId,ie=this._columnDefinitions.find(le=>le.id===J);D=(g.initialSort.direction||dt.ASC).toUpperCase(),B={columnId:J,sortCol:ie,sortAsc:D===dt.ASC}}(null==B?void 0:B.columnId)&&(null===(u=this.sharedService)||void 0===u?void 0:u.hierarchicalDataset)&&this.updateSorting([{columnId:B.columnId||"",direction:D}])}}}onBackendSortChanged(i,t){var u,g;if(!t||!t.grid)throw new Error('Something went wrong when trying to bind the "onBackendSortChanged(event, args)" function, it seems that "args" is not populated correctly');const C=t.grid&&t.grid.getOptions?t.grid.getOptions():{},D=C.backendServiceApi;if(!D||!D.process||!D.service)throw new Error('BackendServiceApi requires at least a "process" function and a "service" defined');const B=new Date;D.preProcess&&D.preProcess();const J=D.service.processOnSortChanged(i,t),ie=(null===(u=null==C?void 0:C.pagination)||void 0===u?void 0:u.totalItems)||0;null===(g=this.backendUtilities)||void 0===g||g.executeBackendCallback(D,J,t,B,ie,{emitActionChangedCallback:this.emitSortChanged.bind(this),errorCallback:()=>{var le,De,Ne;this._grid.setSortColumns(t.previousSortColumns||[]);const Ze=null===(le=t.previousSortColumns)||void 0===le?void 0:le.map(ht=>({columnId:ht.columnId,sortAsc:ht.sortAsc,sortCol:this._columnDefinitions.find(Ct=>Ct.id===ht.columnId)}));null===(Ne=null===(De=null==D?void 0:D.service)||void 0===De?void 0:De.updateSorters)||void 0===Ne||Ne.call(De,Ze||[])},httpCancelRequestSubject:this.httpCancelRequests$})}onLocalSortChanged(i,t,u=!1,g=!1){var C=this;return(0,Or.Z)(function*(){var D,B,J,ie,le;const De=null!==(B=null===(D=C._gridOptions)||void 0===D?void 0:D.datasetIdPropertyName)&&void 0!==B?B:"id",Ne=null!==(ie=null===(J=C._gridOptions)||void 0===J?void 0:J.enableTreeData)&&void 0!==ie&&ie,Ze=null===(le=i.getData)||void 0===le?void 0:le.call(i);if(yield C.pubSubService.publish("onBeforeSortChange",{sortColumns:t},0),i&&Ze){if(u&&!Ne&&Ze.reSort(),Ne&&C.sharedService&&Array.isArray(C.sharedService.hierarchicalDataset)){const ht=C.sortHierarchicalDataset(C.sharedService.hierarchicalDataset,t);C._dataView.setItems(ht.flat,De),C._dataView.onRowCountChanged.notify({previous:C._dataView.getFilteredItemCount(),current:C._dataView.getLength(),itemCount:C._dataView.getItemCount(),dataView:C._dataView,callingOnRowsChanged:!0})}else Ze.sort(C.sortComparers.bind(C,t));i.invalidate(),g&&C.emitSortChanged(v.local,t.map(ht=>{var Ct,Kt;return{columnId:null!==(Kt=null===(Ct=ht.sortCol)||void 0===Ct?void 0:Ct.id)&&void 0!==Kt?Kt:"id",direction:ht.sortAsc?dt.ASC:dt.DESC}}))}})()}sortHierarchicalDataset(i,t,u=!1){var g,C,D,B,J,ie;this.sortTreeData(i,t);const le=null!==(C=null===(g=this._gridOptions)||void 0===g?void 0:g.datasetIdPropertyName)&&void 0!==C?C:"id",De=null!==(B=null===(D=this._gridOptions)||void 0===D?void 0:D.treeDataOptions)&&void 0!==B?B:{columnId:""},Ze=zt(i,Vs(tn({},De),{identifierPropName:null!==(J=De.identifierPropName)&&void 0!==J?J:le,shouldAddTreeLevelNumber:!0}));if(u){this._currentLocalSorters=[];for(const Ct of t)this._currentLocalSorters.push({columnId:Ct.columnId,direction:Ct.sortAsc?"ASC":"DESC"});const ht=(null===(ie=this._gridOptions)||void 0===ie?void 0:ie.backendServiceApi)?v.remote:v.local;this.emitSortChanged(ht)}return{hierarchical:i,flat:Ze}}sortLocalGridByDefaultSortFieldId(){const i=this._gridOptions&&this._gridOptions.defaultColumnSortFieldId||this._gridOptions.datasetIdPropertyName||"id",t={id:i,field:i};this.onLocalSortChanged(this._grid,new Array({columnId:t.id,sortAsc:!0,sortCol:t,clearSortTriggered:!0}),!1,!0)}sortComparers(i,t,u){if(Array.isArray(i))for(const g of i){const C=this.sortComparer(g,t,u);if(void 0!==C)return C}return nt.neutral}sortComparer(i,t,u,g){if(null==i?void 0:i.sortCol){const C=i.sortCol,D=i.sortAsc?nt.asc:nt.desc;let B=g||C.queryFieldSorter||C.queryField||C.field,J=B;const ie=C.type||Ee.string;"function"==typeof C.queryFieldNameGetterFn&&(B=C.queryFieldNameGetterFn(t),J=C.queryFieldNameGetterFn(u));let le=t[B],De=u[J];if(B&&B.indexOf(".")>=0&&(le=ee(t,B)),J&&J.indexOf(".")>=0&&(De=ee(u,J)),C.sortComparer){const Ne=C.sortComparer(le,De,D,C,this._gridOptions);if(Ne!==nt.neutral)return Ne}else{const Ne=ps(ie,le,De,D,C,this._gridOptions);if(Ne!==nt.neutral)return Ne}}}sortTreeData(i,t){if(Array.isArray(t))for(const u of t)this.sortTreeChildren(i,u,0)}sortTreeChildren(i,t,u){var g,C;const D=null===(g=this._gridOptions)||void 0===g?void 0:g.treeDataOptions,B=null!==(C=null==D?void 0:D.childrenPropName)&&void 0!==C?C:"children";i.sort((J,ie)=>{var le;return null!==(le=this.sortComparer(t,J,ie))&&void 0!==le?le:nt.neutral});for(const J of i)J&&J.hasOwnProperty(B)&&Array.isArray(J[B])&&(u++,this.sortTreeChildren(J[B],t,u),u--)}updateSorting(i,t=!0,u=!0){var g,C;if(!this._gridOptions||!this._gridOptions.enableSorting)throw new Error('[Slickgrid-Universal] in order to use "updateSorting" method, you need to have Sortable Columns defined in your grid and "enableSorting" set in your Grid Options');if(Array.isArray(i)){const D=null===(g=this._gridOptions)||void 0===g?void 0:g.backendServiceApi;if(D){const B=null==D?void 0:D.service;(null==B?void 0:B.updateSorters)&&(B.updateSorters(void 0,i),u&&(null===(C=this.backendUtilities)||void 0===C||C.refreshBackendDataset(this._gridOptions)))}else this.loadGridSorters(i);if(t){const B=D?v.remote:v.local;this.emitSortChanged(B)}}}disableAllSortingCommands(i=!0){var t,u;const g=this._grid.getColumns();g.forEach(D=>{var B;void 0!==typeof D.sortable&&(D.sortable=!i),(null===(B=null==D?void 0:D.header)||void 0===B?void 0:B.menu)&&D.header.menu.items.forEach(J=>{if(J&&"string"!=typeof J){const ie=J.command;("sort-asc"===ie||"sort-desc"===ie||"clear-sort"===ie)&&(J.hidden=i)}})});const C=null===(u=null===(t=this._gridOptions)||void 0===t?void 0:t.gridMenu)||void 0===u?void 0:u.commandItems;return C&&C.forEach(D=>{D&&"string"!=typeof D&&"clear-sorting"===D.command&&(D.hidden=i)}),g}}class pn{constructor(i,t,u){this.pubSubService=i,this.sharedService=t,this.sortService=u,this._isLastFullToggleCollapsed=!1,this._currentToggledItems=[],this._subscriptions=[],this._eventHandler=new Slick.EventHandler}set currentToggledItems(i){this._currentToggledItems=i}get dataset(){var i;return null===(i=this.dataView)||void 0===i?void 0:i.getItems()}get datasetHierarchical(){return this.sharedService.hierarchicalDataset}get dataView(){var i,t,u;return null!==(u=null===(t=null===(i=this._grid)||void 0===i?void 0:i.getData)||void 0===t?void 0:t.call(i))&&void 0!==u?u:{}}get eventHandler(){return this._eventHandler}get gridOptions(){var i,t,u;return null!==(u=null===(t=null===(i=this._grid)||void 0===i?void 0:i.getOptions)||void 0===t?void 0:t.call(i))&&void 0!==u?u:{}}get treeDataOptions(){return this.gridOptions.treeDataOptions}dispose(){this._eventHandler.unsubscribeAll(),this.pubSubService.unsubscribeAll(this._subscriptions)}init(i){var t,u,g,C,D,B,J,ie,le,De,Ne;if(this._grid=i,this._isLastFullToggleCollapsed=null!==(g=null===(u=null===(t=this.gridOptions)||void 0===t?void 0:t.treeDataOptions)||void 0===u?void 0:u.initiallyCollapsed)&&void 0!==g&&g,this._currentToggledItems=null!==(B=null===(D=null===(C=this.gridOptions.presets)||void 0===C?void 0:C.treeData)||void 0===D?void 0:D.toggledItems)&&void 0!==B?B:[],this._lastToggleStateChange={type:this._isLastFullToggleCollapsed?"full-collapse":"full-expand",previousFullToggleType:this._isLastFullToggleCollapsed?"full-collapse":"full-expand",toggledItems:this._currentToggledItems},null===(J=this.gridOptions)||void 0===J?void 0:J.enableTreeData){if(null===(ie=this.gridOptions)||void 0===ie?void 0:ie.multiColumnSort)throw new Error('[Slickgrid-Universal] It looks like you are trying to use Tree Data with multi-column sorting, unfortunately it is not supported because of its complexity, you can disable it via "multiColumnSort: false" grid option and/or help in providing support for this feature.');if(!(null===(le=this.gridOptions)||void 0===le?void 0:le.enableFiltering))throw new Error('[Slickgrid-Universal] It looks like you are trying to use Tree Data without using the filtering option, unfortunately that is not possible with Tree Data since it relies heavily on the filters to expand/collapse the tree. You need to enable it via "enableFiltering: true"');if((null===(De=this.gridOptions)||void 0===De?void 0:De.backendServiceApi)||(null===(Ne=this.gridOptions)||void 0===Ne?void 0:Ne.enablePagination))throw new Error("[Slickgrid-Universal] It looks like you are trying to use Tree Data with Pagination and/or a Backend Service (OData, GraphQL) but unfortunately that is simply not supported because of its complexity.");if(!this.gridOptions.treeDataOptions||!this.gridOptions.treeDataOptions.columnId)throw new Error('[Slickgrid-Universal] When enabling tree data, you must also provide the "treeDataOption" property in your Grid Options with "childrenPropName" or "parentPropName" (depending if your array is hierarchical or flat) for the Tree Data to work properly.')}this._eventHandler.subscribe(i.onClick,this.handleOnCellClick.bind(this)),this._subscriptions.push(this.pubSubService.subscribe("onGridMenuClearAllSorting",this.clearSorting.bind(this)))}applyToggledItemStateChanges(i,t,u=!0,g=!1){if(Array.isArray(i)){const C=this.getTreeDataOptionPropName("collapsedPropName"),D=this.getTreeDataOptionPropName("hasChildrenPropName");this.dataView.beginUpdate(!0);const J="full-collapse"===(null!=t?t:this._lastToggleStateChange.previousFullToggleType);t&&(this._lastToggleStateChange.previousFullToggleType=t),u&&(this.dataView.getItems()||[]).forEach(ie=>{ie[D]&&(ie[C]=J)}),this.dynamicallyToggleItemState(i,g)}}dynamicallyToggleItemState(i,t=!0){if(Array.isArray(i)){this.dataView.beginUpdate(!0);for(const u of i){const g=this.dataView.getItemById(u.itemId);if(this.updateToggledItem(g,u.isCollapsed),t){const C=this._currentToggledItems.findIndex(D=>D.itemId===u.itemId);C>=0?this._currentToggledItems[C].isCollapsed=u.isCollapsed:this._currentToggledItems.push({itemId:u.itemId,isCollapsed:u.isCollapsed}),this.pubSubService.publish("onTreeItemToggled",Vs(tn({},this._lastToggleStateChange),{fromItemId:u.itemId,toggledItems:this._currentToggledItems,type:u.isCollapsed?kt.toggleCollapse:kt.toggleExpand}))}}this.dataView.endUpdate(),this.dataView.refresh()}}getCurrentToggleState(){return this._lastToggleStateChange}getInitialSort(i,t){var u,g,C;const D=null==t?void 0:t.treeDataOptions,B=null!==(u=null==D?void 0:D.initialSort)&&void 0!==u?u:{columnId:null!==(g=null==D?void 0:D.columnId)&&void 0!==g?g:"",direction:"ASC"},J=i.find(ie=>ie.id===B.columnId);return{columnId:B.columnId,sortAsc:"DESC"!==(null===(C=null==B?void 0:B.direction)||void 0===C?void 0:C.toUpperCase()),sortCol:J}}getItemCount(i){if(void 0!==i){const t=this.getTreeDataOptionPropName("levelPropName");return this.dataView.getItems().filter(u=>u[t]===i).length}return this.dataView.getItemCount()}getToggledItems(){return this._currentToggledItems}getTreeDataOptionPropName(i){var t,u,g,C,D,B,J,ie,le,De,Ne,Ze,ht,Ct;let Kt="";switch(i){case"childrenPropName":Kt=null!==(u=null===(t=this.treeDataOptions)||void 0===t?void 0:t.childrenPropName)&&void 0!==u?u:ae.treeDataProperties.CHILDREN_PROP;break;case"collapsedPropName":Kt=null!==(C=null===(g=this.treeDataOptions)||void 0===g?void 0:g.collapsedPropName)&&void 0!==C?C:ae.treeDataProperties.COLLAPSED_PROP;break;case"hasChildrenPropName":Kt=null!==(B=null===(D=this.treeDataOptions)||void 0===D?void 0:D.hasChildrenPropName)&&void 0!==B?B:ae.treeDataProperties.HAS_CHILDREN_PROP;break;case"identifierPropName":Kt=null!==(De=null!==(ie=null===(J=this.treeDataOptions)||void 0===J?void 0:J.identifierPropName)&&void 0!==ie?ie:null===(le=this.gridOptions)||void 0===le?void 0:le.datasetIdPropertyName)&&void 0!==De?De:"id";break;case"levelPropName":Kt=null!==(Ze=null===(Ne=this.treeDataOptions)||void 0===Ne?void 0:Ne.levelPropName)&&void 0!==Ze?Ze:ae.treeDataProperties.TREE_LEVEL_PROP;break;case"parentPropName":Kt=null!==(Ct=null===(ht=this.treeDataOptions)||void 0===ht?void 0:ht.parentPropName)&&void 0!==Ct?Ct:ae.treeDataProperties.PARENT_PROP}return Kt}clearSorting(){const i=this.getInitialSort(this.sharedService.columnDefinitions,this.sharedService.gridOptions);this.sortService.loadGridSorters([{columnId:i.columnId,direction:i.sortAsc?"ASC":"DESC"}])}convertFlatParentChildToTreeDatasetAndSort(i,t,u){var g;const C=this.convertFlatParentChildToTreeDataset(i,u),D=this.getInitialSort(t,u),B=this.sortService.sortHierarchicalDataset(C,[D],!0);return null===(g=this._grid)||void 0===g||g.setSortColumns([D]),B}convertFlatParentChildToTreeDataset(i,t){var u,g,C;const D=null!==(u=null==t?void 0:t.datasetIdPropertyName)&&void 0!==u?u:"id",B=null!==(g=null==t?void 0:t.treeDataOptions)&&void 0!==g?g:{columnId:"id"};return an(i,Vs(tn({},B),{identifierPropName:null!==(C=B.identifierPropName)&&void 0!==C?C:D,initiallyCollapsed:this._isLastFullToggleCollapsed}))}sortHierarchicalDataset(i,t){const u=null!=t?t:this.getInitialSort(this.sharedService.allColumns,this.gridOptions),g=Array.isArray(u)?u:[u];return this.sortService.sortHierarchicalDataset(i,g)}toggleTreeDataCollapse(i,t=!0){var u=this;return(0,Or.Z)(function*(){var g;if(null===(g=u.gridOptions)||void 0===g?void 0:g.enableTreeData){const D=u.getTreeDataOptionPropName("hasChildrenPropName");t&&(yield u.pubSubService.publish("onTreeFullToggleStart",{collapsing:i})),u.dataView.beginUpdate(!0),(u.dataView.getItems()||[]).forEach(B=>{B[D]&&u.updateToggledItem(B,i)}),u.dataView.endUpdate(),u.dataView.refresh(),u._isLastFullToggleCollapsed=i}const C=i?kt.fullCollapse:kt.fullExpand;u._lastToggleStateChange={type:C,previousFullToggleType:C,toggledItems:null},t&&u.pubSubService.publish("onTreeFullToggleEnd",u._lastToggleStateChange)})()}handleOnCellClick(i,t){var u;if(i&&t){const g=i.target||{},C=null!==(u=this.gridOptions.datasetIdPropertyName)&&void 0!==u?u:"id",D=this.getTreeDataOptionPropName("collapsedPropName"),B=this.getTreeDataOptionPropName("childrenPropName");if("string"==typeof(null==g?void 0:g.className)&&g.className.indexOf("toggle")>=0){const ie=this.dataView.getItem(t.row);if(ie){ie[D]=!ie[D];const le=ie[D],De=ie[C],Ne=this._currentToggledItems.findIndex(Ct=>Ct.itemId===De);Ne>=0?this._currentToggledItems[Ne].isCollapsed=le:this._currentToggledItems.push({itemId:De,isCollapsed:le}),this.dataView.updateItem(De,ie);const Ze=Ct=>Ct[C]===De,ht=Dt(this.sharedService.hierarchicalDataset||[],Ze,B);ht&&(ht[D]=le),this._grid.invalidate(),this._lastToggleStateChange={type:le?kt.toggleCollapse:kt.toggleExpand,previousFullToggleType:this._isLastFullToggleCollapsed?"full-collapse":"full-expand",toggledItems:this._currentToggledItems},this.pubSubService.publish("onTreeItemToggled",Vs(tn({},this._lastToggleStateChange),{fromItemId:De}))}i.stopImmediatePropagation()}}}updateToggledItem(i,t){var u,g;const C=null!==(g=null===(u=this.gridOptions)||void 0===u?void 0:u.datasetIdPropertyName)&&void 0!==g?g:"id",D=this.getTreeDataOptionPropName("childrenPropName"),B=this.getTreeDataOptionPropName("collapsedPropName");if(i){i[B]=t,this.dataView.updateItem(i[C],i);const J=le=>le[C]===i[C],ie=Dt(this.sharedService.hierarchicalDataset||[],J,D);ie&&(ie[B]=t)}}}class it{constructor(){this._clearFilterTriggered=!1,this._debounceTypingDelay=0,this._shouldTriggerQuery=!0,this._inputType="text",this.searchTerms=[],this._bindEventService=new Oi}get columnFilter(){return this.columnDef&&this.columnDef.filter||{}}get defaultOperator(){return ze.empty}get inputType(){return this._inputType}set inputType(i){this._inputType=i}get operator(){var i,t;return null!==(t=null===(i=this.columnFilter)||void 0===i?void 0:i.operator)&&void 0!==t?t:this.defaultOperator}set operator(i){this.columnFilter&&(this.columnFilter.operator=i)}get gridOptions(){return this.grid&&this.grid.getOptions?this.grid.getOptions():{}}init(i){var t,u,g,C,D;if(!i)throw new Error('[Slickgrid-Universal] A filter must always have an "init()" with valid arguments.');this.grid=i.grid,this.callback=i.callback,this.columnDef=i.columnDef,this.searchTerms=(i.hasOwnProperty("searchTerms")?i.searchTerms:[])||[];const B=null===(t=this.gridOptions)||void 0===t?void 0:t.backendServiceApi;this._debounceTypingDelay=null!==(D=B?null!==(u=null==B?void 0:B.filterTypingDebounce)&&void 0!==u?u:null===(g=this.gridOptions)||void 0===g?void 0:g.defaultBackendServiceFilterTypingDebounce:null===(C=this.gridOptions)||void 0===C?void 0:C.filterTypingDebounce)&&void 0!==D?D:0;const J=Array.isArray(this.searchTerms)&&this.searchTerms.length>=0?this.searchTerms[0]:"";this._filterElm=this.createDomElement(J),this._bindEventService.bind(this._filterElm,["keyup","blur","change","wheel"],this.handleInputChange.bind(this))}clear(i=!0){this._filterElm&&(this._clearFilterTriggered=!0,this._shouldTriggerQuery=i,this.searchTerms=[],this._filterElm.value="",this._filterElm.classList.remove("filled"),this._filterElm.dispatchEvent(new Event("change")))}destroy(){var i,t;this._bindEventService.unbindAll(),null===(t=null===(i=this._filterElm)||void 0===i?void 0:i.remove)||void 0===t||t.call(i)}getValues(){return this._filterElm.value}setValues(i,t){const u=Array.isArray(i)?i:[i];let g="";for(const C of u)g=t?this.addOptionalOperatorIntoSearchString(C,t):C,this._filterElm.value=`${null!=g?g:""}`;""!==this.getValues()?this._filterElm.classList.add("filled"):this._filterElm.classList.remove("filled"),this.operator=t||this.defaultOperator}addOptionalOperatorIntoSearchString(i,t){let u="",g="",C=null==i?"":`${i}`;if(t&&C){switch(t){case"<>":case"!=":case"=":case"==":case">":case">=":case"<":case"<=":u=t;break;case"EndsWith":case"*z":u="*";break;case"StartsWith":case"a*":g="*"}C=`${u}${C}${g}`}return C}createDomElement(i){var t,u,g,C,D,B,J;const ie=null!==(u=null===(t=this.columnDef)||void 0===t?void 0:t.id)&&void 0!==u?u:"",le=this.grid.getHeaderRowColumn(ie);di(le);let De=null!==(C=null===(g=this.gridOptions)||void 0===g?void 0:g.defaultFilterPlaceholder)&&void 0!==C?C:"";(null===(D=this.columnFilter)||void 0===D?void 0:D.placeholder)&&(De=this.columnFilter.placeholder);const Ne=Wt("input",{type:this._inputType||"text",autocomplete:"off",placeholder:De,className:`form-control search-filter filter-${ie}`,value:null!=i?i:"",dataset:{columnid:`${ie}`}});return Ne.setAttribute("aria-label",null!==(J=null===(B=this.columnFilter)||void 0===B?void 0:B.ariaLabel)&&void 0!==J?J:`${Tn(ie+"")} Search Filter`),Ne.setAttribute("role","presentation"),i&&Ne.classList.add("filled"),le.appendChild(Ne),le.appendChild(document.createElement("span")),Ne}handleInputChange(i){var t,u,g,C;if(this._clearFilterTriggered)this.callback(i,{columnDef:this.columnDef,clearFilterTriggered:this._clearFilterTriggered,shouldTriggerQuery:this._shouldTriggerQuery}),this._filterElm.classList.remove("filled");else{const D=null!==(t=null==i?void 0:i.type)&&void 0!==t?t:"";let B=null!==(g=null===(u=null==i?void 0:i.target)||void 0===u?void 0:u.value)&&void 0!==g?g:"";const J=this.gridOptions.enableFilterTrimWhiteSpace||this.columnFilter.enableTrimWhiteSpace;"string"==typeof B&&J&&(B=B.trim()),""===B?this._filterElm.classList.remove("filled"):this._filterElm.classList.add("filled");const ie={columnDef:this.columnDef,operator:this.operator,searchTerms:[B],shouldTriggerQuery:this._shouldTriggerQuery},le="keyup"===D&&"Enter"!==(null===(C=i)||void 0===C?void 0:C.key)?this._debounceTypingDelay:0;le>0?(clearTimeout(this._timer),this._timer=setTimeout(()=>this.callback(i,ie),le)):this.callback(i,ie)}this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0}}class on{constructor(i,t,u,g=!0){this.translaterService=i,this.collectionService=t,this.rxjs=u,this._isMultipleSelect=!0,this._collectionLength=0,this._shouldTriggerQuery=!0,this.isFilled=!1,this.enableTranslateLabel=!1,this.subscriptions=[],this._isMultipleSelect=g}get collectionOptions(){var i,t,u;return null!==(u=null===(t=null===(i=this.columnDef)||void 0===i?void 0:i.filter)||void 0===t?void 0:t.collectionOptions)&&void 0!==u?u:{}}get columnFilter(){var i,t;return null!==(t=null===(i=this.columnDef)||void 0===i?void 0:i.filter)&&void 0!==t?t:{}}get customStructure(){var i,t;return null===(t=null===(i=this.columnDef)||void 0===i?void 0:i.filter)||void 0===t?void 0:t.customStructure}get gridOptions(){return this.grid&&this.grid.getOptions?this.grid.getOptions():{}}get defaultOperator(){return this.isMultipleSelect?ze.in:ze.equal}get isMultipleSelect(){return this._isMultipleSelect}get operator(){var i,t;return null!==(t=null===(i=this.columnFilter)||void 0===i?void 0:i.operator)&&void 0!==t?t:this.defaultOperator}set operator(i){this.columnFilter&&(this.columnFilter.operator=i)}init(i){var u,g,C,t=this;if(!i)throw new Error('[Slickgrid-Universal] A filter must always have an "init()" with valid arguments.');if(this.grid=i.grid,this.callback=i.callback,this.columnDef=i.columnDef,this.searchTerms=(i.hasOwnProperty("searchTerms")?i.searchTerms:[])||[],!this.grid||!this.columnDef||!this.columnFilter||!this.columnFilter.collection&&!this.columnFilter.collectionAsync)throw new Error("[Slickgrid-Universal] You need to pass a \"collection\" (or \"collectionAsync\") for the MultipleSelect/SingleSelect Filter to work correctly. Also each option should include a value/label pair (or value/labelKey when using Locale). For example:: { filter: model: Filters.multipleSelect, collection: [{ value: true, label: 'True' }, { value: false, label: 'False'}] }");if(this.enableTranslateLabel=this.columnFilter&&this.columnFilter.enableTranslateLabel||!1,this.labelName=this.customStructure&&this.customStructure.label||"label",this.labelPrefixName=this.customStructure&&this.customStructure.labelPrefix||"labelPrefix",this.labelSuffixName=this.customStructure&&this.customStructure.labelSuffix||"labelSuffix",this.optionLabel=this.customStructure&&this.customStructure.optionLabel||"value",this.valueName=this.customStructure&&this.customStructure.value||"value",this.enableTranslateLabel&&(!this.translaterService||"function"!=typeof this.translaterService.translate))throw new Error('[select-filter] The Translate Service is required for the Select Filter to work correctly when "enableTranslateLabel" is set.');this._locales=this.gridOptions&&this.gridOptions.locales||ae.locales,this.initMultipleSelectTemplate();let D=this.gridOptions&&this.gridOptions.defaultFilterPlaceholder||"";this.columnFilter&&this.columnFilter.placeholder&&(D=this.columnFilter.placeholder),this.defaultOptions.placeholder=D||"",this._isMultipleSelect&&(null===(u=this.columnDef)||void 0===u?void 0:u.filter)&&(this.columnDef.filter.emptySearchTermReturnAllValues=null!==(C=null===(g=this.columnDef.filter)||void 0===g?void 0:g.emptySearchTermReturnAllValues)&&void 0!==C&&C);const B=this.columnFilter.collection||[];return this.renderDomElement(B),new Promise(function(){var J=(0,Or.Z)(function*(ie,le){try{const De=t.columnFilter.collectionAsync;let Ne;De&&!t.columnFilter.collection?(Ne=ts(De,t.columnDef,t.renderDomElement.bind(t),t.rxjs,t.subscriptions),ie(Ne)):(Ne=B,ie(B)),(De||t.columnFilter.enableCollectionWatch)&&(yield null!=Ne?Ne:De,t.watchCollectionChanges())}catch(De){le(De)}});return function(ie,le){return J.apply(this,arguments)}}())}clear(i=!0){this.$filterElm&&this.$filterElm.multipleSelect&&this._collectionLength>0&&(this.$filterElm.multipleSelect("setSelects",[]),this.$filterElm.removeClass("filled").siblings("div .search-filter").removeClass("filled"),this.searchTerms=[],this._shouldTriggerQuery=i,this.callback(void 0,{columnDef:this.columnDef,clearFilterTriggered:!0,shouldTriggerQuery:this._shouldTriggerQuery}),this._shouldTriggerQuery=!0)}destroy(){if(this.$filterElm&&"function"==typeof this.$filterElm.multipleSelect){this.$filterElm.multipleSelect("destroy"),this.$filterElm.remove();const i=this.elementName.toString().replace(".","\\.");$(`[name=${i}].ms-drop`).remove()}this.$filterElm=null,hr(this.subscriptions)}getValues(){return this.$filterElm&&"function"==typeof this.$filterElm.multipleSelect?this.$filterElm.multipleSelect("getSelects"):[]}setValues(i,t){i&&this.$filterElm&&"function"==typeof this.$filterElm.multipleSelect&&(i=Array.isArray(i)?i:[i],this.$filterElm.multipleSelect("setSelects",i)),this.getValues().length>0?this.$filterElm.addClass("filled"):this.$filterElm.removeClass("filled"),this.operator=t||this.defaultOperator}filterCollection(i){let t=i;if(this.columnFilter&&this.columnFilter.collectionFilterBy){const u=this.columnFilter.collectionFilterBy,g=this.columnFilter.collectionOptions&&this.columnFilter.collectionOptions.filterResultAfterEachPass||null;t=this.collectionService.filterCollection(t,u,g)}return t}sortCollection(i){let t=i;if(this.columnFilter&&this.columnFilter.collectionSortBy){const u=this.columnFilter.collectionSortBy;t=this.collectionService.sortCollection(this.columnDef,t,u,this.enableTranslateLabel)}return t}watchCollectionChanges(){var i;(null===(i=this.columnFilter)||void 0===i?void 0:i.collection)&&(T(this.columnFilter.collection,t=>{this.renderDomElement(this.columnFilter.collection||t||[])}),x(this.columnFilter,"collection",t=>{this.renderDomElement(t||[]),this.columnFilter.collection&&T(this.columnFilter.collection,u=>{this.renderDomElement(this.columnFilter.collection||u||[])})}))}renderDomElement(i){var t,u,g,C;if(!Array.isArray(i)&&(null===(t=this.collectionOptions)||void 0===t?void 0:t.collectionInsideObjectProperty)){i=ee(i,this.collectionOptions.collectionInsideObjectProperty||"")}if(!Array.isArray(i))throw new Error('The "collection" passed to the Select Filter is not a valid array.');let D=[];if(i.length>0&&(D=[...i]),(null===(u=this.collectionOptions)||void 0===u?void 0:u.addBlankEntry)&&Array.isArray(D)&&D.length>0&&""!==D[0][this.valueName]&&D.unshift(this.createBlankEntry()),(null===(g=this.collectionOptions)||void 0===g?void 0:g.addCustomFirstEntry)&&Array.isArray(D)&&D.length>0&&D[0][this.valueName]!==this.collectionOptions.addCustomFirstEntry[this.valueName]&&D.unshift(this.collectionOptions.addCustomFirstEntry),(null===(C=this.collectionOptions)||void 0===C?void 0:C.addCustomLastEntry)&&Array.isArray(D)&&D.length>0){D[D.length-1][this.valueName]!==this.collectionOptions.addCustomLastEntry[this.valueName]&&D.push(this.collectionOptions.addCustomLastEntry)}let B=D;B=this.filterCollection(B),B=this.sortCollection(B);const J=ft("filter",B,this.columnDef,this.grid,this.isMultipleSelect,this.translaterService,this.searchTerms||[]);this.isFilled=J.hasFoundSearchTerm,this.createDomElement(J.selectElement),this._collectionLength=B.length}createBlankEntry(){const i={[this.labelName]:"",[this.valueName]:""};return this.labelPrefixName&&(i[this.labelPrefixName]=""),this.labelSuffixName&&(i[this.labelSuffixName]=""),i}createDomElement(i){var t,u;const g=null!==(u=null===(t=this.columnDef)||void 0===t?void 0:t.id)&&void 0!==u?u:"";this.elementName=`filter-${g}`,this.defaultOptions.name=this.elementName;const C=this.grid.getHeaderRowColumn(g);if($(C).empty(),this.$filterElm=$(i),"function"!=typeof this.$filterElm.multipleSelect)throw new Error("multiple-select.js was not found, make sure to read the HOWTO Wiki on how to install it.");this.$filterElm.data("columnId",g),this.isFilled&&this.$filterElm.addClass("filled"),this.$filterElm&&"function"==typeof this.$filterElm.appendTo&&this.$filterElm.appendTo(C);const D=this.columnFilter?this.columnFilter.filterOptions:{};this.filterElmOptions=tn(tn({},this.defaultOptions),D),this.$filterElm=this.$filterElm.multipleSelect(this.filterElmOptions)}initMultipleSelectTemplate(){var i,t,u,g,C,D,B,J;const ie=this.gridOptions&&this.gridOptions.enableTranslate,le={autoAdjustDropHeight:!0,autoAdjustDropPosition:!0,autoAdjustDropWidthByTextSize:!0,container:"body",filter:!1,maxHeight:275,single:!0,textTemplate:De=>this.columnDef&&this.columnDef.filter&&this.columnDef.filter.enableRenderHtml?De.text():De.html(),onClose:()=>this.onTriggerEvent()};if(this._isMultipleSelect){le.single=!1,le.okButton=!0,le.addTitle=!0;const De=pe(this.gridOptions);le.countSelected=ie&&(null===(i=this.translaterService)||void 0===i?void 0:i.translate)?this.translaterService.translate(`${De}X_OF_Y_SELECTED`):null===(t=this._locales)||void 0===t?void 0:t.TEXT_X_OF_Y_SELECTED,le.allSelected=ie&&(null===(u=this.translaterService)||void 0===u?void 0:u.translate)?this.translaterService.translate(`${De}ALL_SELECTED`):null===(g=this._locales)||void 0===g?void 0:g.TEXT_ALL_SELECTED,le.okButtonText=ie&&(null===(C=this.translaterService)||void 0===C?void 0:C.translate)?this.translaterService.translate(`${De}OK`):null===(D=this._locales)||void 0===D?void 0:D.TEXT_OK,le.selectAllText=ie&&(null===(B=this.translaterService)||void 0===B?void 0:B.translate)?this.translaterService.translate(`${De}SELECT_ALL`):null===(J=this._locales)||void 0===J?void 0:J.TEXT_SELECT_ALL,le.selectAllDelimiter=["",""]}this.defaultOptions=le}onTriggerEvent(){var i;if(this.$filterElm){const t=this.getValues();Array.isArray(t)&&t.length>1||1===t.length&&""!==t[0]?(this.isFilled=!0,null===(i=this.$filterElm)||void 0===i||i.addClass("filled").siblings("div .search-filter").addClass("filled")):(this.isFilled=!1,this.$filterElm.removeClass("filled"),this.$filterElm.siblings("div .search-filter").removeClass("filled")),this.searchTerms=t,this.callback(void 0,{columnDef:this.columnDef,operator:this.operator,searchTerms:t,shouldTriggerQuery:this._shouldTriggerQuery}),this._shouldTriggerQuery=!0}}}L(6617);const An={autoComplete:class{constructor(i,t,u){this.translaterService=i,this.collectionService=t,this.rxjs=u,this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0,this.searchTerms=[],this.isFilled=!1,this.valueName="label",this.enableTranslateLabel=!1,this.subscriptions=[]}get autoCompleteOptions(){return this._autoCompleteOptions||{}}get collectionOptions(){return this.columnDef&&this.columnDef.filter&&this.columnDef.filter.collectionOptions||{}}get collection(){return this._collection}get columnFilter(){var i;return(null===(i=this.columnDef)||void 0===i?void 0:i.filter)||{}}get filterDomElement(){return this.$filterElm}get filterOptions(){var i;return(null===(i=this.columnFilter)||void 0===i?void 0:i.filterOptions)||{}}get customStructure(){var i,t,u,g,C,D;let B=null===(i=this.columnFilter)||void 0===i?void 0:i.customStructure;const J=null!==(u=null===(t=this.columnFilter)||void 0===t?void 0:t.type)&&void 0!==u?u:null===(g=this.columnDef)||void 0===g?void 0:g.type;return!B&&J===Ee.object&&(null===(C=this.columnDef)||void 0===C?void 0:C.dataKey)&&(null===(D=this.columnDef)||void 0===D?void 0:D.labelKey)&&(B={label:this.columnDef.labelKey,value:this.columnDef.dataKey}),B}get defaultOperator(){return ze.equal}get gridOptions(){return this.grid&&this.grid.getOptions?this.grid.getOptions():{}}get instance(){return this.$filterElm.autocomplete("instance")}get operator(){var i,t;return null!==(t=null===(i=this.columnFilter)||void 0===i?void 0:i.operator)&&void 0!==t?t:this.defaultOperator}set operator(i){this.columnFilter&&(this.columnFilter.operator=i)}init(i){var t=this;if(!i)throw new Error('[Slickgrid-Universal] A filter must always have an "init()" with valid arguments.');if(this.grid=i.grid,this.callback=i.callback,this.columnDef=i.columnDef,this.searchTerms=(i.hasOwnProperty("searchTerms")?i.searchTerms:[])||[],!(this.grid&&this.columnDef&&this.columnFilter&&(this.columnFilter.collection||this.columnFilter.collectionAsync||this.columnFilter.filterOptions)))throw new Error("[Slickgrid-Universal] You need to pass a \"collection\" (or \"collectionAsync\") for the AutoComplete Filter to work correctly. Also each option should include a value/label pair (or value/labelKey when using Locale). For example:: { filter: model: Filters.autoComplete, collection: [{ value: true, label: 'True' }, { value: false, label: 'False'}] }");this.enableTranslateLabel=this.columnFilter&&this.columnFilter.enableTranslateLabel||!1,this.labelName=this.customStructure&&this.customStructure.label||"label",this.valueName=this.customStructure&&this.customStructure.value||"value",this.labelPrefixName=this.customStructure&&this.customStructure.labelPrefix||"labelPrefix",this.labelSuffixName=this.customStructure&&this.customStructure.labelSuffix||"labelSuffix";const u=this.columnFilter.collection||[];return this._collection=u,this.renderDomElement(u),new Promise(function(){var g=(0,Or.Z)(function*(C,D){try{const B=t.columnFilter.collectionAsync;let J;B&&!t.columnFilter.collection?(J=ts(B,t.columnDef,t.renderDomElement.bind(t),t.rxjs,t.subscriptions),C(J)):(J=u,C(u)),(B||t.columnFilter.enableCollectionWatch)&&(yield null!=J?J:B,t.watchCollectionChanges())}catch(B){D(B)}});return function(C,D){return g.apply(this,arguments)}}())}clear(i=!0){this.$filterElm&&(this._clearFilterTriggered=!0,this._shouldTriggerQuery=i,this.searchTerms=[],this.$filterElm.val(""),this.$filterElm.trigger("input"),this.$filterElm.removeClass("filled"))}destroy(){this.$filterElm&&(this.$filterElm.autocomplete("destroy"),this.$filterElm.off("input").remove()),this.$filterElm=null,this._collection=void 0,hr(this.subscriptions)}getValues(){return this.$filterElm.val()}setValues(i,t){i&&this.$filterElm.val(i),""!==this.getValues()?this.$filterElm.addClass("filled"):this.$filterElm.removeClass("filled"),this.operator=t||this.defaultOperator}filterCollection(i){let t=i;if(this.columnFilter&&this.columnFilter.collectionFilterBy){const u=this.columnFilter.collectionFilterBy,g=this.columnFilter.collectionOptions&&this.columnFilter.collectionOptions.filterResultAfterEachPass||null;t=this.collectionService.filterCollection(t,u,g)}return t}sortCollection(i){let t=i;if(this.columnFilter&&this.columnFilter.collectionSortBy){const u=this.columnFilter.collectionSortBy;t=this.collectionService.sortCollection(this.columnDef,t,u,this.enableTranslateLabel)}return t}watchCollectionChanges(){var i;(null===(i=this.columnFilter)||void 0===i?void 0:i.collection)&&(T(this.columnFilter.collection,t=>{this.renderDomElement(this.columnFilter.collection||t||[])}),x(this.columnFilter,"collection",t=>{this.renderDomElement(t||[]),this.columnFilter.collection&&T(this.columnFilter.collection,u=>{this.renderDomElement(this.columnFilter.collection||u||[])})}))}renderDomElement(i){var t;if(!Array.isArray(i)&&(null===(t=this.collectionOptions)||void 0===t?void 0:t.collectionInsideObjectProperty)){i=ee(i,this.collectionOptions.collectionInsideObjectProperty||"")}if(!Array.isArray(i))throw new Error('The "collection" passed to the Autocomplete Filter is not a valid array.');let u=i;u=this.filterCollection(u),u=this.sortCollection(u);const g=Array.isArray(this.searchTerms)&&this.searchTerms.length>=0?this.searchTerms[0]:"",C=this.buildTemplateHtmlString();this._collection=u,this.createDomElement(C,u,g),this.$filterElm.on("input",this.handleOnInputChange.bind(this))}buildTemplateHtmlString(){var i,t,u;const g=null!==(t=null===(i=this.columnDef)||void 0===i?void 0:i.id)&&void 0!==t?t:"";let C=this.gridOptions&&this.gridOptions.defaultFilterPlaceholder||"";return(null===(u=this.columnFilter)||void 0===u?void 0:u.placeholder)&&(C=this.columnFilter.placeholder),`<input type="text" role="presentation" autocomplete="off" class="form-control search-filter filter-${g}" placeholder="${C}">`}createDomElement(i,t,u){var g,C;this._collection=t;const D=null!==(C=null===(g=this.columnDef)||void 0===g?void 0:g.id)&&void 0!==C?C:"",B=this.grid.getHeaderRowColumn(D);$(B).empty(),this.$filterElm=$(i);const J=u;Array.isArray(t)&&(t=t.map(le=>({label:le[this.labelName],value:le[this.valueName],labelPrefix:le[this.labelPrefixName]||"",labelSuffix:le[this.labelSuffixName]||""})));const ie=this.filterOptions;if(null==ie?void 0:ie.source)ie.select=(le,De)=>this.onSelect(le,De),this._autoCompleteOptions=tn({},ie),this._autoCompleteOptions.renderItem&&(this._autoCompleteOptions.classes={"ui-autocomplete":`autocomplete-custom-${Hn(this._autoCompleteOptions.renderItem.layout)}`}),this.$filterElm.autocomplete(this._autoCompleteOptions),this._autoCompleteOptions.renderItem&&(this.$filterElm.autocomplete("instance")._renderItem=this.renderCustomItem.bind(this));else{const le={minLength:0,source:t,select:(De,Ne)=>this.onSelect(De,Ne)};this._autoCompleteOptions=tn(tn({},le),this.filterOptions),this.$filterElm.autocomplete(this._autoCompleteOptions),this.$filterElm.autocomplete("instance")._renderItem=this.renderCollectionItem.bind(this)}if(this.$filterElm.val(J),this.$filterElm.data("columnId",D),u&&this.$filterElm.addClass("filled"),this.$filterElm&&"function"==typeof this.$filterElm.appendTo){const le=$('<div class="autocomplete-container"></div>');le.appendTo(B),this.$filterElm.appendTo(le),$("<span></span>").appendTo(le)}if(this.filterOptions.openSearchListOnFocus&&this.$filterElm.click(()=>this.$filterElm.autocomplete("search",this.$filterElm.val())),this.columnFilter.callbacks)for(const le of Object.keys(this.columnFilter.callbacks))"function"==typeof this.columnFilter.callbacks[le]&&(this.$filterElm.autocomplete("instance")[le]=this.columnFilter.callbacks[le]);return this.$filterElm}onSelect(i,t){var u,g,C,D,B,J;if(t&&t.item){const ie=t.item,le=null!==(J=null!==(C=null===(g=null===(u=this.columnFilter)||void 0===u?void 0:u.callbacks)||void 0===g?void 0:g.hasOwnProperty("_renderItem"))&&void 0!==C?C:null===(B=null===(D=this.columnFilter)||void 0===D?void 0:D.filterOptions)||void 0===B?void 0:B.renderItem)&&void 0!==J&&J,De="string"==typeof ie?ie:le?ie[this.labelName]:ie.label,Ne="string"==typeof ie?ie:le?ie[this.valueName]:ie.value;this.setValues(De),""===Ne?this.$filterElm.removeClass("filled"):this.$filterElm.addClass("filled"),this.callback(i,{columnDef:this.columnDef,operator:this.operator,searchTerms:[Ne],shouldTriggerQuery:this._shouldTriggerQuery}),this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0}return!1}handleOnInputChange(i){let t=i&&i.target&&i.target.value||"";const u=this.gridOptions.enableFilterTrimWhiteSpace||this.columnFilter.enableTrimWhiteSpace;"string"==typeof t&&u&&(t=t.trim()),this._clearFilterTriggered?(this.callback(i,{columnDef:this.columnDef,clearFilterTriggered:this._clearFilterTriggered,shouldTriggerQuery:this._shouldTriggerQuery}),this.$filterElm.removeClass("filled")):(""===t?this.$filterElm.removeClass("filled"):this.$filterElm.addClass("filled"),this.callback(i,{columnDef:this.columnDef,operator:this.operator,searchTerms:[t],shouldTriggerQuery:this._shouldTriggerQuery})),this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0}renderCustomItem(i,t){var u,g,C;const D=null!==(C=null===(g=null===(u=this._autoCompleteOptions)||void 0===u?void 0:u.renderItem)||void 0===g?void 0:g.templateCallback(t))&&void 0!==C?C:"",B=Hi(this.gridOptions,D)||"";return $("<li></li>").data("item.autocomplete",t).append(B).appendTo(i)}renderCollectionItem(i,t){var u,g;const C=null!==(g=null===(u=this.columnFilter)||void 0===u?void 0:u.enableRenderHtml)&&void 0!==g&&g,ie=(t.labelPrefix||"")+(t.label||"")+(t.labelSuffix||""),le=Hi(this.gridOptions,ie)||"",De=$("<div></div>")[C?"html":"text"](le);return $("<li></li>").data("item.autocomplete",t).append(De).appendTo(i)}},compoundDate:class{constructor(i){this.translaterService=i,this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0,this.searchTerms=[],this._bindEventService=new Oi}get gridOptions(){return this.grid&&this.grid.getOptions?this.grid.getOptions():{}}get columnFilter(){return this.columnDef&&this.columnDef.filter||{}}get currentDate(){return this._currentDate}get defaultOperator(){return ze.empty}get flatpickrOptions(){return this._flatpickrOptions||{}}get locales(){return this.gridOptions.locales||ae.locales}get operator(){return this._operator||this.columnFilter.operator||this.defaultOperator}set operator(i){this._operator=i}init(i){if(!i)throw new Error('[Slickgrid-Universal] A filter must always have an "init()" with valid arguments.');this.grid=i.grid,this.callback=i.callback,this.columnDef=i.columnDef,this.operator=i.operator||"",this.searchTerms=(i.hasOwnProperty("searchTerms")?i.searchTerms:[])||[];const t=Array.isArray(this.searchTerms)&&this.searchTerms.length>=0?this.searchTerms[0]:"";this._filterElm=this.createDomElement(t),this._bindEventService.bind(this._filterDivInputElm,"keyup",this.onTriggerEvent.bind(this)),this._bindEventService.bind(this._selectOperatorElm,"change",this.onTriggerEvent.bind(this))}clear(i=!0){this.flatInstance&&this._selectOperatorElm&&(this._clearFilterTriggered=!0,this._shouldTriggerQuery=i,this.searchTerms=[],this._selectOperatorElm.selectedIndex=0,this.flatInstance.input&&this.flatInstance.clear()),this._filterElm.classList.remove("filled"),this._filterDivInputElm.classList.remove("filled")}destroy(){var i,t,u,g;this._bindEventService.unbindAll(),this.flatInstance&&"function"==typeof this.flatInstance.destroy&&(this.flatInstance.destroy(),this.flatInstance.element&&Di(this.flatInstance)),null===(t=null===(i=this._filterElm)||void 0===i?void 0:i.remove)||void 0===t||t.call(i),null===(g=null===(u=this._selectOperatorElm)||void 0===u?void 0:u.remove)||void 0===g||g.call(u)}hide(){this.flatInstance&&"function"==typeof this.flatInstance.close&&this.flatInstance.close()}show(){this.flatInstance&&"function"==typeof this.flatInstance.open&&this.flatInstance.open()}getValues(){return this._currentDate}setValues(i,t){if(this.flatInstance){const u=Array.isArray(i)?i[0]:i;this._currentDate=i&&u?u:void 0,this.flatInstance.setDate(this._currentDate||"")}if(this.getValues()?(this._filterElm.classList.add("filled"),this._filterDivInputElm.classList.add("filled")):(this._filterElm.classList.remove("filled"),this._filterDivInputElm.classList.remove("filled")),this.operator=t||this.defaultOperator,t&&this._selectOperatorElm){const u=lt(this.operator);this._selectOperatorElm.value=u}}buildDatePickerInput(i){var t,u,g,C,D,B;const J=Ce(this.columnFilter.type||this.columnDef.type||Ee.dateIso),ie=Ce(this.columnDef.outputType||this.columnFilter.type||this.columnDef.type||Ee.dateUtc),le=this.columnFilter&&this.columnFilter.filterOptions||{};let De=(null!==(t=null==le?void 0:le.locale)&&void 0!==t?t:null===(g=null===(u=this.translaterService)||void 0===u?void 0:u.getCurrentLanguage)||void 0===g?void 0:g.call(u))||this.gridOptions.locale||"en";(null==De?void 0:De.length)>2&&(De=De.substring(0,2)),i&&(this._currentDate=i);const Ne={defaultDate:i||"",altInput:!0,altFormat:ie,dateFormat:J,wrap:!0,closeOnSelect:!0,locale:De,onChange:(Ct,Kt)=>{let Xt;this._currentValue=Kt,this._currentDate=Array.isArray(Ct)&&Ct[0]||void 0,Ne.enableTime&&(Xt=new CustomEvent("keyup")),this.onTriggerEvent(Xt)},errorHandler:Ct=>{Ct.toString().includes("invalid locale")&&console.warn(`[Slickgrid-Universal] Flatpickr missing locale imports (${De}), will revert to English as the default locale.\n          See Flatpickr Localization for more info, for example if we want to use French, then we can import it with:  import 'flatpickr/dist/l10n/fr';`)}};ie&&("Z"===ie||ie.toLowerCase().includes("h"))&&(Ne.enableTime=!0),this._flatpickrOptions=tn(tn({},Ne),le);let Ze=null!==(D=null===(C=this.gridOptions)||void 0===C?void 0:C.defaultFilterPlaceholder)&&void 0!==D?D:"";(null===(B=this.columnFilter)||void 0===B?void 0:B.placeholder)&&(Ze=this.columnFilter.placeholder);const ht=Wt("div",{className:"flatpickr"});return ht.appendChild(Wt("input",{type:"text",className:"form-control",placeholder:Ze,dataset:{input:""}})),this.flatInstance=Dr(ht,this._flatpickrOptions),ht}getOperatorOptionValues(){var i;return(null===(i=this.columnFilter)||void 0===i?void 0:i.compoundOperatorList)?this.columnFilter.compoundOperatorList:[{operator:"",description:""},{operator:"=",description:this.getOutputText("EQUAL_TO","TEXT_EQUAL_TO","Equal to")},{operator:"<",description:this.getOutputText("LESS_THAN","TEXT_LESS_THAN","Less than")},{operator:"<=",description:this.getOutputText("LESS_THAN_OR_EQUAL_TO","TEXT_LESS_THAN_OR_EQUAL_TO","Less than or equal to")},{operator:">",description:this.getOutputText("GREATER_THAN","TEXT_GREATER_THAN","Greater than")},{operator:">=",description:this.getOutputText("GREATER_THAN_OR_EQUAL_TO","TEXT_GREATER_THAN_OR_EQUAL_TO","Greater than or equal to")},{operator:"<>",description:this.getOutputText("NOT_EQUAL_TO","TEXT_NOT_EQUAL_TO","Not equal to")}]}getOutputText(i,t,u){var g,C,D,B;if((null===(g=this.gridOptions)||void 0===g?void 0:g.enableTranslate)&&(null===(C=this.translaterService)||void 0===C?void 0:C.translate)){const J=pe(this.gridOptions);return this.translaterService.translate(`${J}${i}`)}return null!==(B=null===(D=this.locales)||void 0===D?void 0:D[t])&&void 0!==B?B:u}createDomElement(i){var t,u;const g=null!==(u=null===(t=this.columnDef)||void 0===t?void 0:t.id)&&void 0!==u?u:"",C=this.grid.getHeaderRowColumn(g);di(C),this._selectOperatorElm=Gi(this.getOperatorOptionValues(),this.gridOptions),this._filterDivInputElm=this.buildDatePickerInput(i);const D=Wt("div",{className:`form-group search-filter filter-${g}`}),B=Wt("div",{className:"input-group flatpickr"}),J=Wt("div",{className:"input-group-addon input-group-prepend operator"});if(J.appendChild(this._selectOperatorElm),B.appendChild(J),B.appendChild(this._filterDivInputElm),D.appendChild(B),this._filterDivInputElm.dataset.columnid=`${g}`,this.operator){const ie=lt(this.operator);this._selectOperatorElm.value=ie}return i&&""!==i&&(this._filterDivInputElm.classList.add("filled"),this._currentDate=i,this._currentValue=i),D&&C.appendChild(D),D}onTriggerEvent(i){if(this._clearFilterTriggered)this.callback(i,{columnDef:this.columnDef,clearFilterTriggered:this._clearFilterTriggered,shouldTriggerQuery:this._shouldTriggerQuery}),this._filterElm.classList.remove("filled");else{const t=this._selectOperatorElm.value;this._currentValue?this._filterElm.classList.add("filled"):this._filterElm.classList.remove("filled"),this.callback(i,{columnDef:this.columnDef,searchTerms:this._currentValue?[this._currentValue]:null,operator:t||"",shouldTriggerQuery:this._shouldTriggerQuery})}this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0}},compoundInput:Jt,compoundInputNumber:class extends Jt{constructor(i){super(i),this.translaterService=i,this.inputType="number"}},compoundInputPassword:class extends Jt{constructor(i){super(i),this.translaterService=i,this.inputType="password"}},compoundInputText:Jt,compoundSlider:class{constructor(i){this.translaterService=i,this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0,this._elementRangeInputId="",this._elementRangeOutputId="",this.searchTerms=[],this._bindEventService=new Oi}get columnFilter(){return this.columnDef&&this.columnDef.filter||{}}get defaultOperator(){return ze.empty}get filterParams(){return this.columnDef&&this.columnDef.filter&&this.columnDef.filter.params||{}}get filterProperties(){return this.columnDef&&this.columnDef.filter||{}}get gridOptions(){var i,t,u;return null!==(u=null===(t=null===(i=this.grid)||void 0===i?void 0:i.getOptions)||void 0===t?void 0:t.call(i))&&void 0!==u?u:{}}get locales(){return this.gridOptions.locales||ae.locales}get operator(){return this._operator||this.columnFilter.operator||this.defaultOperator}set operator(i){this._operator=i}init(i){var t;if(!i)throw new Error('[Slickgrid-Universal] A filter must always have an "init()" with valid arguments.');this.grid=i.grid,this.callback=i.callback,this.columnDef=i.columnDef,this.operator=i.operator||"",this.searchTerms=null!==(t=null==i?void 0:i.searchTerms)&&void 0!==t?t:[],this._elementRangeInputId=`rangeInput_${this.columnDef.field}`,this._elementRangeOutputId=`rangeOutput_${this.columnDef.field}`;const u=Array.isArray(this.searchTerms)&&this.searchTerms.length>=0?this.searchTerms[0]:"";this.filterElm=this.createDomElement(u),this._bindEventService.bind(this.filterInputElm,"change",this.onTriggerEvent.bind(this)),this._bindEventService.bind(this.selectOperatorElm,"change",this.onTriggerEvent.bind(this)),this.filterParams.hideSliderNumber||this._bindEventService.bind(this.filterInputElm,["input","change"],this.handleInputChange.bind(this))}clear(i=!0){var t,u,g;if(this.filterElm&&this.selectOperatorElm){this._clearFilterTriggered=!0,this._shouldTriggerQuery=i,this.searchTerms=[];const C=null!==(u=null===(t=this.filterParams)||void 0===t?void 0:t.sliderStartValue)&&void 0!==u?u:0;this._currentValue=+C,this.selectOperatorElm.selectedIndex=0,this.filterInputElm.value=C,this.filterNumberElm&&(this.filterNumberElm.textContent=C),this.onTriggerEvent(void 0),this.filterElm.classList.remove("filled"),null===(g=this.divContainerFilterElm)||void 0===g||g.classList.remove("filled")}}destroy(){var i,t,u,g;this._bindEventService.unbindAll(),null===(t=null===(i=this.selectOperatorElm)||void 0===i?void 0:i.remove)||void 0===t||t.call(i),di(this.filterElm),null===(g=null===(u=this.filterElm)||void 0===u?void 0:u.remove)||void 0===g||g.call(u)}getValues(){return this._currentValue}setValues(i,t){var u,g,C;const D=Array.isArray(i)?i[0]:i;if(this._currentValue=qe(D)?+D:void 0,this.filterInputElm.value=`${null!=D?D:""}`,this.filterNumberElm&&(this.filterNumberElm.textContent=`${null!==(u=this._currentValue)&&void 0!==u?u:""}`),void 0!==this.getValues()?(this.filterElm.classList.add("filled"),null===(g=this.divContainerFilterElm)||void 0===g||g.classList.add("filled")):(this.filterElm.classList.remove("filled"),null===(C=this.divContainerFilterElm)||void 0===C||C.classList.remove("filled")),this.operator=t||this.defaultOperator,t&&this.selectOperatorElm){const B=lt(this.operator);this.selectOperatorElm.value=B}}getOperatorOptionValues(){var i;return(null===(i=this.columnFilter)||void 0===i?void 0:i.compoundOperatorList)?this.columnFilter.compoundOperatorList:[{operator:"",description:""},{operator:"=",description:this.getOutputText("EQUAL_TO","TEXT_EQUAL_TO","Equal to")},{operator:"<",description:this.getOutputText("LESS_THAN","TEXT_LESS_THAN","Less than")},{operator:"<=",description:this.getOutputText("LESS_THAN_OR_EQUAL_TO","TEXT_LESS_THAN_OR_EQUAL_TO","Less than or equal to")},{operator:">",description:this.getOutputText("GREATER_THAN","TEXT_GREATER_THAN","Greater than")},{operator:">=",description:this.getOutputText("GREATER_THAN_OR_EQUAL_TO","TEXT_GREATER_THAN_OR_EQUAL_TO","Greater than or equal to")},{operator:"<>",description:this.getOutputText("NOT_EQUAL_TO","TEXT_NOT_EQUAL_TO","Not equal to")}]}getOutputText(i,t,u){var g,C,D,B;if((null===(g=this.gridOptions)||void 0===g?void 0:g.enableTranslate)&&(null===(C=this.translaterService)||void 0===C?void 0:C.translate)){const J=pe(this.gridOptions);return this.translaterService.translate(`${J}${i}`)}return null!==(B=null===(D=this.locales)||void 0===D?void 0:D[t])&&void 0!==B?B:u}createDomElement(i){var t,u,g,C,D,B,J,ie,le,De,Ne,Ze,ht,Ct;const Kt=null!==(u=null===(t=this.columnDef)||void 0===t?void 0:t.id)&&void 0!==u?u:"",Xt=null!==(C=null===(g=this.filterProperties)||void 0===g?void 0:g.minValue)&&void 0!==C?C:0,dn=null!==(B=null===(D=this.filterProperties)||void 0===D?void 0:D.maxValue)&&void 0!==B?B:100,yi=null!==(ie=null===(J=this.filterParams)||void 0===J?void 0:J.sliderStartValue)&&void 0!==ie?ie:Xt,ni=null!==(De=null===(le=this.filterProperties)||void 0===le?void 0:le.valueStep)&&void 0!==De?De:1,Jn=+(null!==(Ze=null===(Ne=this.filterParams)||void 0===Ne?void 0:Ne.sliderStartValue)&&void 0!==Ze?Ze:Xt),Ti=this.grid.getHeaderRowColumn(this.columnDef.id);di(Ti);let ri=i||"0";+ri<Xt&&(ri=`${Xt}`),+ri<Jn&&(ri=`${Jn}`),this._currentValue=+ri,this.selectOperatorElm=Gi(this.getOperatorOptionValues(),this.gridOptions);const Xn=Wt("span",{className:"input-group-addon input-group-prepend operator"});if(Xn.appendChild(this.selectOperatorElm),this.filterInputElm=Wt("input",{type:"range",name:this._elementRangeInputId,className:`form-control slider-filter-input range compound-slider ${this._elementRangeInputId}`,defaultValue:yi,value:ri,min:`${Xt}`,max:`${dn}`,step:`${ni}`}),this.filterInputElm.setAttribute("aria-label",null!==(Ct=null===(ht=this.columnFilter)||void 0===ht?void 0:ht.ariaLabel)&&void 0!==Ct?Ct:`${Tn(Kt+"")} Search Filter`),this.divContainerFilterElm=Wt("div",{className:`form-group search-filter slider-container filter-${Kt}`}),this.containerInputGroupElm=Wt("div",{className:`input-group search-filter filter-${Kt}`}),this.containerInputGroupElm.appendChild(Xn),this.containerInputGroupElm.appendChild(this.filterInputElm),this.divContainerFilterElm.appendChild(this.containerInputGroupElm),!this.filterParams.hideSliderNumber){this.containerInputGroupElm.classList.add("input-group"),this.filterInputElm.value=ri;const Wi=Wt("div",{className:"input-group-addon input-group-append slider-value"});this.filterNumberElm=Wt("span",{className:`input-group-text ${this._elementRangeOutputId}`,textContent:ri}),Wi.appendChild(this.filterNumberElm),this.containerInputGroupElm.appendChild(Wi)}if(this.divContainerFilterElm.dataset.columnid=`${Kt}`,this.operator){const Wi=lt(this.operator);this.selectOperatorElm.value=Wi}return i&&this.divContainerFilterElm.classList.add("filled"),Ti.appendChild(this.divContainerFilterElm),this.divContainerFilterElm}handleInputChange(i){var t;const u=(null==i?void 0:i.target).value;null!=u&&(null===(t=this.filterNumberElm)||void 0===t?void 0:t.textContent)&&(this.filterNumberElm.textContent=u)}onTriggerEvent(i){const t=this.filterInputElm.value;if(this._currentValue=+t,this._clearFilterTriggered)this.filterElm.classList.remove("filled"),this.callback(i,{columnDef:this.columnDef,clearFilterTriggered:this._clearFilterTriggered,shouldTriggerQuery:this._shouldTriggerQuery});else{this.filterElm.classList.add("filled");const u=this.selectOperatorElm.value;this.callback(i,{columnDef:this.columnDef,searchTerms:t?[t||"0"]:null,operator:u||"",shouldTriggerQuery:this._shouldTriggerQuery})}this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0}},dateRange:class{constructor(i){this.translaterService=i,this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0,this.searchTerms=[],this._bindEventService=new Oi}get gridOptions(){return this.grid&&this.grid.getOptions?this.grid.getOptions():{}}get columnFilter(){return this.columnDef&&this.columnDef.filter||{}}get currentDates(){return this._currentDates}get defaultOperator(){return this.gridOptions.defaultFilterRangeOperator||ze.rangeInclusive}get flatpickrOptions(){return this._flatpickrOptions||{}}get operator(){var i,t;return null!==(t=null===(i=this.columnFilter)||void 0===i?void 0:i.operator)&&void 0!==t?t:this.defaultOperator}set operator(i){this.columnFilter&&(this.columnFilter.operator=i)}init(i){if(!i)throw new Error('[Slickgrid-Universal] A filter must always have an "init()" with valid arguments.');this.grid=i.grid,this.callback=i.callback,this.columnDef=i.columnDef,this.searchTerms=(i.hasOwnProperty("searchTerms")?i.searchTerms:[])||[],this._filterElm=this.createDomElement(this.searchTerms),this._bindEventService.bind(this._filterDivInputElm,"keyup",this.onTriggerEvent.bind(this))}clear(i=!0){this.flatInstance&&(this._clearFilterTriggered=!0,this._shouldTriggerQuery=i,this.searchTerms=[],this.flatInstance.input&&this.flatInstance.clear(),this._filterElm.classList.remove("filled"),this._filterDivInputElm.classList.remove("filled"))}destroy(){var i,t,u;this._bindEventService.unbindAll(),(null===(i=this.flatInstance)||void 0===i?void 0:i.destroy)&&(this.flatInstance.destroy(),this.flatInstance.element&&Di(this.flatInstance)),null===(u=null===(t=this._filterElm)||void 0===t?void 0:t.remove)||void 0===u||u.call(t)}hide(){this.flatInstance&&"function"==typeof this.flatInstance.close&&this.flatInstance.close()}show(){this.flatInstance&&"function"==typeof this.flatInstance.open&&this.flatInstance.open()}getValues(){return this._currentDates}setValues(i,t){let u=[];"string"==typeof i||Array.isArray(i)&&"string"==typeof i[0]&&i[0].indexOf("..")>0?u="string"==typeof i?[i]:i[0].split(".."):Array.isArray(i)&&(u=i),this.flatInstance&&(this._currentDates=i&&u?u:void 0,this.flatInstance.setDate(this._currentDates||"")),(this.getValues()||[]).length>0&&i?(this._filterElm.classList.add("filled"),this._filterDivInputElm.classList.add("filled")):(this._filterElm.classList.remove("filled"),this._filterDivInputElm.classList.remove("filled")),this.operator=t||this.defaultOperator}buildDatePickerInput(i){var t,u,g,C,D;const B=null!==(u=null===(t=this.columnDef)||void 0===t?void 0:t.id)&&void 0!==u?u:"",J=Ce(this.columnFilter.type||this.columnDef.type||Ee.dateIso),ie=Ce(this.columnDef.outputType||this.columnFilter.type||this.columnDef.type||Ee.dateUtc),le=this.columnFilter&&this.columnFilter.filterOptions||{};let De=(null!==(g=null==le?void 0:le.locale)&&void 0!==g?g:null===(D=null===(C=this.translaterService)||void 0===C?void 0:C.getCurrentLanguage)||void 0===D?void 0:D.call(C))||this.gridOptions.locale||"en";De.length>2&&(De=De.substring(0,2));let Ne=[];if("string"==typeof i||Array.isArray(i)&&"string"==typeof i[0]&&i[0].indexOf("..")>0?Ne="string"==typeof i?[i]:i[0].split(".."):Array.isArray(i)&&(Ne=i),Ne){this._currentDates=Ne;const Kt=xe(this.columnFilter.type||this.columnDef.type||Ee.dateIso);this._currentDateStrings=Ne.map(Xt=>ys(Xt).format(Kt))}const Ze={defaultDate:Ne||"",altInput:!0,altFormat:ie,dateFormat:J,mode:"range",wrap:!0,closeOnSelect:!0,locale:De,onChange:Kt=>{if(Array.isArray(Kt)){this._currentDates=Kt;const dn=xe(this.columnDef.outputType||this.columnFilter.type||this.columnDef.type||Ee.dateIso);this._currentDateStrings=Kt.map(yi=>ys(yi).format(dn)),this._currentValue=this._currentDateStrings.join("..")}const Xt=Ze.enableTime?new CustomEvent("keyup"):void 0;this.onTriggerEvent(Xt)},errorHandler:Kt=>{Kt.toString().includes("invalid locale")&&console.warn(`[Slickgrid-Universal] Flatpickr missing locale imports (${De}), will revert to English as the default locale.\n          See Flatpickr Localization for more info, for example if we want to use French, then we can import it with:  import 'flatpickr/dist/l10n/fr';`)}};ie&&("Z"===ie||ie.toLowerCase().includes("h"))&&(Ze.enableTime=!0),this._flatpickrOptions=tn(tn({},Ze),le);let ht=this.gridOptions&&this.gridOptions.defaultFilterPlaceholder||"";this.columnFilter&&this.columnFilter.placeholder&&(ht=this.columnFilter.placeholder);const Ct=Wt("div",{className:`flatpickr search-filter filter-${B}`});return Ct.appendChild(Wt("input",{type:"text",className:"form-control",placeholder:ht,dataset:{input:""}})),this.flatInstance=gs(Ct,this._flatpickrOptions),Ct}createDomElement(i){var t,u;const g=null!==(u=null===(t=this.columnDef)||void 0===t?void 0:t.id)&&void 0!==u?u:"",C=this.grid.getHeaderRowColumn(g);return di(C),this._filterDivInputElm=this.buildDatePickerInput(i),this._filterDivInputElm.dataset.columnid=`${g}`,Array.isArray(i)&&i.length>0&&""!==i[0]&&(this._filterDivInputElm.classList.add("filled"),this._currentDates=i,this._currentValue=i[0]),this._filterDivInputElm&&C.appendChild(this._filterDivInputElm),this._filterDivInputElm}onTriggerEvent(i){this._clearFilterTriggered?(this.callback(i,{columnDef:this.columnDef,clearFilterTriggered:this._clearFilterTriggered,shouldTriggerQuery:this._shouldTriggerQuery}),this._filterElm.classList.remove("filled")):(this._currentDateStrings?this._filterElm.classList.add("filled"):this._filterElm.classList.remove("filled"),this.callback(i,{columnDef:this.columnDef,searchTerms:this._currentDateStrings?this._currentDateStrings:[this._currentValue],operator:this.operator||"",shouldTriggerQuery:this._shouldTriggerQuery})),this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0}},input:it,inputMask:class extends it{constructor(){super(),this._inputMask="",this.inputType="text"}get inputMask(){return this._inputMask}init(i){var t,u,g,C;if(!i)throw new Error('[Slickgrid-Universal] A filter must always have an "init()" with valid arguments.');if(this.grid=i.grid,this.callback=i.callback,this.columnDef=i.columnDef,this.searchTerms=(i.hasOwnProperty("searchTerms")?i.searchTerms:[])||[],(null===(u=null===(t=this.columnDef)||void 0===t?void 0:t.params)||void 0===u?void 0:u.mask)?this._inputMask=this.columnDef.params.mask:(null===(C=null===(g=this.columnFilter)||void 0===g?void 0:g.params)||void 0===C?void 0:C.mask)&&(this._inputMask=this.columnFilter.params.mask),!this._inputMask)throw new Error("[Slickgrid-Universal] The Filters.inputMask requires the mask to be passed in the filter params or the column definition params\n        for example:: this.columnDefinitions: [{ id: 'phone', field: 'phone', filter: { model: Filters.inputMask, params: { mask: '000-000-0000' }}}]");const D=Array.isArray(this.searchTerms)&&this.searchTerms.length>=0?this.searchTerms[0]:"";this._filterElm=this.createDomElement(D),this._bindEventService.bind(this._filterElm,["keyup","blur","change"],this.handleInputChange.bind(this))}handleInputChange(i){var t,u,g,C;let D="";if(null===(t=null==i?void 0:i.target)||void 0===t?void 0:t.value){let B=null!==(g=null===(u=null==i?void 0:i.target)||void 0===u?void 0:u.value)&&void 0!==g?g:"";const J=this.gridOptions.enableFilterTrimWhiteSpace||this.columnFilter.enableTrimWhiteSpace;"string"==typeof B&&J&&(B=B.trim());const ie=this.unmaskValue(B),le=this.maskValue(ie);D=ie,(null===(C=i)||void 0===C?void 0:C.keyCode)>=48&&(this._filterElm.value=le,i.preventDefault())}this._clearFilterTriggered?(this.callback(i,{columnDef:this.columnDef,clearFilterTriggered:this._clearFilterTriggered,shouldTriggerQuery:this._shouldTriggerQuery}),this._filterElm.classList.remove("filled")):(this._filterElm.classList.add("filled"),this.callback(i,{columnDef:this.columnDef,operator:this.operator,searchTerms:[D],shouldTriggerQuery:this._shouldTriggerQuery})),this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0}maskValue(i){let t=0,u="";return this._inputMask&&(u=this._inputMask.replace(/[09A]/gi,g=>(("0"===g||"9"===g)&&/\d+/g.test(i[t])||"A"===g.toUpperCase()&&/[^\d]+/gi.test(i[t]))&&i[t++]||"")),u}unmaskValue(i){const t=i.replace(/[^0-9a-z]*/gi,""),u=this._inputMask.replace(/[^0-9a-z]*/gi,"");let g="";for(let C=0;C<u.length;C++)t[C]&&(("0"===u[C]||"9"===u[C])&&/\d+/g.test(t[C])||"A"===u[C].toUpperCase()&&/[^\d]+/gi.test(t[C]))&&(g+=t[C]);return g}},inputNumber:class extends it{constructor(){super(),this.inputType="number"}},inputPassword:class extends it{constructor(){super(),this.inputType="password"}},inputText:it,multipleSelect:class extends on{constructor(i,t,u){super(i,t,u,!0),this.translaterService=i,this.collectionService=t,this.rxjs=u}},select:class{constructor(i){this.translater=i,this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0,this._currentValues=[],this.searchTerms=[],this._bindEventService=new Oi}get columnFilter(){var i,t;return null!==(t=null===(i=this.columnDef)||void 0===i?void 0:i.filter)&&void 0!==t?t:{}}get defaultOperator(){return ze.equal}get gridOptions(){return this.grid&&this.grid.getOptions?this.grid.getOptions():{}}get operator(){var i,t;return null!==(t=null===(i=this.columnFilter)||void 0===i?void 0:i.operator)&&void 0!==t?t:this.defaultOperator}set operator(i){this.columnFilter&&(this.columnFilter.operator=i)}init(i){if(!i)throw new Error('[Slickgrid-Universal] A filter must always have an "init()" with valid arguments.');if(this.grid=i.grid,this.callback=i.callback,this.columnDef=i.columnDef,this.searchTerms=(i.hasOwnProperty("searchTerms")?i.searchTerms:[])||[],!(this.grid&&this.columnDef&&this.columnFilter&&this.columnFilter.collection))throw new Error('[Slickgrid-Universal] You need to pass a "collection" for the Native Select Filter to work correctly.');if(this.columnFilter.enableTranslateLabel&&!this.gridOptions.enableTranslate&&(!this.translater||"function"!=typeof this.translater.translate))throw new Error('The I18N Service is required for the Native Select Filter to work correctly when "enableTranslateLabel" is set.');let t=Array.isArray(this.searchTerms)&&this.searchTerms.length>=0?this.searchTerms[0]:"";("boolean"==typeof t||"number"==typeof t)&&(t=`${null!=t?t:""}`),this.filterElm=this.createDomElement(t),this._bindEventService.bind(this.filterElm,"change",this.handleOnChange.bind(this))}clear(i=!0){this.filterElm&&(this._clearFilterTriggered=!0,this._shouldTriggerQuery=i,this.searchTerms=[],this._currentValues=[],this.filterElm.value="",this.filterElm.classList.remove("filled"),this.filterElm.dispatchEvent(new Event("change")))}destroy(){var i,t;this._bindEventService.unbindAll(),null===(t=null===(i=this.filterElm)||void 0===i?void 0:i.remove)||void 0===t||t.call(i)}getValues(){return this._currentValues||[]}setValues(i,t){var u;Array.isArray(i)?(this.filterElm.value=`${null!==(u=i[0])&&void 0!==u?u:""}`,this._currentValues=i):i&&(this.filterElm.value=`${null!=i?i:""}`,this._currentValues=[i]),this.getValues().length>0?this.filterElm.classList.add("filled"):this.filterElm.classList.remove("filled"),this.operator=t||this.defaultOperator}buildFilterSelectFromCollection(i){var t,u,g,C,D,B,J,ie,le,De;const Ne=null!==(u=null===(t=this.columnDef)||void 0===t?void 0:t.id)&&void 0!==u?u:"",Ze=Wt("select",{className:`form-control search-filter filter-${Ne}`});Ze.setAttribute("aria-label",null!==(C=null===(g=this.columnFilter)||void 0===g?void 0:g.ariaLabel)&&void 0!==C?C:`${Tn(Ne+"")} Search Filter`);const ht=null!==(B=null===(D=this.columnFilter.customStructure)||void 0===D?void 0:D.label)&&void 0!==B?B:"label",Ct=null!==(ie=null===(J=this.columnFilter.customStructure)||void 0===J?void 0:J.value)&&void 0!==ie?ie:"value",Kt=null!==(De=null===(le=this.columnFilter)||void 0===le?void 0:le.enableTranslateLabel)&&void 0!==De&&De;if(i.every(Xt=>"string"==typeof Xt))for(const Xt of i)Ze.appendChild(Wt("option",{value:Xt,label:Xt,textContent:Xt}));else for(const Xt of i){if(!Xt||void 0===Xt[ht]&&void 0===Xt.labelKey)throw new Error("A collection with value/label (or value/labelKey when using Locale) is required to populate the Native Select Filter list, for example:: { filter: model: Filters.select, collection: [ { value: '1', label: 'One' } ]')");const dn=Xt.labelKey||Xt[ht],yi=(Xt.labelKey||Kt)&&this.translater&&this.translater.translate&&this.translater.getCurrentLanguage&&this.translater.getCurrentLanguage()?this.translater.translate(dn||" "):dn;Ze.appendChild(Wt("option",{value:Xt[Ct],textContent:yi}))}return Ze}createDomElement(i){var t,u,g,C;const D=null!==(u=null===(t=this.columnDef)||void 0===t?void 0:t.id)&&void 0!==u?u:"",B=this.grid.getHeaderRowColumn(D);di(B);const J=i||"",ie=null!==(C=null===(g=this.columnFilter)||void 0===g?void 0:g.collection)&&void 0!==C?C:[];if(!Array.isArray(ie))throw new Error('The "collection" passed to the Native Select Filter is not a valid array.');const le=this.buildFilterSelectFromCollection(ie);return le.value=J,le.dataset.columnid=`${D||""}`,J&&(this._currentValues=[J]),B.appendChild(le),le}handleOnChange(i){const t=i&&i.target&&i.target.value||"";this._currentValues=[t],this._clearFilterTriggered?(this.callback(i,{columnDef:this.columnDef,clearFilterTriggered:this._clearFilterTriggered,shouldTriggerQuery:this._shouldTriggerQuery}),this.filterElm.classList.remove("filled")):(""===t?this.filterElm.classList.remove("filled"):this.filterElm.classList.add("filled"),this.callback(i,{columnDef:this.columnDef,operator:this.operator,searchTerms:[t],shouldTriggerQuery:this._shouldTriggerQuery})),this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0}},singleSelect:class extends on{constructor(i,t,u){super(i,t,u,!1),this.translaterService=i,this.collectionService=t,this.rxjs=u}},slider:class{constructor(){this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0,this._elementRangeInputId="",this._elementRangeOutputId="",this.searchTerms=[],this._bindEventService=new Oi}get columnFilter(){var i,t;return null!==(t=null===(i=this.columnDef)||void 0===i?void 0:i.filter)&&void 0!==t?t:{}}get defaultOperator(){return ze.equal}get filterParams(){var i,t,u;return null!==(u=null===(t=null===(i=this.columnDef)||void 0===i?void 0:i.filter)||void 0===t?void 0:t.params)&&void 0!==u?u:{}}get filterProperties(){var i,t;return null!==(t=null===(i=this.columnDef)||void 0===i?void 0:i.filter)&&void 0!==t?t:{}}get operator(){var i,t;return null!==(t=null===(i=this.columnFilter)||void 0===i?void 0:i.operator)&&void 0!==t?t:this.defaultOperator}set operator(i){this.columnFilter&&(this.columnFilter.operator=i)}init(i){if(!i)throw new Error('[Slickgrid-Universal] A filter must always have an "init()" with valid arguments.');this.grid=i.grid,this.callback=i.callback,this.columnDef=i.columnDef,this.searchTerms=(i.hasOwnProperty("searchTerms")?i.searchTerms:[])||[],this._elementRangeInputId=`rangeInput_${this.columnDef.field}`,this._elementRangeOutputId=`rangeOutput_${this.columnDef.field}`;const t=Array.isArray(this.searchTerms)&&this.searchTerms.length>=0?this.searchTerms[0]:"";this.filterElm=this.createDomElement(t),this._bindEventService.bind(this.filterInputElm,"change",this.handleOnChange.bind(this)),this.filterParams.hideSliderNumber||this._bindEventService.bind(this.filterInputElm,["input","change"],this.handleInputChange.bind(this))}clear(i=!0){var t,u;if(this.filterElm){this._clearFilterTriggered=!0,this._shouldTriggerQuery=i,this.searchTerms=[];const g=null!==(u=null===(t=this.filterParams)||void 0===t?void 0:t.sliderStartValue)&&void 0!==u?u:0;this._currentValue=+g,this.filterInputElm.value=g,this.filterNumberElm&&(this.filterNumberElm.textContent=g),this.divContainerFilterElm.classList.remove("filled"),this.filterElm.classList.remove("filled"),this.filterInputElm.dispatchEvent(new Event("change"))}}destroy(){var i,t;this._bindEventService.unbindAll(),di(this.filterElm),null===(t=null===(i=this.filterElm)||void 0===i?void 0:i.remove)||void 0===t||t.call(i)}getValues(){return this._currentValue}setValues(i,t){Array.isArray(i)?(this.filterInputElm.value=`${i[0]}`,this.filterNumberElm&&(this.filterNumberElm.textContent=`${i[0]}`),this._currentValue=+i[0]):qe(i)?(this.filterInputElm.value=`${null!=i?i:""}`,this._currentValue=+i):(this._currentValue=void 0,this.filterInputElm.value=""),void 0!==this.getValues()?(this.divContainerFilterElm.classList.add("filled"),this.filterElm.classList.add("filled")):(this.divContainerFilterElm.classList.remove("filled"),this.filterElm.classList.remove("filled")),this.operator=t||this.defaultOperator}createDomElement(i){var t,u,g,C,D,B,J,ie,le,De,Ne,Ze,ht,Ct;const Kt=null!==(u=null===(t=this.columnDef)||void 0===t?void 0:t.id)&&void 0!==u?u:"",Xt=null!==(C=null===(g=this.filterProperties)||void 0===g?void 0:g.minValue)&&void 0!==C?C:0,dn=null!==(B=null===(D=this.filterProperties)||void 0===D?void 0:D.maxValue)&&void 0!==B?B:100,yi=null!==(ie=null===(J=this.filterParams)||void 0===J?void 0:J.sliderStartValue)&&void 0!==ie?ie:Xt,ni=null!==(De=null===(le=this.filterProperties)||void 0===le?void 0:le.valueStep)&&void 0!==De?De:1,Jn=+(null!==(Ze=null===(Ne=this.filterParams)||void 0===Ne?void 0:Ne.sliderStartValue)&&void 0!==Ze?Ze:Xt),Ti=this.grid.getHeaderRowColumn(Kt);di(Ti);let ri=i||"0";if(+ri<Xt&&(ri=`${Xt}`),+ri<Jn&&(ri=`${Jn}`),this._currentValue=+ri,this.filterInputElm=Wt("input",{type:"range",name:this._elementRangeInputId,className:`form-control slider-filter-input range ${this._elementRangeInputId}`,defaultValue:yi,value:ri,min:`${Xt}`,max:`${dn}`,step:`${ni}`}),this.filterInputElm.setAttribute("aria-label",null!==(Ct=null===(ht=this.columnFilter)||void 0===ht?void 0:ht.ariaLabel)&&void 0!==Ct?Ct:`${Tn(Kt+"")} Search Filter`),this.divContainerFilterElm=Wt("div",{className:`search-filter slider-container filter-${Kt}`}),this.divContainerFilterElm.appendChild(this.filterInputElm),!this.filterParams.hideSliderNumber){this.divContainerFilterElm.classList.add("input-group"),this.filterInputElm.value=ri;const Xn=Wt("div",{className:"input-group-addon input-group-append slider-value"});this.filterNumberElm=Wt("span",{className:`input-group-text ${this._elementRangeOutputId}`,textContent:ri}),Xn.appendChild(this.filterNumberElm),this.divContainerFilterElm.appendChild(Xn)}return this.divContainerFilterElm.dataset.columnid=`${Kt}`,i&&this.divContainerFilterElm.classList.add("filled"),Ti.appendChild(this.divContainerFilterElm),this.divContainerFilterElm}handleInputChange(i){var t;const u=(null==i?void 0:i.target).value;null!=u&&(null===(t=this.filterNumberElm)||void 0===t?void 0:t.textContent)&&(this.filterNumberElm.textContent=u)}handleOnChange(i){const t=i&&i.target&&i.target.value;this._currentValue=+t,this._clearFilterTriggered?(this.filterElm.classList.remove("filled"),this.callback(i,{columnDef:this.columnDef,clearFilterTriggered:this._clearFilterTriggered,searchTerms:[],shouldTriggerQuery:this._shouldTriggerQuery})):(this.filterElm.classList.add("filled"),this.callback(i,{columnDef:this.columnDef,operator:this.operator,searchTerms:[t||"0"],shouldTriggerQuery:this._shouldTriggerQuery})),this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0}},sliderRange:class{constructor(){this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0,this.searchTerms=[]}get filterParams(){return this.columnDef&&this.columnDef.filter&&this.columnDef.filter.params||{}}get filterProperties(){return this.columnDef&&this.columnDef.filter||{}}get columnFilter(){return this.columnDef&&this.columnDef.filter||{}}get currentValues(){return this._currentValues}get defaultOperator(){return this.gridOptions.defaultFilterRangeOperator||ze.rangeInclusive}get gridOptions(){return this.grid&&this.grid.getOptions?this.grid.getOptions():{}}get sliderOptions(){return this._sliderOptions||{}}get operator(){var i,t;return null!==(t=null===(i=this.columnFilter)||void 0===i?void 0:i.operator)&&void 0!==t?t:this.defaultOperator}set operator(i){this.columnFilter&&(this.columnFilter.operator=i)}init(i){if(!i)throw new Error('[Slickgrid-Universal] A filter must always have an "init()" with valid arguments.');this.grid=i.grid,this.callback=i.callback,this.columnDef=i.columnDef,this.searchTerms=(i.hasOwnProperty("searchTerms")?i.searchTerms:[])||[],this.$filterElm=this.createDomElement(this.searchTerms)}clear(i=!0){if(this.$filterElm){this._clearFilterTriggered=!0,this._shouldTriggerQuery=i,this.searchTerms=[];const t=this.filterParams.hasOwnProperty("sliderStartValue")?this.filterParams.sliderStartValue:0,u=this.filterParams.hasOwnProperty("sliderEndValue")?this.filterParams.sliderEndValue:100;this._currentValues=[t,u],this.$filterElm.slider("values",[t,u]),this.filterParams.hideSliderNumbers||this.renderSliderValues(t,u),this.callback(void 0,{columnDef:this.columnDef,clearFilterTriggered:!0,shouldTriggerQuery:i}),this.$filterContainerElm.removeClass("filled")}}destroy(){this.$filterElm&&(this.$filterElm.off("change").remove(),this.$filterContainerElm.remove()),this.$filterElm=null,this.$filterContainerElm=null}renderSliderValues(i,t){var u,g,C,D;const B=null!==(g=null===(u=this.columnDef)||void 0===u?void 0:u.id)&&void 0!==g?g:"",J=null===(C=this.$filterContainerElm.get(0))||void 0===C?void 0:C.querySelector(`.lowest-range-${B}`),ie=null===(D=this.$filterContainerElm.get(0))||void 0===D?void 0:D.querySelector(`.highest-range-${B}`);(null==J?void 0:J.textContent)&&(J.textContent=i.toString()),(null==ie?void 0:ie.textContent)&&(ie.textContent=t.toString())}getValues(){return this._currentValues}setValues(i,t){var u,g;if(i){let C=[];"string"==typeof i||Array.isArray(i)&&"string"==typeof i[0]&&i[0].indexOf("..")>0?C="string"==typeof i?[i]:i[0].split(".."):Array.isArray(i)&&(C=i),Array.isArray(C)&&2===C.length&&(this.$filterElm.slider("values",C),this.filterParams.hideSliderNumbers||this.renderSliderValues(C[0],C[1]))}i&&(null!==(g=null===(u=this.getValues)||void 0===u?void 0:u.call(this))&&void 0!==g?g:[]).length>0?this.$filterContainerElm.addClass("filled"):this.$filterContainerElm.removeClass("filled"),this.operator=t||this.defaultOperator}createDomElement(i){var t,u;if(this.columnFilter&&this.columnFilter.filterOptions&&(this.columnFilter.filterOptions.change||this.columnFilter.filterOptions.slide))throw new Error('[Slickgrid-Universal] You cannot override the "change" and/or the "slide" callback methods\n        since they are used in SliderRange Filter itself, however any other methods can be used for example the "create", "start", "stop" methods.');const g=null!==(u=null===(t=this.columnDef)||void 0===t?void 0:t.id)&&void 0!==u?u:"",C=this.grid.getHeaderRowColumn(g),D=this.filterProperties.hasOwnProperty("minValue")?this.filterProperties.minValue:0,B=this.filterProperties.hasOwnProperty("maxValue")?this.filterProperties.maxValue:100,J=this.filterProperties.hasOwnProperty("valueStep")?this.filterProperties.valueStep:1;let ie=0,le=100;Array.isArray(i)&&i.length>1?(ie=+i[0],le=+i[1]):(ie=+(this.filterParams.hasOwnProperty("sliderStartValue")?this.filterParams.sliderStartValue:D),le=+(this.filterParams.hasOwnProperty("sliderEndValue")?this.filterParams.sliderEndValue:B)),$(C).empty();const De=$(`\n    <div class="input-group-addon input-group-prepend slider-range-value">\n      <span class="input-group-text lowest-range-${g}">${ie}</span>\n    </div>`),Ne=$(`\n    <div class="input-group-addon input-group-append slider-range-value">\n      <span class="input-group-text highest-range-${g}">${le}</span>\n    </div>`);this.$filterElm=$(`<div class="filter-input filter-${g}"></div>`),this.$filterContainerElm=$(`<div class="input-group form-control search-filter slider-range-container slider-values filter-${g}">`),this.filterParams.hideSliderNumbers?this.$filterContainerElm.append(this.$filterElm):(this.$filterContainerElm.append(De),this.$filterContainerElm.append(this.$filterElm),this.$filterContainerElm.append(Ne)),this._currentValues=[ie,le];const Ze={range:!0,min:+(D||0),max:+(B||100),step:+(J||1),values:[ie,le],change:(ht,Ct)=>this.onValueChanged(ht,Ct),slide:(ht,Ct)=>{const Kt=Ct.values;!this.filterParams.hideSliderNumbers&&Array.isArray(Kt)&&this.renderSliderValues(Kt[0],Kt[1])}};return this._sliderOptions=tn(tn({},Ze),this.columnFilter.filterOptions),this.$filterElm.slider(this._sliderOptions),Array.isArray(i)&&i.length>0&&""!==i[0]&&this.$filterContainerElm.addClass("filled"),this.$filterContainerElm&&"function"==typeof this.$filterContainerElm.appendTo&&this.$filterContainerElm.appendTo(C),this.$filterElm}onValueChanged(i,t){const u=t&&Array.isArray(t.values)?t.values:[],g=u.join("..");this._clearFilterTriggered?(this.callback(i,{columnDef:this.columnDef,clearFilterTriggered:this._clearFilterTriggered,shouldTriggerQuery:this._shouldTriggerQuery}),this.$filterContainerElm.removeClass("filled")):(""===g?this.$filterContainerElm.removeClass("filled"):this.$filterContainerElm.addClass("filled"),this.callback(i,{columnDef:this.columnDef,operator:this.operator,searchTerms:u,shouldTriggerQuery:this._shouldTriggerQuery})),this._clearFilterTriggered=!1,this._shouldTriggerQuery=!0}}};class rn{constructor(i,t,u,g){var C,D;this.config=i,this.translaterService=t,this.collectionService=u,this.rxjs=g,this._options=null!==(D=null===(C=this.config)||void 0===C?void 0:C.options)&&void 0!==D?D:{}}addRxJsResource(i){this.rxjs=i}createFilter(i){let t;return(null==i?void 0:i.model)&&(t="function"==typeof i.model?new i.model(this.translaterService,this.collectionService,this.rxjs):i.model),!t&&this._options.defaultFilter&&(t=new this._options.defaultFilter(this.translaterService,this.collectionService,this.rxjs)),t}}const Mn={alwaysShowVerticalScroll:!0,autoEdit:!1,asyncEditorLoading:!1,autoFitColumnsOnFirstLoad:!0,autoFixResizeTimeout:1500,autoFixResizeRequiredGoodCount:2,autoFixResizeWhenBrokenStyleDetected:!1,autoResize:{applyResizeToContainer:!0,calculateAvailableSizeBy:"window",bottomPadding:20,minHeight:180,minWidth:300,rightPadding:0},cellHighlightCssClass:"slick-cell-modified",checkboxSelector:{cssClass:"slick-cell-checkboxsel",width:40},columnGroupSeparator:" - ",columnPicker:{fadeSpeed:0,hideForceFitButton:!1,hideSyncResizeButton:!0,headerColumnValueExtractor:Sn},cellMenu:{autoAdjustDrop:!0,autoAlignSide:!0,hideCloseButton:!0,hideCommandSection:!1,hideOptionSection:!1,showBulletWhenIconMissing:!0},compositeEditorOptions:{labels:{cancelButtonKey:"CANCEL",cloneButtonKey:"CLONE",resetEditorButtonTooltipKey:"RESET_INPUT_VALUE",resetFormButtonKey:"RESET_FORM",massSelectionButtonKey:"APPLY_TO_SELECTION",massSelectionStatusKey:"X_OF_Y_MASS_SELECTED",massUpdateButtonKey:"APPLY_MASS_UPDATE",massUpdateStatusKey:"ALL_X_RECORDS_SELECTED",saveButtonKey:"SAVE"}},contextMenu:{autoAdjustDrop:!0,autoAlignSide:!0,hideCloseButton:!0,hideClearAllGrouping:!1,hideCollapseAllGroups:!1,hideCommandSection:!1,hideCopyCellValueCommand:!1,hideExpandAllGroups:!1,hideExportCsvCommand:!1,hideExportExcelCommand:!1,hideExportTextDelimitedCommand:!0,hideMenuOnScroll:!0,hideOptionSection:!1,iconCollapseAllGroupsCommand:"fa fa-compress mdi mdi-arrow-collapse",iconExpandAllGroupsCommand:"fa fa-expand mdi mdi-arrow-expand",iconClearGroupingCommand:"fa fa-times mdi mdi-close",iconCopyCellValueCommand:"fa fa-clone mdi mdi-content-copy",iconExportCsvCommand:"fa fa-download mdi mdi-download",iconExportExcelCommand:"fa fa-file-excel-o mdi mdi-file-excel-outline",iconExportTextDelimitedCommand:"fa fa-download mdi mdi-download",showBulletWhenIconMissing:!0},customFooterOptions:{dateFormat:"YYYY-MM-DD, hh:mm a",hideRowSelectionCount:!1,hideTotalItemCount:!1,hideLastUpdateTimestamp:!0,footerHeight:25,leftContainerClass:"col-xs-12 col-sm-5",rightContainerClass:"col-xs-6 col-sm-7",metricSeparator:"|",metricTexts:{itemsKey:"ITEMS",ofKey:"OF",itemsSelectedKey:"ITEMS_SELECTED"}},customTooltip:{tooltipTextMaxLength:700,maxWidth:500},dataView:{syncGridSelection:!0,syncGridSelectionWithBackendService:!1},datasetIdPropertyName:"id",defaultFilter:An.input,defaultBackendServiceFilterTypingDebounce:500,enableFilterTrimWhiteSpace:!1,defaultFilterPlaceholder:"\u{1f50e}\ufe0e",defaultFilterRangeOperator:ze.rangeInclusive,defaultColumnSortFieldId:"id",defaultComponentEventPrefix:"",defaultSlickgridEventPrefix:"",draggableGrouping:{hideToggleAllButton:!1,toggleAllButtonText:"",dropPlaceHolderTextKey:"DROP_COLUMN_HEADER_TO_GROUP_BY"},editable:!1,editorTypingDebounce:450,filterTypingDebounce:0,enableEmptyDataWarningMessage:!0,emptyDataWarning:{className:"slick-empty-data-warning",messageKey:"EMPTY_DATA_WARNING_MESSAGE",hideFrozenLeftWarning:!1,hideFrozenRightWarning:!1,leftViewportMarginLeft:"40%",rightViewportMarginLeft:"40%",frozenLeftViewportMarginLeft:"0px",frozenRightViewportMarginLeft:"40%"},enableAutoResize:!0,enableAutoSizeColumns:!0,enableCellNavigation:!1,enableColumnPicker:!0,enableColumnReorder:!0,enableColumnResizeOnDoubleClick:!0,enableContextMenu:!0,enableExcelExport:!1,enableTextExport:!1,enableGridMenu:!0,enableHeaderMenu:!0,enableMouseHoverHighlightRow:!0,enableSorting:!0,enableTextSelectionOnCells:!0,explicitInitialization:!0,excelExportOptions:{addGroupIndentation:!0,exportWithFormatter:!1,filename:"export",format:Ie.xlsx,groupingColumnHeaderTitle:"Group By",groupCollapsedSymbol:"\u2b9e",groupExpandedSymbol:"\u2b9f",groupingAggregatorRowText:"",sanitizeDataExport:!1},textExportOptions:{delimiter:Te.comma,exportWithFormatter:!1,filename:"export",format:Ie.csv,groupingColumnHeaderTitle:"Group By",groupingAggregatorRowText:"",sanitizeDataExport:!1,useUtf8WithBom:!0},gridAutosizeColsMode:ne.none,eventNamingStyle:Re.lowerCase,forceFitColumns:!1,frozenHeaderWidthCalcDifferential:1,gridMenu:{dropSide:"left",commandLabels:{clearAllFiltersCommandKey:"CLEAR_ALL_FILTERS",clearAllSortingCommandKey:"CLEAR_ALL_SORTING",clearFrozenColumnsCommandKey:"CLEAR_PINNING",exportCsvCommandKey:"EXPORT_TO_CSV",exportExcelCommandKey:"EXPORT_TO_EXCEL",exportTextDelimitedCommandKey:"EXPORT_TO_TAB_DELIMITED",refreshDatasetCommandKey:"REFRESH_DATASET",toggleFilterCommandKey:"TOGGLE_FILTER_ROW",togglePreHeaderCommandKey:"TOGGLE_PRE_HEADER_ROW"},hideClearAllFiltersCommand:!1,hideClearAllSortingCommand:!1,hideClearFrozenColumnsCommand:!0,hideExportCsvCommand:!1,hideExportExcelCommand:!1,hideExportTextDelimitedCommand:!0,hideForceFitButton:!1,hideRefreshDatasetCommand:!1,hideSyncResizeButton:!0,hideToggleFilterCommand:!1,hideTogglePreHeaderCommand:!1,iconCssClass:"fa fa-bars mdi mdi-menu",iconClearAllFiltersCommand:"fa fa-filter mdi mdi-filter-remove-outline",iconClearAllSortingCommand:"fa fa-unsorted mdi mdi-swap-vertical",iconClearFrozenColumnsCommand:"fa fa-times mdi mdi-pin-off-outline",iconExportCsvCommand:"fa fa-download mdi mdi-download",iconExportExcelCommand:"fa fa-file-excel-o mdi mdi-file-excel-outline",iconExportTextDelimitedCommand:"fa fa-download mdi mdi-download",iconRefreshDatasetCommand:"fa fa-refresh mdi mdi-sync",iconToggleFilterCommand:"fa fa-random mdi mdi-flip-vertical",iconTogglePreHeaderCommand:"fa fa-random mdi mdi-flip-vertical",menuWidth:16,resizeOnShowHeaderRow:!0,showBulletWhenIconMissing:!0,headerColumnValueExtractor:Sn},headerMenu:{autoAlign:!0,autoAlignOffset:4,minWidth:140,iconClearFilterCommand:"fa fa-filter mdi mdi mdi-filter-remove-outline",iconClearSortCommand:"fa fa-unsorted mdi mdi-swap-vertical",iconFreezeColumns:"fa fa-thumb-tack mdi mdi-pin-outline",iconSortAscCommand:"fa fa-sort-amount-asc mdi mdi-flip-v mdi-sort-ascending",iconSortDescCommand:"fa fa-sort-amount-desc mdi mdi-flip-v mdi-sort-descending",iconColumnHideCommand:"fa fa-times mdi mdi-close",iconColumnResizeByContentCommand:"fa fa-arrows-h mdi mdi-arrow-expand-horizontal",hideColumnResizeByContentCommand:!1,hideColumnHideCommand:!1,hideClearFilterCommand:!1,hideClearSortCommand:!1,hideFreezeColumnsCommand:!0,hideSortCommands:!1},ignoreAccentOnStringFilterAndSort:!1,multiColumnSort:!0,numberedMultiColumnSort:!0,tristateMultiColumnSort:!1,sortColNumberInSeparateSpan:!0,suppressActiveCellChangeOnEdit:!0,pagination:{pageSizes:[10,15,20,25,30,40,50,75,100],pageSize:25,totalItems:0},headerRowHeight:35,rowHeight:35,topPanelHeight:30,translationNamespaceSeparator:":",resetFilterSearchValueAfterOnBeforeCancellation:!0,resizeByContentOnlyOnFirstLoad:!0,resizeByContentOptions:{alwaysRecalculateColumnWidth:!1,cellCharWidthInPx:7.8,cellPaddingWidthInPx:14,defaultRatioForStringType:.88,formatterPaddingWidthInPx:0,maxItemToInspectCellContentWidth:1e3,maxItemToInspectSingleColumnWidthByContent:5e3,widthToRemoveFromExceededWidthReadjustment:50},treeDataOptions:{exportIndentMarginLeft:5,exportIndentationLeadingChar:"\u034f\u034f\u034f\u034f\u034f\u034f\u034f\u034f\u034f\xb7"}};function Sn(W,i){var t,u;const g=(null==W?void 0:W.columnGroup)||"",C=null!==(t=null==i?void 0:i.columnGroupSeparator)&&void 0!==t?t:" - ";return g?g+C+W.name:null!==(u=null==W?void 0:W.name)&&void 0!==u?u:""}const Vi={Avg:class{constructor(i){this._nonNullCount=0,this._sum=0,this._type="avg",this._field=i}get field(){return this._field}get type(){return this._type}init(){this._nonNullCount=0,this._sum=0}accumulate(i){const t=i&&i.hasOwnProperty(this._field)?i[this._field]:null;null!==t&&""!==t&&!isNaN(t)&&(this._nonNullCount++,this._sum+=parseFloat(t))}storeResult(i){(!i||void 0===i[this._type])&&(i[this._type]={}),0!==this._nonNullCount&&(i[this._type][this._field]=this._sum/this._nonNullCount)}},Clone:class{constructor(i){this._type="clone",this._field=i}get field(){return this._field}get type(){return this._type}init(){this._data=""}accumulate(i){const t=i&&i.hasOwnProperty(this._field)?i[this._field]:null;null!==t&&""!==t&&(this._data=t)}storeResult(i){(!i||void 0===i[this._type])&&(i[this._type]={}),i[this._type][this._field]=this._data}},Count:class{constructor(i){this._type="count",this._field=i}get field(){return this._field}get type(){return this._type}init(){}storeResult(i){(!i||void 0===i[this._type])&&(i[this._type]={}),i[this._type][this._field]=i.group.rows.length}},Distinct:class{constructor(i){this._distinctValues=[],this._type="distinct",this._field=i}get field(){return this._field}get type(){return this._type}init(){this._distinctValues=[]}accumulate(i){const t=i&&i.hasOwnProperty(this._field)?i[this._field]:void 0;-1===this._distinctValues.indexOf(t)&&void 0!==t&&this._distinctValues.push(t)}storeResult(i){(!i||void 0===i[this._type])&&(i[this._type]={}),i[this._type][this._field]=this._distinctValues}},Min:class{constructor(i){this._min=null,this._type="min",this._field=i}get field(){return this._field}get type(){return this._type}init(){this._min=null}accumulate(i){const t=i&&i.hasOwnProperty(this._field)?i[this._field]:null;null!==t&&""!==t&&!isNaN(t)&&(null===this._min||t<this._min)&&(this._min=parseFloat(t))}storeResult(i){(!i||void 0===i[this._type])&&(i[this._type]={}),i[this._type][this._field]=this._min}},Max:class{constructor(i){this._max=null,this._type="max",this._field=i}get field(){return this._field}get type(){return this._type}init(){this._max=null}accumulate(i){const t=i&&i.hasOwnProperty(this._field)?i[this._field]:null;null!==t&&""!==t&&!isNaN(t)&&(null===this._max||t>this._max)&&(this._max=parseFloat(t))}storeResult(i){(!i||void 0===i[this._type])&&(i[this._type]={}),i[this._type][this._field]=this._max}},Sum:class{constructor(i){this._sum=0,this._type="sum",this._field=i}get field(){return this._field}get type(){return this._type}init(){this._sum=0}accumulate(i){const t=i&&i.hasOwnProperty(this._field)?i[this._field]:null;null!==t&&""!==t&&!isNaN(t)&&(this._sum+=parseFloat(t))}storeResult(i){(!i||void 0===i[this._type])&&(i[this._type]={}),i[this._type][this._field]=this._sum}}};function vs(W,i){var t;const u=i.errorMessage,g=i.required,C=i.minLength,D=i.maxLength,B=i.operatorConditionalType||"inclusive",J={"{{minLength}}":C,"{{maxLength}}":D};let ie=!0,le="";const De=null!==(t=null==W?void 0:W.length)&&void 0!==t?t:0;if(i.validator)return i.validator(W,i.editorArgs);if(g&&""===W)ie=!1,le=u||ae.VALIDATION_REQUIRED_FIELD;else if(void 0!==C&&void 0!==D&&("exclusive"===B&&(De<=C||De>=D)||"inclusive"===B&&(De<C||De>D)))ie=!1,le=u||ae.VALIDATION_EDITOR_TEXT_LENGTH_BETWEEN.replace(/{{minLength}}|{{maxLength}}/gi,Ne=>J[Ne]);else if(void 0!==C&&null!==De&&("exclusive"===B&&De<=C||"inclusive"===B&&null!==De&&De<C)){ie=!1;const Ne="inclusive"===B?ae.VALIDATION_EDITOR_TEXT_MIN_LENGTH_INCLUSIVE:ae.VALIDATION_EDITOR_TEXT_MIN_LENGTH;le=u||Ne.replace(/{{minLength}}/gi,Ze=>J[Ze])}else if(void 0!==D&&null!==De&&("exclusive"===B&&De>=D||"inclusive"===B&&null!==De&&De>D)){ie=!1;const Ne="inclusive"===B?ae.VALIDATION_EDITOR_TEXT_MAX_LENGTH_INCLUSIVE:ae.VALIDATION_EDITOR_TEXT_MAX_LENGTH;le=u||Ne.replace(/{{maxLength}}/gi,Ze=>J[Ze])}return{valid:ie,msg:le}}const ho=m&&ui||m,vo=te()||be;function qa(W,i){const t=isNaN(W)?null:parseFloat(W),u=i.decimal||0,g=i.required,C=i.minValue,D=i.maxValue,B=i.operatorConditionalType||"inclusive",J=i.errorMessage,ie={"{{minValue}}":C,"{{maxValue}}":D,"{{minDecimal}}":0,"{{maxDecimal}}":u};let le=!0,De="";if("function"==typeof i.validator)return i.validator(W,i.editorArgs);if(g&&""===W)le=!1,De=J||ae.VALIDATION_REQUIRED_FIELD;else if(""!==W&&(isNaN(W)||0===u&&!/^[-+]?(\d*(\.)?(\d)*)$/.test(W)))le=!1,De=J||ae.VALIDATION_EDITOR_VALID_NUMBER;else if(void 0!==C&&void 0!==D&&null!==t&&("exclusive"===B&&(t<=C||t>=D)||"inclusive"===B&&(t<C||t>D)))le=!1,De=J||ae.VALIDATION_EDITOR_NUMBER_BETWEEN.replace(/{{minValue}}|{{maxValue}}/gi,Ne=>ie[Ne]);else if(void 0!==C&&null!==t&&("exclusive"===B&&t<=C||"inclusive"===B&&t<C)){le=!1;const Ne="inclusive"===B?ae.VALIDATION_EDITOR_NUMBER_MIN_INCLUSIVE:ae.VALIDATION_EDITOR_NUMBER_MIN;De=J||Ne.replace(/{{minValue}}/gi,Ze=>ie[Ze])}else if(void 0!==D&&null!==t&&("exclusive"===B&&t>=D||"inclusive"===B&&t>D)){le=!1;const Ne="inclusive"===B?ae.VALIDATION_EDITOR_NUMBER_MAX_INCLUSIVE:ae.VALIDATION_EDITOR_NUMBER_MAX;De=J||Ne.replace(/{{maxValue}}/gi,Ze=>ie[Ze])}else u>0&&!new RegExp(`^[-+]?(\\d*(\\.)?(\\d){0,${u}})$`).test(W)&&(le=!1,De=J||ae.VALIDATION_EDITOR_DECIMAL_BETWEEN.replace(/{{minDecimal}}|{{maxDecimal}}/gi,Ne=>ie[Ne]));return{valid:le,msg:De}}function El(W,i){let t=isNaN(W)?null:parseInt(W,10);null!==t&&isNaN(t)&&(t=null);const u=i.errorMessage,g=i.required,C=i.minValue,D=i.maxValue,B=i.operatorConditionalType||"inclusive",J={"{{minValue}}":C,"{{maxValue}}":D};let ie=!0,le="";if(i.validator)return i.validator(W,i.editorArgs);if(g&&""===W)ie=!1,le=u||ae.VALIDATION_REQUIRED_FIELD;else if(""===W||!isNaN(W)&&/^[+-]?\d+$/.test(W)){if(void 0!==C&&void 0!==D&&null!==t&&("exclusive"===B&&(t<=C||t>=D)||"inclusive"===B&&(t<C||t>D)))ie=!1,le=u||ae.VALIDATION_EDITOR_INTEGER_BETWEEN.replace(/{{minValue}}|{{maxValue}}/gi,De=>J[De]);else if(void 0!==C&&null!==t&&("exclusive"===B&&t<=C||"inclusive"===B&&null!==t&&t<C)){ie=!1;const De="inclusive"===B?ae.VALIDATION_EDITOR_INTEGER_MIN_INCLUSIVE:ae.VALIDATION_EDITOR_INTEGER_MIN;le=u||De.replace(/{{minValue}}/gi,Ne=>J[Ne])}else if(void 0!==D&&null!==t&&("exclusive"===B&&t>=D||"inclusive"===B&&null!==t&&t>D)){ie=!1;const De="inclusive"===B?ae.VALIDATION_EDITOR_INTEGER_MAX_INCLUSIVE:ae.VALIDATION_EDITOR_INTEGER_MAX;le=u||De.replace(/{{maxValue}}/gi,Ne=>J[Ne])}}else ie=!1,le=u||ae.VALIDATION_EDITOR_VALID_INTEGER;return{valid:ie,msg:le}}class cu{constructor(i,t){if(this.args=i,this._inputType="text",this._isValueTouched=!1,this.disabled=!1,!i)throw new Error("[Slickgrid-Universal] Something is wrong with this grid, an Editor must always have valid arguments.");this.grid=i.grid,this.gridOptions=i.grid&&i.grid.getOptions(),this._bindEventService=new Oi,this.inputType=t||"text",this.init()}get columnDef(){return this.args.column}get columnEditor(){return this.columnDef&&this.columnDef.internalColumnEditor||{}}get dataContext(){return this.args.item}get editorDomElement(){return this._input}get hasAutoCommitEdit(){var i;return null!==(i=this.gridOptions.autoCommitEdit)&&void 0!==i&&i}get inputType(){return this._inputType}set inputType(i){this._inputType=i}get validator(){var i,t,u;return null!==(t=null===(i=this.columnEditor)||void 0===i?void 0:i.validator)&&void 0!==t?t:null===(u=this.columnDef)||void 0===u?void 0:u.validator}init(){var i,t,u,g,C,D,B,J;const ie=null!==(t=null===(i=this.columnDef)||void 0===i?void 0:i.id)&&void 0!==t?t:"",le=this.args.compositeEditorOptions;this._input=Wt("input",{type:this._inputType||"text",autocomplete:"off",placeholder:null!==(g=null===(u=this.columnEditor)||void 0===u?void 0:u.placeholder)&&void 0!==g?g:"",title:null!==(D=null===(C=this.columnEditor)||void 0===C?void 0:C.title)&&void 0!==D?D:"",className:`editor-text editor-${ie}`}),this._input.setAttribute("role","presentation"),this._input.setAttribute("aria-label",null!==(J=null===(B=this.columnEditor)||void 0===B?void 0:B.ariaLabel)&&void 0!==J?J:`${Tn(ie+"")} Input Editor`);const De=this.args.container;De&&"function"==typeof De.appendChild&&De.appendChild(this._input),this._bindEventService.bind(this._input,"focus",()=>{var Ne;return null===(Ne=this._input)||void 0===Ne?void 0:Ne.select()}),this._bindEventService.bind(this._input,"keydown",Ne=>{this._isValueTouched=!0,this._lastInputKeyEvent=Ne,(Ne.keyCode===He.LEFT||Ne.keyCode===He.RIGHT)&&Ne.stopImmediatePropagation()}),this.hasAutoCommitEdit&&!le&&this._bindEventService.bind(this._input,"focusout",()=>{this._isValueTouched=!0,this.save()}),le&&this._bindEventService.bind(this._input,["input","paste"],this.handleOnInputChange.bind(this))}destroy(){var i,t;this._bindEventService.unbindAll(),null===(t=null===(i=this._input)||void 0===i?void 0:i.remove)||void 0===t||t.call(i)}disable(i=!0){var t;const u=this.disabled;if(this.disabled=i,this._input)if(i){this._input.setAttribute("disabled","disabled");const g=this.getValue();u!==i&&(null===(t=this.args)||void 0===t?void 0:t.compositeEditorOptions)&&""!==g&&this.reset("",!0,!0)}else this._input.removeAttribute("disabled")}focus(){this._input&&this._input.focus()}show(){var i;(null===(i=this.args)||void 0===i?void 0:i.compositeEditorOptions)&&this.applyInputUsabilityState()}getValue(){var i;return(null===(i=this._input)||void 0===i?void 0:i.value)||""}setValue(i,t=!1,u=!0){if(this._input&&(this._input.value=`${i}`,t)){this.applyValue(this.args.item,this.serializeValue());const g=this.args.compositeEditorOptions;g&&u&&this.handleChangeOnCompositeEditor(null,g,"system")}}applyValue(i,t){var u,g,C;const D=this.columnDef&&this.columnDef.field;if(void 0!==D){const B=(null==D?void 0:D.indexOf("."))>0,J=this.validate(null,t),ie=(null==J?void 0:J.valid)?t:"";if(B){cn(i,null!==(C=null!==(g=null===(u=this.columnEditor)||void 0===u?void 0:u.complexObjectPath)&&void 0!==g?g:D)&&void 0!==C?C:"",ie)}else D&&(i[D]=ie)}}isValueChanged(){var i;const t=null===(i=this._input)||void 0===i?void 0:i.value,u=this._lastInputKeyEvent&&this._lastInputKeyEvent.keyCode;return!(!this.columnEditor||!this.columnEditor.alwaysSaveOnEnterKey||u!==He.ENTER)||!(""===t&&(null===this._originalValue||void 0===this._originalValue))&&t!==this._originalValue}isValueTouched(){return this._isValueTouched}loadValue(i){const t=this.columnDef&&this.columnDef.field;if(i&&void 0!==t&&this._input){const g=(null==t?void 0:t.indexOf("."))>0?ee(i,t):i.hasOwnProperty(t)&&i[t]||"";this._originalValue=g,this._input.value=this._originalValue,this._input.select()}}reset(i,t=!0,u=!1){var g;const C=null!==(g=null!=i?i:this._originalValue)&&void 0!==g?g:"";this._input&&(this._originalValue=C,this._input.value=`${C}`),this._isValueTouched=!1;const D=this.args.compositeEditorOptions;if(D&&t){const B=!u;this.handleChangeOnCompositeEditor(null,D,"user",B)}}save(){const i=this.validate(),t=i&&i.valid||!1;this.hasAutoCommitEdit&&t?this.grid.getEditorLock().commitCurrentEdit():this.args.commitChanges()}serializeValue(){var i,t;return null!==(t=null===(i=this._input)||void 0===i?void 0:i.value)&&void 0!==t?t:""}validate(i,t){var u;if(this.args.compositeEditorOptions&&this.applyInputUsabilityState(),this.disabled)return{valid:!0,msg:""};return vs(void 0!==t?t:this._input&&this._input.value,{editorArgs:this.args,errorMessage:this.columnEditor.errorMessage,minLength:this.columnEditor.minLength,maxLength:this.columnEditor.maxLength,operatorConditionalType:this.columnEditor.operatorConditionalType,required:!(null===(u=this.args)||void 0===u?void 0:u.compositeEditorOptions)&&this.columnEditor.required,validator:this.validator})}applyInputUsabilityState(){const i=this.grid.getActiveCell(),t=this.grid.onBeforeEditCell.notify(Vs(tn({},i),{item:this.dataContext,column:this.args.column,grid:this.grid,target:"composite",compositeEditorOptions:this.args.compositeEditorOptions}));this.disable(!1===t)}handleChangeOnCompositeEditor(i,t,u="user",g=!1){var C,D,B,J,ie;const le=this.grid.getActiveCell(),De=this.args.column,Ne=null!==(D=null===(C=this.columnDef)||void 0===C?void 0:C.id)&&void 0!==D?D:"",Ze=this.dataContext,ht=this.grid,Ct=this.serializeValue();this.validate().valid&&this.applyValue(this.dataContext,Ct),this.applyValue(t.formValues,Ct);const Kt=null!==(ie=null===(J=null===(B=this.gridOptions)||void 0===B?void 0:B.compositeEditorOptions)||void 0===J?void 0:J.excludeDisabledFieldFormValues)&&void 0!==ie&&ie;(g||this.disabled&&Kt&&t.formValues.hasOwnProperty(Ne))&&delete t.formValues[Ne],ht.onCompositeEditorChange.notify(Vs(tn({},le),{item:Ze,grid:ht,column:De,formValues:t.formValues,editors:t.editors,triggeredBy:u}),tn(tn({},new Slick.EventData),i))}handleOnInputChange(i){var t,u;this._isValueTouched=!0;const g=this.args.compositeEditorOptions;if(g){const C=null!==(u=null===(t=this.gridOptions)||void 0===t?void 0:t.editorTypingDebounce)&&void 0!==u?u:500;clearTimeout(this._timer),this._timer=setTimeout(()=>this.handleChangeOnCompositeEditor(i,g),C)}}}class Bl{constructor(i,t){var u,g,C,D,B,J,ie;if(this.args=i,this.isMultipleSelect=t,this._isValueTouched=!1,this._isDisposing=!1,this.disabled=!1,this.enableTranslateLabel=!1,this.finalCollection=[],!i)throw new Error("[Slickgrid-Universal] Something is wrong with this grid, an Editor must always have valid arguments.");this.grid=i.grid,this.gridOptions=this.grid.getOptions()||{},(null===(u=this.gridOptions)||void 0===u?void 0:u.translater)&&(this._translaterService=this.gridOptions.translater),this._locales=this.gridOptions.locales||ae.locales;const le=null!==(C=null===(g=this.columnDef)||void 0===g?void 0:g.id)&&void 0!==C?C:"";this.elementName=`editor-${le}`;const De=this.args.compositeEditorOptions,Ne={autoAdjustDropHeight:!0,autoAdjustDropPosition:!0,autoAdjustDropWidthByTextSize:!0,container:"body",filter:!1,maxHeight:275,name:this.elementName,single:!0,textTemplate:Ze=>{var ht,Ct;return null!==(Ct=null===(ht=this.columnEditor)||void 0===ht?void 0:ht.enableRenderHtml)&&void 0!==Ct&&Ct?Ze.text():Ze.html()},onClick:()=>this._isValueTouched=!0,onCheckAll:()=>this._isValueTouched=!0,onUncheckAll:()=>this._isValueTouched=!0,onClose:()=>{De?this.handleChangeOnCompositeEditor(De):this.save()}};if(t)if(Ne.single=!1,Ne.addTitle=!0,Ne.okButton=!0,Ne.selectAllDelimiter=["",""],this._translaterService&&this._translaterService.getCurrentLanguage&&this._translaterService.getCurrentLanguage()){const Ze=pe(this.gridOptions);Ne.countSelected=this._translaterService.translate(`${Ze}X_OF_Y_SELECTED`),Ne.allSelected=this._translaterService.translate(`${Ze}ALL_SELECTED`),Ne.selectAllText=this._translaterService.translate(`${Ze}SELECT_ALL`),Ne.okButtonText=this._translaterService.translate(`${Ze}OK`)}else Ne.countSelected=null===(D=this._locales)||void 0===D?void 0:D.TEXT_X_OF_Y_SELECTED,Ne.allSelected=null===(B=this._locales)||void 0===B?void 0:B.TEXT_ALL_SELECTED,Ne.selectAllText=null===(J=this._locales)||void 0===J?void 0:J.TEXT_SELECT_ALL,Ne.okButtonText=null===(ie=this._locales)||void 0===ie?void 0:ie.TEXT_OK;this.defaultOptions=Ne,this.init()}get collection(){var i,t;return null!==(t=null===(i=this.columnEditor)||void 0===i?void 0:i.collection)&&void 0!==t?t:[]}get collectionOptions(){var i;return null===(i=this.columnEditor)||void 0===i?void 0:i.collectionOptions}get columnDef(){return this.args.column}get columnEditor(){var i,t;return null!==(t=null===(i=this.columnDef)||void 0===i?void 0:i.internalColumnEditor)&&void 0!==t?t:{}}get dataContext(){return this.args.item}get editorDomElement(){return this.$editorElm}get isCompositeEditor(){var i;return!!(null===(i=this.args)||void 0===i?void 0:i.compositeEditorOptions)}get customStructure(){var i,t;return null===(t=null===(i=this.columnDef)||void 0===i?void 0:i.internalColumnEditor)||void 0===t?void 0:t.customStructure}get hasAutoCommitEdit(){var i;return null!==(i=this.gridOptions.autoCommitEdit)&&void 0!==i&&i}get currentValues(){var i,t,u,g,C;const D=null===(i=this.$editorElm)||void 0===i?void 0:i.val();if(this.collection.every(ie=>"string"==typeof ie))return this.collection.filter(ie=>-1!==D.indexOf(null==ie?void 0:ie.toString()));const B=null!==(u=null===(t=this.collectionOptions)||void 0===t?void 0:t.separatorBetweenTextLabels)&&void 0!==u?u:"",J=null!==(C=null===(g=this.collectionOptions)||void 0===g?void 0:g.includePrefixSuffixToSelectedValues)&&void 0!==C&&C;return this.collection.filter(ie=>{var le;return-1!==D.indexOf(ie.hasOwnProperty(this.valueName)&&(null===(le=ie[this.valueName])||void 0===le?void 0:le.toString()))}).map(ie=>{var le,De,Ne,Ze;const ht=ie[this.valueName];let Ct=ie[this.labelPrefixName]||"",Kt=ie[this.labelSuffixName]||"";const Xt=null!==(De=null===(le=this.columnDef)||void 0===le?void 0:le.field)&&void 0!==De?De:"",dn=(null==Xt?void 0:Xt.indexOf("."))>0,yi=null!==(Ze=null===(Ne=this.columnEditor)||void 0===Ne?void 0:Ne.serializeComplexValueFormat)&&void 0!==Ze?Ze:"object";return dn&&"object"==typeof ie&&"object"===yi?ie:(Ct=this.enableTranslateLabel&&this._translaterService&&Ct&&"string"==typeof Ct?this._translaterService.translate(Ct||" "):Ct,Kt=this.enableTranslateLabel&&this._translaterService&&Kt&&"string"==typeof Kt?this._translaterService.translate(Kt||" "):Kt,J?[Ct,ht,Kt].filter(Jn=>Jn).join(B):ht)})}get currentValue(){var i,t,u,g,C,D;const B=this.$editorElm.val(),J=this.columnDef&&this.columnDef.field;if(void 0!==J){if(this.collection.every(ht=>"string"==typeof ht))return kn(this.collection,ht=>{var Ct;return(null===(Ct=null==ht?void 0:ht.toString)||void 0===Ct?void 0:Ct.call(ht))===B});const ie=null!==(t=null===(i=this.collectionOptions)||void 0===i?void 0:i.separatorBetweenTextLabels)&&void 0!==t?t:"",le=null!==(g=null===(u=this.collectionOptions)||void 0===u?void 0:u.includePrefixSuffixToSelectedValues)&&void 0!==g&&g,De=kn(this.collection,ht=>{var Ct;return ht.hasOwnProperty(this.valueName)&&(null===(Ct=ht[this.valueName])||void 0===Ct?void 0:Ct.toString())===B}),Ne=(null==J?void 0:J.indexOf("."))>0,Ze=null!==(D=null===(C=this.columnEditor)||void 0===C?void 0:C.serializeComplexValueFormat)&&void 0!==D?D:"object";if(Ne&&"object"==typeof De&&"object"===Ze)return De;if(De&&De.hasOwnProperty(this.valueName)){const ht=De[this.valueName];if(le){let Ct=De[this.labelPrefixName]||"",Kt=De[this.labelSuffixName]||"";return Ct=this.enableTranslateLabel&&this._translaterService&&Ct&&"string"==typeof Ct?this._translaterService.translate(Ct||" "):Ct,Kt=this.enableTranslateLabel&&this._translaterService&&Kt&&"string"==typeof Kt?this._translaterService.translate(Kt||" "):Kt,[Ct,ht,Kt].filter(dn=>dn).join(ie)}return ht}}return""}get validator(){var i,t,u;return null!==(t=null===(i=this.columnEditor)||void 0===i?void 0:i.validator)&&void 0!==t?t:null===(u=this.columnDef)||void 0===u?void 0:u.validator}init(){var i,t,u,g,C,D,B,J,ie,le,De,Ne,Ze;if(!this.columnDef||!this.columnDef.internalColumnEditor||!this.columnDef.internalColumnEditor.collection&&!this.columnDef.internalColumnEditor.collectionAsync)throw new Error("[Slickgrid-Universal] You need to pass a \"collection\" (or \"collectionAsync\") inside Column Definition Editor for the MultipleSelect/SingleSelect Editor to work correctly.\n      Also each option should include a value/label pair (or value/labelKey when using Locale).\n      For example: { editor: { collection: [{ value: true, label: 'True' },{ value: false, label: 'False'}] } }");if(this._collectionService=new ea(this._translaterService),this.enableTranslateLabel=null!==(t=null===(i=this.columnEditor)||void 0===i?void 0:i.enableTranslateLabel)&&void 0!==t&&t,this.labelName=null!==(g=null===(u=this.customStructure)||void 0===u?void 0:u.label)&&void 0!==g?g:"label",this.labelPrefixName=null!==(D=null===(C=this.customStructure)||void 0===C?void 0:C.labelPrefix)&&void 0!==D?D:"labelPrefix",this.labelSuffixName=null!==(J=null===(B=this.customStructure)||void 0===B?void 0:B.labelSuffix)&&void 0!==J?J:"labelSuffix",this.optionLabel=null!==(le=null===(ie=this.customStructure)||void 0===ie?void 0:ie.optionLabel)&&void 0!==le?le:"value",this.valueName=null!==(Ne=null===(De=this.customStructure)||void 0===De?void 0:De.value)&&void 0!==Ne?Ne:"value",this.enableTranslateLabel&&(!this._translaterService||"function"!=typeof this._translaterService.translate))throw new Error('[Slickgrid-Universal] requires a Translate Service to be installed and configured when the grid option "enableTranslate" is enabled.');this.renderDomElement(this.collection),(this.disabled||(null===(Ze=this.columnEditor)||void 0===Ze?void 0:Ze.collectionAsync)&&Array.isArray(this.collection)&&0===this.collection.length)&&this.disable(!0)}getValue(){return this.isMultipleSelect?this.currentValues:this.currentValue}setValue(i,t=!1,u=!0){if(this.isMultipleSelect&&Array.isArray(i)?this.loadMultipleValues(i):this.loadSingleValue(i),t){this.applyValue(this.args.item,this.serializeValue());const g=this.args.compositeEditorOptions;g&&u&&this.handleChangeOnCompositeEditor(g,"system")}}hide(){this.$editorElm&&"function"==typeof this.$editorElm.multipleSelect&&this.$editorElm.multipleSelect("close")}show(){!this.isCompositeEditor&&this.$editorElm&&"function"==typeof this.$editorElm.multipleSelect?this.$editorElm.multipleSelect("open"):this.isCompositeEditor&&this.applyInputUsabilityState()}applyValue(i,t){var u,g,C;const D=this.columnDef&&this.columnDef.field,B=this.columnDef&&this.columnDef.type;let J=t;if(void 0!==D){(B===Ee.number||B===Ee.integer||B===Ee.boolean)&&!isNaN(parseFloat(t))&&(J=parseFloat(t)),this.isMultipleSelect&&"string"==typeof t&&t.indexOf(",")>=0&&(J=t.split(","));const ie=(null==D?void 0:D.indexOf("."))>0,le=this.validate(null,J);if(J=(null==le?void 0:le.valid)?J:"",ie){cn(i,null!==(C=null!==(g=null===(u=this.columnEditor)||void 0===u?void 0:u.complexObjectPath)&&void 0!==g?g:D)&&void 0!==C?C:"",J)}else i[D]=J}}destroy(){if(this.$editorElm&&this.hasAutoCommitEdit&&this.isValueChanged()&&!this._isDisposing&&!this.isCompositeEditor&&(this._isDisposing=!0,this.save(!0)),this._isDisposing=!0,this.$editorElm&&"function"==typeof this.$editorElm.multipleSelect){this.$editorElm.multipleSelect("destroy"),this.$editorElm.remove();const i=this.elementName.toString().replace(".","\\.");$(`[name=${i}].ms-drop`).remove(),this.$editorElm.remove(),this.$editorElm=null}}loadValue(i){var t,u;const g=this.columnDef&&this.columnDef.field,C=void 0!==g&&(null==g?void 0:g.indexOf("."))>0;if(i&&void 0!==g){const D=null!==(u=null===(t=this.columnEditor)||void 0===t?void 0:t.complexObjectPath)&&void 0!==u?u:g,B=C?ee(i,D):i.hasOwnProperty(g)&&i[g],J=C&&(null==B?void 0:B.hasOwnProperty(this.valueName))?B[this.valueName]:B;this.isMultipleSelect&&Array.isArray(J)?this.loadMultipleValues(J):this.loadSingleValue(J),this.refresh()}}loadMultipleValues(i){if(Array.isArray(i)){this.originalValue=i.map(u=>u),this.$editorElm.multipleSelect("setSelects",i);const t=this.args.compositeEditorOptions;t&&this.handleChangeOnCompositeEditor(t)}}loadSingleValue(i){this.originalValue="number"==typeof i?`${i}`:i,this.$editorElm.val(i),this.$editorElm.multipleSelect("setSelects",[i])}serializeValue(){return this.isMultipleSelect?this.currentValues:this.currentValue}changeEditorOption(i,t){this.columnEditor&&(this.columnEditor.editorOptions||(this.columnEditor.editorOptions={}),this.columnEditor.editorOptions[i]=t,this.editorElmOptions=Vs(tn({},this.editorElmOptions),{[i]:t}),this.$editorElm.multipleSelect("refreshOptions",this.editorElmOptions))}disable(i=!0){const t=this.disabled;if(this.disabled=i,this.$editorElm)if(i){this.$editorElm.multipleSelect("disable");const u=this.getValue(),g=this.isMultipleSelect?u===[""]:""===u;t!==i&&this.isCompositeEditor&&!g&&this.reset("",!0,!0)}else this.$editorElm.multipleSelect("enable")}focus(){this.$editorElm&&this.$editorElm.multipleSelect&&this.$editorElm.multipleSelect("focus")}isValueChanged(){var i;const t=null===(i=this.$editorElm)||void 0===i?void 0:i.multipleSelect("getSelects");if(this.isMultipleSelect)return!(0,mo.J)(t,this.originalValue);const u=Array.isArray(t)&&t.length>0?t[0]:void 0;return void 0!==u&&u!==this.originalValue}isValueTouched(){return this._isValueTouched}reset(i,t=!0,u=!1){const g=null!=i?i:this.originalValue;if(this.$editorElm){this.originalValue=this.isMultipleSelect?void 0!==g?[g]:[]:g;const D=void 0===this.originalValue?[]:[this.originalValue];this.$editorElm.multipleSelect("setSelects",D)}this._isValueTouched=!1;const C=this.args.compositeEditorOptions;if(C&&t){const D=!u;this.handleChangeOnCompositeEditor(C,"user",D)}}save(i=!1){var t;const u=this.validate(),g=null!==(t=null==u?void 0:u.valid)&&void 0!==t&&t;(!this._isDisposing||i)&&this.hasAutoCommitEdit&&g?this.grid.getEditorLock().commitCurrentEdit():this.args.commitChanges()}validate(i,t){var u;const g=!this.isCompositeEditor&&(null===(u=this.columnEditor)||void 0===u?void 0:u.required),C=void 0!==t?t:this.$editorElm&&this.$editorElm.val&&this.$editorElm.val(),D=this.columnEditor&&this.columnEditor.errorMessage;if(this.isCompositeEditor&&this.applyInputUsabilityState(),this.disabled)return{valid:!0,msg:""};if(this.validator){const B=void 0!==t?t:this.isMultipleSelect?this.currentValues:this.currentValue;return this.validator(B,this.args)}return g&&(""===C||Array.isArray(C)&&0===C.length)?{valid:!1,msg:D||ae.VALIDATION_REQUIRED_FIELD}:{valid:!0,msg:null}}applyInputUsabilityState(){const i=this.grid.getActiveCell(),t=this.grid.onBeforeEditCell.notify(Vs(tn({},i),{item:this.dataContext,column:this.args.column,grid:this.grid,target:"composite",compositeEditorOptions:this.args.compositeEditorOptions}));this.disable(!1===t)}filterCollection(i){var t,u;let g=i;if(this.columnEditor&&this.columnEditor.collectionFilterBy){const C=this.columnEditor.collectionFilterBy,D=null!==(u=null===(t=this.columnEditor.collectionOptions)||void 0===t?void 0:t.filterResultAfterEachPass)&&void 0!==u?u:null;g=this._collectionService.filterCollection(g,C,D)}return g}sortCollection(i){let t=i;if(this.columnDef&&this.columnEditor&&this.columnEditor.collectionSortBy){const u=this.columnEditor.collectionSortBy;t=this._collectionService.sortCollection(this.columnDef,t,u,this.enableTranslateLabel)}return t}renderDomElement(i){var t,u,g,C,D;if(!Array.isArray(i)&&(null===(t=this.collectionOptions)||void 0===t?void 0:t.collectionInsideObjectProperty)){i=ee(i,this.collectionOptions.collectionInsideObjectProperty)}if(!Array.isArray(i))throw new Error('The "collection" passed to the Select Editor is not a valid array.');let B=[];if(i.length>0&&(B=[...i]),(null===(u=this.collectionOptions)||void 0===u?void 0:u.addBlankEntry)&&Array.isArray(B)&&B.length>0&&""!==B[0][this.valueName]&&(B.unshift(this.createBlankEntry()),this.collection.unshift(this.createBlankEntry())),(null===(g=this.collectionOptions)||void 0===g?void 0:g.addCustomFirstEntry)&&Array.isArray(B)&&B.length>0&&B[0][this.valueName]!==this.collectionOptions.addCustomFirstEntry[this.valueName]&&(B.unshift(this.collectionOptions.addCustomFirstEntry),this.collection.unshift(this.collectionOptions.addCustomFirstEntry)),(null===(C=this.collectionOptions)||void 0===C?void 0:C.addCustomLastEntry)&&Array.isArray(B)&&B.length>0){B[B.length-1][this.valueName]!==this.collectionOptions.addCustomLastEntry[this.valueName]&&B.push(this.collectionOptions.addCustomLastEntry)}let J=B;if(J=this.filterCollection(J),J=this.sortCollection(J),null===(D=this.columnEditor)||void 0===D?void 0:D.collectionOverride){const le={column:this.columnDef,dataContext:this.dataContext,grid:this.grid,originalCollections:this.collection};if(this.args.compositeEditorOptions){const{formValues:De,modalType:Ne}=this.args.compositeEditorOptions;le.compositeEditorOptions={formValues:De,modalType:Ne}}J=this.columnEditor.collectionOverride(J,le)}this.finalCollection=J;const ie=ft("editor",J,this.columnDef,this.grid,this.isMultipleSelect,this._translaterService);this.createDomElement(ie.selectElement)}createBlankEntry(){const i={[this.labelName]:"",[this.valueName]:""};return this.labelPrefixName&&(i[this.labelPrefixName]=""),this.labelSuffixName&&(i[this.labelSuffixName]=""),i}createDomElement(i){var t,u;this.$editorElm=$(i),this.$editorElm&&"function"==typeof this.$editorElm.appendTo&&($(this.args.container).empty(),this.$editorElm.appendTo(this.args.container));const g=null!==(u=null===(t=this.columnEditor)||void 0===t?void 0:t.placeholder)&&void 0!==u?u:"";if(this.defaultOptions.placeholder=g||"","function"==typeof this.$editorElm.multipleSelect){const C=this.columnDef&&this.columnDef.internalColumnEditor?this.columnDef.internalColumnEditor.editorOptions:{};this.editorElmOptions=tn(tn({},this.defaultOptions),C),this.$editorElm=this.$editorElm.multipleSelect(this.editorElmOptions),this.isCompositeEditor||setTimeout(()=>this.show())}}handleChangeOnCompositeEditor(i,t="user",u=!1){var g,C,D,B,J;const ie=this.grid.getActiveCell(),le=this.args.column,De=null!==(C=null===(g=this.columnDef)||void 0===g?void 0:g.id)&&void 0!==C?C:"",Ne=this.dataContext,Ze=this.grid,ht=this.serializeValue();this.validate().valid&&this.applyValue(this.dataContext,ht),this.applyValue(i.formValues,ht);const Ct=null!==(J=null===(B=null===(D=this.gridOptions)||void 0===D?void 0:D.compositeEditorOptions)||void 0===B?void 0:B.excludeDisabledFieldFormValues)&&void 0!==J&&J;(u||this.disabled&&Ct&&i.formValues.hasOwnProperty(De))&&delete i.formValues[De],Ze.onCompositeEditorChange.notify(Vs(tn({},ie),{item:Ne,grid:Ze,column:le,formValues:i.formValues,editors:i.editors,triggeredBy:t}),new Slick.EventData)}refresh(){"function"==typeof this.$editorElm.multipleSelect&&this.$editorElm.multipleSelect("refresh")}}const pt={autoComplete:class{constructor(i){if(this.args=i,this._isValueTouched=!1,this._lastTriggeredByClearInput=!1,this.disabled=!1,this.forceUserInput=!1,this.finalCollection=[],!i)throw new Error("[Slickgrid-Universal] Something is wrong with this grid, an Editor must always have valid arguments.");this.grid=i.grid,this.init()}get autoCompleteOptions(){return this._autoCompleteOptions||{}}get collection(){var i,t;return null!==(t=null===(i=this.columnEditor)||void 0===i?void 0:i.collection)&&void 0!==t?t:[]}get editorDomElement(){return this._$input}get elementCollection(){return this._elementCollection}get columnDef(){return this.args.column}get columnEditor(){var i;return(null===(i=this.columnDef)||void 0===i?void 0:i.internalColumnEditor)||{}}get customStructure(){var i,t,u,g,C,D;let B=null===(i=this.columnEditor)||void 0===i?void 0:i.customStructure;const J=null!==(u=null===(t=this.columnEditor)||void 0===t?void 0:t.type)&&void 0!==u?u:null===(g=this.columnDef)||void 0===g?void 0:g.type;return!B&&J===Ee.object&&(null===(C=this.columnDef)||void 0===C?void 0:C.dataKey)&&(null===(D=this.columnDef)||void 0===D?void 0:D.labelKey)&&(B={label:this.columnDef.labelKey,value:this.columnDef.dataKey}),B}get dataContext(){return this.args.item}get editorOptions(){var i;return(null===(i=this.columnEditor)||void 0===i?void 0:i.editorOptions)||{}}get gridOptions(){var i,t,u;return null!==(u=null===(t=null===(i=this.grid)||void 0===i?void 0:i.getOptions)||void 0===t?void 0:t.call(i))&&void 0!==u?u:{}}get instance(){return this._$input.autocomplete("instance")}get hasAutoCommitEdit(){var i;return null!==(i=this.gridOptions.autoCommitEdit)&&void 0!==i&&i}get validator(){var i,t,u;return null!==(t=null===(i=this.columnEditor)||void 0===i?void 0:i.validator)&&void 0!==t?t:null===(u=this.columnDef)||void 0===u?void 0:u.validator}init(){var i;this.labelName=this.customStructure&&this.customStructure.label||"label",this.valueName=this.customStructure&&this.customStructure.value||"value",this.labelPrefixName=this.customStructure&&this.customStructure.labelPrefix||"labelPrefix",this.labelSuffixName=this.customStructure&&this.customStructure.labelSuffix||"labelSuffix";const t=this.columnEditor.collection||[];this.renderDomElement(t),(this.disabled||(null===(i=this.columnEditor)||void 0===i?void 0:i.collectionAsync)&&Array.isArray(t)&&0===t.length)&&this.disable(!0)}destroy(){this._$input&&(this._$input.autocomplete("destroy"),this._$input.off("keydown.nav").remove()),this._$input=null,this._elementCollection=null}changeEditorOption(i,t){this.columnEditor.editorOptions||(this.columnEditor.editorOptions={}),this.columnEditor.editorOptions[i]=t,this._autoCompleteOptions=Vs(tn({},this._autoCompleteOptions),{[i]:t}),this._$input.autocomplete("option",i,t)}disable(i=!0){var t;const u=this.disabled;if(this.disabled=i,this._$input)if(i){this._$input.attr("disabled","disabled");const g=this.getValue();u!==i&&(null===(t=this.args)||void 0===t?void 0:t.compositeEditorOptions)&&""!==g&&this.clear(!0)}else this._$input.removeAttr("disabled")}focus(){this._$input&&this._$input.focus().select()}show(){var i;(null===(i=this.args)||void 0===i?void 0:i.compositeEditorOptions)&&this.applyInputUsabilityState()}getValue(){return this._$input.val()}setValue(i,t=!1,u=!0){var g;let C=i;if(C=i&&i.hasOwnProperty(this.labelName)?i[this.labelName]:i,this._$input.val(C),t){this._currentValue=i,this._defaultTextValue="string"==typeof i?i:null!==(g=null==i?void 0:i[this.labelName])&&void 0!==g?g:"",this.applyValue(this.args.item,this.serializeValue());const D=this.args.compositeEditorOptions;D&&u&&this.handleChangeOnCompositeEditor(null,D,"system")}}applyValue(i,t){var u,g,C;let D=t;const B=this.columnDef&&this.columnDef.field;if(void 0!==B){Array.isArray(this.collection)&&this.collection.length>0&&(D=kn(this.collection,le=>le&&"object"==typeof t&&le.hasOwnProperty(this.labelName)?(le.hasOwnProperty(this.labelName)&&le[this.labelName].toString())===(t.hasOwnProperty(this.labelName)&&t[this.labelName].toString()):le&&"string"==typeof t&&le.hasOwnProperty(this.labelName)?(le.hasOwnProperty(this.labelName)&&le[this.labelName].toString())===t:le&&le.toString()===t));const J=(null==B?void 0:B.indexOf("."))>0,ie=this.validate(null,D);if(D=ie&&ie.valid?D:"",J){cn(i,null!==(C=null!==(g=null===(u=this.columnEditor)||void 0===u?void 0:u.complexObjectPath)&&void 0!==g?g:B)&&void 0!==C?C:"",D)}else i[B]=D}}isValueChanged(){const i=this._$input.val(),t=this._lastInputKeyEvent&&this._lastInputKeyEvent.keyCode;if(this.columnEditor&&this.columnEditor.alwaysSaveOnEnterKey&&t===He.ENTER)return!0;const u=!(""===i&&(null===this._defaultTextValue||void 0===this._defaultTextValue))&&i!==this._defaultTextValue;return this._lastTriggeredByClearInput||u}isValueTouched(){return this._isValueTouched}loadValue(i){var t;const u=this.columnDef&&this.columnDef.field;if(i&&void 0!==u){const C=(null==u?void 0:u.indexOf("."))>0?ee(i,u):i[u];this._currentValue=C,this._originalValue=C,this._defaultTextValue="string"==typeof C?C:null!==(t=null==C?void 0:C[this.labelName])&&void 0!==t?t:"",this._$input.val(this._defaultTextValue),this._$input.select()}}clear(i=!1){this._$input&&(this._currentValue="",this._defaultTextValue="",this.setValue("",!0)),this._isValueTouched=!0,this._lastTriggeredByClearInput=!0;const t=this.args.compositeEditorOptions;if(t){const u=!i;this.handleChangeOnCompositeEditor(null,t,"user",u)}else this.save()}reset(i,t=!0,u=!1){var g,C;const D=null!==(g=null!=i?i:this._originalValue)&&void 0!==g?g:"";this._$input&&(this._currentValue=D,this._defaultTextValue="string"==typeof D?D:null!==(C=null==D?void 0:D[this.labelName])&&void 0!==C?C:"",this._$input.val(this._defaultTextValue)),this._isValueTouched=!1;const B=this.args.compositeEditorOptions;if(B&&t){const J=!u;this.handleChangeOnCompositeEditor(null,B,"user",J)}}save(){const i=this.validate(),t=i&&i.valid||!1;this.hasAutoCommitEdit&&t?this.grid.getEditorLock().commitCurrentEdit():this.args.commitChanges()}serializeValue(){var i,t,u,g,C,D;if(this.editorOptions.forceUserInput){const B=null!==(t=null===(i=this.editorOptions)||void 0===i?void 0:i.minLength)&&void 0!==t?t:3;this._currentValue=this._$input.val().length>B?this._$input.val():this._currentValue}return this.customStructure&&this._currentValue&&this._currentValue.hasOwnProperty(this.valueName)&&(null===(u=this.columnDef)||void 0===u?void 0:u.type)!==Ee.object&&(null===(g=this.columnEditor)||void 0===g?void 0:g.type)!==Ee.object?this._currentValue[this.valueName]:this._currentValue&&void 0!==this._currentValue.value?(null===(C=this.columnDef)||void 0===C?void 0:C.type)===Ee.object||(null===(D=this.columnEditor)||void 0===D?void 0:D.type)===Ee.object?{[this.labelName]:this._currentValue.label,[this.valueName]:this._currentValue.value}:this._currentValue.value:this._currentValue}validate(i,t){var u,g;if(this.args.compositeEditorOptions&&this.applyInputUsabilityState(),this.disabled)return{valid:!0,msg:""};return vs(void 0!==t?t:null===(u=this._$input)||void 0===u?void 0:u.val(),{editorArgs:this.args,errorMessage:this.columnEditor.errorMessage,minLength:this.columnEditor.minLength,maxLength:this.columnEditor.maxLength,operatorConditionalType:this.columnEditor.operatorConditionalType,required:!(null===(g=this.args)||void 0===g?void 0:g.compositeEditorOptions)&&this.columnEditor.required,validator:this.validator})}applyInputUsabilityState(){const i=this.grid.getActiveCell(),t=this.grid.onBeforeEditCell.notify(Vs(tn({},i),{item:this.dataContext,column:this.args.column,grid:this.grid,target:"composite",compositeEditorOptions:this.args.compositeEditorOptions}));this.disable(!1===t)}handleChangeOnCompositeEditor(i,t,u="user",g=!1){var C,D,B,J,ie;const le=this.grid.getActiveCell(),De=this.args.column,Ne=null!==(D=null===(C=this.columnDef)||void 0===C?void 0:C.id)&&void 0!==D?D:"",Ze=this.dataContext,ht=this.grid,Ct=this.serializeValue();this.validate().valid&&this.applyValue(this.dataContext,Ct),this.applyValue(t.formValues,Ct);const Kt=null!==(ie=null===(J=null===(B=this.gridOptions)||void 0===B?void 0:B.compositeEditorOptions)||void 0===J?void 0:J.excludeDisabledFieldFormValues)&&void 0!==ie&&ie;(g||this.disabled&&Kt&&t.formValues.hasOwnProperty(Ne))&&delete t.formValues[Ne],ht.onCompositeEditorChange.notify(Vs(tn({},le),{item:Ze,grid:ht,column:De,formValues:t.formValues,editors:t.editors,triggeredBy:u}),tn(tn({},new Slick.EventData),i))}handleSelect(i,t){var u,g,C,D,B,J;if(t&&t.item){const ie=t&&t.item;this._currentValue=ie,this._isValueTouched=!0;const le=this.args.compositeEditorOptions,De=null!==(J=null!==(C=null===(g=null===(u=this.columnEditor)||void 0===u?void 0:u.callbacks)||void 0===g?void 0:g.hasOwnProperty("_renderItem"))&&void 0!==C?C:null===(B=null===(D=this.columnEditor)||void 0===D?void 0:D.editorOptions)||void 0===B?void 0:B.renderItem)&&void 0!==J&&J,Ne="string"==typeof ie?ie:De?ie[this.labelName]:ie.label;if(this.setValue(Ne),le?this.handleChangeOnCompositeEditor(i,le):this.save(),this.editorOptions.onSelect){const Ze=this.grid.getActiveCell();this.editorOptions.onSelect(i,t,Ze.row,Ze.cell,this.args.column,this.args.item)}setTimeout(()=>this._lastTriggeredByClearInput=!1)}return!1}renderCustomItem(i,t){var u,g,C;const D=null!==(C=null===(g=null===(u=this._autoCompleteOptions)||void 0===u?void 0:u.renderItem)||void 0===g?void 0:g.templateCallback(t))&&void 0!==C?C:"",B=Hi(this.gridOptions,D)||"";return $("<li></li>").data("item.autocomplete",t).append(B).appendTo(i)}renderCollectionItem(i,t){var u,g;const C=null!==(g=null===(u=this.columnEditor)||void 0===u?void 0:u.enableRenderHtml)&&void 0!==g&&g,ie=(t.labelPrefix||"")+(t.label||"")+(t.labelSuffix||""),le=Hi(this.gridOptions,ie)||"",De=$("<div></div>")[C?"html":"text"](le);return $("<li></li>").data("item.autocomplete",t).append(De).appendTo(i)}renderDomElement(i){var t,u,g,C,D,B,J,ie,le,De;if(!Array.isArray(i))throw new Error('The "collection" passed to the Autocomplete Editor is not a valid array.');const Ne=null!==(u=null===(t=this.columnDef)||void 0===t?void 0:t.id)&&void 0!==u?u:"",Ze=null!==(C=null===(g=this.columnEditor)||void 0===g?void 0:g.placeholder)&&void 0!==C?C:"",ht=null!==(B=null===(D=this.columnEditor)||void 0===D?void 0:D.title)&&void 0!==B?B:"";if(this._$input=$(`<input type="text" role="presentation" autocomplete="off" class="autocomplete form-control editor-text editor-${Ne}" placeholder="${Ze}" title="${ht}" />`).appendTo(this.args.container).on("keydown.nav",Xt=>{this._lastInputKeyEvent=Xt,(Xt.keyCode===He.LEFT||Xt.keyCode===He.RIGHT)&&Xt.stopImmediatePropagation()}),this._$input&&"function"==typeof this._$input.appendTo){this._$editorInputGroupElm=$('<div class="autocomplete-container input-group"></div>'),this._$editorInputGroupElm.appendTo(this.args.container),this._$input.appendTo(this._$editorInputGroupElm),this._$input.addClass("input-group-editor");const Xt=$('<span class="input-group-btn input-group-append" data-clear></span>');this._$closeButtonGroupElm=$('<button class="btn btn-default icon-clear" type="button"></button>'),$("<span></span>").appendTo(this._$editorInputGroupElm),(null===(ie=null===(J=this.columnEditor)||void 0===J?void 0:J.params)||void 0===ie?void 0:ie.hideClearButton)||(this._$closeButtonGroupElm.appendTo(Xt),Xt.appendTo(this._$editorInputGroupElm),this._$closeButtonGroupElm.on("click",this.clear.bind(this)))}const Ct=tn({position:{of:null!==(le=this._$editorInputGroupElm)&&void 0!==le?le:this._$input}},this.columnEditor.editorOptions);let Kt=i;if(null===(De=this.columnEditor)||void 0===De?void 0:De.collectionOverride){const Xt={column:this.columnDef,dataContext:this.dataContext,grid:this.grid,originalCollections:this.collection};if(this.args.compositeEditorOptions){const{formValues:dn,modalType:yi}=this.args.compositeEditorOptions;Xt.compositeEditorOptions={formValues:dn,modalType:yi}}Kt=this.columnEditor.collectionOverride(Kt,Xt)}if(this.finalCollection=Kt,Array.isArray(Kt)&&(Kt=Kt.map(Xt=>({label:Xt[this.labelName],value:Xt[this.valueName],labelPrefix:Xt[this.labelPrefixName]||"",labelSuffix:Xt[this.labelSuffixName]||""}))),this._elementCollection=Kt,null==Ct?void 0:Ct.source)Ct.select=(Xt,dn)=>this.handleSelect(Xt,dn),this._autoCompleteOptions=tn({},Ct),this._autoCompleteOptions.renderItem&&(this._autoCompleteOptions.classes={"ui-autocomplete":`autocomplete-custom-${Hn(this._autoCompleteOptions.renderItem.layout)}`}),this._$input.autocomplete(this._autoCompleteOptions),this._autoCompleteOptions.renderItem&&(this._$input.autocomplete("instance")._renderItem=this.renderCustomItem.bind(this));else{const Xt={source:Kt,minLength:0,select:(dn,yi)=>this.handleSelect(dn,yi)};this._autoCompleteOptions=tn(tn({},Xt),this.columnEditor.editorOptions),this._$input.autocomplete(this._autoCompleteOptions),this._$input.autocomplete("instance")._renderItem=this.renderCollectionItem.bind(this)}if(this.columnEditor.alwaysSaveOnEnterKey&&this._$input.keydown(Xt=>{Xt.keyCode===He.ENTER&&(this._currentValue=null)}),this.columnEditor.callbacks)for(const Xt of Object.keys(this.columnEditor.callbacks))"function"==typeof this.columnEditor.callbacks[Xt]&&(this.instance[Xt]=this.columnEditor.callbacks[Xt]);this._$input.on("focus",()=>{this._$input.select(),this.editorOptions.openSearchListOnFocus&&this._$input.autocomplete("search",this._$input.val())}),this.args.compositeEditorOptions||setTimeout(()=>this.focus(),50)}},checkbox:class{constructor(i){if(this.args=i,this._isValueTouched=!1,this.disabled=!1,!i)throw new Error("[Slickgrid-Universal] Something is wrong with this grid, an Editor must always have valid arguments.");this.grid=i.grid,this.gridOptions=this.grid.getOptions()||{},this._bindEventService=new Oi,this.init()}get columnDef(){return this.args.column}get columnEditor(){return this.columnDef&&this.columnDef.internalColumnEditor||{}}get dataContext(){return this.args.item}get editorDomElement(){return this._input}get hasAutoCommitEdit(){var i;return null!==(i=this.gridOptions.autoCommitEdit)&&void 0!==i&&i}get validator(){var i,t,u;return null!==(t=null===(i=this.columnEditor)||void 0===i?void 0:i.validator)&&void 0!==t?t:null===(u=this.columnDef)||void 0===u?void 0:u.validator}init(){var i,t,u,g,C,D,B;const J=null!==(t=null===(i=this.columnDef)||void 0===i?void 0:i.id)&&void 0!==t?t:"",ie=this.args.compositeEditorOptions;this._checkboxContainerElm=Wt("div",{className:`checkbox-editor-container editor-${J}`}),this._input=Wt("input",{type:"checkbox",value:"true",className:`editor-checkbox editor-${J}`,title:null!==(g=null===(u=this.columnEditor)||void 0===u?void 0:u.title)&&void 0!==g?g:""}),this._input.setAttribute("aria-label",null!==(D=null===(C=this.columnEditor)||void 0===C?void 0:C.ariaLabel)&&void 0!==D?D:`${Tn(J+"")} Checkbox Editor`);const le=null===(B=this.args)||void 0===B?void 0:B.container;le&&"function"==typeof le.appendChild&&(ie?(this._checkboxContainerElm.appendChild(this._input),le.appendChild(this._checkboxContainerElm)):le.appendChild(this._input)),this.hasAutoCommitEdit&&!ie&&this._bindEventService.bind(this._input,"click",()=>{this._isValueTouched=!0,this.save()}),ie?this._bindEventService.bind(this._input,"change",De=>{this._isValueTouched=!0,this.handleChangeOnCompositeEditor(De,ie)}):this.focus()}destroy(){var i,t;this._bindEventService.unbindAll(),null===(t=null===(i=this._input)||void 0===i?void 0:i.remove)||void 0===t||t.call(i)}disable(i=!0){var t;const u=this.disabled;if(this.disabled=i,this._input)if(i){this._input.setAttribute("disabled","disabled"),this._checkboxContainerElm.classList.add("disabled");const g=this.getValue();u!==i&&(null===(t=this.args)||void 0===t?void 0:t.compositeEditorOptions)&&!1!==g&&this.reset(!1,!0,!0)}else this._input.removeAttribute("disabled"),this._checkboxContainerElm.classList.remove("disabled")}focus(){this._input&&this._input.focus()}preClick(){this._input&&(this._input.checked=!this._input.checked)}show(){var i;(null===(i=this.args)||void 0===i?void 0:i.compositeEditorOptions)&&this.applyInputUsabilityState()}getValue(){var i,t;return null!==(t=null===(i=this._input)||void 0===i?void 0:i.checked)&&void 0!==t&&t}setValue(i,t=!1,u=!0){const g=!!i;if(this._input&&(this._input.checked=g),t){this.applyValue(this.args.item,this.serializeValue());const C=this.args.compositeEditorOptions;C&&u&&this.handleChangeOnCompositeEditor(null,C,"system")}}applyValue(i,t){var u,g,C;const D=this.columnDef&&this.columnDef.field;if(void 0!==D){const B=(null==D?void 0:D.indexOf("."))>0,J=this.validate(null,t),ie=J&&J.valid?t:"";if(B){cn(i,null!==(C=null!==(g=null===(u=this.columnEditor)||void 0===u?void 0:u.complexObjectPath)&&void 0!==g?g:D)&&void 0!==C?C:"",ie)}else i[D]=ie}}isValueChanged(){return this.serializeValue()!==this._originalValue}isValueTouched(){return this._isValueTouched}loadValue(i){const t=this.columnDef&&this.columnDef.field;if(i&&void 0!==t&&this._input){const g=(null==t?void 0:t.indexOf("."))>0?ee(i,t):i[t];this._originalValue=g,this._input.checked=!!this._originalValue}}reset(i,t=!0,u=!1){var g;const C=null!==(g=null!=i?i:this._originalValue)&&void 0!==g&&g;this._input&&(this._originalValue=C,this._input.checked=!!C),this._isValueTouched=!1;const D=this.args.compositeEditorOptions;if(D&&t){const B=!u;this.handleChangeOnCompositeEditor(null,D,"user",B)}}save(){const i=this.validate(),t=i&&i.valid||!1;this.hasAutoCommitEdit&&t?this.grid.getEditorLock().commitCurrentEdit():this.args.commitChanges()}serializeValue(){var i,t;return null!==(t=null===(i=this._input)||void 0===i?void 0:i.checked)&&void 0!==t&&t}validate(i,t){var u,g;const C=!(null===(u=this.args)||void 0===u?void 0:u.compositeEditorOptions)&&this.columnEditor.required,D=void 0!==t?t:null===(g=this._input)||void 0===g?void 0:g.checked,B=this.columnEditor.errorMessage;return this.args.compositeEditorOptions&&this.applyInputUsabilityState(),this.disabled?{valid:!0,msg:""}:this.validator?this.validator(D,this.args):C&&!D?{valid:!1,msg:B||ae.VALIDATION_REQUIRED_FIELD}:{valid:!0,msg:null}}applyInputUsabilityState(){const i=this.grid.getActiveCell(),t=this.grid.onBeforeEditCell.notify(Vs(tn({},i),{item:this.dataContext,column:this.args.column,grid:this.grid,target:"composite",compositeEditorOptions:this.args.compositeEditorOptions}));this.disable(!1===t)}handleChangeOnCompositeEditor(i,t,u="user",g=!1){var C,D,B,J,ie;const le=this.grid.getActiveCell(),De=this.args.column,Ne=null!==(D=null===(C=this.columnDef)||void 0===C?void 0:C.id)&&void 0!==D?D:"",Ze=this.dataContext,ht=this.grid,Ct=this.serializeValue();this.validate().valid&&this.applyValue(this.dataContext,Ct),this.applyValue(t.formValues,Ct);const Kt=null!==(ie=null===(J=null===(B=this.gridOptions)||void 0===B?void 0:B.compositeEditorOptions)||void 0===J?void 0:J.excludeDisabledFieldFormValues)&&void 0!==ie&&ie;(g||this.disabled&&Kt&&t.formValues.hasOwnProperty(Ne))&&delete t.formValues[Ne],ht.onCompositeEditorChange.notify(Vs(tn({},le),{item:Ze,grid:ht,column:De,formValues:t.formValues,editors:t.editors,triggeredBy:u}),tn(tn({},new Slick.EventData),i))}},date:class{constructor(i){var t;if(this.args=i,this._isValueTouched=!1,this._lastTriggeredByClearDate=!1,this.disabled=!1,!i)throw new Error("[Slickgrid-Universal] Something is wrong with this grid, an Editor must always have valid arguments.");this.grid=i.grid,this.gridOptions=this.grid.getOptions()||{},(null===(t=this.gridOptions)||void 0===t?void 0:t.translater)&&(this._translaterService=this.gridOptions.translater),this._bindEventService=new Oi,this.init()}get columnDef(){return this.args.column}get columnEditor(){return this.columnDef&&this.columnDef.internalColumnEditor||{}}get dataContext(){return this.args.item}get editorDomElement(){return this._inputElm}get editorOptions(){return this.columnEditor.editorOptions||{}}get hasAutoCommitEdit(){var i;return null!==(i=this.gridOptions.autoCommitEdit)&&void 0!==i&&i}get pickerOptions(){return this._pickerMergedOptions}get validator(){var i,t,u;return null!==(t=null===(i=this.columnEditor)||void 0===i?void 0:i.validator)&&void 0!==t?t:null===(u=this.columnDef)||void 0===u?void 0:u.validator}init(){var i,t,u,g,C,D,B,J,ie;if(this.args&&this.columnDef){const le=this.args.compositeEditorOptions,De=null!==(t=null===(i=this.columnDef)||void 0===i?void 0:i.id)&&void 0!==t?t:"",Ne=this.args.grid.getOptions()||{};this.defaultDate=this.args.item?this.args.item[this.columnDef.field]:null;const Ze=Ce(this.columnEditor.type||this.columnDef.type||Ee.dateUtc),ht=Ce(this.columnDef.outputType||this.columnEditor.type||this.columnDef.type||Ee.dateUtc);let Ct=(null===(g=null===(u=this._translaterService)||void 0===u?void 0:u.getCurrentLanguage)||void 0===g?void 0:g.call(u))||Ne.locale||"en";Ct.length>2&&(Ct=Ct.substring(0,2));const Kt={defaultDate:this.defaultDate,altInput:!0,altFormat:ht,dateFormat:Ze,closeOnSelect:!0,wrap:!0,locale:Ct,onChange:()=>this.handleOnDateChange(),errorHandler:yi=>{yi.toString().includes("invalid locale")&&console.warn(`[Slickgrid-Universal] Flatpickr missing locale imports (${Ct}), will revert to English as the default locale.\n          See Flatpickr Localization for more info, for example if we want to use French, then we can import it with:  import 'flatpickr/dist/l10n/fr';`)}};this._pickerMergedOptions=tn(tn({},Kt),this.editorOptions);const Xt=`.editor-text.editor-${De}.form-control`;this._pickerMergedOptions.altInput&&(this._pickerMergedOptions.altInputClass="flatpickr-alt-input form-control"),this._editorInputGroupElm=Wt("div",{className:"flatpickr input-group"});const dn=Wt("span",{className:"input-group-btn input-group-append",dataset:{clear:""}});this._closeButtonElm=Wt("button",{type:"button",className:"btn btn-default icon-clear"}),this._inputElm=Wt("input",{placeholder:null!==(D=null===(C=this.columnEditor)||void 0===C?void 0:C.placeholder)&&void 0!==D?D:"",title:this.columnEditor&&this.columnEditor.title||"",className:Xt.replace(/\./g," "),dataset:{input:"",defaultdate:this.defaultDate}}),this._editorInputGroupElm.appendChild(this._inputElm),(null===(J=null===(B=this.columnEditor)||void 0===B?void 0:B.params)||void 0===J?void 0:J.hideClearButton)||(dn.appendChild(this._closeButtonElm),this._editorInputGroupElm.appendChild(dn),this._bindEventService.bind(this._closeButtonElm,"click",()=>this._lastTriggeredByClearDate=!0)),this.args.container.appendChild(this._editorInputGroupElm),this.flatInstance=ho(this._editorInputGroupElm,this._pickerMergedOptions),this._inputWithDataElm=(null===(ie=this._pickerMergedOptions)||void 0===ie?void 0:ie.altInput)?document.querySelector(`${Xt}.flatpickr-alt-input`):this._inputElm,le||setTimeout(()=>{this.show(),this.focus()},50)}}destroy(){var i,t,u,g,C,D,B,J;this.hide(),this._bindEventService.unbindAll(),(null===(i=this.flatInstance)||void 0===i?void 0:i.destroy)&&(this.flatInstance.destroy(),(null===(t=this.flatInstance)||void 0===t?void 0:t.element)&&setTimeout(()=>Di(this.flatInstance))),di(this._editorInputGroupElm),di(this._inputWithDataElm),di(this._inputElm),null===(g=null===(u=this._editorInputGroupElm)||void 0===u?void 0:u.remove)||void 0===g||g.call(u),null===(D=null===(C=this._inputWithDataElm)||void 0===C?void 0:C.remove)||void 0===D||D.call(C),null===(J=null===(B=this._inputElm)||void 0===B?void 0:B.remove)||void 0===J||J.call(B)}disable(i=!0){var t,u;const g=this.disabled;if(this.disabled=i,null===(t=this.flatInstance)||void 0===t?void 0:t._input)if(i){this.flatInstance._input.setAttribute("disabled","disabled"),this._closeButtonElm.disabled=!0;const C=this.getValue();g!==i&&(null===(u=this.args)||void 0===u?void 0:u.compositeEditorOptions)&&""!==C&&this.reset("",!0,!0)}else this.flatInstance._input.removeAttribute("disabled"),this._closeButtonElm.disabled=!1}changeEditorOption(i,t){this.columnEditor.editorOptions||(this.columnEditor.editorOptions={}),this.columnEditor.editorOptions[i]=t,this._pickerMergedOptions=Vs(tn({},this._pickerMergedOptions),{[i]:t}),this.flatInstance.set(i,t)}focus(){var i,t;(null===(i=this._inputElm)||void 0===i?void 0:i.focus)&&this._inputElm.focus(),(null===(t=this._inputWithDataElm)||void 0===t?void 0:t.focus)&&(this._inputWithDataElm.focus(),this._inputWithDataElm.select())}hide(){this.flatInstance&&"function"==typeof this.flatInstance.close&&this.flatInstance.close()}show(){var i;const t=!!(null===(i=this.args)||void 0===i?void 0:i.compositeEditorOptions);!t&&this.flatInstance&&"function"==typeof this.flatInstance.open&&this.flatInstance._input?this.flatInstance.open():t&&this.applyInputUsabilityState()}getValue(){return this._inputElm.value}setValue(i,t=!1,u=!0){if(this.flatInstance.setDate(i),t){this.applyValue(this.args.item,this.serializeValue());const g=this.args.compositeEditorOptions;g&&u&&this.handleChangeOnCompositeEditor(g,"system")}}applyValue(i,t){var u,g,C;const D=this.columnDef&&this.columnDef.field;if(void 0!==D){const B=xe(this.columnDef&&(this.columnDef.outputType||this.columnEditor.type||this.columnDef.type)||Ee.dateUtc),J=xe(this.columnDef&&(this.columnDef.saveOutputType||this.columnDef.outputType||this.columnEditor.type||this.columnDef.type)||Ee.dateUtc),ie=(null==D?void 0:D.indexOf("."))>0,le=this.validate(null,t),De=t&&le&&le.valid?vo(t,B).format(J):"";if(ie){cn(i,null!==(C=null!==(g=null===(u=this.columnEditor)||void 0===u?void 0:u.complexObjectPath)&&void 0!==g?g:D)&&void 0!==C?C:"",De)}else i[D]=De}}isValueChanged(){var i;const t=this._inputElm.value,u=xe(this.columnEditor.type||(null===(i=this.columnDef)||void 0===i?void 0:i.type)||Ee.dateIso),g=xe(this.columnDef&&(this.columnDef.outputType||this.columnEditor.type||this.columnDef.type)||Ee.dateUtc),C=t?vo(t,u,!1).format(g):"",D=this._originalDate?vo(this._originalDate,u,!1).format(g):"";return"Invalid date"!==C&&"Invalid date"!==D&&(this._lastTriggeredByClearDate||!(""===C&&""===D)&&C!==D)}isValueTouched(){return this._isValueTouched}loadValue(i){const t=this.columnDef&&this.columnDef.field;if(i&&void 0!==t){const g=(null==t?void 0:t.indexOf("."))>0?ee(i,t):i[t];this._originalDate=g,this.flatInstance.setDate(g)}}reset(i,t=!0,u=!1){var g;const C=null!==(g=null!=i?i:this._originalDate)&&void 0!==g?g:"";this.flatInstance&&(this._originalDate=C,this.flatInstance.setDate(C),C||this.flatInstance.clear()),this._isValueTouched=!1;const D=this.args.compositeEditorOptions;if(D&&t){const B=!u;this.handleChangeOnCompositeEditor(D,"user",B)}}save(){const i=this.validate(),t=i&&i.valid||!1;this.hasAutoCommitEdit&&t?this.grid.getEditorLock().commitCurrentEdit():this.args.commitChanges()}serializeValue(){var i;const t=this._inputElm.value;if(!t)return"";const u=xe(this.columnEditor.type||(null===(i=this.columnDef)||void 0===i?void 0:i.type)||Ee.dateIso),g=xe(this.columnDef&&(this.columnDef.outputType||this.columnEditor.type||this.columnDef.type)||Ee.dateIso);return vo(t,u,!1).format(g)}validate(i,t){var u,g;const C=!(null===(u=this.args)||void 0===u?void 0:u.compositeEditorOptions)&&this.columnEditor.required,D=void 0!==t?t:null===(g=this._inputElm)||void 0===g?void 0:g.value,B=this.columnEditor.errorMessage;return this.args.compositeEditorOptions&&this.applyInputUsabilityState(),this.disabled?{valid:!0,msg:""}:this.validator?this.validator(D,this.args):C&&""===D?{valid:!1,msg:B||ae.VALIDATION_REQUIRED_FIELD}:{valid:!0,msg:null}}applyInputUsabilityState(){const i=this.grid.getActiveCell(),t=this.grid.onBeforeEditCell.notify(Vs(tn({},i),{item:this.dataContext,column:this.args.column,grid:this.grid,target:"composite",compositeEditorOptions:this.args.compositeEditorOptions}));this.disable(!1===t)}handleOnDateChange(){var i,t;this._isValueTouched=!0;const u=null!==(t=null===(i=this.flatInstance)||void 0===i?void 0:i.config)&&void 0!==t?t:this._pickerMergedOptions;if(this.args&&(null==u?void 0:u.closeOnSelect)){const g=this.args.compositeEditorOptions;g?this.handleChangeOnCompositeEditor(g):this.save()}setTimeout(()=>this._lastTriggeredByClearDate=!1)}handleChangeOnCompositeEditor(i,t="user",u=!1){var g,C,D,B,J;const ie=this.grid.getActiveCell(),le=this.args.column,De=null!==(C=null===(g=this.columnDef)||void 0===g?void 0:g.id)&&void 0!==C?C:"",Ne=this.dataContext,Ze=this.grid,ht=this.serializeValue();this.validate().valid&&this.applyValue(this.dataContext,ht),this.applyValue(i.formValues,ht);const Ct=null!==(J=null===(B=null===(D=this.gridOptions)||void 0===D?void 0:D.compositeEditorOptions)||void 0===B?void 0:B.excludeDisabledFieldFormValues)&&void 0!==J&&J;(u||this.disabled&&Ct&&i.formValues.hasOwnProperty(De))&&delete i.formValues[De],Ze.onCompositeEditorChange.notify(Vs(tn({},ie),{item:Ne,grid:Ze,column:le,formValues:i.formValues,editors:i.editors,triggeredBy:t}),new Slick.EventData)}},dualInput:class{constructor(i){if(this.args=i,this._isValueSaveCalled=!1,this._isLeftValueTouched=!1,this._isRightValueTouched=!1,this.disabled=!1,!i)throw new Error("[Slickgrid-Universal] Something is wrong with this grid, an Editor must always have valid arguments.");this.grid=i.grid,this.gridOptions=this.grid.getOptions()||{},this._eventHandler=new Slick.EventHandler,this._bindEventService=new Oi,this.init(),this._eventHandler.subscribe(this.grid.onValidationError,()=>this._isValueSaveCalled=!0)}get columnDef(){return this.args.column}get columnEditor(){return this.columnDef&&this.columnDef.internalColumnEditor||{}}get dataContext(){return this.args.item}get editorDomElement(){return{leftInput:this._leftInput,rightInput:this._rightInput}}get editorParams(){return this.columnEditor.params||{}}get eventHandler(){return this._eventHandler}get hasAutoCommitEdit(){var i;return null!==(i=this.gridOptions.autoCommitEdit)&&void 0!==i&&i}get isValueSaveCalled(){return this._isValueSaveCalled}get validator(){var i,t,u;return null!==(t=null===(i=this.columnEditor)||void 0===i?void 0:i.validator)&&void 0!==t?t:null===(u=this.columnDef)||void 0===u?void 0:u.validator}init(){var i,t,u,g;if(!(this.editorParams&&this.editorParams.leftInput&&this.editorParams.leftInput.field&&this.editorParams.rightInput&&this.editorParams.rightInput.field))throw new Error("[Slickgrid-Universal] Please make sure that your Combo Input Editor has params defined with \"leftInput\" and \"rightInput\" (example: { editor: { model: Editors.comboInput, params: { leftInput: { field: 'firstName' }, { rightSide: { field: 'lastName' } }}}");this._leftFieldName=null===(i=this.editorParams.leftInput)||void 0===i?void 0:i.field,this._rightFieldName=null===(t=this.editorParams.rightInput)||void 0===t?void 0:t.field,this._leftInput=this.createInput("leftInput"),this._rightInput=this.createInput("rightInput");const C=null===(u=this.args)||void 0===u?void 0:u.container;C&&"function"==typeof C.appendChild&&(C.appendChild(this._leftInput),C.appendChild(this._rightInput)),this._bindEventService.bind(this._leftInput,"keydown",B=>this.handleKeyDown(B,"leftInput")),this._bindEventService.bind(this._rightInput,"keydown",B=>this.handleKeyDown(B,"rightInput")),this.hasAutoCommitEdit&&(this._bindEventService.bind(this._leftInput,"focusout",B=>this.handleFocusOut(B,"leftInput")),this._bindEventService.bind(this._rightInput,"focusout",B=>this.handleFocusOut(B,"rightInput"))),(null===(g=this.args)||void 0===g?void 0:g.compositeEditorOptions)?(this._bindEventService.bind(this._leftInput,"input",this.handleChangeOnCompositeEditorDebounce.bind(this)),this._bindEventService.bind(this._rightInput,"input",this.handleChangeOnCompositeEditorDebounce.bind(this))):setTimeout(()=>this._leftInput.select(),50)}handleFocusOut(i,t){var u;const g=(null===(u=i.relatedTarget)||void 0===u?void 0:u.className)||"";!this.args.compositeEditorOptions&&-1===g.indexOf("dual-editor")&&"focusout-right"!==this._lastEventType&&("rightInput"===t||"leftInput"===t&&"focusout-left"!==this._lastEventType)&&("leftInput"===t?this._isLeftValueTouched=!0:this._isRightValueTouched=!0,this.save());const D="leftInput"===t?"left":"right";this._lastEventType=`${null==i?void 0:i.type}-${D}`}handleKeyDown(i,t){"leftInput"===t?this._isLeftValueTouched=!0:this._isRightValueTouched=!0,this._lastInputKeyEvent=i,(i.keyCode===He.LEFT||i.keyCode===He.RIGHT||i.keyCode===He.TAB)&&i.stopImmediatePropagation()}destroy(){var i,t,u,g;this._eventHandler.unsubscribeAll(),this._bindEventService.unbindAll(),null===(t=null===(i=this._leftInput)||void 0===i?void 0:i.remove)||void 0===t||t.call(i),null===(g=null===(u=this._rightInput)||void 0===u?void 0:u.remove)||void 0===g||g.call(u)}createInput(i){var t,u,g,C,D;const B=this.editorParams[i],J=null!==(u=null===(t=this.columnDef)||void 0===t?void 0:t.id)&&void 0!==u?u:"",ie=this.gridOptions.datasetIdPropertyName||"id",le=(null===(g=this.args)||void 0===g?void 0:g.item[ie])||0;let De=B.type||"text";("float"===De||"integer"===De)&&(De="number");const Ne=Wt("input",{type:De||"text",id:`item-${le}-${i}`,className:`dual-editor-text editor-${J} ${i.replace(/input/gi,"")}`,autocomplete:"off",placeholder:B.placeholder||"",title:B.title||""});return Ne.setAttribute("role","presentation"),Ne.setAttribute("aria-label",null!==(D=null===(C=this.columnEditor)||void 0===C?void 0:C.ariaLabel)&&void 0!==D?D:`${Tn(J+"")} Input Editor`),"readonly"===De&&(Ne.readOnly=!0,De="text"),"number"===De&&(Ne.step=this.getInputDecimalSteps(i)),Ne}disable(i=!0){var t;const u=this.disabled;this.disabled=i,this._leftInput&&this._rightInput&&(i?(this._leftInput.setAttribute("disabled","disabled"),this._rightInput.setAttribute("disabled","disabled"),u!==i&&(null===(t=this.args)||void 0===t?void 0:t.compositeEditorOptions)&&this.reset("",!0,!0)):(this._leftInput.removeAttribute("disabled"),this._rightInput.removeAttribute("disabled")))}focus(){}show(){var i;(null===(i=this.args)||void 0===i?void 0:i.compositeEditorOptions)&&this.applyInputUsabilityState()}getValues(){const i={},t=this._leftInput.value,u=this._rightInput.value,g=this.editorParams.leftInput&&("float"===this.editorParams.leftInput.type||"integer"===this.editorParams.leftInput.type),C=this.editorParams.rightInput&&("float"===this.editorParams.rightInput.type||"integer"===this.editorParams.rightInput.type),D=""!==t&&g?+this._leftInput.value:t||"",B=""!==u&&C?+this._rightInput.value:u||"";return cn(i,this._leftFieldName,D),cn(i,this._rightFieldName,B),i}setValues(i){Array.isArray(i)&&2===i.length&&(this._leftInput.value=`${i[0]}`,this._rightInput.value=`${i[1]}`)}applyValue(i,t){this.applyValueByPosition(i,t,"leftInput"),this.applyValueByPosition(i,t,"rightInput")}applyValueByPosition(i,t,u){var g,C,D;const B="leftInput"===u?this._leftFieldName:this._rightFieldName;if(void 0!==B){const J=(null==B?void 0:B.indexOf("."))>0;let ie=B;if(J){const Ne=B.split(/\.(.*)/);ie=Ne.length>1?Ne[1]:Ne}const le=J?ee(t,ie):t[B],De=this.validate(null,{position:u,inputValue:le});if(J){const Ne=ee(t,ie),Ze=De&&De.valid?Ne:"";cn(i,null!==(D=null!==(C=null===(g=this.columnEditor)||void 0===g?void 0:g.complexObjectPath)&&void 0!==C?C:B)&&void 0!==D?D:"",Ze)}else B&&(i[B]=De&&De.valid?t[B]:"")}}isValueChanged(){const i=this._leftInput.value,t=this._rightInput.value,u=this.editorParams&&this.editorParams.leftInput,g=this.editorParams&&this.editorParams.rightInput,C=this._lastInputKeyEvent&&this._lastInputKeyEvent.keyCode;if((u&&u.alwaysSaveOnEnterKey||g&&g.alwaysSaveOnEnterKey)&&C===He.ENTER)return!0;const D=!(""===i&&(null===this._originalLeftValue||void 0===this._originalLeftValue))&&i!==this._originalLeftValue,B=!(""===t&&(null===this._originalRightValue||void 0===this._originalRightValue))&&t!==this._originalRightValue;return D||B}isValueTouched(){return this._isLeftValueTouched||this._isRightValueTouched}loadValue(i){this.loadValueByPosition(i,"leftInput"),this.loadValueByPosition(i,"rightInput"),this._leftInput.select()}loadValueByPosition(i,t){const u="leftInput"===t?this._leftFieldName:this._rightFieldName,g="leftInput"===t?"_originalLeftValue":"_originalRightValue",C="leftInput"===t?"_leftInput":"_rightInput";if(i&&void 0!==u){const B=(null==u?void 0:u.indexOf("."))>0?ee(i,u):i.hasOwnProperty(u)?i[u]:"";if(this[g]=B,"float"===this.editorParams[t].type){const J=this.getDecimalPlaces(t);null!==J&&(this[g]||0===this[g])&&(+this[g]).toFixed&&(this[g]=(+this[g]).toFixed(J))}this[C]&&(this[C].value=`${this[g]}`)}}reset(i,t=!0,u=!1){var g,C;const D=null!==(g=null!=i?i:this._originalLeftValue)&&void 0!==g?g:"",B=null!==(C=null!=i?i:this._originalRightValue)&&void 0!==C?C:"";this._leftInput&&this._rightInput&&(this._originalLeftValue=D,this._originalRightValue=B,this._leftInput.value=`${D}`,this._rightInput.value=`${B}`),this._isLeftValueTouched=!1,this._isRightValueTouched=!1;const J=this.args.compositeEditorOptions;if(J&&t){const ie=!u;this.handleChangeOnCompositeEditor(null,J,"user",ie)}}save(){const i=this.validate(),t=i&&i.valid||!1;this._isValueSaveCalled||(this.hasAutoCommitEdit&&t?this.grid.getEditorLock().commitCurrentEdit():this.args.commitChanges(),this._isValueSaveCalled=!0)}serializeValue(){const i={},t=this.serializeValueByPosition("leftInput"),u=this.serializeValueByPosition("rightInput");return cn(i,this._leftFieldName,t),cn(i,this._rightFieldName,u),i}serializeValueByPosition(i){const t="leftInput"===i?this._leftInput.value:this._rightInput.value;if(""===t||isNaN(+t))return t;let u=parseFloat(t);const g=this.getDecimalPlaces(i);return null!==g&&(u||0===u)&&u.toFixed&&(u=parseFloat(u.toFixed(g))),u}getDecimalPlaces(i){const u="leftInput"===i?"leftInput":"rightInput",g=this.editorParams[u],C=null==g?void 0:g.decimal;return void 0===C?0:C}getInputDecimalSteps(i){const t=this.getDecimalPlaces(i);let u="";for(let g=1;g<t;g++)u+="0";return t>0?`0.${u}1`:"1"}validate(i,t){if(this.args.compositeEditorOptions&&this.applyInputUsabilityState(),this.disabled)return{valid:!0,msg:""};if(t){const u=this.validateByPosition(t.position,t.inputValue);if(!u.valid)return"leftInput"===t.position?this._leftInput.select():this._rightInput.select(),u}else{const u=this.validateByPosition("leftInput"),g=this.validateByPosition("rightInput");if(!u.valid)return this._leftInput.select(),u;if(!g.valid)return this._rightInput.select(),g}return{valid:!0,msg:""}}validateByPosition(i,t){var u;const g=this.editorParams[i];let C="";if(t)C=t;else{const J="leftInput"===i?this._leftInput:this._rightInput;C=J&&J.value}const D=this.validator;C="function"==typeof D?this.getValues():C;const B={editorArgs:this.args,errorMessage:g.errorMessage,required:!(null===(u=this.args)||void 0===u?void 0:u.compositeEditorOptions)&&g.required,validator:"function"==typeof D?D:g.validator};switch(g.type){case"float":return qa(C,Vs(tn({},B),{decimal:this.getDecimalPlaces(i),minValue:g.minValue,maxValue:g.maxValue,operatorConditionalType:g.operatorConditionalType}));case"integer":return El(C,Vs(tn({},B),{minValue:g.minValue,maxValue:g.maxValue,operatorConditionalType:g.operatorConditionalType}));default:return vs(C,B)}}applyInputUsabilityState(){const i=this.grid.getActiveCell(),t=this.grid.onBeforeEditCell.notify(Vs(tn({},i),{item:this.dataContext,column:this.args.column,grid:this.grid,target:"composite",compositeEditorOptions:this.args.compositeEditorOptions}));this.disable(!1===t)}handleChangeOnCompositeEditor(i,t,u="user",g=!1){var C,D,B,J,ie,le,De,Ne,Ze;const ht=this.grid.getActiveCell(),Ct=this.args.column,Kt=null!==(B=null===(D=null===(C=this.columnEditor.params)||void 0===C?void 0:C.leftInput)||void 0===D?void 0:D.field)&&void 0!==B?B:"",Xt=null!==(le=null===(ie=null===(J=this.columnEditor.params)||void 0===J?void 0:J.rightInput)||void 0===ie?void 0:ie.field)&&void 0!==le?le:"",dn=this.dataContext,yi=this.grid,ni=this.serializeValue();this.validate().valid&&this.applyValue(this.dataContext,ni),this.applyValue(t.formValues,ni);const Jn=null!==(Ze=null===(Ne=null===(De=this.gridOptions)||void 0===De?void 0:De.compositeEditorOptions)||void 0===Ne?void 0:Ne.excludeDisabledFieldFormValues)&&void 0!==Ze&&Ze;(g||this.disabled&&Jn&&t.formValues.hasOwnProperty(Kt))&&delete t.formValues[Kt],(g||this.disabled&&Jn&&t.formValues.hasOwnProperty(Xt))&&delete t.formValues[Xt],yi.onCompositeEditorChange.notify(Vs(tn({},ht),{item:dn,grid:yi,column:Ct,formValues:t.formValues,editors:t.editors,triggeredBy:u}),tn(tn({},new Slick.EventData),i))}handleChangeOnCompositeEditorDebounce(i){var t,u,g;const C=null===(t=this.args)||void 0===t?void 0:t.compositeEditorOptions;if(C){const D=null!==(g=null===(u=this.gridOptions)||void 0===u?void 0:u.editorTypingDebounce)&&void 0!==g?g:500;clearTimeout(this._timer),this._timer=setTimeout(()=>this.handleChangeOnCompositeEditor(i,C),D)}}},float:class extends cu{constructor(i){super(i,"number"),this.args=i}init(){var i,t,u,g,C,D,B,J;if(this.columnDef&&this.columnEditor&&this.args){const ie=null!==(t=null===(i=this.columnDef)||void 0===i?void 0:i.id)&&void 0!==t?t:"",le=this.args.compositeEditorOptions;this._input=Wt("input",{type:"number",autocomplete:"off",className:`editor-text editor-${ie}`,placeholder:null!==(g=null===(u=this.columnEditor)||void 0===u?void 0:u.placeholder)&&void 0!==g?g:"",title:null!==(D=null===(C=this.columnEditor)||void 0===C?void 0:C.title)&&void 0!==D?D:"",step:`${void 0!==this.columnEditor.valueStep?this.columnEditor.valueStep:this.getInputDecimalSteps()}`}),this._input.setAttribute("role","presentation"),this._input.setAttribute("aria-label",null!==(J=null===(B=this.columnEditor)||void 0===B?void 0:B.ariaLabel)&&void 0!==J?J:`${Tn(ie+"")} Number Editor`);const De=this.args.container;De&&"function"==typeof De.appendChild&&De.appendChild(this._input),this._bindEventService.bind(this._input,"focus",()=>{var Ne;return null===(Ne=this._input)||void 0===Ne?void 0:Ne.select()}),this._bindEventService.bind(this._input,"keydown",Ne=>{this._lastInputKeyEvent=Ne,(Ne.keyCode===He.LEFT||Ne.keyCode===He.RIGHT)&&Ne.stopImmediatePropagation()}),this.hasAutoCommitEdit&&!le&&this._bindEventService.bind(this._input,"focusout",()=>{this._isValueTouched=!0,this.save()}),le&&(this._bindEventService.bind(this._input,["input","paste"],this.handleOnInputChange.bind(this)),this._bindEventService.bind(this._input,"wheel",this.handleOnMouseWheel.bind(this)))}}getDecimalPlaces(){var i,t,u,g,C;let D=null!==(C=null!==(t=null===(i=this.columnEditor)||void 0===i?void 0:i.decimal)&&void 0!==t?t:null===(g=null===(u=this.columnEditor)||void 0===u?void 0:u.params)||void 0===g?void 0:g.decimalPlaces)&&void 0!==C?C:void 0;return void 0===D&&(D=0),D||0===D?D:null}getInputDecimalSteps(){const i=this.getDecimalPlaces();let t="";for(let u=1;u<i;u++)t+="0";return i>0?`0.${t}1`:"1"}loadValue(i){const t=this.columnDef&&this.columnDef.field;if(void 0!==t&&i&&void 0!==t&&this._input){const g=(null==t?void 0:t.indexOf("."))>0?ee(i,t):i[t];this._originalValue=g;const C=this.getDecimalPlaces();null!==C&&(this._originalValue||0===this._originalValue)&&(+this._originalValue).toFixed&&(this._originalValue=(+this._originalValue).toFixed(C)),this._input.value=`${this._originalValue}`,this._input.select()}}serializeValue(){var i;const t=null===(i=this._input)||void 0===i?void 0:i.value;if(void 0===t||""===t||isNaN(+t))return t;let u=parseFloat(t);const g=this.getDecimalPlaces();return null!==g&&(u||0===u)&&u.toFixed&&(u=parseFloat(u.toFixed(g))),u}validate(i,t){var u,g;if(this.args.compositeEditorOptions&&this.applyInputUsabilityState(),this.disabled)return{valid:!0,msg:""};return qa(void 0!==t?t:null===(u=this._input)||void 0===u?void 0:u.value,{editorArgs:this.args,errorMessage:this.columnEditor.errorMessage,decimal:this.getDecimalPlaces(),minValue:this.columnEditor.minValue,maxValue:this.columnEditor.maxValue,operatorConditionalType:this.columnEditor.operatorConditionalType,required:!(null===(g=this.args)||void 0===g?void 0:g.compositeEditorOptions)&&this.columnEditor.required,validator:this.validator})}handleOnMouseWheel(i){this._isValueTouched=!0;const t=this.args.compositeEditorOptions;t&&this.handleChangeOnCompositeEditor(i,t)}},integer:class extends cu{constructor(i){super(i,"number"),this.args=i}init(){var i,t,u,g,C,D,B,J;if(this.columnDef&&this.columnEditor&&this.args){const ie=null!==(t=null===(i=this.columnDef)||void 0===i?void 0:i.id)&&void 0!==t?t:"",le=this.args.compositeEditorOptions;this._input=Wt("input",{type:"number",autocomplete:"off",placeholder:null!==(g=null===(u=this.columnEditor)||void 0===u?void 0:u.placeholder)&&void 0!==g?g:"",title:null!==(D=null===(C=this.columnEditor)||void 0===C?void 0:C.title)&&void 0!==D?D:"",step:`${void 0!==this.columnEditor.valueStep?this.columnEditor.valueStep:"1"}`,className:`editor-text editor-${ie}`}),this._input.setAttribute("role","presentation"),this._input.setAttribute("aria-label",null!==(J=null===(B=this.columnEditor)||void 0===B?void 0:B.ariaLabel)&&void 0!==J?J:`${Tn(ie+"")} Slider Editor`);const De=this.args.container;De&&"function"==typeof De.appendChild&&De.appendChild(this._input),this._bindEventService.bind(this._input,"focus",()=>{var Ne;return null===(Ne=this._input)||void 0===Ne?void 0:Ne.select()}),this._bindEventService.bind(this._input,"keydown",Ne=>{this._lastInputKeyEvent=Ne,(Ne.keyCode===He.LEFT||Ne.keyCode===He.RIGHT)&&Ne.stopImmediatePropagation()}),this.hasAutoCommitEdit&&!le&&this._bindEventService.bind(this._input,"focusout",()=>{this._isValueTouched=!0,this.save()}),le&&(this._bindEventService.bind(this._input,["input","paste"],this.handleOnInputChange.bind(this)),this._bindEventService.bind(this._input,"wheel",this.handleOnMouseWheel.bind(this)))}}loadValue(i){const t=this.columnDef&&this.columnDef.field;if(void 0!==t&&i&&void 0!==t&&this._input){const g=(null==t?void 0:t.indexOf("."))>0?ee(i,t):i[t];this._originalValue=isNaN(g)||null==g?g:`${g}`,this._input.value=`${this._originalValue}`,this._input.select()}}serializeValue(){var i;const t=null===(i=this._input)||void 0===i?void 0:i.value;if(void 0===t||""===t||isNaN(+t))return t;const u=isNaN(+t)?t:parseInt(t,10);return isNaN(+u)?t:u}validate(i,t){var u;if(this.args.compositeEditorOptions&&this.applyInputUsabilityState(),this.disabled)return{valid:!0,msg:""};return El(void 0!==t?t:this.getValue(),{editorArgs:this.args,errorMessage:this.columnEditor.errorMessage,minValue:this.columnEditor.minValue,maxValue:this.columnEditor.maxValue,operatorConditionalType:this.columnEditor.operatorConditionalType,required:!(null===(u=this.args)||void 0===u?void 0:u.compositeEditorOptions)&&this.columnEditor.required,validator:this.validator})}handleOnMouseWheel(i){this._isValueTouched=!0;const t=this.args.compositeEditorOptions;t&&this.handleChangeOnCompositeEditor(i,t)}},longText:class{constructor(i){if(this.args=i,this._isValueTouched=!1,this.disabled=!1,!i)throw new Error("[Slickgrid-Universal] Something is wrong with this grid, an Editor must always have valid arguments.");this.grid=i.grid,this.gridOptions=i.grid&&i.grid.getOptions();const t=this.gridOptions||this.args.column.params||{};(null==t?void 0:t.translater)&&(this._translater=t.translater),this._locales=this.gridOptions&&this.gridOptions.locales||ae.locales,this._bindEventService=new Oi,this.init()}get columnDef(){return this.args.column}get columnEditor(){var i,t;return null!==(t=null===(i=this.columnDef)||void 0===i?void 0:i.internalColumnEditor)&&void 0!==t?t:{}}get dataContext(){return this.args.item}get editorDomElement(){return this._textareaElm}get editorOptions(){var i,t;return null!==(t=null===(i=this.columnEditor)||void 0===i?void 0:i.editorOptions)&&void 0!==t?t:{}}get hasAutoCommitEdit(){var i,t;return null!==(t=null===(i=this.gridOptions)||void 0===i?void 0:i.autoCommitEdit)&&void 0!==t&&t}get validator(){var i,t,u;return null!==(t=null===(i=this.columnEditor)||void 0===i?void 0:i.validator)&&void 0!==t?t:null===(u=this.columnDef)||void 0===u?void 0:u.validator}init(){var i,t,u,g,C,D,B,J,ie,le,De,Ne,Ze,ht,Ct,Kt,Xt,dn,yi,ni,Jn,Ti,ri,Xn,Wi,vr;let Ci="",As="";if(this._translater&&this._translater.translate&&this.gridOptions.enableTranslate){const so=pe(this.gridOptions),pa=null!==(t=null===(i=this.editorOptions.buttonTexts)||void 0===i?void 0:i.cancelKey)&&void 0!==t?t:`${so}CANCEL`,Ro=null!==(g=null===(u=this.editorOptions.buttonTexts)||void 0===u?void 0:u.saveKey)&&void 0!==g?g:`${so}SAVE`;Ci=this._translater.translate(`${so}${pa}`),As=this._translater.translate(`${so}${Ro}`)}else Ci=null!==(J=null!==(D=null===(C=this.editorOptions.buttonTexts)||void 0===C?void 0:C.cancel)&&void 0!==D?D:null===(B=this._locales)||void 0===B?void 0:B.TEXT_CANCEL)&&void 0!==J?J:"Cancel",As=null!==(Ne=null!==(le=null===(ie=this.editorOptions.buttonTexts)||void 0===ie?void 0:ie.save)&&void 0!==le?le:null===(De=this._locales)||void 0===De?void 0:De.TEXT_SAVE)&&void 0!==Ne?Ne:"Save";const fo=this.args.compositeEditorOptions,Ws=null!==(ht=null===(Ze=this.columnDef)||void 0===Ze?void 0:Ze.id)&&void 0!==ht?ht:"",wa=null===(Ct=this.columnEditor)||void 0===Ct?void 0:Ct.maxLength,ro=null!==(Xt=null===(Kt=this.editorOptions)||void 0===Kt?void 0:Kt.rows)&&void 0!==Xt?Xt:4,Aa=fo?this.args.container:document.body;this._wrapperElm=Wt("div",{className:`slick-large-editor-text editor-${Ws}`,style:{position:fo?"relative":"absolute"}}),Aa.appendChild(this._wrapperElm),this._textareaElm=Wt("textarea",{cols:null!==(yi=null===(dn=this.editorOptions)||void 0===dn?void 0:dn.cols)&&void 0!==yi?yi:40,rows:fo&&ro>3?3:ro,placeholder:null!==(Jn=null===(ni=this.columnEditor)||void 0===ni?void 0:ni.placeholder)&&void 0!==Jn?Jn:"",title:null!==(ri=null===(Ti=this.columnEditor)||void 0===Ti?void 0:Ti.title)&&void 0!==ri?ri:""}),this._textareaElm.setAttribute("aria-label",null!==(Wi=null===(Xn=this.columnEditor)||void 0===Xn?void 0:Xn.ariaLabel)&&void 0!==Wi?Wi:`${Tn(Ws+"")} Text Editor`),this._wrapperElm.appendChild(this._textareaElm);const oa=Wt("div",{className:"editor-footer"}),po=Wt("span",{className:"counter"});if(this._currentLengthElm=Wt("span",{className:"text-length",textContent:"0"}),po.appendChild(this._currentLengthElm),void 0!==wa&&(po.appendChild(Wt("span",{className:"separator",textContent:"/"})),po.appendChild(Wt("span",{className:"max-length",textContent:`${wa}`}))),oa.appendChild(po),!fo){const so=Wt("button",{className:"btn btn-cancel btn-default btn-xs",textContent:Ci}),pa=Wt("button",{className:"btn btn-save btn-primary btn-xs",textContent:As});oa.appendChild(so),oa.appendChild(pa),this._bindEventService.bind(so,"click",this.cancel.bind(this)),this._bindEventService.bind(pa,"click",this.save.bind(this)),this.position(null===(vr=this.args)||void 0===vr?void 0:vr.position),this._textareaElm.focus(),this._textareaElm.select()}this._wrapperElm.appendChild(oa),this._bindEventService.bind(this._textareaElm,"keydown",this.handleKeyDown.bind(this)),this._bindEventService.bind(this._textareaElm,"input",this.handleOnInputChange.bind(this)),this._bindEventService.bind(this._textareaElm,"paste",this.handleOnInputChange.bind(this))}cancel(){var i;const t=this._defaultTextValue||"";this._textareaElm.value=t,this._currentLengthElm.textContent=`${t.length}`,(null===(i=this.args)||void 0===i?void 0:i.cancelChanges)&&this.args.cancelChanges()}hide(){this._wrapperElm.style.display="none"}show(){var i;(null===(i=this.args)||void 0===i?void 0:i.compositeEditorOptions)?this.applyInputUsabilityState():this._wrapperElm.style.display="block"}destroy(){var i,t;this._bindEventService.unbindAll(),null===(t=null===(i=this._wrapperElm)||void 0===i?void 0:i.remove)||void 0===t||t.call(i)}disable(i=!0){var t;const u=this.disabled;if(this.disabled=i,this._textareaElm&&this._wrapperElm)if(i){this._textareaElm.disabled=!0,this._wrapperElm.classList.add("disabled");const g=this.getValue();u!==i&&(null===(t=this.args)||void 0===t?void 0:t.compositeEditorOptions)&&""!==g&&this.reset("",!0,!0)}else this._textareaElm.disabled=!1,this._wrapperElm.classList.remove("disabled")}focus(){this._textareaElm&&(this._textareaElm.focus(),this._textareaElm.select())}getValue(){return this._textareaElm.value}setValue(i,t=!1,u=!0){if(this._textareaElm.value=i,this._currentLengthElm.textContent=`${i.length}`,t){this.applyValue(this.args.item,this.serializeValue());const g=this.args.compositeEditorOptions;g&&u&&this.handleChangeOnCompositeEditor(null,g,"system")}}applyValue(i,t){var u,g,C,D;const B=null===(u=this.columnDef)||void 0===u?void 0:u.field;if(void 0!==B){const J=(null==B?void 0:B.indexOf("."))>0,ie=this.validate(void 0,t),le=ie&&ie.valid?t:"";if(J){cn(i,null!==(D=null!==(C=null===(g=this.columnEditor)||void 0===g?void 0:g.complexObjectPath)&&void 0!==C?C:B)&&void 0!==D?D:"",le)}else i[B]=le}}isValueChanged(){const i=this._textareaElm.value;return!(""===i&&(null===this._defaultTextValue||void 0===this._defaultTextValue))&&i!==this._defaultTextValue}isValueTouched(){return this._isValueTouched}loadValue(i){var t;const u=null===(t=this.columnDef)||void 0===t?void 0:t.field;if(i&&void 0!==u){const C=(null==u?void 0:u.indexOf("."))>0?ee(i,u):i[u];this._defaultTextValue=C||"",this._textareaElm.value=this._defaultTextValue,this._currentLengthElm.textContent=this._defaultTextValue.length,this._textareaElm.defaultValue=this._defaultTextValue,this._textareaElm.select()}}position(i){var t,u,g,C,D,B,J,ie;const le=_r(this.args.container),De=this.args.container.offsetHeight,Ne=this.args.container.offsetWidth,Ze=this._wrapperElm.getBoundingClientRect().height||this.args.position.height,ht=this._wrapperElm.getBoundingClientRect().width||this.args.position.width,Ct=document.body.offsetHeight||window.innerHeight,Kt=document.body.offsetWidth||window.innerWidth;let Xt=null!==(u=null!==(t=null==le?void 0:le.top)&&void 0!==t?t:i.top)&&void 0!==u?u:0,dn=null!==(C=null!==(g=null==le?void 0:le.left)&&void 0!==g?g:i.left)&&void 0!==C?C:0;const yi=null!==(B=null===(D=this.editorOptions)||void 0===D?void 0:D.position)&&void 0!==B?B:"auto";if("left"===yi||"auto"===yi&&dn+ht>Kt){dn-=ht-Ne+(null!==(ie=null===(J=this.editorOptions)||void 0===J?void 0:J.marginRight)&&void 0!==ie?ie:0)}("top"===yi||"auto"===yi&&Xt+Ze>Ct)&&(Xt-=Ze-De),this._wrapperElm.style.top=`${Xt}px`,this._wrapperElm.style.left=`${dn}px`}reset(i,t=!0,u=!1){var g;const C=null!==(g=null!=i?i:this._defaultTextValue)&&void 0!==g?g:"";this._textareaElm&&(this._defaultTextValue=C,this._textareaElm.value=C,this._currentLengthElm.textContent=C.length),this._isValueTouched=!1;const D=this.args.compositeEditorOptions;if(D&&t){const B=!u;this.handleChangeOnCompositeEditor(null,D,"user",B)}}save(){var i;const t=this.validate(),u=null!==(i=null==t?void 0:t.valid)&&void 0!==i&&i;this.hasAutoCommitEdit&&u?this.grid.getEditorLock().commitCurrentEdit():this.args.commitChanges()}serializeValue(){return this._textareaElm.value}validate(i,t){var u,g;if(this.args.compositeEditorOptions&&this.applyInputUsabilityState(),this.disabled)return{valid:!0,msg:""};return vs(void 0!==t?t:null===(u=this._textareaElm)||void 0===u?void 0:u.value,{editorArgs:this.args,errorMessage:this.columnEditor.errorMessage,minLength:this.columnEditor.minLength,maxLength:this.columnEditor.maxLength,operatorConditionalType:this.columnEditor.operatorConditionalType,required:!(null===(g=this.args)||void 0===g?void 0:g.compositeEditorOptions)&&this.columnEditor.required,validator:this.validator})}applyInputUsabilityState(){const i=this.grid.getActiveCell(),t=this.grid.onBeforeEditCell.notify(Vs(tn({},i),{item:this.dataContext,column:this.args.column,grid:this.grid,target:"composite",compositeEditorOptions:this.args.compositeEditorOptions}));this.disable(!1===t)}handleKeyDown(i){var t;const u=null!==(t=i.keyCode)&&void 0!==t?t:i.code;this._isValueTouched=!0,this.args.compositeEditorOptions||(u===He.ENTER&&i.ctrlKey||i.ctrlKey&&"S"===i.key.toUpperCase()?(i.preventDefault(),this.save()):u===He.ESCAPE?(i.preventDefault(),this.cancel()):u===He.TAB&&i.shiftKey?(i.preventDefault(),this.args&&this.grid&&this.grid.navigatePrev()):u===He.TAB&&(i.preventDefault(),this.args&&this.grid&&this.grid.navigateNext()))}handleOnInputChange(i){var t,u,g;const C=this.args.compositeEditorOptions,D=null===(t=this.columnEditor)||void 0===t?void 0:t.maxLength;let B=!1;if(D&&(B=this.truncateText(this._textareaElm,D)),B)this._currentLengthElm.textContent=`${D}`;else{const J="paste"===i.type?i.clipboardData.getData("text"):i.target.value;this._currentLengthElm.textContent=`${J.length}`}if(C){const J=null!==(g=null===(u=this.gridOptions)||void 0===u?void 0:u.editorTypingDebounce)&&void 0!==g?g:500;clearTimeout(this._timer),this._timer=setTimeout(()=>this.handleChangeOnCompositeEditor(i,C),J)}}handleChangeOnCompositeEditor(i,t,u="user",g=!1){var C,D,B,J,ie;const le=this.grid.getActiveCell(),De=this.args.column,Ne=null!==(D=null===(C=this.columnDef)||void 0===C?void 0:C.id)&&void 0!==D?D:"",Ze=this.dataContext,ht=this.grid,Ct=this.serializeValue();this.validate().valid&&this.applyValue(this.dataContext,Ct),this.applyValue(t.formValues,Ct);const Kt=null!==(ie=null===(J=null===(B=this.gridOptions)||void 0===B?void 0:B.compositeEditorOptions)||void 0===J?void 0:J.excludeDisabledFieldFormValues)&&void 0!==ie&&ie;(g||this.disabled&&Kt&&t.formValues.hasOwnProperty(Ne))&&delete t.formValues[Ne],ht.onCompositeEditorChange.notify(Vs(tn({},le),{item:Ze,grid:ht,column:De,formValues:t.formValues,editors:t.editors,triggeredBy:u}),tn(tn({},new Slick.EventData),i))}truncateText(i,t){const u=i.value+"";return u.length>t&&(i.value=u.substring(0,t),!0)}},multipleSelect:class extends Bl{constructor(i){super(i,!0),this.args=i}},password:class extends cu{constructor(i){super(i,"password"),this.args=i}},singleSelect:class extends Bl{constructor(i){super(i,!1),this.args=i}},slider:class{constructor(i){if(this.args=i,this._defaultValue=0,this._elementRangeInputId="",this._elementRangeOutputId="",this._isValueTouched=!1,this.sliderNumberElm=null,this.disabled=!1,!i)throw new Error("[Slickgrid-Universal] Something is wrong with this grid, an Editor must always have valid arguments.");this.grid=i.grid,this.gridOptions=this.grid.getOptions()||{},this._bindEventService=new Oi,this.init()}get columnDef(){return this.args.column}get columnEditor(){return this.columnDef&&this.columnDef.internalColumnEditor||{}}get dataContext(){return this.args.item}get editorDomElement(){return this._editorElm}get editorInputDomElement(){return this._inputElm}get hasAutoCommitEdit(){var i;return null!==(i=this.gridOptions.autoCommitEdit)&&void 0!==i&&i}get editorParams(){return this.columnEditor.params||{}}get validator(){var i,t,u;return null!==(t=null===(i=this.columnEditor)||void 0===i?void 0:i.validator)&&void 0!==t?t:null===(u=this.columnDef)||void 0===u?void 0:u.validator}init(){var i,t,u;const g=this.args&&this.args.container;if(g&&this.columnDef){const C=null!==(u=null===(t=null===(i=this.args)||void 0===i?void 0:i.item)||void 0===t?void 0:t.id)&&void 0!==u?u:"";this._elementRangeInputId=`rangeInput_${this.columnDef.id}_${C}`,this._elementRangeOutputId=`rangeOutput_${this.columnDef.id}_${C}`;const D=this.args.compositeEditorOptions;this._editorElm=this.buildDomElement(),this._inputElm=this._editorElm.querySelector("input"),this.sliderNumberElm=this._editorElm.querySelector(`span.input-group-text.${this._elementRangeOutputId}`),D||this.focus(),g.appendChild(this._editorElm),this._bindEventService.bind(this._editorElm,["change","mouseup","touchend"],this.handleChangeEvent.bind(this)),this.editorParams.hideSliderNumber||this._bindEventService.bind(this._editorElm,["input","change"],this.handleChangeSliderNumber.bind(this))}}cancel(){this._inputElm&&(this._inputElm.value=`${this.originalValue}`),this.args.cancelChanges()}destroy(){var i,t;this._bindEventService.unbindAll(),null===(t=null===(i=this._inputElm)||void 0===i?void 0:i.remove)||void 0===t||t.call(i)}disable(i=!0){var t;const u=this.disabled;if(this.disabled=i,this._inputElm)if(i){this._inputElm.disabled=!0;const g=this.getValue();u!==i&&(null===(t=this.args)||void 0===t?void 0:t.compositeEditorOptions)&&""!==g&&this.reset(0,!0,!0)}else this._inputElm.disabled=!1}focus(){this._inputElm&&this._inputElm.focus()}show(){var i;(null===(i=this.args)||void 0===i?void 0:i.compositeEditorOptions)&&this.applyInputUsabilityState()}getValue(){var i,t;return null!==(t=null===(i=this._inputElm)||void 0===i?void 0:i.value)&&void 0!==t?t:""}setValue(i,t=!1,u=!0){if(this._inputElm&&(this._inputElm.value=`${i}`),this.sliderNumberElm&&(this.sliderNumberElm.textContent=`${i}`),t){this.applyValue(this.args.item,this.serializeValue());const g=this.args.compositeEditorOptions;g&&u&&this.handleChangeOnCompositeEditor(null,g,"system")}}applyValue(i,t){var u,g,C,D,B;const J=null!==(g=null===(u=this.columnDef)||void 0===u?void 0:u.field)&&void 0!==g?g:"";if(void 0!==J){const ie=(null==J?void 0:J.indexOf("."))>0,le=this.validate(void 0,t),De=le&&le.valid?t:"";if(ie){cn(i,null!==(B=null!==(D=null===(C=this.columnEditor)||void 0===C?void 0:C.complexObjectPath)&&void 0!==D?D:J)&&void 0!==B?B:"",De)}else i&&(i[J]=De)}}isValueChanged(){var i,t;const u=null!==(t=null===(i=this._inputElm)||void 0===i?void 0:i.value)&&void 0!==t?t:"";return!(""===u&&void 0===this.originalValue)&&+u!==this.originalValue}isValueTouched(){return this._isValueTouched}loadValue(i){var t,u;const g=null!==(u=null===(t=this.columnDef)||void 0===t?void 0:t.field)&&void 0!==u?u:"";if(i&&void 0!==g){let D=(null==g?void 0:g.indexOf("."))>0?ee(i,g):i.hasOwnProperty(g)?i[g]:this._defaultValue;(""===D||null==D)&&(D=this._defaultValue),this.originalValue=+D,this._inputElm&&(this._inputElm.value=`${D}`),this.sliderNumberElm&&(this.sliderNumberElm.textContent=`${D}`)}}reset(i,t=!0,u=!1){var g;const C=null!==(g=null!=i?i:this.originalValue)&&void 0!==g?g:0;this._editorElm&&(this._editorElm.querySelector("input").value=`${C}`,this._editorElm.querySelector("div.input-group-addon.input-group-append").textContent=`${C}`),this._isValueTouched=!1;const D=this.args.compositeEditorOptions;if(D&&t){const B=!u;this.handleChangeOnCompositeEditor(null,D,"user",B)}}save(){const i=this.validate(),t=i&&i.valid||!1;this.hasAutoCommitEdit&&t?this.grid.getEditorLock().commitCurrentEdit():this.args.commitChanges()}serializeValue(){var i,t;const u=null!==(t=null===(i=this._inputElm)||void 0===i?void 0:i.value)&&void 0!==t?t:"";return""!==u?parseInt(u,10):this.originalValue}validate(i,t){var u,g;if(this.args.compositeEditorOptions&&this.applyInputUsabilityState(),this.disabled)return{valid:!0,msg:""};return function(W,i){const t=i.required,u=i.minValue,g=i.maxValue,C=i.errorMessage,D={"{{minValue}}":u,"{{maxValue}}":g};return i.validator?i.validator(W,i.editorArgs):t&&""===W?{valid:!1,msg:C||ae.VALIDATION_REQUIRED_FIELD}:void 0!==u&&void 0!==g&&null!==W&&(W<u||W>g)?{valid:!1,msg:C||ae.VALIDATION_EDITOR_NUMBER_BETWEEN.replace(/{{minValue}}|{{maxValue}}/gi,B=>D[B])}:{valid:!0,msg:null}}(void 0!==t?t:null===(u=this._inputElm)||void 0===u?void 0:u.value,{editorArgs:this.args,errorMessage:this.columnEditor.errorMessage,minValue:this.columnEditor.minValue,maxValue:this.columnEditor.maxValue,required:!(null===(g=this.args)||void 0===g?void 0:g.compositeEditorOptions)&&this.columnEditor.required,validator:this.validator})}buildDomElement(){var i,t,u,g;const C=null!==(t=null===(i=this.columnDef)||void 0===i?void 0:i.id)&&void 0!==t?t:"",D=this.columnEditor&&this.columnEditor.title||"",B=this.columnEditor.hasOwnProperty("minValue")?this.columnEditor.minValue:0,J=this.columnEditor.hasOwnProperty("maxValue")?this.columnEditor.maxValue:100,ie=this.editorParams.hasOwnProperty("sliderStartValue")?this.editorParams.sliderStartValue:B;this._defaultValue=ie;const le=Wt("input",{type:"range",name:this._elementRangeInputId,title:D,defaultValue:ie,value:ie,min:`${B}`,max:`${J}`,step:`${this.columnEditor.hasOwnProperty("valueStep")?this.columnEditor.valueStep:1}`,className:`form-control slider-editor-input editor-${C} range ${this._elementRangeInputId}`});le.setAttribute("aria-label",null!==(g=null===(u=this.columnEditor)||void 0===u?void 0:u.ariaLabel)&&void 0!==g?g:`${Tn(C+"")} Slider Editor`);const De=Wt("div",{className:"slider-container slider-editor"});if(De.appendChild(le),!this.editorParams.hideSliderNumber){De.classList.add("input-group");const Ne=Wt("div",{className:"input-group-addon input-group-append slider-value"});Ne.appendChild(Wt("span",{className:`input-group-text ${this._elementRangeOutputId}`,textContent:`${ie}`})),De.appendChild(Ne)}return De}applyInputUsabilityState(){const i=this.grid.getActiveCell(),t=this.grid.onBeforeEditCell.notify(Vs(tn({},i),{item:this.dataContext,column:this.args.column,grid:this.grid,target:"composite",compositeEditorOptions:this.args.compositeEditorOptions}));this.disable(!1===t)}handleChangeEvent(i){this._isValueTouched=!0;const t=this.args.compositeEditorOptions;t?this.handleChangeOnCompositeEditor(i,t):this.save()}handleChangeSliderNumber(i){var t,u;const g=null!==(u=null===(t=i.target)||void 0===t?void 0:t.value)&&void 0!==u?u:"";""!==g&&this.sliderNumberElm&&(this.sliderNumberElm.textContent=g)}handleChangeOnCompositeEditor(i,t,u="user",g=!1){var C,D,B,J,ie;const le=this.grid.getActiveCell(),De=this.args.column,Ne=null!==(D=null===(C=this.columnDef)||void 0===C?void 0:C.id)&&void 0!==D?D:"",Ze=this.dataContext,ht=this.grid,Ct=this.serializeValue();this.validate().valid&&this.applyValue(this.dataContext,Ct),this.applyValue(t.formValues,Ct);const Kt=null!==(ie=null===(J=null===(B=this.gridOptions)||void 0===B?void 0:B.compositeEditorOptions)||void 0===J?void 0:J.excludeDisabledFieldFormValues)&&void 0!==ie&&ie;(g||this.disabled&&Kt&&t.formValues.hasOwnProperty(Ne))&&delete t.formValues[Ne],ht.onCompositeEditorChange.notify(Vs(tn({},le),{item:Ze,grid:ht,column:De,formValues:t.formValues,editors:t.editors,triggeredBy:u}),tn(tn({},new Slick.EventData),i))}},text:cu},qi=(W,i,t)=>{if(t&&Array.isArray(t)&&t.length>0){const u=t.join(", ");return`<span title="${u}">${u}</span>`}return t},Uo=(W,i,t)=>{let u=t;return null==t&&(u=""),`<center>${u}</center>`},Vl=(W,i,t,u,g)=>{var C,D,B;if(!u)return"";const J=u.params||{},ie=null!==(D=null!==(C=null==J?void 0:J.complexField)&&void 0!==C?C:null==J?void 0:J.complexFieldLabel)&&void 0!==D?D:u.field;if(!ie)throw new Error("For the Formatters.complexObject to work properly, you need to tell it which property of the complex object to use.\n      There are 3 ways to provide it:\n      1- via the generic \"params\" with a \"complexField\" property on your Column Definition, example: this.columnDefs = [{ id: 'user', field: 'user', params: { complexField: 'user.firstName' } }]\n      2- via the generic \"params\" with a \"complexField\" and a \"labelKey\" property on your Column Definition, example: this.columnDefs = [{ id: 'user', field: 'user', labelKey: 'firstName', params: { complexField: 'user' } }]\n      3- via the field name that includes a dot notation, example: this.columnDefs = [{ id: 'user', field: 'user.firstName'}] ");if(u.labelKey&&g.hasOwnProperty(ie))return null===(B=g[ie])||void 0===B?void 0:B[u.labelKey];if("string"==typeof ie&&ie.indexOf(".")>0){let le=ie.split(".").reduce((De,Ne)=>(null==De?void 0:De.hasOwnProperty(Ne))?De[Ne]:"",g);return(null==le||"object"==typeof le&&0===Object.entries(le).length&&!(le instanceof Date))&&(le=""),le}return t},ac={alignCenter:Uo,alignRight:(W,i,t)=>{let u=t;return null==t&&(u=""),`<div style="float: right">${u}</div>`},arrayObjectToCsv:(W,i,t,u,g)=>{var C;const D=u&&u.params||{},B=D.propertyNames,J=null===(C=null==D?void 0:D.includeTitle)||void 0===C||C;let ie=D.dataContextProperty;if(ie||(ie=u&&u.field&&u.field.split(".")[0]),!B||!Array.isArray(B)||!ie)throw new Error('Formatters.arrayObjectToCsv requires you to pass an array of "propertyNames" (declared in "params") that you want to pull the data from.\n      For example, if we have an array of user objects that have the property of firstName & lastName then we need to pass in your column definition:: { params: { propertyNames: [\'firtName\'] }}.\n      Optionally, you can also pass the "dataContextProperty" if you wish to run this on another completely different field of the dataContext object.');if(g[ie]&&Array.isArray(g[ie])&&Array.isArray(g[ie])&&g[ie].length>0){const le=[];g[ie].forEach(Ne=>{const Ze=[];B.forEach(ht=>{Ze.push(Ne[ht])}),le.push(Ze.join(" "))});const De=le.join(", ");return J?`<span title="${De}">${De}</span>`:De}return t},arrayToCsv:qi,bold:(W,i,t)=>t?`<b>${t}</b>`:"",center:Uo,checkbox:(W,i,t)=>t?"&#x2611;":"",checkmark:(W,i,t)=>{let u=!1;const g=We(t);return g&&(t=+t),(!0===t||g&&+t>0||"string"==typeof t&&t.length>0&&"false"!==t.toLowerCase()&&"0"!==t)&&(u=!0),u?'<i class="fa fa-check checkmark-icon" aria-hidden="true"></i>':""},checkmarkMaterial:(W,i,t)=>{let u=!1;const g=We(t);return g&&(t=+t),(!0===t||g&&+t>0||"string"==typeof t&&t.length>0&&"false"!==t.toLowerCase()&&"0"!==t)&&(u=!0),u?'<i class="mdi mdi-18px mdi-check checkmark-icon" aria-hidden="true"></i>':""},complex:Vl,complexObject:Vl,collection:(W,i,t,u,g,C)=>{if(!(t&&u&&u.params&&u.params.collection&&u.params.collection.length))return t;const{params:D,params:{collection:B}}=u,J=D.customStructure?D.customStructure.label:"label",ie=D.customStructure?D.customStructure.value:"value";return Array.isArray(t)?qi(0,0,t.map(le=>kn(B,De=>De[ie]===le)[J])):kn(B,le=>le[ie]===t)[J]||""},collectionEditor:(W,i,t,u,g,C)=>{if(!(t&&u&&u.internalColumnEditor&&u.internalColumnEditor.collection&&u.internalColumnEditor.collection.length))return t;const{internalColumnEditor:D,internalColumnEditor:{collection:B}}=u,J=D.customStructure?D.customStructure.label:"label",ie=D.customStructure?D.customStructure.value:"value";return Array.isArray(t)?B.every(le=>"string"==typeof le)?qi(0,0,t.map(le=>kn(B,De=>De===le))):qi(0,0,t.map(le=>kn(B,De=>De[ie]===le)[J])):kn(B,le=>le[ie]===t)[J]||""},dateIso:hn(Ee.dateIso,"-"),dateTimeIso:hn(Ee.dateTimeIso,"-"),dateTimeShortIso:hn(Ee.dateTimeShortIso,"-"),dateTimeIsoAmPm:hn(Ee.dateTimeIsoAmPm,"-"),dateEuro:hn(Ee.dateEuro,"/"),dateTimeEuro:hn(Ee.dateTimeEuro,"/"),dateTimeShortEuro:hn(Ee.dateTimeShortEuro,"/"),dateTimeEuroAmPm:hn(Ee.dateTimeEuroAmPm,"/"),dateUs:hn(Ee.dateUs,"/"),dateTimeUs:hn(Ee.dateTimeUs,"/"),dateTimeShortUs:hn(Ee.dateTimeShortUs,"/"),dateTimeUsAmPm:hn(Ee.dateTimeUsAmPm,"/"),deleteIcon:()=>'<i class="fa fa-trash pointer delete-icon" aria-hidden="true"></i>',decimal:(W,i,t,u,g,C)=>{const D=et("minDecimal",u,C,2),B=et("maxDecimal",u,C,2),J=et("decimalSeparator",u,C,"."),ie=et("thousandSeparator",u,C,""),le=et("numberPrefix",u,C,""),De=et("numberSuffix",u,C,""),Ne=et("displayNegativeNumberWithParentheses",u,C,!1);return We(t)?Ht(t,D,B,Ne,le,De,J,ie):t},dollar:(W,i,t,u,g,C)=>{const D=et("minDecimal",u,C,2),B=et("maxDecimal",u,C,4),J=et("decimalSeparator",u,C,"."),ie=et("thousandSeparator",u,C,""),le=et("displayNegativeNumberWithParentheses",u,C,!1);return We(t)?Ht(t,D,B,le,"$","",J,ie):t},dollarColored:(W,i,t,u,g,C)=>{const D=et("minDecimal",u,C,2),B=et("maxDecimal",u,C,4),J=et("decimalSeparator",u,C,"."),ie=et("thousandSeparator",u,C,""),le=et("displayNegativeNumberWithParentheses",u,C,!1);if(We(t)){return`<span style="color:${t>=0?"green":"red"}">${Ht(t,D,B,le,"$","",J,ie)}</span>`}return t},dollarColoredBold:(W,i,t,u,g,C)=>{const D=et("minDecimal",u,C,2),B=et("maxDecimal",u,C,4),J=et("decimalSeparator",u,C,"."),ie=et("thousandSeparator",u,C,""),le=et("displayNegativeNumberWithParentheses",u,C,!1);if(We(t)){return`<span style="color:${t>=0?"green":"red"}; font-weight:bold;">${Ht(t,D,B,le,"$","",J,ie)}</span>`}return t},editIcon:()=>'<i class="fa fa-pencil pointer edit-icon" aria-hidden="true"></i>',fakeHyperlink:(W,i,t)=>t?`<span class="fake-hyperlink">${t}</span>`:"",hyperlink:(W,i,t,u,g,C)=>{const D=u&&u.params||{},B=C&&"function"==typeof C.getOptions?C.getOptions():{};let J=D.hyperlinkText?D.hyperlinkText:t;J=Hi(B,J);let ie=D.hyperlinkUrl?D.hyperlinkUrl:t;ie=Hi(B,ie);const le=ie.match(/^(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&amp;:\/~\+#]*[\w\-\@?^=%&amp;\/~\+#])?/i);return le&&Array.isArray(le)&&le.length>0?`<a href="${le[0]}">${J}</a>`:t},icon:(W,i,t,u)=>{const g=u&&u.params||{},C=g.icon||g.formatterIcon;if(!C)throw new Error('You must provide the "icon" or "formatterIcon" via the generic "params" options (e.g.: { formatter: Formatters.icon, params: { formatterIcon: \'fa fa-search\' }}');return`<i class="${C}" aria-hidden="true"></i>`},infoIcon:()=>'<i class="fa fa-info-circle pointer info-icon" aria-hidden="true"></i>',italic:(W,i,t)=>t?`<i>${t}</i>`:"",lowercase:(W,i,t)=>(void 0!==t&&"string"!=typeof t&&(t+=""),t?t.toLowerCase():""),mask:(W,i,t,u)=>{const C=(u.params||{}).mask;if(!C)throw new Error('You must provide a "mask" via the generic "params" options (e.g.: { formatter: Formatters.mask, params: { mask: \'000-000\' }}');if(t){let D=0;const B=t.toString();return C.replace(/[09A]/gi,()=>B[D++]||"")}return t},multiple:O,percent:(W,i,t,u,g,C)=>{const D=et("minDecimal",u,C),B=et("maxDecimal",u,C),J=et("decimalSeparator",u,C,"."),ie=et("thousandSeparator",u,C,""),le=et("displayNegativeNumberWithParentheses",u,C,!1);if(We(t)){return Ht(100*t,D,B,le,"","%",J,ie)}return t},percentComplete:(W,i,t,u,g,C)=>{const D=et("minDecimal",u,C),B=et("maxDecimal",u,C),J=et("decimalSeparator",u,C,"."),ie=et("thousandSeparator",u,C,""),le=et("displayNegativeNumberWithParentheses",u,C,!1);if(We(t)){const De=t<50?"red":"green",Ne=Ht(t,D,B,le,"","%",J,ie);return`<span style="color:${De}">${t>100?"100%":Ne}</span>`}return t},percentCompleteBar:(W,i,t)=>{if(!We(t))return"";let u="",g=parseFloat(t);return g>100&&(g=100),u=g<30?"red":g<70?"silver":"green",`<span class="percent-complete-bar" title="${g}%" style="background:${u}; width:${g}%"></span>`},percentCompleteBarWithText:(W,i,t)=>{if(!We(t))return"";let u="",g=parseFloat(t);return g>100&&(g=100),u=g<30?"red":g<70?"silver":"green",`<div class="percent-complete-bar-with-text" title="${g}%" style="background:${u}; width:${g}%">${g}%</div>`},percentSymbol:(W,i,t,u,g,C)=>{const D=et("minDecimal",u,C),B=et("maxDecimal",u,C),J=et("decimalSeparator",u,C,"."),ie=et("thousandSeparator",u,C,""),le=et("displayNegativeNumberWithParentheses",u,C,!1);return We(t)?Ht(t,D,B,le,"","%",J,ie):t},progressBar:(W,i,t)=>{if(!We(t))return"";let u="",g=parseFloat(t);return g>100&&(g=100),u=g<30?"danger":g<70?"warning":"success",`<div class="progress">\n    <div class="progress-bar progress-bar-${u} bg-${u}" role="progressbar" aria-valuenow="${g}" aria-valuemin="0" aria-valuemax="100" style="min-width: 2em; width: ${g}%;">\n    ${g}%\n    </div>\n  </div>`.replace(/\s{2,}/g," ").trim()},translate:(W,i,t,u,g,C)=>{const B=(C&&"function"==typeof C.getOptions?C.getOptions():{}).translater||u&&u.params&&u.params.translater;if(!B||"function"!=typeof B.translate)throw new Error('"Formatters.translate" requires the Translate Service to be provided as a Grid Options "translater" (or "i18n" depending on which framework you use).\n    For example: this.gridOptions = { enableTranslate: true, translater: this.translateService }');return null!=t&&"string"!=typeof t&&(t+=""),t?B.translate(t):""},translateBoolean:(W,i,t,u,g,C)=>{const B=(C&&"function"==typeof C.getOptions?C.getOptions():{}).translater||u&&u.params&&u.params.translater;if(!B||"function"!=typeof B.translate)throw new Error('"Formatters.translateBoolean" requires the Translate Service to be provided as a Grid Options "translater" (or "i18n" depending on which framework you use).\n    For example: this.gridOptions = { enableTranslate: true, translater: this.translateService }');return null!=t&&"string"!=typeof t&&(t+=""),t?B.translate(t.toUpperCase()):""},tree:(W,i,t,u,g,C)=>{var D,B,J,ie,le;const De=C.getOptions(),Ne=null==De?void 0:De.treeDataOptions,Ze=null!==(D=null==Ne?void 0:Ne.indentMarginLeft)&&void 0!==D?D:15,ht=null!==(B=null==Ne?void 0:Ne.collapsedPropName)&&void 0!==B?B:ae.treeDataProperties.COLLAPSED_PROP,Ct=null!==(J=null==Ne?void 0:Ne.hasChildrenPropName)&&void 0!==J?J:ae.treeDataProperties.HAS_CHILDREN_PROP,Kt=null!==(ie=null==Ne?void 0:Ne.levelPropName)&&void 0!==ie?ie:ae.treeDataProperties.TREE_LEVEL_PROP;let Xt=t;if(Xt=Mt(u,g,t),null==Xt||void 0===g)return"";if(!g.hasOwnProperty(Kt))throw new Error('[Slickgrid-Universal] You must provide valid "treeDataOptions" in your Grid Options, however it seems that we could not find any tree level info on the current item datacontext row.');const dn=null!==(le=null==g?void 0:g[Kt])&&void 0!==le?le:0,yi=`<span style="display:inline-block; width:${Ze*dn}px;"></span>`,ni=`slick-tree-level-${dn}`;let Jn="";g[Ct]&&(Jn=(null==g?void 0:g[ht])?"collapsed":"expanded"),(null==Ne?void 0:Ne.titleFormatter)&&(Xt=vi(Ne.titleFormatter,W,i,u,g,C));const Ti=Hi(De,Xt,{ADD_ATTR:["target"]});return{addClasses:ni,text:`${yi}<span class="${`slick-group-toggle ${Jn}`.trim()}" aria-expanded="${"expanded"===Jn}"></span><span class="slick-tree-title" level="${dn}">${Ti}</span>`}},treeExport:(W,i,t,u,g,C)=>{var D,B,J,ie,le,De,Ne,Ze,ht,Ct,Kt;const Xt=C.getOptions(),dn=null==Xt?void 0:Xt.treeDataOptions,yi=null!==(D=null==dn?void 0:dn.collapsedPropName)&&void 0!==D?D:ae.treeDataProperties.COLLAPSED_PROP,ni=null!==(B=null==dn?void 0:dn.hasChildrenPropName)&&void 0!==B?B:ae.treeDataProperties.HAS_CHILDREN_PROP,Jn=null!==(J=null==dn?void 0:dn.levelPropName)&&void 0!==J?J:ae.treeDataProperties.TREE_LEVEL_PROP,Ti=null!==(ie=null==dn?void 0:dn.exportIndentMarginLeft)&&void 0!==ie?ie:5,ri=null!==(le=null==dn?void 0:dn.exportIndentationLeadingChar)&&void 0!==le?le:".",Xn=null!==(De=null==dn?void 0:dn.exportIndentationLeadingSpaceCount)&&void 0!==De?De:3,Wi=null!==(Ze=null===(Ne=null==Xt?void 0:Xt.excelExportOptions)||void 0===Ne?void 0:Ne.groupCollapsedSymbol)&&void 0!==Ze?Ze:"\u2b9e",vr=null!==(Ct=null===(ht=null==Xt?void 0:Xt.excelExportOptions)||void 0===ht?void 0:ht.groupExpandedSymbol)&&void 0!==Ct?Ct:"\u2b9f";let Ci=t;if(Ci=Mt(u,g,t),null==Ci||void 0===g)return"";if(!g.hasOwnProperty(Jn))throw new Error('[Slickgrid-Universal] You must provide valid "treeDataOptions" in your Grid Options, however it seems that we could not find any tree level info on the current item datacontext row.');const As=null!==(Kt=null==g?void 0:g[Jn])&&void 0!==Kt?Kt:0;let fo="",Ws=0;g[ni]?(fo=(null==g?void 0:g[yi])?Wi:vr,Ws=0===As?0:Ti*As):Ws=Ti*(0===As?0:As+1);const wa=en(Ws);return(null==dn?void 0:dn.titleFormatter)&&(Ci=vi(dn.titleFormatter,W,i,u,g,C)),Ci=`${0===As&&fo?"":0===As?`${ri}${en(Xn)}`:ri}${wa}${fo} ${Ci}`,Us(Ci)},uppercase:(W,i,t)=>(void 0!==t&&"string"!=typeof t&&(t+=""),t?t.toUpperCase():""),yesNo:(W,i,t)=>t?"Yes":"No"},Rc={avgTotals:(W,i,t)=>{var u,g;const C=null!==(u=i.field)&&void 0!==u?u:"";let D=null===(g=W.avg)||void 0===g?void 0:g[C];const B=null==i?void 0:i.params;let J=(null==B?void 0:B.groupFormatterPrefix)||"";const ie=(null==B?void 0:B.groupFormatterSuffix)||"",le=et("minDecimal",i,t),De=et("maxDecimal",i,t),Ne=et("decimalSeparator",i,t,"."),Ze=et("thousandSeparator",i,t,""),ht=et("displayNegativeNumberWithParentheses",i,t,!1);if(null!==D&&!isNaN(+D)){if(D<0){if(D=Math.abs(D),ht){if(isNaN(le)&&isNaN(De)){return`${J}(${Nn(Math.round(D),Ze)})${ie}`}return`${J}(${St(D,le,De,Ne,Ze)})${ie}`}J+="-"}if(isNaN(le)&&isNaN(De)){return`${J}${Nn(Math.round(D),Ze)}${ie}`}return`${J}${St(D,le,De,Ne,Ze)}${ie}`}return""},avgTotalsDollar:(W,i,t)=>{var u,g;const C=null!==(u=i.field)&&void 0!==u?u:"",D=null===(g=W.avg)||void 0===g?void 0:g[C],B=null==i?void 0:i.params,J=(null==B?void 0:B.groupFormatterPrefix)||"",ie=(null==B?void 0:B.groupFormatterSuffix)||"",le=et("minDecimal",i,t,2),De=et("maxDecimal",i,t,4),Ne=et("decimalSeparator",i,t,"."),Ze=et("thousandSeparator",i,t,""),ht=et("displayNegativeNumberWithParentheses",i,t,!1);if(null!==D&&!isNaN(+D)){return`${J}${Ht(D,le,De,ht,"$","",Ne,Ze)}${ie}`}return""},avgTotalsPercentage:(W,i,t)=>{var u,g;const C=null!==(u=i.field)&&void 0!==u?u:"";let D=null===(g=W.avg)||void 0===g?void 0:g[C];const B=null==i?void 0:i.params;let J=(null==B?void 0:B.groupFormatterPrefix)||"";const ie=(null==B?void 0:B.groupFormatterSuffix)||"",le=et("minDecimal",i,t),De=et("maxDecimal",i,t),Ne=et("decimalSeparator",i,t,"."),Ze=et("thousandSeparator",i,t,""),ht=et("displayNegativeNumberWithParentheses",i,t,!1);if(null!==D&&!isNaN(+D)){if(D<0){if(D=Math.abs(D),ht){if(isNaN(le)&&isNaN(De)){return`${J}(${Nn(Math.round(D),Ze)}%)${ie}`}return`${J}(${St(D,le,De,Ne,Ze)}%)${ie}`}J+="-"}if(isNaN(le)&&isNaN(De)){return`${J}${Nn(Math.round(D),Ze)}%${ie}`}return`${J}${St(D,le,De,Ne,Ze)}%${ie}`}return""},maxTotals:(W,i,t)=>{var u,g;const C=null!==(u=i.field)&&void 0!==u?u:"",D=null===(g=W.max)||void 0===g?void 0:g[C],B=null==i?void 0:i.params,J=(null==B?void 0:B.groupFormatterPrefix)||"",ie=(null==B?void 0:B.groupFormatterSuffix)||"",le=et("minDecimal",i,t),De=et("maxDecimal",i,t),Ne=et("decimalSeparator",i,t,"."),Ze=et("thousandSeparator",i,t,""),ht=et("displayNegativeNumberWithParentheses",i,t,!1);if(null!==D&&!isNaN(+D)){return`${J}${Ht(D,le,De,ht,"","",Ne,Ze)}${ie}`}return""},minTotals:(W,i,t)=>{var u,g;const C=null!==(u=i.field)&&void 0!==u?u:"",D=null===(g=W.min)||void 0===g?void 0:g[C],B=null==i?void 0:i.params,J=(null==B?void 0:B.groupFormatterPrefix)||"",ie=(null==B?void 0:B.groupFormatterSuffix)||"",le=et("minDecimal",i,t),De=et("maxDecimal",i,t),Ne=et("decimalSeparator",i,t,"."),Ze=et("thousandSeparator",i,t,""),ht=et("displayNegativeNumberWithParentheses",i,t,!1);if(null!==D&&!isNaN(+D)){return`${J}${Ht(D,le,De,ht,"","",Ne,Ze)}${ie}`}return""},sumTotals:(W,i,t)=>{var u,g;const C=null!==(u=i.field)&&void 0!==u?u:"",D=null===(g=W.sum)||void 0===g?void 0:g[C],B=null==i?void 0:i.params,J=(null==B?void 0:B.groupFormatterPrefix)||"",ie=(null==B?void 0:B.groupFormatterSuffix)||"",le=et("minDecimal",i,t),De=et("maxDecimal",i,t),Ne=et("decimalSeparator",i,t,"."),Ze=et("thousandSeparator",i,t,""),ht=et("displayNegativeNumberWithParentheses",i,t,!1);if(null!==D&&!isNaN(+D)){return`${J}${Ht(D,le,De,ht,"","",Ne,Ze)}${ie}`}return""},sumTotalsBold:(W,i,t)=>{var u,g;const C=null!==(u=i.field)&&void 0!==u?u:"",D=null===(g=W.sum)||void 0===g?void 0:g[C],B=null==i?void 0:i.params,J=(null==B?void 0:B.groupFormatterPrefix)||"",ie=(null==B?void 0:B.groupFormatterSuffix)||"",le=et("minDecimal",i,t),De=et("maxDecimal",i,t),Ne=et("decimalSeparator",i,t,"."),Ze=et("thousandSeparator",i,t,""),ht=et("displayNegativeNumberWithParentheses",i,t,!1);if(null!==D&&!isNaN(+D)){return`<b>${J}${Ht(D,le,De,ht,"","",Ne,Ze)}${ie}</b>`}return""},sumTotalsColored:(W,i,t)=>{var u,g;const C=null!==(u=i.field)&&void 0!==u?u:"",D=null===(g=W.sum)||void 0===g?void 0:g[C],B=null==i?void 0:i.params,J=(null==B?void 0:B.groupFormatterPrefix)||"",ie=(null==B?void 0:B.groupFormatterSuffix)||"",le=et("minDecimal",i,t),De=et("maxDecimal",i,t),Ne=et("decimalSeparator",i,t,"."),Ze=et("thousandSeparator",i,t,""),ht=et("displayNegativeNumberWithParentheses",i,t,!1);if(null!==D&&!isNaN(+D)){return`<span style="color:${D>=0?"green":"red"}">${J}${Ht(D,le,De,ht,"","",Ne,Ze)}${ie}</span>`}return""},sumTotalsDollar:(W,i,t)=>{var u,g;const C=null!==(u=i.field)&&void 0!==u?u:"",D=null===(g=W.sum)||void 0===g?void 0:g[C],B=null==i?void 0:i.params,J=(null==B?void 0:B.groupFormatterPrefix)||"",ie=(null==B?void 0:B.groupFormatterSuffix)||"",le=et("minDecimal",i,t,2),De=et("maxDecimal",i,t,4),Ne=et("decimalSeparator",i,t,"."),Ze=et("thousandSeparator",i,t,""),ht=et("displayNegativeNumberWithParentheses",i,t,!1);if(null!==D&&!isNaN(+D)){return`${J}${Ht(D,le,De,ht,"$","",Ne,Ze)}${ie}`}return""},sumTotalsDollarBold:(W,i,t)=>{var u,g;const C=null!==(u=i.field)&&void 0!==u?u:"",D=null===(g=W.sum)||void 0===g?void 0:g[C],B=null==i?void 0:i.params,J=(null==B?void 0:B.groupFormatterPrefix)||"",ie=(null==B?void 0:B.groupFormatterSuffix)||"",le=et("minDecimal",i,t,2),De=et("maxDecimal",i,t,4),Ne=et("decimalSeparator",i,t,"."),Ze=et("thousandSeparator",i,t,""),ht=et("displayNegativeNumberWithParentheses",i,t,!1);if(null!==D&&!isNaN(+D)){return`<b>${J}${Ht(D,le,De,ht,"$","",Ne,Ze)}${ie}</b>`}return""},sumTotalsDollarColored:(W,i,t)=>{var u,g;const C=null!==(u=i.field)&&void 0!==u?u:"",D=null===(g=W.sum)||void 0===g?void 0:g[C],B=null==i?void 0:i.params,J=(null==B?void 0:B.groupFormatterPrefix)||"",ie=(null==B?void 0:B.groupFormatterSuffix)||"",le=et("minDecimal",i,t,2),De=et("maxDecimal",i,t,4),Ne=et("decimalSeparator",i,t,"."),Ze=et("thousandSeparator",i,t,""),ht=et("displayNegativeNumberWithParentheses",i,t,!1);if(null!==D&&!isNaN(+D)){return`<span style="color:${D>=0?"green":"red"}">${J}${Ht(D,le,De,ht,"$","",Ne,Ze)}${ie}</span>`}return""},sumTotalsDollarColoredBold:(W,i,t)=>{var u,g;const C=null!==(u=i.field)&&void 0!==u?u:"",D=null===(g=W.sum)||void 0===g?void 0:g[C],B=null==i?void 0:i.params,J=(null==B?void 0:B.groupFormatterPrefix)||"",ie=(null==B?void 0:B.groupFormatterSuffix)||"",le=et("minDecimal",i,t,2),De=et("maxDecimal",i,t,4),Ne=et("decimalSeparator",i,t,"."),Ze=et("thousandSeparator",i,t,""),ht=et("displayNegativeNumberWithParentheses",i,t,!1);if(null!==D&&!isNaN(+D)){return`<span style="color:${D>=0?"green":"red"}; font-weight: bold;">${J}${Ht(D,le,De,ht,"$","",Ne,Ze)}${ie}</span>`}return""}};class ef{constructor(){this.options=Mn}}Vs(tn(tn(tn(tn({},l),A),j),I),{deepAssign:Dn})},4750:(V,k,L)=>{"use strict";L.d(k,{e:()=>m});var l=L(3467);function A(b,v,w){let T;w=tn(tn({},{modalType:"edit",validationFailedMsg:"Some of the fields have failed validation",validationMsgPrefix:null,show:null,hide:null,position:null,destroy:null,formValues:{},editors:{}}),w);const S=()=>{},N=U=>{var Y,ce,be,te;const ae=v[U],_e=(0,l.CWZ)(ae),Te=ae.clientWidth||0,Re=ae.clientHeight||0;return{top:null!==(Y=null==_e?void 0:_e.top)&&void 0!==Y?Y:0,left:null!==(ce=null==_e?void 0:_e.left)&&void 0!==ce?ce:0,bottom:(null!==(be=null==_e?void 0:_e.top)&&void 0!==be?be:0)+Re,right:(null!==(te=null==_e?void 0:_e.left)&&void 0!==te?te:0)+Te,width:Te,height:Re,visible:!0}};function F(U){const Y=this;let ce=[];Y.getEditors=()=>ce,Y.destroy=()=>{var te;let ae=0;for(;ae<ce.length;)ce[ae].destroy(),ae++;null===(te=null==w?void 0:w.destroy)||void 0===te||te.call(w),ce=[]},Y.focus=()=>{(T||ce[0]).focus()},Y.isValueChanged=()=>{let te=0;for(;te<ce.length;){if(ce[te].isValueChanged())return!0;te++}return!1},Y.serializeValue=()=>{const te=[];let ae=0;for(;ae<ce.length;)te[ae]=ce[ae].serializeValue(),ae++;return te},Y.applyValue=(te,ae)=>{let _e=0;for(;_e<ce.length;)ce[_e].applyValue(te,null==ae?void 0:ae[_e]),_e++},Y.loadValue=te=>{let ae=0;for(;ae<ce.length;)ce[ae].loadValue(te),ae++},Y.validate=te=>{var ae,_e;let Te;T=null;const Re=[];let G=0;for(;G<ce.length;){const Ee=null===(ae=ce[G].args)||void 0===ae?void 0:ae.column;if(void 0!==(null==Ee?void 0:Ee.id)){const Ie=document.querySelector(".slick-editor-modal");let Le=null==Ie?void 0:Ie.querySelector(`.item-details-validation.editor-${Ee.id}`),ne=null==Ie?void 0:Ie.querySelector(`.item-details-label.editor-${Ee.id}`),Pe=null==Ie?void 0:Ie.querySelector(`[data-editorid=${Ee.id}]`);const He=null!==(_e=null==w?void 0:w.validationMsgPrefix)&&void 0!==_e?_e:"";(!te||(null==Pe?void 0:Pe.contains(te)))&&(Te=ce[G].validate(),Te.valid?Le&&(Le.textContent="",null==Pe||Pe.classList.remove("invalid"),null==ne||ne.classList.remove("invalid")):(T=ce[G],Re.push({index:G,editor:ce[G],container:v[G],msg:Te.msg}),Le&&(Le.textContent=`${He}${Te.msg}`,null==ne||ne.classList.add("invalid"),null==Pe||Pe.classList.add("invalid")))),Le=null,ne=null,Pe=null}G++}return te=null,Re.length?{valid:!1,msg:w.validationFailedMsg,errors:Re}:{valid:!0,msg:""}},Y.hide=()=>{var te,ae,_e;let Te=0;for(;Te<ce.length;)null===(ae=null===(te=ce[Te])||void 0===te?void 0:te.hide)||void 0===ae||ae.call(te),Te++;null===(_e=null==w?void 0:w.hide)||void 0===_e||_e.call(w)},Y.show=()=>{var te,ae,_e;let Te=0;for(;Te<ce.length;)null===(ae=null===(te=ce[Te])||void 0===te?void 0:te.show)||void 0===ae||ae.call(te),Te++;null===(_e=null==w?void 0:w.show)||void 0===_e||_e.call(w)},Y.position=te=>{var ae;null===(ae=null==w?void 0:w.position)||void 0===ae||ae.call(w,te)},function(){let te={},ae=0;for(;ae<b.length;){if(b[ae].editor){const _e=b[ae];te=tn({},U),te.container=v[ae],te.column=_e,te.position=N(ae),te.commitChanges=S,te.cancelChanges=S,te.compositeEditorOptions=w,te.formValues={};const Te=new _e.editor(te);w.editors[_e.id]=Te,ce.push(Te)}ae++}setTimeout(()=>{Array.isArray(ce)&&ce.length>0&&ce[0].focus&&ce[0].focus()},0)}()}return F.prototype=this,Slick.CompositeEditor=F,F}var j=L(1670);const I=b=>console.log(b.message);class m{constructor(){this._columnDefinitions=[],this._lastActiveRowNumber=-1,this._formValues=null,this.gridService=null,this.gridStateService=null,this._eventHandler=new Slick.EventHandler,this._bindEventService=new l.s2s}get eventHandler(){return this._eventHandler}get dataView(){return this.grid.getData()}get dataViewLength(){return this.dataView.getLength()}get formValues(){return this._formValues}get editors(){return this._editors}set editors(v){this._editors=v}get gridOptions(){var v;return null===(v=this.grid)||void 0===v?void 0:v.getOptions()}init(v,w){var T,x;if(this.grid=v,this.gridService=w.get("GridService"),this.gridStateService=w.get("GridStateService"),this.translaterService=w.get("TranslaterService"),!this.gridService||!this.gridStateService)throw new Error("[Slickgrid-Universal] it seems that the GridService and/or GridStateService are not being loaded properly, make sure the Container Service is properly implemented.");if(this.gridOptions.enableTranslate&&(!this.translaterService||!this.translaterService.translate))throw new Error('[Slickgrid-Universal] requires a Translate Service to be installed and configured when the grid option "enableTranslate" is enabled.');this._locales=null!==(x=null===(T=this.gridOptions)||void 0===T?void 0:T.locales)&&void 0!==x?x:l.gTE.locales}dispose(){this._eventHandler.unsubscribeAll(),this._bindEventService.unbindAll(),this._formValues=null,this.disposeComponent()}disposeComponent(){var v;"function"==typeof(null===(v=this._modalElm)||void 0===v?void 0:v.remove)&&(this._modalElm.remove(),document.body.classList.remove("slick-modal-open"))}changeFormInputValue(v,w,T=!1,x=!0){var S,N,F,U,Y,ce,be,te,ae,_e,Te,Re;const G=this.getColumnByObjectOrId(v),Ee="string"==typeof v?v:null!==(S=null==G?void 0:G.id)&&void 0!==S?S:"",Ie=null===(N=this._editors)||void 0===N?void 0:N[Ee];let Le=w;if(!Ie&&!T)throw new Error(`Composite Editor with column id "${Ee}" not found.`);if("function"==typeof(null==Ie?void 0:Ie.setValue)&&Array.isArray(this._editorContainers)){Ie.setValue(w,!0,x);const Pe=this._editorContainers.find(ze=>ze.dataset.editorid===Ee),He=null!==(Y=null===(U=null===(F=this.gridOptions)||void 0===F?void 0:F.compositeEditorOptions)||void 0===U?void 0:U.excludeDisabledFieldFormValues)&&void 0!==Y&&Y;!Ie.disabled||Ie.disabled&&!He?null===(ce=null==Pe?void 0:Pe.classList)||void 0===ce||ce.add("modified"):(Le="",null===(be=null==Pe?void 0:Pe.classList)||void 0===be||be.remove("modified")),Ie.disabled&&(""!==Le||null!==Le||void 0!==Le||0!==Le)&&(Le="")}const ne=null!==(te=null==G?void 0:G.field)&&void 0!==te?te:"";if(G&&(null==ne?void 0:ne.includes("."))){const Pe=null!==(Te=null!==(_e=null===(ae=G.internalColumnEditor)||void 0===ae?void 0:ae.complexObjectPath)&&void 0!==_e?_e:ne)&&void 0!==Te?Te:"";(0,l.RBL)(null!==(Re=this._formValues)&&void 0!==Re?Re:{},Pe,w)}else this._formValues=Vs(tn({},this._formValues),{[Ee]:Le})}changeFormValue(v,w){var T,x,S,N,F;const U=this.getColumnByObjectOrId(v),Y="string"==typeof v?v:null!==(T=null==U?void 0:U.id)&&void 0!==T?T:"",ce=null!==(x=null==U?void 0:U.field)&&void 0!==x?x:v;if(null==ce?void 0:ce.includes(".")){const be=null!==(F=null!==(N=null===(S=null==U?void 0:U.internalColumnEditor)||void 0===S?void 0:S.complexObjectPath)&&void 0!==N?N:ce)&&void 0!==F?F:"";(0,l.RBL)(this._formValues,be,w)}else this._formValues=Vs(tn({},this._formValues),{[Y]:w});this._formValues=(0,l.RH2)({},this._itemDataContext,this._formValues)}changeFormEditorOption(v,w,T){var x;const S=null===(x=this._editors)||void 0===x?void 0:x[v];if(!(null==S?void 0:S.changeEditorOption))throw new Error(`Editor with column id "${v}" not found OR the Editor does not support "changeEditorOption" (current only available with AutoComplete, Date, MultipleSelect & SingleSelect Editors).`);S.changeEditorOption(w,T)}disableFormInput(v,w=!0){var T;const x=null===(T=this._editors)||void 0===T?void 0:T[v];(null==x?void 0:x.disable)&&Array.isArray(this._editorContainers)&&x.disable(w)}openDetails(v){var w,T,x,S,N,F,U,Y,ce,be,te,ae,_e,Te,Re,G,Ee;const Ie=null!==(w=v.onError)&&void 0!==w?w:I,Le={backdrop:"static",showCloseButtonOutside:!0,shouldClearRowSelectionAfterMassAction:!0,viewColumnLayout:"auto",modalType:"edit"};try{if(!this.grid||this.grid.getEditorLock().isActive()&&!this.grid.getEditorLock().commitCurrentEdit())return null;this._formValues=null,this._options=Vs(tn(tn(tn({},Le),this.gridOptions.compositeEditorOptions),v),{labels:tn(tn({},null===(T=this.gridOptions.compositeEditorOptions)||void 0===T?void 0:T.labels),null==v?void 0:v.labels)}),this._options.backdrop=void 0!==v.backdrop?v.backdrop:"static";const ne=this._options.viewColumnLayout||1,Pe=this.grid.getActiveCell(),He=null!==(x=null==Pe?void 0:Pe.cell)&&void 0!==x?x:0,ze=null!==(S=null==Pe?void 0:Pe.row)&&void 0!==S?S:0,dt=this.grid.getUID()||"";let nt=v.headerTitle||"";"function"==typeof this._options.onBeforeOpen&&this._options.onBeforeOpen(),this.hasRowSelectionEnabled()&&"auto-mass"===this._options.modalType&&this.grid.getSelectedRows&&((this.grid.getSelectedRows()||[]).length>0?(this._options.modalType="mass-selection",(null==v?void 0:v.headerTitleMassSelection)&&(nt=null==v?void 0:v.headerTitleMassSelection)):(this._options.modalType="mass-update",(null==v?void 0:v.headerTitleMassUpdate)&&(nt=null==v?void 0:v.headerTitleMassUpdate)));const kt=this._options.modalType||"edit";if(!this.gridOptions.editable)return Ie({type:"error",code:"EDITABLE_GRID_REQUIRED",message:"Your grid must be editable in order to use the Composite Editor Modal."}),null;if(!this.gridOptions.enableCellNavigation)return Ie({type:"error",code:"ENABLE_CELL_NAVIGATION_REQUIRED",message:'Composite Editor requires the flag "enableCellNavigation" to be set to True in your Grid Options.'}),null;if(!this.gridOptions.enableAddRow&&("clone"===kt||"create"===kt))return Ie({type:"error",code:"ENABLE_ADD_ROW_REQUIRED",message:'Composite Editor requires the flag "enableAddRow" to be set to True in your Grid Options when cloning/creating a new item.'}),null;if(!Pe&&("clone"===kt||"edit"===kt))return Ie({type:"warning",code:"NO_RECORD_FOUND",message:"No records selected for edit or clone operation."}),null;{const wt="mass-update"===kt||"mass-selection"===kt,Pt=wt?{}:this.grid.getDataItem(ze);this._originalDataContext=(0,l.p$x)(Pt),this._columnDefinitions=this.grid.getColumns();const en=this.hasRowSelectionEnabled()?this.grid.getSelectedRows():[],Nt=null!==(F=null===(N=this.dataView)||void 0===N?void 0:N.getItemCount())&&void 0!==F?F:0;this._lastActiveRowNumber=ze;const je=null===(U=this.gridStateService)||void 0===U?void 0:U.getCurrentRowSelections(),Ft=(null==je?void 0:je.dataContextIds)||[],sn="create"===kt?this.dataViewLength:ze;if(!this.focusOnFirstColumnCellWithEditor(this._columnDefinitions,Pt,He,sn,wt))return null;if("edit"===kt&&!Pt)return Ie({type:"warning",code:"ROW_NOT_EDITABLE",message:"Current row is not editable."}),null;if("mass-selection"===kt&&en.length<1)return Ie({type:"warning",code:"ROW_SELECTION_REQUIRED",message:"You must select some rows before trying to apply new value(s)."}),null;let zt=[];zt=wt?this._columnDefinitions.filter(pe=>{var xe;return pe.editor&&!0===(null===(xe=pe.internalColumnEditor)||void 0===xe?void 0:xe.massUpdate)}):this._columnDefinitions.filter(pe=>pe.editor),zt.some(pe=>{var xe;return void 0!==(null===(xe=pe.internalColumnEditor)||void 0===xe?void 0:xe.compositeEditorFormOrder)})&&zt.sort((pe,xe)=>{var Ce,Je,lt,jt;const Oe=null!==(Je=null===(Ce=null==pe?void 0:pe.internalColumnEditor)||void 0===Ce?void 0:Ce.compositeEditorFormOrder)&&void 0!==Je?Je:1/0,Fe=null!==(jt=null===(lt=null==xe?void 0:xe.internalColumnEditor)||void 0===lt?void 0:lt.compositeEditorFormOrder)&&void 0!==jt?jt:1/0;return(0,l.ZOg)(Oe,Fe,l.kuk.asc)});const an=nt.replace(/\{\{(.*?)\}\}/g,(pe,xe)=>(0,l.XiA)(Pt,xe)),On="auto"===ne?this.autoCalculateLayoutColumnCount(zt.length):ne;this._modalElm=(0,l.uq8)("div",{className:`slick-editor-modal ${dt}`});const Dn=(0,l.uq8)("div",{className:"slick-editor-modal-content"});if(ne>1||"auto"===ne&&On>1){const pe=2===On?"split-view":"triple-split-view";Dn.classList.add(pe)}const fi=(0,l.uq8)("div",{className:"slick-editor-modal-title",innerHTML:(0,l.GR)(this.gridOptions,an)}),ge=(0,l.uq8)("button",{type:"button",textContent:"\xd7",className:"close",dataset:{action:"close"}});ge.setAttribute("aria-label","Close"),this._options.showCloseButtonOutside&&(null===(Y=null==fi?void 0:fi.classList)||void 0===Y||Y.add("outside"),null===(ce=null==ge?void 0:ge.classList)||void 0===ce||ce.add("outside"));const $t=(0,l.uq8)("div",{className:"slick-editor-modal-header"});$t.setAttribute("aria-label","Close"),$t.appendChild(fi),$t.appendChild(ge);const Dt=(0,l.uq8)("div",{className:"slick-editor-modal-body"});this._modalBodyTopValidationElm=(0,l.uq8)("div",{className:"validation-summary",style:{display:"none"}}),Dt.appendChild(this._modalBodyTopValidationElm);const qe=(0,l.uq8)("div",{className:"slick-editor-modal-footer"}),We=(0,l.uq8)("button",{type:"button",className:"btn btn-cancel btn-default btn-sm",textContent:this.getLabelText("cancelButton","TEXT_CANCEL","Cancel"),dataset:{action:"cancel"}});We.setAttribute("aria-label",this.getLabelText("cancelButton","TEXT_CANCEL","Cancel"));let _t="",St="";switch(kt){case"clone":St=this.getLabelText("cloneButton","TEXT_CLONE","Clone");break;case"mass-update":const pe=this.getLabelText("massUpdateStatus","TEXT_ALL_X_RECORDS_SELECTED","All {{x}} records selected");_t=this.parseText(pe,{x:Nt}),St=this.getLabelText("massUpdateButton","TEXT_APPLY_MASS_UPDATE","Mass Update");break;case"mass-selection":const xe=this.getLabelText("massSelectionStatus","TEXT_X_OF_Y_MASS_SELECTED","{{x}} of {{y}} selected");_t=this.parseText(xe,{x:Ft.length,y:Nt}),St=this.getLabelText("massSelectionButton","TEXT_APPLY_TO_SELECTION","Update Selection");break;default:St=this.getLabelText("saveButton","TEXT_SAVE","Save")}const Ht=(0,l.uq8)("div",{className:"footer-status-text",textContent:_t});this._modalSaveButtonElm=(0,l.uq8)("button",{type:"button",className:"btn btn-save btn-primary btn-sm",textContent:St,dataset:{action:"create"===kt||"edit"===kt?"save":kt,ariaLabel:St}}),this._modalSaveButtonElm.setAttribute("aria-label",St);const Mt=(0,l.uq8)("div",{className:"footer-buttons"});("mass-update"===kt||"mass-selection"===kt)&&qe.appendChild(Ht),Mt.appendChild(We),Mt.appendChild(this._modalSaveButtonElm),qe.appendChild(Mt),Dn.appendChild($t),Dn.appendChild(Dt),Dn.appendChild(qe),this._modalElm.appendChild(Dn);for(const pe of zt)if(pe.editor){const xe=(0,l.uq8)("div",{className:`item-details-container editor-${pe.id}`});1===On?xe.classList.add("slick-col-medium-12"):xe.classList.add("slick-col-medium-6","slick-col-xlarge-"+12/On);const Ce=(0,l.uq8)("div",{className:`item-details-label editor-${pe.id}`,textContent:this.getColumnLabel(pe)||"n/a"}),Je=(0,l.uq8)("div",{className:"item-details-editor-container slick-cell",dataset:{editorid:`${pe.id}`}}),lt=(0,l.uq8)("div",{className:`item-details-validation editor-${pe.id}`});if(null===(be=this._options)||void 0===be?void 0:be.showResetButtonOnEachEditor){const jt=this.createEditorResetButtonElement(`${pe.id}`);this._bindEventService.bind(jt,"click",this.handleResetInputValue.bind(this)),Ce.appendChild(jt)}xe.appendChild(Ce),xe.appendChild(Je),xe.appendChild(lt),Dt.appendChild(xe)}if(null===(te=this._options)||void 0===te?void 0:te.showFormResetButton){const pe=this.createFormResetButtonElement();this._bindEventService.bind(pe,"click",this.handleResetFormClicked.bind(this)),Dt.appendChild(pe)}document.body.appendChild(this._modalElm),document.body.classList.add("slick-modal-open"),this._bindEventService.bind(document.body,"click",this.handleBodyClicked.bind(this)),this._editors={},this._editorContainers=zt.map(pe=>Dt.querySelector(`[data-editorid=${pe.id}]`))||[],this._compositeOptions={destroy:this.disposeComponent.bind(this),modalType:kt,validationMsgPrefix:"* ",formValues:{},editors:this._editors};const ee=new A(zt,this._editorContainers,this._compositeOptions);this.grid.editActiveCell(ee),this._bindEventService.bind(ge,"click",this.cancelEditing.bind(this)),this._bindEventService.bind(We,"click",this.cancelEditing.bind(this)),this._bindEventService.bind(this._modalSaveButtonElm,"click",this.handleSaveClicked.bind(this)),this._bindEventService.bind(this._modalElm,"keydown",this.handleKeyDown.bind(this)),this._bindEventService.bind(this._modalElm,"focusout",this.validateCurrentEditor.bind(this)),this._bindEventService.bind(this._modalElm,"blur",this.validateCurrentEditor.bind(this)),this._eventHandler.subscribe(this.grid.onCompositeEditorChange,this.handleOnCompositeEditorChange.bind(this)),this._eventHandler.subscribe(this.grid.onAddNewRow,(pe,xe)=>{this.insertNewItemInDataView(xe.item),this._originalDataContext=xe.item,this.dispose()})}return this}catch(ne){this.dispose();const Pe="string"==typeof ne?ne:null!==(Te=null!==(ae=null==ne?void 0:ne.message)&&void 0!==ae?ae:null===(_e=null==ne?void 0:ne.body)||void 0===_e?void 0:_e.message)&&void 0!==Te?Te:"";return Ie({type:"error",code:"string"==typeof ne?ne:null!==(Ee=null!==(Re=null==ne?void 0:ne.status)&&void 0!==Re?Re:null===(G=null==ne?void 0:ne.body)||void 0===G?void 0:G.status)&&void 0!==Ee?Ee:Pe,message:Pe}),null}}cancelEditing(){var v=this;return(0,j.Z)(function*(){var w,T;let x=!0;v.formValues&&Object.keys(v.formValues).length>0&&"function"==typeof v._options.onClose&&(x=yield v._options.onClose()),x&&(v.grid.getEditController().cancelCurrentEdit(),("edit"===(null===(w=v._options)||void 0===w?void 0:w.modalType)||"clone"===(null===(T=v._options)||void 0===T?void 0:T.modalType))&&v.resetCurrentRowDataContext(),v.grid.setActiveRow(v._lastActiveRowNumber),v.dispose())})()}showValidationSummaryText(v,w=""){var T,x;v&&""!==w?(this._modalBodyTopValidationElm.textContent=w,this._modalBodyTopValidationElm.style.display="block",null===(x=(T=this._modalBodyTopValidationElm).scrollIntoView)||void 0===x||x.call(T),this._modalSaveButtonElm.disabled=!1,this._modalSaveButtonElm.classList.remove("saving")):(this._modalBodyTopValidationElm.style.display="none",this._modalBodyTopValidationElm.textContent=w)}applySaveMassUpdateChanges(v){const w=this.dataView.getItems();for(const T in v)T in v&&w.forEach(x=>{T in v&&(x[T]=v[T])});this.dataView.setItems(w,this.gridOptions.datasetIdPropertyName),this.grid.invalidate()}applySaveMassSelectionChanges(v,w){var T,x;const N=(null!==(T=null==w?void 0:w.dataContextIds)&&void 0!==T?T:[]).map(F=>this.dataView.getItemById(F));for(const F in v)F in v&&N.forEach(U=>{F in v&&(U[F]=v[F])});null===(x=this.gridService)||void 0===x||x.updateItems(N)}autoCalculateLayoutColumnCount(v){return v>=15?3:v>=8?2:1}createEditorResetButtonElement(v){var w,T,x,S,N;const F=(0,l.uq8)("button",{type:"button",name:v,title:null!==(x=null===(T=null===(w=this._options)||void 0===w?void 0:w.labels)||void 0===T?void 0:T.resetFormButton)&&void 0!==x?x:"Reset Form Input",className:"btn btn-xs btn-editor-reset"});if(F.setAttribute("aria-label","Reset"),null===(S=this._options)||void 0===S?void 0:S.resetEditorButtonCssClass){const U=null===(N=this._options)||void 0===N?void 0:N.resetEditorButtonCssClass.split(" ");for(const Y of U)F.classList.add(Y)}return F}createFormResetButtonElement(){var v,w;const T=(0,l.uq8)("div",{className:"reset-container"}),x=(0,l.uq8)("button",{type:"button",className:"btn btn-sm reset-form"}),S=(0,l.uq8)("span",{className:null!==(w=null===(v=this._options)||void 0===v?void 0:v.resetFormButtonIconCssClass)&&void 0!==w?w:""});return x.appendChild(S),x.appendChild(document.createTextNode(" Reset Form")),T.appendChild(x),T}executeOnError(v){var w,T;(null!==(T=null===(w=this._options)||void 0===w?void 0:w.onError)&&void 0!==T?T:I)(v)}executeOnSave(v,w,T,x){var S=this;return(0,j.Z)(function*(){var N,F,U,Y,ce;try{S.showValidationSummaryText(!1,""),S.validateCompositeEditors().valid&&(S._modalSaveButtonElm.classList.add("saving"),S._modalSaveButtonElm.disabled=!0,"function"==typeof(null===(N=S._options)||void 0===N?void 0:N.onSave)?(yield null===(F=S._options)||void 0===F?void 0:F.onSave(S.formValues,S.getCurrentRowSelections(),x))&&(v(S.formValues,S.getCurrentRowSelections()),w()):(v(S.formValues,S.getCurrentRowSelections()),w()),"function"==typeof T&&T(),S.dispose())}catch(be){const te="string"==typeof be?be:null!==(ce=null!==(U=null==be?void 0:be.message)&&void 0!==U?U:null===(Y=null==be?void 0:be.body)||void 0===Y?void 0:Y.message)&&void 0!==ce?ce:"";S.showValidationSummaryText(!0,te)}})()}focusOnFirstColumnCellWithEditor(v,w,T,x,S){const N=S&&!this.gridOptions.enableAddRow&&x>=this.dataViewLength?this.dataViewLength-1:x;let F=T;const U=v[T].editor;let Y=this.grid.getCellNode(N,T);if(!U||!Y||!this.getActiveCellEditor(N,T)){if(F=this.findNextAvailableEditorColumnIndex(v,w,x,S),-1===F)return this.executeOnError({type:"error",code:"NO_EDITOR_FOUND",message:"We could not find any Editor in your Column Definition"}),!1;this.grid.setActiveCell(N,F,!1),S&&this.grid.setActiveRow(this.dataViewLength,F,!0)}return Y=this.grid.getCellNode(N,F),!!Y}findNextAvailableEditorColumnIndex(v,w,T,x){var S;let N=-1;for(let F=0;F<v.length;F++){const U=v[F];if(U.editor&&(!x||x&&(null===(S=U.internalColumnEditor)||void 0===S?void 0:S.massUpdate))){const Y=this.grid.onBeforeEditCell.notify({row:T,cell:F,item:w,column:U,grid:this.grid,target:"composite",compositeEditorOptions:this._compositeOptions});if(this.grid.setActiveCell(T,F,!1),!1!==Y){N=F;break}}}return N}getColumnByObjectOrId(v){let w;return"object"==typeof v?w=v:"string"==typeof v&&(w=this._columnDefinitions.find(T=>T.id===v)),w}getActiveCellEditor(v,w){return this.grid.setActiveCell(v,w,!1),this.grid.getCellEditor()}getColumnLabel(v){var w;const T=this.gridOptions.columnGroupSeparator||" - ";let x=v.nameCompositeEditor||v.name||"",S=v.columnGroup||"";if(this.gridOptions.enableTranslate&&this.translaterService){const F=v.nameCompositeEditorKey||v.nameKey;F&&(x=this.translaterService.translate(F)),v.columnGroupKey&&(null===(w=this.translaterService)||void 0===w?void 0:w.translate)&&(S=this.translaterService.translate(v.columnGroupKey))}return(S?`${S}${T}${x}`:x)||""}getLabelText(v,w,T){var x,S,N,F,U,Y,ce;const be=tn(tn({},null===(x=this.gridOptions.compositeEditorOptions)||void 0===x?void 0:x.labels),null===(S=this._options)||void 0===S?void 0:S.labels);if((null===(N=this.gridOptions)||void 0===N?void 0:N.enableTranslate)&&(null===(F=this.translaterService)||void 0===F?void 0:F.translate)&&be.hasOwnProperty(`${v}Key`)){const te=be[`${v}Key`];return this.translaterService.translate(te||"")}return null!==(ce=null!==(U=null==be?void 0:be[v])&&void 0!==U?U:null===(Y=this._locales)||void 0===Y?void 0:Y[w])&&void 0!==ce?ce:T}getCurrentRowSelections(){var v;const w=null===(v=this.gridStateService)||void 0===v?void 0:v.getCurrentRowSelections();return{gridRowIndexes:(null==w?void 0:w.gridRowIndexes)||[],dataContextIds:(null==w?void 0:w.dataContextIds)||[]}}handleBodyClicked(v){var w,T,x;(null===(T=null===(w=v.target)||void 0===w?void 0:w.classList)||void 0===T?void 0:T.contains("slick-editor-modal"))&&"static"!==(null===(x=this._options)||void 0===x?void 0:x.backdrop)&&this.dispose()}handleKeyDown(v){"Escape"===v.code?(this.cancelEditing(),v.stopPropagation(),v.preventDefault()):"Tab"===v.code&&this.validateCurrentEditor()}handleResetInputValue(v){var w,T;const x=v.target.name,S=null===(w=this._editors)||void 0===w?void 0:w[x];(null==S?void 0:S.reset)&&S.reset(),null===(T=this._formValues)||void 0===T||delete T[x]}handleMassSaving(v,w){var T=this;return(0,j.Z)(function*(){if(T.formValues&&0!==Object.keys(T.formValues).length){const x="mass-update"===v?"applySaveMassUpdateChanges":"applySaveMassSelectionChanges";T.executeOnSave(T[x].bind(T),w.bind(T))}else T.executeOnError({type:"warning",code:"NO_CHANGES_DETECTED",message:"Sorry we could not detect any changes."})})()}handleOnCompositeEditorChange(v,w){var T,x,S,N,F,U,Y,ce;const be=null!==(x=null===(T=w.column)||void 0===T?void 0:T.id)&&void 0!==x?x:"";this._formValues=tn(tn({},this._formValues),w.formValues);const te=null===(S=this._editors)||void 0===S?void 0:S[be],ae=null!==(Y=null!==(F=null===(N=null==te?void 0:te.isValueTouched)||void 0===N?void 0:N.call(te))&&void 0!==F?F:null===(U=null==te?void 0:te.isValueChanged)||void 0===U?void 0:U.call(te))&&void 0!==Y&&Y;this._itemDataContext=null!==(ce=null==te?void 0:te.dataContext)&&void 0!==ce?ce:{};const _e=document.querySelector(`.slick-editor-modal [data-editorid=${be}]`);(null==_e?void 0:_e.classList)&&(ae?_e.classList.add("modified"):_e.classList.remove("modified")),this.validateCompositeEditors()}hasRowSelectionEnabled(){const v=this.grid.getSelectionModel();return(this.gridOptions.enableRowSelection||this.gridOptions.enableCheckboxSelector)&&v}handleResetFormClicked(){for(const v of Object.keys(this._editors)){const w=this._editors[v];(null==w?void 0:w.reset)&&w.reset()}this._formValues=(0,l.FDc)(this._formValues)}handleSaveClicked(){var v,w,T;const x=null===(v=this._options)||void 0===v?void 0:v.modalType;switch(x){case"mass-update":this.handleMassSaving(x,()=>{this.grid.getEditController().cancelCurrentEdit(),this.grid.setActiveCell(0,0,!1),this._options.shouldClearRowSelectionAfterMassAction&&this.grid.setSelectedRows([])});break;case"mass-selection":this.handleMassSaving(x,()=>{this.grid.getEditController().cancelCurrentEdit(),this.grid.setActiveRow(this._lastActiveRowNumber),this._options.shouldClearRowSelectionAfterMassAction&&this.grid.setSelectedRows([])});break;case"clone":const S=tn(tn({},this._originalDataContext),this.formValues),N=()=>{this.grid.getEditController().cancelCurrentEdit(),this.grid.setActiveCell(0,0,!1)};this.executeOnSave(this.insertNewItemInDataView.bind(this,S),N,this.resetCurrentRowDataContext.bind(this),S);break;default:if(this.grid.getEditController().commitCurrentEdit(),"function"==typeof(null===(w=this._options)||void 0===w?void 0:w.onSave)){const F=this.grid.getDataItem(this._lastActiveRowNumber);null===(T=this._options)||void 0===T||T.onSave(this.formValues,this.getCurrentRowSelections(),F)}}}insertNewItemInDataView(v){var w,T,x,S;const N=null!==(T=null===(w=this.dataView)||void 0===w?void 0:w.getItemCount())&&void 0!==T?T:0,F=null!==(x=this._options.insertNewId)&&void 0!==x?x:N+1;v[this.gridOptions.datasetIdPropertyName||"id"]=F,this.dataView.getItemById(F)?this.executeOnError({type:"error",code:"ITEM_ALREADY_EXIST",message:`The item object which you are trying to add already exist with the same Id:: ${F}`}):null===(S=this.gridService)||void 0===S||S.addItem(v,this._options.insertOptions)}parseText(v,w){return v.replace(/\{\{(.*?)\}\}/g,(T,x)=>void 0!==w[x]?w[x]:T)}resetCurrentRowDataContext(){const v=this.gridOptions.datasetIdPropertyName||"id";this.grid.getData().updateItem(this._originalDataContext[v],this._originalDataContext)}validateCompositeEditors(v){let w={valid:!0,msg:""};const T=this.grid.getCellEditor();return T&&(w=T.validate(v)),w}validateCurrentEditor(){const v=this.grid.getCellEditor();(null==v?void 0:v.validate)&&v.validate()}}},7609:(V,k,L)=>{"use strict";L.d(k,{E:()=>j});var l=L(1670),A=L(3467);class j{constructor(){this._rxjs=null,this._sharedService=null,this._defaultOptions={className:"slick-custom-tooltip",offsetLeft:0,offsetRight:0,offsetTopBottom:4,hideArrow:!1,regularTooltipWhiteSpace:"pre-line",whiteSpace:"normal"},this.name="CustomTooltip",this._eventHandler=new Slick.EventHandler}get addonOptions(){return this._addonOptions}get cancellablePromise(){return this._cancellablePromise}get cellAddonOptions(){return this._cellAddonOptions}get className(){var m,b;return null!==(b=null===(m=this._cellAddonOptions)||void 0===m?void 0:m.className)&&void 0!==b?b:"slick-custom-tooltip"}get dataView(){return this._grid.getData()||{}}get gridOptions(){return this._grid.getOptions()||{}}get gridUid(){var m;return(null===(m=this._grid)||void 0===m?void 0:m.getUID())||""}get gridUidSelector(){return this.gridUid?`.${this.gridUid}`:""}get tooltipElm(){return this._tooltipElm}addRxJsResource(m){this._rxjs=m}init(m,b){var v,w;this._grid=m,this._rxjs=b.get("RxJsFacade"),this._sharedService=b.get("SharedService"),this._addonOptions=tn(tn({},this._defaultOptions),null===(w=null===(v=this._sharedService)||void 0===v?void 0:v.gridOptions)||void 0===w?void 0:w.customTooltip),this._eventHandler.subscribe(m.onMouseEnter,this.handleOnMouseEnter.bind(this)).subscribe(m.onHeaderMouseEnter,(T,x)=>this.handleOnHeaderMouseEnterByType(T,x,"slick-header-column")).subscribe(m.onHeaderRowMouseEnter,(T,x)=>this.handleOnHeaderMouseEnterByType(T,x,"slick-headerrow-column")).subscribe(m.onMouseLeave,this.hideTooltip.bind(this)).subscribe(m.onHeaderMouseLeave,this.hideTooltip.bind(this)).subscribe(m.onHeaderRowMouseLeave,this.hideTooltip.bind(this))}dispose(){this.hideTooltip(),this._cancellablePromise=void 0,this._eventHandler.unsubscribeAll()}hideTooltip(){var m,b;null===(m=this._cancellablePromise)||void 0===m||m.cancel(),null===(b=this._observable$)||void 0===b||b.unsubscribe();const v=document.body.querySelector(`.${this.className}${this.gridUidSelector}`);null==v||v.remove()}getOptions(){return this._addonOptions}setOptions(m){this._addonOptions=tn(tn({},this._addonOptions),m)}asyncProcessCallback(m,b,v,w,T){var x,S,N;this.hideTooltip();const F=Vs(tn({},T),{[null!==(S=null===(x=this.addonOptions)||void 0===x?void 0:x.asyncParamsPropName)&&void 0!==S?S:"__params"]:m});(null===(N=this._cellAddonOptions)||void 0===N?void 0:N.useRegularTooltip)?this.renderRegularTooltip(this._cellAddonOptions.asyncPostFormatter,b,v,w,F):this.renderTooltipFormatter(this._cellAddonOptions.asyncPostFormatter,b,v,w,F)}handleOnHeaderMouseEnterByType(m,b,v){var w,T,x;this.hideTooltip();const S={row:-1,cell:this._grid.getColumns().findIndex(Y=>{var ce,be;return(null!==(be=null===(ce=null==b?void 0:b.column)||void 0===ce?void 0:ce.id)&&void 0!==be?be:"")===Y.id})},N=b.column,F={},U="slick-headerrow-column"===v;if((b=b||{}).cell=S.cell,b.row=S.row,b.columnDef=N,b.dataContext=F,b.grid=this._grid,b.type=U?"header-row":"header",this._cellAddonOptions=tn(tn({},this._addonOptions),null==N?void 0:N.customTooltip),!(null==N?void 0:N.disableTooltip)&&("function"!=typeof(null===(w=this._cellAddonOptions)||void 0===w?void 0:w.usabilityOverride)||this._cellAddonOptions.usabilityOverride(b))&&N&&m.target){this._cellNodeElm=m.target.closest(`.${v}`);const Y=U?this._cellAddonOptions.headerRowFormatter:this._cellAddonOptions.headerFormatter;if((null===(T=this._cellAddonOptions)||void 0===T?void 0:T.useRegularTooltip)||!Y){const ce=U?(null===(x=this._cellAddonOptions)||void 0===x?void 0:x.useRegularTooltip)?null:Y:N.name;this.renderRegularTooltip(ce,S,null,N,F)}else this._cellNodeElm&&"function"==typeof Y&&this.renderTooltipFormatter(Y,S,null,N,F)}}handleOnMouseEnter(m){var b=this;return(0,l.Z)(function*(){var v,w,T,x,S,N;if(b.hideTooltip(),m&&b._grid){const F=b._grid.getCellFromEvent(m);if(F){const U=b.dataView?b.dataView.getItem(F.row):b._grid.getDataItem(F.row),Y=b._grid.getColumns()[F.cell];if(b._cellNodeElm=b._grid.getCellNode(F.row,F.cell),U&&Y){if(b._cellAddonOptions=tn(tn({},b._addonOptions),null==Y?void 0:Y.customTooltip),(null==Y?void 0:Y.disableTooltip)||"function"==typeof(null===(v=b._cellAddonOptions)||void 0===v?void 0:v.usabilityOverride)&&!b._cellAddonOptions.usabilityOverride({cell:F.cell,row:F.row,dataContext:U,column:Y,grid:b._grid,type:"cell"}))return;const ce=U.hasOwnProperty(Y.field)?U[Y.field]:null;if(b._cellAddonOptions.useRegularTooltip&&!(null===(w=b._cellAddonOptions)||void 0===w?void 0:w.asyncProcess)||!(null===(T=b._cellAddonOptions)||void 0===T?void 0:T.formatter))b.renderRegularTooltip(Y.formatter,F,ce,Y,U);else if("function"==typeof(null===(x=b._cellAddonOptions)||void 0===x?void 0:x.formatter)&&b.renderTooltipFormatter(b._cellAddonOptions.formatter,F,ce,Y,U),"function"==typeof(null===(S=b._cellAddonOptions)||void 0===S?void 0:S.asyncProcess)){const be=b._cellAddonOptions.asyncProcess(F.row,F.cell,ce,Y,U,b._grid);if(b._cellAddonOptions.asyncPostFormatter||console.error('[Slickgrid-Universal] when using "asyncProcess" with Custom Tooltip, you must also provide an "asyncPostFormatter" formatter.'),be instanceof Promise)b._cancellablePromise=(0,A.gI6)(be),b._cancellablePromise.promise.then(te=>b.asyncProcessCallback(te,F,ce,Y,U)).catch(te=>{te instanceof A.V9u||console.error(te)});else if(null===(N=b._rxjs)||void 0===N?void 0:N.isObservable(be)){const te=b._rxjs;b._observable$=be.pipe(te.switchMap(ae=>te.of(ae))).subscribe(ae=>b.asyncProcessCallback(ae,F,ce,Y,U),ae=>console.error(ae))}}}}}})()}parseFormatterAndSanitize(m,b,v,w,T){if("function"==typeof m){const x=m(b.row,b.cell,v,w,T,this._grid),S="object"==typeof x&&(null==x?void 0:x.text)?x.text:"string"==typeof x?x:"";return(0,A.GR)(this.gridOptions,S)}return"string"==typeof m?(0,A.GR)(this.gridOptions,m):""}renderRegularTooltip(m,b,v,w,T){var x,S,N,F,U,Y,ce,be;const te=(0,A.uq8)("div",{innerHTML:this.parseFormatterAndSanitize(m,b,v,w,T)});let _e,ae=null!==(x=null==w?void 0:w.toolTip)&&void 0!==x?x:"";ae||(this._cellNodeElm&&this._cellNodeElm.clientWidth<this._cellNodeElm.scrollWidth&&!(null===(S=this._cellAddonOptions)||void 0===S?void 0:S.useRegularTooltipFromFormatterOnly)?(ae=null!==(F=null===(N=this._cellNodeElm.textContent)||void 0===N?void 0:N.trim())&&void 0!==F?F:"",(null===(U=this._cellAddonOptions)||void 0===U?void 0:U.tooltipTextMaxLength)&&ae.length>(null===(Y=this._cellAddonOptions)||void 0===Y?void 0:Y.tooltipTextMaxLength)&&(ae=ae.substr(0,this._cellAddonOptions.tooltipTextMaxLength-3)+"..."),_e=this._cellNodeElm):((null===(ce=this._cellAddonOptions)||void 0===ce?void 0:ce.useRegularTooltipFromFormatterOnly)?_e=te.querySelector("[title], [data-slick-tooltip]"):(_e=(0,A.JBK)(this._cellNodeElm,["title","data-slick-tooltip"])?this._cellNodeElm:te.querySelector("[title], [data-slick-tooltip]"),(!_e||!(0,A.JBK)(_e,["title","data-slick-tooltip"]))&&this._cellNodeElm&&(_e=this._cellNodeElm.querySelector("[title], [data-slick-tooltip]"))),(!ae||"function"==typeof m&&(null===(be=this._cellAddonOptions)||void 0===be?void 0:be.useRegularTooltipFromFormatterOnly))&&(ae=(0,A.JBK)(_e,["title","data-slick-tooltip"])||""))),""!==ae&&this.renderTooltipFormatter(m,b,v,w,T,ae),this.swapAndClearTitleAttribute(_e,ae)}renderTooltipFormatter(m,b,v,w,T,x,S){var N,F,U,Y,ce,be,te,ae,_e;this._tooltipElm=(0,A.uq8)("div",{className:this.className}),this._tooltipElm.classList.add(this.gridUid),this._tooltipElm.classList.add("l"+b.cell),this._tooltipElm.classList.add("r"+b.cell);let Te=x||this.parseFormatterAndSanitize(m,b,v,w,T)||"";Te=(null===(N=this._cellAddonOptions)||void 0===N?void 0:N.tooltipTextMaxLength)&&Te.length>this._cellAddonOptions.tooltipTextMaxLength?Te.substr(0,this._cellAddonOptions.tooltipTextMaxLength-3)+"...":Te;let Re="";!x||(null===(F=this._cellAddonOptions)||void 0===F?void 0:F.renderRegularTooltipAsHtml)?(Re=(0,A.GR)(this.gridOptions,Te),this._tooltipElm.innerHTML=Re,this._tooltipElm.style.whiteSpace=null!==(Y=null===(U=this._cellAddonOptions)||void 0===U?void 0:U.whiteSpace)&&void 0!==Y?Y:this._defaultOptions.whiteSpace):(Re=Te||"",this._tooltipElm.textContent=Re,this._tooltipElm.style.whiteSpace=null!==(be=null===(ce=this._cellAddonOptions)||void 0===ce?void 0:ce.regularTooltipWhiteSpace)&&void 0!==be?be:this._defaultOptions.regularTooltipWhiteSpace),(null===(te=this._cellAddonOptions)||void 0===te?void 0:te.maxHeight)&&(this._tooltipElm.style.maxHeight=`${this._cellAddonOptions.maxHeight}px`),(null===(ae=this._cellAddonOptions)||void 0===ae?void 0:ae.maxWidth)&&(this._tooltipElm.style.maxWidth=`${this._cellAddonOptions.maxWidth}px`),Re&&(document.body.appendChild(this._tooltipElm),this.reposition(b),(null===(_e=this._cellAddonOptions)||void 0===_e?void 0:_e.hideArrow)||this._tooltipElm.classList.add("tooltip-arrow"),this.swapAndClearTitleAttribute(S,Te))}reposition(m){var b,v,w,T,x,S,N,F,U,Y,ce;if(this._tooltipElm){this._cellNodeElm=this._cellNodeElm||this._grid.getCellNode(m.row,m.cell);const be=(0,A.CWZ)(this._cellNodeElm)||{top:0,left:0},te=this._cellNodeElm.offsetWidth,ae=this._tooltipElm.getBoundingClientRect().height,_e=this._tooltipElm.getBoundingClientRect().width,Te=document.body.offsetWidth||window.innerWidth;let Re=(be.top||0)-this._tooltipElm.offsetHeight-(null!==(v=null===(b=this._cellAddonOptions)||void 0===b?void 0:b.offsetTopBottom)&&void 0!==v?v:0),G=(be.left||0)-(null!==(T=null===(w=this._cellAddonOptions)||void 0===w?void 0:w.offsetLeft)&&void 0!==T?T:0);const Ee=null!==(S=null===(x=this._cellAddonOptions)||void 0===x?void 0:x.position)&&void 0!==S?S:"auto";"left-align"===Ee||("auto"===Ee||"right-align"!==Ee)&&G+_e>Te?(G-=_e-te-(null!==(F=null===(N=this._cellAddonOptions)||void 0===N?void 0:N.offsetRight)&&void 0!==F?F:0),this._tooltipElm.classList.remove("arrow-left-align"),this._tooltipElm.classList.add("arrow-right-align")):(this._tooltipElm.classList.add("arrow-left-align"),this._tooltipElm.classList.remove("arrow-right-align")),"bottom"===Ee||("auto"===Ee||"top"!==Ee)&&ae>(0,A.Eg6)(this._cellNodeElm).top?(Re=(be.top||0)+(null!==(U=this.gridOptions.rowHeight)&&void 0!==U?U:0)+(null!==(ce=null===(Y=this._cellAddonOptions)||void 0===Y?void 0:Y.offsetTopBottom)&&void 0!==ce?ce:0),this._tooltipElm.classList.remove("arrow-down"),this._tooltipElm.classList.add("arrow-up")):(this._tooltipElm.classList.add("arrow-down"),this._tooltipElm.classList.remove("arrow-up")),this._tooltipElm.style.top=`${Re}px`,this._tooltipElm.style.left=`${G}px`}}swapAndClearTitleAttribute(m,b){var v;const w=m||this._cellNodeElm&&(this._cellNodeElm.hasAttribute("title")&&this._cellNodeElm.getAttribute("title")?this._cellNodeElm:null===(v=this._cellNodeElm)||void 0===v?void 0:v.querySelector("[title]"));w&&(w.setAttribute("data-slick-tooltip",b||""),w.hasAttribute("title")&&w.setAttribute("title",""))}}},5370:(V,k,L)=>{"use strict";L.d(k,{U:()=>w});var l=L(1670),A=L(1631),j=L(4291),I=L.n(j),m=L(3467);const b=I()||j,v={filename:"export",format:m.Tv5.xlsx};class w{constructor(){this._fileFormat=m.Tv5.xlsx,this._columnHeaders=[],this._hasColumnTitlePreHeader=!1,this._hasGroupedItems=!1,this._pubSubService=null,this.className="ExcelExportService"}get _datasetIdPropName(){var x,S;return null!==(S=null===(x=this._gridOptions)||void 0===x?void 0:x.datasetIdPropertyName)&&void 0!==S?S:"id"}get _dataView(){var x;return null===(x=this._grid)||void 0===x?void 0:x.getData()}get _gridOptions(){return this._grid&&this._grid.getOptions?this._grid.getOptions():{}}init(x,S){var N,F,U;if(this._grid=x,this._pubSubService=S.get("PubSubService"),this._locales=null!==(F=null===(N=this._gridOptions)||void 0===N?void 0:N.locales)&&void 0!==F?F:m.gTE.locales,this._translaterService=null===(U=this._gridOptions)||void 0===U?void 0:U.translater,this._gridOptions.enableTranslate&&(!this._translaterService||!this._translaterService.translate))throw new Error('[Slickgrid-Universal] requires a Translate Service to be passed in the "translater" Grid Options when "enableTranslate" is enabled. (example: this.gridOptions = { enableTranslate: true, translater: this.translaterService })')}exportToExcel(x){var S=this;if(!this._grid||!this._dataView||!this._pubSubService)throw new Error('[Slickgrid-Universal] it seems that the SlickGrid & DataView objects and/or PubSubService are not initialized did you forget to enable the grid option flag "enableExcelExport"?');return new Promise(N=>{var F;null===(F=this._pubSubService)||void 0===F||F.publish("onBeforeExportToExcel",!0),this._excelExportOptions=(0,m.p$x)(tn(tn(tn({},v),this._gridOptions.excelExportOptions),x)),this._fileFormat=this._excelExportOptions.format||m.Tv5.xlsx;const U={name:this._excelExportOptions.sheetName||"Sheet1"};this._workbook=A.Workbook?new A.Workbook:A.createWorkbook(),this._sheet=A.Worksheet?new A.Worksheet(U):this._workbook.createWorksheet(U),this._stylesheet=this._workbook.getStyleSheet();const Y=this._stylesheet.createFormat({font:{bold:!0}}),ce=this._stylesheet.createFormat({format:"@"}),be=this._stylesheet.createFormat({format:"0"}),te=this._stylesheet.createFormat({format:"$#,##0.00"});this._stylesheetFormats={boldFormatter:Y,dollarFormatter:te,numberFormatter:be,stringFormatter:ce};const ae=this.getDataOutput();setTimeout((0,l.Z)(function*(){var _e;S._gridOptions&&S._gridOptions.excelExportOptions&&S._gridOptions.excelExportOptions.customExcelHeader&&S._gridOptions.excelExportOptions.customExcelHeader(S._workbook,S._sheet);const Te=S._grid&&S._grid.getColumns&&S._grid.getColumns()||[];S._sheet.setColumns(S.getColumnStyles(Te));const Re=S._sheet.data;let G=Re;Array.isArray(Re)&&Array.isArray(ae)&&(G=S._sheet.data.concat(ae)),S._sheet.setData(G),S._workbook.addWorksheet(S._sheet);const Ee=A.Builder&&A.Builder.createFile?A.Builder.createFile:A.createFile,Ie=S._fileFormat===m.Tv5.xls?"application/vnd.ms-excel":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet ",Le=yield Ee(S._workbook,{type:"blob",mimeType:Ie}),ne={filename:`${S._excelExportOptions.filename}.${S._fileFormat}`,format:S._fileFormat};S.startDownloadFile(Vs(tn({},ne),{blob:Le,data:S._sheet.data})),null===(_e=S._pubSubService)||void 0===_e||_e.publish("onAfterExportToExcel",ne),N(!0)}))})}getExcelColumnNameByIndex(x){const S="ZABCDEFGHIJKLMNOPQRSTUVWXY";let N=Math.floor(x/26);const F=Math.floor(x%26);return 0===F&&N--,x>26?this.getExcelColumnNameByIndex(N)+S[F]:S[F]+""}startDownloadFile(x){if("function"==typeof navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(x.blob,x.filename);else{const S=document.createElement("a"),N=URL.createObjectURL(x.blob);S&&document&&(S.textContent="download",S.href=N,S.setAttribute("download",x.filename),S.style.visibility="hidden",document.body.appendChild(S),S.click(),document.body.removeChild(S))}}useCellFormatByFieldType(x,S){let N=x;switch(S){case m.fSu.dateTime:case m.fSu.dateTimeIso:case m.fSu.dateTimeShortIso:case m.fSu.dateTimeIsoAmPm:case m.fSu.dateTimeIsoAM_PM:case m.fSu.dateEuro:case m.fSu.dateEuroShort:case m.fSu.dateTimeEuro:case m.fSu.dateTimeShortEuro:case m.fSu.dateTimeEuroAmPm:case m.fSu.dateTimeEuroAM_PM:case m.fSu.dateTimeEuroShort:case m.fSu.dateTimeEuroShortAmPm:case m.fSu.dateUs:case m.fSu.dateUsShort:case m.fSu.dateTimeUs:case m.fSu.dateTimeShortUs:case m.fSu.dateTimeUsAmPm:case m.fSu.dateTimeUsAM_PM:case m.fSu.dateTimeUsShort:case m.fSu.dateTimeUsShortAmPm:case m.fSu.dateUtc:case m.fSu.date:case m.fSu.dateIso:if(N=x,x){const Y=(0,m.y0R)(S),ce=b(x,Y,!1).isValid();N={value:x&&ce?b(x).format(Y):x,metadata:{style:this._stylesheet.createFormat({format:Y}).id}}}break;case m.fSu.number:const F=parseFloat(x);N={value:isNaN(F)?null:F,metadata:{style:this._stylesheetFormats.numberFormatter.id}};break;default:N=x}return N}getDataOutput(){const x=this._grid&&this._grid.getColumns&&this._grid.getColumns()||[],S=[],N=this._gridOptions&&this._gridOptions.excelExportOptions&&this._gridOptions.excelExportOptions.columnHeaderStyle;let F=this._stylesheetFormats.boldFormatter.id;if(N&&(F=this._stylesheet.createFormat(N).id),this._gridOptions.createPreHeaderPanel&&this._gridOptions.showPreHeaderPanel&&!this._gridOptions.enableDraggableGrouping){const U=this._stylesheet.createFormat({alignment:{horizontal:"center"},font:{bold:!0}});S.push(this.getColumnGroupedHeaderTitlesData(x,{style:null==U?void 0:U.id})),this._hasColumnTitlePreHeader=!0}return S.push(this.getColumnHeaderData(x,{style:F})),this.pushAllGridRowDataToArray(S,x),S}getColumnStyles(x){var S,N,F;const U=this._dataView.getGrouping(),Y=[];return Array.isArray(U)&&U.length>0&&Y.push({bestFit:!0,columnStyles:null!==(F=null===(N=null===(S=this._gridOptions)||void 0===S?void 0:S.excelExportOptions)||void 0===N?void 0:N.customColumnWidth)&&void 0!==F?F:10}),x.forEach(ce=>{var be,te,ae,_e,Te;const Re=null!==(be=ce.excludeFromExport)&&void 0!==be&&be;(void 0===ce.width||ce.width>0)&&!Re&&Y.push({bestFit:!0,width:null!==(Te=null!==(te=ce.exportColumnWidth)&&void 0!==te?te:null===(_e=null===(ae=this._gridOptions)||void 0===ae?void 0:ae.excelExportOptions)||void 0===_e?void 0:_e.customColumnWidth)&&void 0!==Te?Te:10})}),Y}getColumnGroupedHeaderTitlesData(x,S){let N=[];this._groupedColumnHeaders=this.getColumnGroupedHeaderTitles(x)||[],this._groupedColumnHeaders&&Array.isArray(this._groupedColumnHeaders)&&this._groupedColumnHeaders.length>0&&(N=this._groupedColumnHeaders.map(Y=>({value:Y.title,metadata:S})));let F=0;const U=this._groupedColumnHeaders.length;for(let Y=0;Y<U;Y++)if(Y+1===U||Y+1<U&&this._groupedColumnHeaders[Y].title!==this._groupedColumnHeaders[Y+1].title){const ce=this.getExcelColumnNameByIndex(F+1),be=this.getExcelColumnNameByIndex(Y+1);this._sheet.mergeCells(`${ce}1`,`${be}1`),F=Y+1}return N}getColumnHeaderData(x,S){let N=[];this._columnHeaders=this.getColumnHeaders(x)||[],this._columnHeaders&&Array.isArray(this._columnHeaders)&&this._columnHeaders.length>0&&(N=this._columnHeaders.map(U=>({value:(0,m.Ksf)(U.title),metadata:S})));const F=this.getGroupColumnTitle();return F&&N.unshift({value:F,metadata:S}),N}getGroupColumnTitle(){var x;let S=this._excelExportOptions.groupingColumnHeaderTitle;!S&&this._gridOptions.enableTranslate&&(null===(x=this._translaterService)||void 0===x?void 0:x.translate)?S=this._translaterService.translate(`${(0,m.YdZ)(this._gridOptions)}GROUP_BY`):S||(S=this._locales&&this._locales.TEXT_GROUP_BY);const N=this._dataView.getGrouping();return Array.isArray(N)&&N.length>0?(this._hasGroupedItems=!0,S):(this._hasGroupedItems=!1,null)}getColumnGroupedHeaderTitles(x){const S=[];return x&&Array.isArray(x)&&x.forEach(N=>{var F;let U="";U=N.columnGroupKey&&this._gridOptions.enableTranslate&&(null===(F=this._translaterService)||void 0===F?void 0:F.translate)?this._translaterService.translate(N.columnGroupKey):N.columnGroup||"";const Y=N.excludeFromExport||!1;(void 0===N.width||N.width>0)&&!Y&&S.push({key:N.field||N.id,title:U||""})}),S}getColumnHeaders(x){const S=[];return x&&Array.isArray(x)&&x.forEach(N=>{var F;let U="";U=(N.nameKey||N.nameKey)&&this._gridOptions.enableTranslate&&(null===(F=this._translaterService)||void 0===F?void 0:F.translate)?this._translaterService.translate(N.nameKey||N.nameKey):N.name||(0,m.Qsb)(N.field);const Y=N.excludeFromExport||!1;(void 0===N.width||N.width>0)&&!Y&&S.push({key:(N.field||N.id)+"",title:U})}),S}pushAllGridRowDataToArray(x,S){const N=this._dataView.getLength();for(let F=0;F<N;F++){const U=this._dataView.getItem(F);U&&!U.hasOwnProperty("getItem")&&(null!==U[this._datasetIdPropName]&&void 0!==U[this._datasetIdPropName]?x.push(this.readRegularRowData(S,F,U)):this._hasGroupedItems&&void 0===U.__groupTotals?x.push([this.readGroupedRowTitle(U)]):U.__groupTotals&&x.push(this.readGroupedTotalRows(S,U)))}return x}readRegularRowData(x,S,N){var F;let U=0;const Y=[],ce=x.length;let be=1,te=0;const ae=this._dataView.getItemMetadata(S);for(let _e=0;_e<ce;_e++){const Te=x[_e],Re=Te.outputType||Te.type||m.fSu.string;if(Te.excludeFromExport)continue;this._hasGroupedItems&&0===U&&Y.push("");let Ee,G=1;if(null==ae?void 0:ae.columns){const Ie=ae.columns,Le=Ie[Te.id]||Ie[_e];be>1||"*"===be&&_e>0||(be=null!==(F=null==Le?void 0:Le.colspan)&&void 0!==F?F:1),"*"===be?G=x.length-_e:(G=be,Te.id in Ie&&(Ee=Te.id,te=_e))}if("*"===be&&_e>0||be>1&&Te.id!==Ee){const Ie=S+(this._hasColumnTitlePreHeader?3:2);if("number"==typeof be&&G-1==1){const Le=this.getExcelColumnNameByIndex(te+1),ne=this.getExcelColumnNameByIndex(_e+1);this._sheet.mergeCells(`${Le}${Ie}`,`${ne}${Ie}`),Y.push("")}else if("*"===be&&1===G){const Le=this.getExcelColumnNameByIndex(_e+1);this._sheet.mergeCells(`A${Ie}`,`${Le}${Ie}`)}else Y.push("");"number"==typeof be&&be>1&&(G=be--)}else{let Ie=(0,m.tt1)(S,_e,Te,N,this._grid,this._excelExportOptions);(Te.sanitizeDataExport||this._excelExportOptions.sanitizeDataExport)&&(Ie=(0,m.Ksf)(Ie)),Te.exportWithFormatter||(Ie=this.useCellFormatByFieldType(Ie,Re)),Y.push(Ie),U++}}return Y}readGroupedRowTitle(x){const S=(0,m.Ksf)(x.title);if(this._excelExportOptions&&this._excelExportOptions.addGroupIndentation){const N=this._excelExportOptions&&this._excelExportOptions.groupCollapsedSymbol||"\u2b9e",F=this._excelExportOptions&&this._excelExportOptions.groupExpandedSymbol||"\u2b9f";return(x.collapsed?N:F)+" "+(0,m.kFQ)(5*x.level)+S}return S}readGroupedTotalRows(x,S){const F=[this._excelExportOptions.groupingAggregatorRowText||""];return x.forEach(U=>{let Y="";const ce=U.excludeFromExport||!1;U.exportCustomGroupTotalsFormatter?Y=U.exportCustomGroupTotalsFormatter(S,U,this._grid):U.groupTotalsFormatter&&(Y=U.groupTotalsFormatter(S,U,this._grid)),(U.sanitizeDataExport||this._excelExportOptions.sanitizeDataExport)&&(Y=(0,m.Ksf)(Y)),(void 0===U.width||U.width>0)&&!ce&&F.push(Y)}),F}}},9953:(V,k,L)=>{"use strict";L.d(k,{J:()=>m});var l=L(3467);class A{constructor(v,w){if(this.queryFnName=v,this.head=[],"string"==typeof w)this.alias=w;else if("object"==typeof w)this.filter(w);else{if(void 0===w&&2===arguments.length)throw new TypeError('You have passed undefined as Second argument to "Query"');if(void 0!==w)throw new TypeError(`Second argument to "Query" should be an alias name(String) or filter arguments(Object). What was passed is: ${w}`)}}filter(v){for(const w of Object.keys(v)){if("function"==typeof v[w])continue;const T=this.getGraphQLValue(v[w]);"{}"!==T&&this.head.push(`${w}:${T}`)}return this}find(...v){if(!v||!Array.isArray(v)||0===v.length)throw new TypeError("find value can not be >>falsy<<");const w=1===v.length&&Array.isArray(v[0])?v[0]:v;return this.body=this.parceFind(w),this}setAlias(v){this.alias=v}toString(){if(void 0===this.body)throw new ReferenceError("return properties are not defined. use the 'find' function to defined them");return`${this.alias?this.alias+":":""} ${this.queryFnName} ${this.head.length>0?"("+this.head.join(",")+")":""}  { ${this.body} }`}parceFind(v){return v.map((T,x)=>{const S=v[x];if(S instanceof A)return S.toString();if(Array.isArray(S)||"object"!=typeof S){if("string"==typeof S)return S;throw new RangeError(`cannot handle Find value of ${S}`)}{const N=Object.keys(S);if(1!==N.length)throw new RangeError(`Alias objects should only have one value. was passed: ${JSON.stringify(S)}`);const F=N[0],U=S[F];return Array.isArray(U)?new A(F).find(U):`${F} : ${U} `}}).join(",")}getGraphQLValue(v){return"string"==typeof v?v=JSON.stringify(v):Array.isArray(v)?v=`[${v=v.map(w=>this.getGraphQLValue(w)).join()}]`:v instanceof Date?v=JSON.stringify(v):null!==v&&"object"==typeof v&&(v=this.objectToString(v)),v}objectToString(v){const w=[];for(const T of Object.keys(v))"function"!=typeof v[T]&&w.push(`${T}:${this.getGraphQLValue(v[T])}`);return`{${w.join()}}`}}class m{constructor(){this._currentFilters=[],this._currentPagination=null,this._currentSorters=[],this._datasetIdPropName="id",this.defaultPaginationOptions={first:25,offset:0}}get columnDefinitions(){return this._columnDefinitions}get _gridOptions(){var v;return(null===(v=this._grid)||void 0===v?void 0:v.getOptions)?this._grid.getOptions():{}}init(v,w,T,x){var S,N;this._grid=T,this.options=v||{datasetName:""},this.pagination=w,this._datasetIdPropName=this._gridOptions.datasetIdPropertyName||"id",T&&T.getColumns&&(this._columnDefinitions=null!==(N=null!==(S=null==x?void 0:x.allColumns)&&void 0!==S?S:T.getColumns())&&void 0!==N?N:[])}buildQuery(){var v,w;if(!this.options||!this.options.datasetName||!Array.isArray(this._columnDefinitions))throw new Error('GraphQL Service requires the "datasetName" property to properly build the GraphQL query');let T=this._columnDefinitions||[];T=T.filter(te=>!te.excludeFromQuery);const x=new A("query"),S=new A(this.options.datasetName),N=new A("nodes"),F=[];if(T&&Array.isArray(T))for(const te of T)F.push(te.field),te.fields&&F.push(...te.fields);-1===F.indexOf(this._datasetIdPropName)&&F.unshift(this._datasetIdPropName);const U=this.buildFilterQuery(F);let Y=[];if(!1!==this._gridOptions.enablePagination){if(this.options.isWithCursor){const te=new A("edges"),ae=new A("pageInfo");ae.find("hasNextPage","hasPreviousPage","endCursor","startCursor"),N.find(U),te.find(["cursor"]),Y=["totalCount",N,ae,te]}else N.find(U),Y=["totalCount",N];S.find(Y)}else S.find(U);let ce={};if(!1!==this._gridOptions.enablePagination&&(ce=Vs(tn({},this.options.paginationOptions),{first:(this.options.paginationOptions&&this.options.paginationOptions.first?this.options.paginationOptions.first:this.pagination&&this.pagination.pageSize?this.pagination.pageSize:null)||this.defaultPaginationOptions.first}),!this.options.isWithCursor)){const te=null===(v=this.options)||void 0===v?void 0:v.paginationOptions;ce.offset=(null==te?void 0:te.hasOwnProperty("offset"))?+te.offset:0}if(this.options.sortingOptions&&Array.isArray(this.options.sortingOptions)&&this.options.sortingOptions.length>0&&(ce.orderBy=this.options.sortingOptions),this.options.filteringOptions&&Array.isArray(this.options.filteringOptions)&&this.options.filteringOptions.length>0&&(ce.filterBy=this.options.filteringOptions),this.options.addLocaleIntoQuery&&(ce.locale=(null===(w=this._gridOptions.translater)||void 0===w?void 0:w.getCurrentLanguage())||this._gridOptions.locale||"en"),this.options.extraQueryArguments)for(const te of this.options.extraQueryArguments)ce[te.field]=te.value;S.filter(ce),x.find(S);return this.trimDoubleQuotesOnEnumField(x.toString(),["direction:","field:","operator:"],this.options.keepArgumentFieldDoubleQuotes||!1)}buildFilterQuery(v){const w=(x={},S)=>{const N=S.shift();return x[N]=S.length?w(x[N],S):null,x},T=v.reduce((x,S)=>w(x,S.split(".")),{});return JSON.stringify(T).replace(/\"|\:|null/g,"").replace(/^\{/,"").replace(/\}$/,"")}clearFilters(){this._currentFilters=[],this.updateOptions({filteringOptions:[]})}clearSorters(){this._currentSorters=[],this.updateOptions({sortingOptions:[]})}getInitPaginationOptions(){var v;const w=this.pagination?this.pagination.pageSize:25;return(null===(v=this.options)||void 0===v?void 0:v.isWithCursor)?{first:w}:{first:w,offset:0}}getDatasetName(){var v;return(null===(v=this.options)||void 0===v?void 0:v.datasetName)||""}getCurrentFilters(){return this._currentFilters}getCurrentPagination(){return this._currentPagination}getCurrentSorters(){return this._currentSorters}resetPaginationOptions(){let v;this.options&&this.options.isWithCursor?v={after:"",before:void 0,last:void 0}:(v=this.options&&this.options.paginationOptions||this.getInitPaginationOptions(),v.offset=0),this._currentPagination={pageNumber:1,pageSize:v.first||20},this._gridOptions&&(this._gridOptions.enablePagination||!this._gridOptions.hasOwnProperty("enablePagination"))&&this.updateOptions({paginationOptions:v})}updateOptions(v){this.options=tn(tn({},this.options),v)}processOnFilterChanged(v,w){if(void 0===this._gridOptions.backendServiceApi)throw new Error('Something went wrong in the GraphqlService, "backendServiceApi" is not initialized');if(this._currentFilters=this.castFilterToColumnFilters(w.columnFilters),!w||!w.grid)throw new Error('Something went wrong when trying create the GraphQL Backend Service, it seems that "args" is not populated correctly');return this.updateFilters(w.columnFilters,!1),this.resetPaginationOptions(),this.buildQuery()}processOnPaginationChanged(v,w){const T=+(w.pageSize||(this.pagination?this.pagination.pageSize:20));return this.updatePagination(w.newPage,T),this.buildQuery()}processOnSortChanged(v,w){const T=w.multiColumnSort?w.sortCols:new Array({columnId:w.sortCol.id,sortCol:w.sortCol,sortAsc:w.sortAsc});return this.updateSorters(T),this.buildQuery()}updateFilters(v,w){var T,x;const S=[];let N;w&&(this._currentFilters=this.castFilterToColumnFilters(v));for(const F in v)if(v.hasOwnProperty(F)){const U=v[F];let Y;if(Y=w&&Array.isArray(this._columnDefinitions)?this._columnDefinitions.find(G=>G.id===U.columnId):U.columnDef,!Y)throw new Error("[GraphQL Service]: Something went wrong in trying to get the column definition of the specified filter (or preset filters). Did you make a typo on the filter columnId?");const ce=(null===(T=Y.filter)||void 0===T?void 0:T.queryField)||Y.queryFieldFilter||Y.queryField||Y.field||Y.name||"",be=Y.type||l.fSu.string;let te=null!==(x=null==U?void 0:U.searchTerms)&&void 0!==x?x:[],ae=Array.isArray(te)&&1===te.length?te[0]:"";if(void 0===ae&&(ae=""),!ce)throw new Error('GraphQL filter could not find the field name to query the search, your column definition must include a valid "field" or "name" (optionally you can also use the "queryfield").');ae=null==ae?"":`${ae}`;const _e=ae.match(/^([<>!=\*]{0,2})(.*[^<>!=\*])([\*]?)$/);let Te=U.operator||(_e?_e[1]:"");N=_e?_e[2]:"";const Re=_e?_e[3]:"*z"===Te?"*":"";if(ce&&""===N&&0===te.length)continue;if(Array.isArray(te)&&1===te.length&&"string"==typeof te[0]&&te[0].indexOf("..")>=0&&(Te||(Te=this._gridOptions.defaultFilterRangeOperator),te=te[0].split("..",2),""===te[0]?(Te=Te===l.$MC.rangeInclusive?"<=":Te===l.$MC.rangeExclusive?"<":Te,te=te.slice(1),N=te[0]):""===te[1]&&(Te=Te===l.$MC.rangeInclusive?">=":Te===l.$MC.rangeExclusive?">":Te,te=te.slice(0,1),N=te[0])),"string"==typeof N&&("*"===Te||"a*"===Te||"*z"===Te||"*"===Re)&&(Te="*"===Te||"*z"===Te?"EndsWith":"StartsWith"),!Te&&Y.filter&&Y.filter.operator&&(Te=Y.filter.operator),!Te&&Array.isArray(te)&&2===te.length&&te[0]&&te[1]&&(Te=this._gridOptions.defaultFilterRangeOperator),(Te===l.$MC.rangeInclusive||l.$MC.rangeExclusive)&&Array.isArray(te)&&1===te.length&&be===l.fSu.date&&(Te=l.$MC.equal),N=this.normalizeSearchValue(be,N),Array.isArray(te)&&te.forEach((G,Ee)=>{te[Ee]=this.normalizeSearchValue(be,te[Ee])}),te&&te.length>1&&("IN"===Te||"NIN"===Te||"NOT_IN"===Te))N=te.join(",");else if(te&&2===te.length&&(Te===l.$MC.rangeExclusive||Te===l.$MC.rangeInclusive)){S.push({field:ce,operator:Te===l.$MC.rangeInclusive?"GE":"GT",value:te[0]}),S.push({field:ce,operator:Te===l.$MC.rangeInclusive?"LE":"LT",value:te[1]});continue}Te||(Te=(0,l.xaq)(be)),S.push({field:ce,operator:(0,l.b42)(Te),value:N})}this.updateOptions({filteringOptions:S})}updatePagination(v,w){let T;this._currentPagination={pageNumber:v,pageSize:w},T=this.options&&this.options.isWithCursor?{first:w}:{first:w,offset:v>1?(v-1)*w:0},this.updateOptions({paginationOptions:T})}updateSorters(v,w){let T=[];const x=[];if(!v&&w){T=w,T.forEach(N=>N.direction=N.direction.toUpperCase());const S=T.map(N=>{var F;const U=null===(F=this._columnDefinitions)||void 0===F?void 0:F.find(Y=>Y.id===N.columnId);return x.push({field:U?(U.queryFieldSorter||U.queryField||U.field)+"":N.columnId+"",direction:N.direction}),U?{columnId:N.columnId,sortAsc:N.direction.toUpperCase()===l.SrV.ASC}:null});Array.isArray(S)&&this._grid&&this._grid.setSortColumns(S.filter(N=>N)||[])}else if(v&&!w&&Array.isArray(v)&&v.length>0)for(const S of v)if(S&&S.sortCol){T.push({columnId:S.sortCol.id+"",direction:S.sortAsc?l.SrV.ASC:l.SrV.DESC});const N=(S.sortCol.queryFieldSorter||S.sortCol.queryField||S.sortCol.field||"")+"";N&&x.push({field:N,direction:S.sortAsc?l.SrV.ASC:l.SrV.DESC})}this._currentSorters=T,this.updateOptions({sortingOptions:x})}trimDoubleQuotesOnEnumField(v,w,T){const x='s?((field:s*)?".*?")';let S=w.join(x+"|");S+=x;const N=new RegExp(S,"g");return v.replace(N,F=>{let U=!0;return F.startsWith("field:")&&T&&(U=!1),U?F.replace(/"/g,""):F})}castFilterToColumnFilters(v){const w="object"==typeof v?Object.keys(v).map(T=>v[T]):v;return Array.isArray(w)?w.map(T=>{const x={columnId:T.columnId||""};return T.operator&&(x.operator=T.operator),Array.isArray(T.searchTerms)&&(x.searchTerms=T.searchTerms),x}):[]}normalizeSearchValue(v,w){switch(v){case l.fSu.date:case l.fSu.string:case l.fSu.text:case l.fSu.readonly:"string"==typeof w&&(w=w.replace(/'/g,"''"));break;case l.fSu.integer:case l.fSu.number:case l.fSu.float:"string"==typeof w&&((""===(w=(w=(w=(w=(w=w.replace(/\.\./g,".")).replace(/\.+$/g,"")).replace(/^\.+/g,"0.")).replace(/^\-+\.+/g,"-0.")).replace(/(?!^\-)[^\d\.]/g,""))||"-"===w)&&(w="0"))}return w}}},4075:(V,k,L)=>{"use strict";L.d(k,{R:()=>m});var l=L(3467);class A{constructor(){this._filterCount=0,this._odataOptions={filterQueue:[],orderBy:""},this._defaultSortBy="",this._columnFilters={}}buildQuery(){if(!this._odataOptions)throw new Error('Odata Service requires certain options like "top" for it to work');this._odataOptions.filterQueue=[];const v=[];if(this._odataOptions&&!0===this._odataOptions.enableCount){const w=this._odataOptions.version&&this._odataOptions.version>=4?"$count=true":"$inlinecount=allpages";v.push(w)}if(this._odataOptions.top&&v.push(`$top=${this._odataOptions.top}`),this._odataOptions.skip&&v.push(`$skip=${this._odataOptions.skip}`),this._odataOptions.orderBy){let w="";w=Array.isArray(this._odataOptions.orderBy)?this._odataOptions.orderBy.join(","):this._odataOptions.orderBy,v.push(`$orderby=${w}`)}if(this._odataOptions.filterBy||this._odataOptions.filter){const w=this._odataOptions.filter||this._odataOptions.filterBy;if(w){this._filterCount=1,this._odataOptions.filterQueue=[];let T=w;Array.isArray(w)&&(this._filterCount=w.length,T=w.join(` ${this._odataOptions.filterBySeparator||"and"} `)),"string"==typeof T&&("("===T[0]&&")"===T.slice(-1)?this.addToFilterQueueWhenNotExists(T):this.addToFilterQueueWhenNotExists(`(${T})`))}}if(this._odataOptions.filterQueue.length>0){const w=this._odataOptions.filterQueue.join(` ${this._odataOptions.filterBySeparator||"and"} `);this._odataOptions.filter=w,v.push(`$filter=${w}`)}return v.join("&")}getFilterCount(){return this._filterCount}get columnFilters(){return this._columnFilters}get options(){return this._odataOptions}set options(v){this._odataOptions=v}removeColumnFilter(v){this._columnFilters&&this._columnFilters.hasOwnProperty(v)&&delete this._columnFilters[v]}saveColumnFilter(v,w,T){this._columnFilters[v]={search:T,value:w}}updateOptions(v){for(const w of Object.keys(v))if(v.hasOwnProperty(w)&&(this._odataOptions[w]=v[w]),"orderBy"===w||"sortBy"===w){let T=v[w];this._odataOptions.caseType===l.blG.pascalCase&&(Array.isArray(T)?T.forEach((x,S,N)=>{N[S]=(0,l.Qsb)(x)}):T=(0,l.Qsb)(v[w])),this._odataOptions.orderBy=T,this._defaultSortBy=T}}addToFilterQueueWhenNotExists(v){this._odataOptions.filterQueue&&-1===this._odataOptions.filterQueue.indexOf(v)&&this._odataOptions.filterQueue.push(v)}}class m{constructor(){this._currentFilters=[],this._currentPagination=null,this._currentSorters=[],this._columnDefinitions=[],this.defaultOptions={top:25,orderBy:"",caseType:l.blG.pascalCase},this._odataService=new A}get columnDefinitions(){return this._columnDefinitions}get odataService(){return this._odataService}get _gridOptions(){var v;return(null===(v=this._grid)||void 0===v?void 0:v.getOptions)?this._grid.getOptions():{}}init(v,w,T,x){var S,N;this._grid=T;const F=tn(tn({},this.defaultOptions),v);if(this._gridOptions&&!this._gridOptions.enablePagination)this._odataService.options=Vs(tn({},F),{top:void 0}),this._currentPagination=null;else{const U=w&&w.pageSize?w.pageSize:this.defaultOptions.top;this._odataService.options=Vs(tn({},F),{top:U}),this._currentPagination={pageNumber:1,pageSize:this._odataService.options.top||this.defaultOptions.top||20}}if(this.options=this._odataService.options,this.pagination=w,null==T?void 0:T.getColumns){const U=null!==(N=null!==(S=null==x?void 0:x.allColumns)&&void 0!==S?S:T.getColumns())&&void 0!==N?N:[];this._columnDefinitions=U.filter(Y=>!Y.excludeFromQuery)}}buildQuery(){return this._odataService.buildQuery()}clearFilters(){this._currentFilters=[],this.updateFilters([])}clearSorters(){this._currentSorters=[],this.updateSorters([])}updateOptions(v){this.options=tn(tn({},this.options),v),this._odataService.options=this.options}removeColumnFilter(v){this._odataService.removeColumnFilter(v)}getCurrentFilters(){return this._currentFilters}getCurrentPagination(){return this._currentPagination}getCurrentSorters(){return this._currentSorters}mapOdataOperator(v){let w="";switch(v){case"<":w="lt";break;case"<=":w="le";break;case">":w="gt";break;case">=":w="ge";break;case"<>":case"!=":w="ne";break;default:w="eq"}return w}resetPaginationOptions(){this._odataService.updateOptions({skip:0})}saveColumnFilter(v,w,T){this._odataService.saveColumnFilter(v,w,T)}processOnFilterChanged(v,w){if(void 0===this._gridOptions.backendServiceApi)throw new Error('Something went wrong in the GridOdataService, "backendServiceApi" is not initialized');if(this._currentFilters=this.castFilterToColumnFilters(w.columnFilters),!w||!w.grid)throw new Error('Something went wrong when trying create the GridOdataService, it seems that "args" is not populated correctly');return this.updateFilters(w.columnFilters),this.resetPaginationOptions(),this._odataService.buildQuery()}processOnPaginationChanged(v,w){const T=+(w.pageSize||(this.pagination?this.pagination.pageSize:20));return this.updatePagination(w.newPage,T),this._odataService.buildQuery()}processOnSortChanged(v,w){const T=w.multiColumnSort?w.sortCols:new Array({columnId:w.sortCol.id,sortCol:w.sortCol,sortAsc:w.sortAsc});return this.updateSorters(T),this._odataService.buildQuery()}updateFilters(v,w){var T,x,S,N;let F="";const U=[],Y=null!==(S=null===(x=null===(T=this._odataService)||void 0===T?void 0:T.options)||void 0===x?void 0:x.version)&&void 0!==S?S:2;w&&(this._currentFilters=this.castFilterToColumnFilters(v));for(const ce in v)if(v.hasOwnProperty(ce)){const be=v[ce];let te;if(te=w&&Array.isArray(this._columnDefinitions)?this._columnDefinitions.find(Pe=>Pe.id===be.columnId):be.columnDef,!te)throw new Error("[GridOData Service]: Something went wrong in trying to get the column definition of the specified filter (or preset filters). Did you make a typo on the filter columnId?");let ae=(null===(N=te.filter)||void 0===N?void 0:N.queryField)||te.queryFieldFilter||te.queryField||te.field||te.name||"";const _e=te.type||l.fSu.string;let Te=(be&&be.searchTerms?[...be.searchTerms]:null)||[],Re=Array.isArray(Te)&&1===Te.length?Te[0]:"";if(void 0===Re&&(Re=""),!ae)throw new Error('GridOData filter could not find the field name to query the search, your column definition must include a valid "field" or "name" (optionally you can also use the "queryfield").');Re=null==Re?"":`${Re}`;const G=Re.match(/^([<>!=\*]{0,2})(.*[^<>!=\*])([\*]?)$/);let Ee=be.operator||(G?G[1]:""),Ie=G?G[2]:"";const Le=G?G[3]:"*z"===Ee||Ee===l.$MC.endsWith?"*":"",ne=be.bypassBackendQuery||!1;if(ae&&""===Ie&&Te.length<=1){this.removeColumnFilter(ae);continue}if(Array.isArray(Te)&&1===Te.length&&"string"==typeof Te[0]&&Te[0].indexOf("..")>=0&&(Ee||(Ee=this._gridOptions.defaultFilterRangeOperator),Te=Te[0].split("..",2),""===Te[0]?(Ee=Ee===l.$MC.rangeInclusive?"<=":Ee===l.$MC.rangeExclusive?"<":Ee,Te=Te.slice(1),Ie=Te[0]):""===Te[1]&&(Ee=Ee===l.$MC.rangeInclusive?">=":Ee===l.$MC.rangeExclusive?">":Ee,Te=Te.slice(0,1),Ie=Te[0])),!Ee&&te.filter&&(Ee=te.filter.operator),!Ee&&Array.isArray(Te)&&2===Te.length&&Te[0]&&Te[1]&&(Ee=this._gridOptions.defaultFilterRangeOperator),(Ee===l.$MC.rangeInclusive||l.$MC.rangeExclusive)&&Array.isArray(Te)&&1===Te.length&&_e===l.fSu.date&&(Ee=l.$MC.equal),Ee||(Ee=(0,l.xaq)(_e)),ne)ae&&this.saveColumnFilter(ae,Re,Te);else{if(Ie=this.normalizeSearchValue(_e,Ie,Y),Array.isArray(Te)&&Te.forEach((Pe,He)=>{Te[He]=this.normalizeSearchValue(_e,Te[He],Y)}),F="",this._odataService.options.caseType===l.blG.pascalCase&&(ae=(0,l.Qsb)(ae||"")),Te&&Te.length>1&&("IN"===Ee||"NIN"===Ee||"NOTIN"===Ee||"NOT IN"===Ee||"NOT_IN"===Ee)){const Pe=[];if("IN"===Ee){for(let He=0,ze=Te.length;He<ze;He++)Pe.push(`${ae} eq ${Te[He]}`);F=Pe.join(" or ")}else{for(let He=0,ze=Te.length;He<ze;He++)Pe.push(`${ae} ne ${Te[He]}`);F=Pe.join(" and ")}"string"==typeof F&&"("===F[0]&&")"===F.slice(-1)||(F=`(${F})`)}else"*"===Ee||"a*"===Ee||"*z"===Ee||"*"===Le||Ee===l.$MC.startsWith||Ee===l.$MC.endsWith?F="*"===Ee||"*z"===Ee||Ee===l.$MC.endsWith?`endswith(${ae}, ${Ie})`:`startswith(${ae}, ${Ie})`:Ee===l.$MC.rangeExclusive||Ee===l.$MC.rangeInclusive?F=this.filterBySearchTermRange(ae,Ee,Te):""!==Ee&&Ee!==l.$MC.contains&&Ee!==l.$MC.notContains||_e!==l.fSu.string&&_e!==l.fSu.text&&_e!==l.fSu.readonly?F=`${ae} ${this.mapOdataOperator(Ee)} ${Ie}`:(F=Y>=4?`contains(${ae}, ${Ie})`:`substringof(${Ie}, ${ae})`,Ee===l.$MC.notContains&&(F=`not ${F}`));""!==F&&(U.push(F.trim()),this.saveColumnFilter(ae||"",Re,Ie))}}this._odataService.updateOptions({filter:U.length>0?U.join(" and "):"",skip:void 0})}updatePagination(v,w){this._currentPagination={pageNumber:v,pageSize:w},this._gridOptions&&(this._gridOptions.enablePagination||!this._gridOptions.hasOwnProperty("enablePagination"))&&this._odataService.updateOptions({top:w,skip:(v-1)*w})}updateSorters(v,w){let T=[];const x=[];if(!v&&w){T=w,T.forEach(F=>F.direction=F.direction.toLowerCase());const N=T.map(F=>{const U=this._columnDefinitions.find(Y=>Y.id===F.columnId);return x.push({field:U?(U.queryFieldSorter||U.queryField||U.field)+"":F.columnId+"",direction:F.direction}),U?{columnId:F.columnId,sortAsc:F.direction.toUpperCase()===l.SrV.ASC}:null});Array.isArray(N)&&this._grid&&this._grid.setSortColumns(N)}else if(v&&!w&&0!==(null==v?void 0:v.length)&&v)for(const N of v)if(N.sortCol){let F=(N.sortCol.queryFieldSorter||N.sortCol.queryField||N.sortCol.field)+"",U=(N.sortCol.field||N.sortCol.id)+"",Y=(N.sortCol.queryFieldSorter||N.sortCol.queryField||N.sortCol.field||"")+"";this._odataService.options.caseType===l.blG.pascalCase&&(F=(0,l.Qsb)(F),U=(0,l.Qsb)(U),Y=(0,l.Qsb)(Y)),""!==U&&T.push({columnId:U,direction:N.sortAsc?"asc":"desc"}),""!==Y&&x.push({field:Y,direction:N.sortAsc?l.SrV.ASC:l.SrV.DESC})}T=T||[];const S=x.map(N=>{let F="";return N&&N.field&&(F=`${this._odataService.options.caseType===l.blG.pascalCase?(0,l.Qsb)(N.field):N.field} ${N&&N.direction&&N.direction.toLowerCase()||""}`),F}).join(",");return this._odataService.updateOptions({orderBy:S}),this._currentSorters=T,this._odataService.buildQuery()}castFilterToColumnFilters(v){const w="object"==typeof v?Object.keys(v).map(T=>v[T]):v;return Array.isArray(w)?w.map(T=>{const x={columnId:T.columnId||""};return T.operator&&(x.operator=T.operator),Array.isArray(T.searchTerms)&&(x.searchTerms=T.searchTerms),x}):[]}filterBySearchTermRange(v,w,T){let x="";return Array.isArray(T)&&2===T.length&&(w===l.$MC.rangeInclusive?(x=`(${v} ge ${T[0]}`,""!==T[1]&&(x+=` and ${v} le ${T[1]}`),x+=")"):w===l.$MC.rangeExclusive&&(x=`(${v} gt ${T[0]}`,""!==T[1]&&(x+=` and ${v} lt ${T[1]}`),x+=")")),x}normalizeSearchValue(v,w,T){switch(v){case l.fSu.date:w=(0,l.jCn)(w,!0),w=T>=4?w:`DateTime'${w}'`;break;case l.fSu.string:case l.fSu.text:case l.fSu.readonly:"string"==typeof w&&(w=w.replace(/'/g,"''"),w=`'${w=encodeURIComponent(w)}'`);break;case l.fSu.integer:case l.fSu.number:case l.fSu.float:"string"==typeof w&&((""===(w=(w=(w=(w=(w=w.replace(/\.\./g,".")).replace(/\.+$/g,"")).replace(/^\.+/g,"0.")).replace(/^\-+\.+/g,"-0.")).replace(/(?!^\-)[^\d\.]/g,""))||"-"===w)&&(w="0"))}return w}}},4845:(V,k,L)=>{"use strict";function l(ae,_e,Te){return _e<=ae&&ae<=Te}function A(ae){if(void 0===ae)return{};if(ae===Object(ae))return ae;throw TypeError("Could not convert argument to dictionary")}L.d(k,{F:()=>te});function b(ae){this.tokens=[].slice.call(ae)}b.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(ae){if(Array.isArray(ae))for(var _e=ae;_e.length;)this.tokens.unshift(_e.pop());else this.tokens.unshift(ae)},push:function(ae){if(Array.isArray(ae))for(var _e=ae;_e.length;)this.tokens.push(_e.shift());else this.tokens.push(ae)}};var v=-1;function w(ae,_e){if(ae)throw TypeError("Decoder error");return _e||65533}(function(){}).prototype={handler:function(ae,_e){}},function(){}.prototype={handler:function(ae,_e){}};var S="utf-8";function F(ae,_e){if(!(this instanceof F))return new F(ae,_e);if((ae=void 0!==ae?String(ae).toLowerCase():S)!==S)throw new Error("Encoding not supported. Only utf-8 is supported");_e=A(_e),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(_e.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function U(ae){var _e=ae.fatal,Te=0,Re=0,G=0,Ee=128,Ie=191;this.handler=function(Le,ne){if(-1===ne&&0!==G)return G=0,w(_e);if(-1===ne)return v;if(0===G){if(l(ne,0,127))return ne;if(l(ne,194,223))G=1,Te=ne-192;else if(l(ne,224,239))224===ne&&(Ee=160),237===ne&&(Ie=159),G=2,Te=ne-224;else{if(!l(ne,240,244))return w(_e);240===ne&&(Ee=144),244===ne&&(Ie=143),G=3,Te=ne-240}return Te<<=6*G,null}if(!l(ne,Ee,Ie))return Te=G=Re=0,Ee=128,Ie=191,Le.prepend(ne),w(_e);if(Ee=128,Ie=191,Te+=ne-128<<6*(G-(Re+=1)),Re!==G)return null;var Pe=Te;return Te=G=Re=0,Pe}}function Y(ae){ae.fatal;this.handler=function(Te,Re){if(-1===Re)return v;if(l(Re,0,127))return Re;var G,Ee;l(Re,128,2047)?(G=1,Ee=192):l(Re,2048,65535)?(G=2,Ee=224):l(Re,65536,1114111)&&(G=3,Ee=240);for(var Ie=[(Re>>6*G)+Ee];G>0;){var Le=Re>>6*(G-1);Ie.push(128|63&Le),G-=1}return Ie}}(function N(ae,_e){if(!(this instanceof N))return new N(ae,_e);if((ae=void 0!==ae?String(ae).toLowerCase():S)!==S)throw new Error("Encoding not supported. Only utf-8 is supported");_e=A(_e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(_e.fatal),this._ignoreBOM=Boolean(_e.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}).prototype={decode:function(_e,Te){var Re;Re="object"==typeof _e&&_e instanceof ArrayBuffer?new Uint8Array(_e):"object"==typeof _e&&"buffer"in _e&&_e.buffer instanceof ArrayBuffer?new Uint8Array(_e.buffer,_e.byteOffset,_e.byteLength):new Uint8Array(0),Te=A(Te),this._streaming||(this._decoder=new U({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(Te.stream);for(var Ie,G=new b(Re),Ee=[];!G.endOfStream()&&(Ie=this._decoder.handler(G,G.read()))!==v;)null!==Ie&&(Array.isArray(Ie)?Ee.push.apply(Ee,Ie):Ee.push(Ie));if(!this._streaming){do{if((Ie=this._decoder.handler(G,G.read()))===v)break;null!==Ie&&(Array.isArray(Ie)?Ee.push.apply(Ee,Ie):Ee.push(Ie))}while(!G.endOfStream());this._decoder=null}return Ee.length&&-1!==["utf-8"].indexOf(this.encoding)&&!this._ignoreBOM&&!this._BOMseen&&(65279===Ee[0]?(this._BOMseen=!0,Ee.shift()):this._BOMseen=!0),function(ae){for(var _e="",Te=0;Te<ae.length;++Te){var Re=ae[Te];Re<=65535?_e+=String.fromCharCode(Re):(Re-=65536,_e+=String.fromCharCode(55296+(Re>>10),56320+(1023&Re)))}return _e}(Ee)}},F.prototype={encode:function(_e,Te){_e=_e?String(_e):"",Te=A(Te),this._streaming||(this._encoder=new Y(this._options)),this._streaming=Boolean(Te.stream);for(var Ee,Re=[],G=new b(function(ae){for(var _e=String(ae),Te=_e.length,Re=0,G=[];Re<Te;){var Ee=_e.charCodeAt(Re);if(Ee<55296||Ee>57343)G.push(Ee);else if(56320<=Ee&&Ee<=57343)G.push(65533);else if(55296<=Ee&&Ee<=56319)if(Re===Te-1)G.push(65533);else{var Ie=ae.charCodeAt(Re+1);if(56320<=Ie&&Ie<=57343){var Le=1023&Ee,ne=1023&Ie;G.push(65536+(Le<<10)+ne),Re+=1}else G.push(65533)}Re+=1}return G}(_e));!G.endOfStream()&&(Ee=this._encoder.handler(G,G.read()))!==v;)Array.isArray(Ee)?Re.push.apply(Re,Ee):Re.push(Ee);if(!this._streaming){for(;(Ee=this._encoder.handler(G,G.read()))!==v;)Array.isArray(Ee)?Re.push.apply(Re,Ee):Re.push(Ee);this._encoder=null}return new Uint8Array(Re)}};var ce=L(3467);const be={delimiter:ce.gAX.comma,filename:"export",format:ce.Tv5.csv,useUtf8WithBom:!0};class te{constructor(){this._delimiter=",",this._exportQuoteWrapper="",this._fileFormat=ce.Tv5.csv,this._lineCarriageReturn="\n",this._columnHeaders=[],this._hasGroupedItems=!1,this.className="TextExportService"}get _datasetIdPropName(){return this._gridOptions&&this._gridOptions.datasetIdPropertyName||"id"}get _dataView(){var _e;return(null===(_e=this._grid)||void 0===_e?void 0:_e.getData)&&this._grid.getData()}get _gridOptions(){var _e;return(null===(_e=this._grid)||void 0===_e?void 0:_e.getOptions)?this._grid.getOptions():{}}init(_e,Te){var Re;if(this._grid=_e,this._pubSubService=Te.get("PubSubService"),this._locales=this._gridOptions&&this._gridOptions.locales||ce.gTE.locales,this._translaterService=null===(Re=this._gridOptions)||void 0===Re?void 0:Re.translater,this._gridOptions.enableTranslate&&(!this._translaterService||!this._translaterService.translate))throw new Error('[Slickgrid-Universal] requires a Translate Service to be passed in the "translater" Grid Options when "enableTranslate" is enabled. (example: this.gridOptions = { enableTranslate: true, translater: this.translaterService })')}exportToFile(_e){if(!this._grid||!this._dataView||!this._pubSubService)throw new Error('[Slickgrid-Universal] it seems that the SlickGrid & DataView objects and/or PubSubService are not initialized did you forget to enable the grid option flag "enableTextExport"?');return new Promise(Te=>{var Re;null===(Re=this._pubSubService)||void 0===Re||Re.publish("onBeforeExportToTextFile",!0),this._exportOptions=(0,ce.p$x)(tn(tn(tn(tn({},be),this._gridOptions.exportOptions),this._gridOptions.textExportOptions),_e)),this._delimiter=this._exportOptions.delimiterOverride||this._exportOptions.delimiter||"",this._fileFormat=this._exportOptions.format||ce.Tv5.csv;const G=this.getDataOutput();setTimeout(()=>{var Ee;const Ie={filename:`${this._exportOptions.filename}.${this._fileFormat}`,format:this._fileFormat||ce.Tv5.csv,mimeType:this._exportOptions.mimeType||"text/plain",useUtf8WithBom:!this._exportOptions||!this._exportOptions.hasOwnProperty("useUtf8WithBom")||this._exportOptions.useUtf8WithBom};this.startDownloadFile(Vs(tn({},Ie),{content:G})),null===(Ee=this._pubSubService)||void 0===Ee||Ee.publish("onAfterExportToTextFile",Ie),Te(!0)},0)})}startDownloadFile(_e){const Te=(0,ce.w6H)(_e.content);let Re;Re=_e.format===ce.Tv5.csv?new F("utf-8").encode(Te):Te;const G=new Blob([_e.useUtf8WithBom?"\ufeff":"",Re],{type:_e.mimeType});if("function"==typeof navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(G,_e.filename);else{const Ee=document.createElement("a"),Ie=URL.createObjectURL(G);Ee.textContent="download",Ee.href=Ie,Ee.setAttribute("download",_e.filename),Ee.style.visibility="hidden",document.body.appendChild(Ee),Ee.click(),document.body.removeChild(Ee)}}getDataOutput(){const _e=this._grid.getColumns()||[];let Te=this._exportOptions.groupingColumnHeaderTitle;!Te&&this._gridOptions.enableTranslate&&this._translaterService&&this._translaterService.translate&&this._translaterService.getCurrentLanguage&&this._translaterService.getCurrentLanguage()?Te=this._translaterService.translate(`${(0,ce.YdZ)(this._gridOptions)}GROUP_BY`):Te||(Te=this._locales&&this._locales.TEXT_GROUP_BY),this._exportQuoteWrapper=this._fileFormat===ce.Tv5.csv?'"':"";let Re="";const G=this._dataView.getGrouping();return G&&Array.isArray(G)&&G.length>0?(this._hasGroupedItems=!0,Re+=this._fileFormat===ce.Tv5.csv?`"${Te}"${this._delimiter}`:`${Te}${this._delimiter}`):this._hasGroupedItems=!1,this._gridOptions.createPreHeaderPanel&&this._gridOptions.showPreHeaderPanel&&!this._gridOptions.enableDraggableGrouping&&(this._groupedColumnHeaders=this.getColumnGroupedHeaderTitles(_e)||[],this._groupedColumnHeaders&&Array.isArray(this._groupedColumnHeaders)&&this._groupedColumnHeaders.length>0&&(Re+=this._groupedColumnHeaders.map(Ie=>`${this._exportQuoteWrapper}${Ie.title}${this._exportQuoteWrapper}`).join(this._delimiter)+this._lineCarriageReturn)),this._columnHeaders=this.getColumnHeaders(_e)||[],this._columnHeaders&&Array.isArray(this._columnHeaders)&&this._columnHeaders.length>0&&(Re+=this._columnHeaders.map(Ie=>(0,ce.Ksf)(`${this._exportQuoteWrapper}${Ie.title}${this._exportQuoteWrapper}`)).join(this._delimiter)+this._lineCarriageReturn),Re+=this.getAllGridRowData(_e,this._lineCarriageReturn),Re}getAllGridRowData(_e,Te){const Re=[],G=this._dataView.getLength();for(let Ee=0;Ee<G;Ee++){const Ie=this._dataView.getItem(Ee);Ie&&!Ie.hasOwnProperty("getItem")&&(null!==Ie[this._datasetIdPropName]&&void 0!==Ie[this._datasetIdPropName]?Re.push(this.readRegularRowData(_e,Ee,Ie)):this._hasGroupedItems&&void 0===Ie.__groupTotals?Re.push(this.readGroupedTitleRow(Ie)):Ie.__groupTotals&&Re.push(this.readGroupedTotalRow(_e,Ie)))}return Re.join(Te)}getColumnGroupedHeaderTitles(_e){const Te=[];return _e&&Array.isArray(_e)&&_e.forEach(Re=>{let G="";G=Re.columnGroupKey&&this._gridOptions.enableTranslate&&this._translaterService&&this._translaterService.translate&&this._translaterService.getCurrentLanguage&&this._translaterService.getCurrentLanguage()?this._translaterService.translate(Re.columnGroupKey):Re.columnGroup||"";const Ee=Re.excludeFromExport||!1;(void 0===Re.width||Re.width>0)&&!Ee&&Te.push({key:Re.field||Re.id,title:G||""})}),Te}getColumnHeaders(_e){const Te=[];return _e&&Array.isArray(_e)&&_e.forEach(Re=>{let G="";G=(Re.nameKey||Re.nameKey)&&this._gridOptions.enableTranslate&&this._translaterService&&this._translaterService.translate&&this._translaterService.getCurrentLanguage&&this._translaterService.getCurrentLanguage()?this._translaterService.translate(Re.nameKey||Re.nameKey):Re.name||(0,ce.Qsb)(Re.field);const Ee=Re.excludeFromExport||!1;(void 0===Re.width||Re.width>0)&&!Ee&&Te.push({key:Re.field||Re.id,title:G||""})}),Te}readRegularRowData(_e,Te,Re){var G;let Ee=0;const Ie=[],Le=this._exportQuoteWrapper;let ne=1;const Pe=this._dataView.getItemMetadata(Te);for(let He=0,ze=_e.length;He<ze;He++){const dt=_e[He];if(dt.excludeFromExport)continue;if(this._hasGroupedItems&&0===Ee){const kt=this._fileFormat===ce.Tv5.csv?'""':"";Ie.push(kt)}let nt;if(null==Pe?void 0:Pe.columns){const kt=null==Pe?void 0:Pe.columns,wt=kt[dt.id]||kt[He];ne>1||"*"===ne&&He>0||(ne=null!==(G=null==wt?void 0:wt.colspan)&&void 0!==G?G:1),"*"!==ne&&dt.id in kt&&(nt=dt.id)}if("*"===ne&&He>0||ne>1&&dt.id!==nt)Ie.push(""),ne>1&&ne--;else{let kt=(0,ce.tt1)(Te,He,dt,Re,this._grid,this._exportOptions);(dt.sanitizeDataExport||this._exportOptions.sanitizeDataExport)&&(kt=(0,ce.Ksf)(kt)),this._fileFormat===ce.Tv5.csv&&kt&&(kt=kt.toString().replace(/"/gi,'""'));const wt=(null==dt?void 0:dt.exportCsvForceToKeepAsString)?"=":"";Ie.push(wt+Le+kt+Le)}Ee++}return Ie.join(this._delimiter)}readGroupedTitleRow(_e){let Te=(0,ce.Ksf)(_e.title);const Re=this._exportQuoteWrapper;return Te=(0,ce.kFQ)(5*_e.level)+Te,this._fileFormat===ce.Tv5.csv&&(Te=Te.toString().replace(/"/gi,'""')),Re+Te+Re}readGroupedTotalRow(_e,Te){const Re=this._exportOptions.delimiter,G=this._exportOptions.format,Ee=this._exportOptions.groupingAggregatorRowText||"",Ie=this._exportQuoteWrapper,Le=[`${Ie}${Ee}${Ie}`];return _e.forEach(ne=>{let Pe="";const He=ne.excludeFromExport||!1;ne.groupTotalsFormatter&&(Pe=ne.groupTotalsFormatter(Te,ne,this._grid)),(ne.sanitizeDataExport||this._exportOptions.sanitizeDataExport)&&(Pe=(0,ce.Ksf)(Pe)),G===ce.Tv5.csv&&(Pe=Pe.toString().replace(/"/gi,'""')),(void 0===ne.width||ne.width>0)&&!He&&Le.push(Ie+Pe+Ie)}),Le.join(Re)}}},8120:function(V){V.exports=function(){"use strict";function k(qe){if(Array.isArray(qe)){for(var We=0,_t=Array(qe.length);We<qe.length;We++)_t[We]=qe[We];return _t}return Array.from(qe)}var L=Object.hasOwnProperty,l=Object.setPrototypeOf,A=Object.isFrozen,j=Object.getPrototypeOf,I=Object.getOwnPropertyDescriptor,m=Object.freeze,b=Object.seal,v=Object.create,w="undefined"!=typeof Reflect&&Reflect,T=w.apply,x=w.construct;T||(T=function(We,_t,St){return We.apply(_t,St)}),m||(m=function(We){return We}),b||(b=function(We){return We}),x||(x=function(We,_t){return new(Function.prototype.bind.apply(We,[null].concat(k(_t))))});var S=Te(Array.prototype.forEach),N=Te(Array.prototype.pop),F=Te(Array.prototype.push),U=Te(String.prototype.toLowerCase),Y=Te(String.prototype.match),ce=Te(String.prototype.replace),be=Te(String.prototype.indexOf),te=Te(String.prototype.trim),ae=Te(RegExp.prototype.test),_e=Re(TypeError);function Te(qe){return function(We){for(var _t=arguments.length,St=Array(_t>1?_t-1:0),Ht=1;Ht<_t;Ht++)St[Ht-1]=arguments[Ht];return T(qe,We,St)}}function Re(qe){return function(){for(var We=arguments.length,_t=Array(We),St=0;St<We;St++)_t[St]=arguments[St];return x(qe,_t)}}function G(qe,We){l&&l(qe,null);for(var _t=We.length;_t--;){var St=We[_t];if("string"==typeof St){var Ht=U(St);Ht!==St&&(A(We)||(We[_t]=Ht),St=Ht)}qe[St]=!0}return qe}function Ee(qe){var We=v(null),_t=void 0;for(_t in qe)T(L,qe,[_t])&&(We[_t]=qe[_t]);return We}function Ie(qe,We){for(;null!==qe;){var _t=I(qe,We);if(_t){if(_t.get)return Te(_t.get);if("function"==typeof _t.value)return Te(_t.value)}qe=j(qe)}function St(Ht){return console.warn("fallback value for",Ht),null}return St}var Le=m(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ne=m(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Pe=m(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),He=m(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ze=m(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),dt=m(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),nt=m(["#text"]),kt=m(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),wt=m(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Pt=m(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),en=m(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Nt=b(/\{\{[\s\S]*|[\s\S]*\}\}/gm),je=b(/<%[\s\S]*|[\s\S]*%>/gm),Ft=b(/^data-[\-\w.\u00B7-\uFFFF]/),sn=b(/^aria-[\-\w]+$/),nn=b(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),zt=b(/^(?:\w+script|data):/i),an=b(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(qe){return typeof qe}:function(qe){return qe&&"function"==typeof Symbol&&qe.constructor===Symbol&&qe!==Symbol.prototype?"symbol":typeof qe};function Dn(qe){if(Array.isArray(qe)){for(var We=0,_t=Array(qe.length);We<qe.length;We++)_t[We]=qe[We];return _t}return Array.from(qe)}var fi=function(){return"undefined"==typeof window?null:window},ge=function(We,_t){if("object"!==(void 0===We?"undefined":On(We))||"function"!=typeof We.createPolicy)return null;var St=null,Ht="data-tt-policy-suffix";_t.currentScript&&_t.currentScript.hasAttribute(Ht)&&(St=_t.currentScript.getAttribute(Ht));var Mt="dompurify"+(St?"#"+St:"");try{return We.createPolicy(Mt,{createHTML:function(pe){return pe}})}catch(ee){return console.warn("TrustedTypes policy "+Mt+" could not be created."),null}};function $t(){var qe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fi(),We=function(Jt){return $t(Jt)};if(We.version="2.3.4",We.removed=[],!qe||!qe.document||9!==qe.document.nodeType)return We.isSupported=!1,We;var _t=qe.document,St=qe.document,Ht=qe.DocumentFragment,Mt=qe.HTMLTemplateElement,ee=qe.Node,pe=qe.Element,xe=qe.NodeFilter,Ce=qe.NamedNodeMap,Je=void 0===Ce?qe.NamedNodeMap||qe.MozNamedAttrMap:Ce,lt=qe.HTMLFormElement,jt=qe.DOMParser,Oe=qe.trustedTypes,Fe=pe.prototype,ut=Ie(Fe,"cloneNode"),It=Ie(Fe,"nextSibling"),cn=Ie(Fe,"childNodes"),Nn=Ie(Fe,"parentNode");if("function"==typeof Mt){var _n=St.createElement("template");_n.content&&_n.content.ownerDocument&&(St=_n.content.ownerDocument)}var Fn=ge(Oe,_t),Hn=Fn&&Zn?Fn.createHTML(""):"",Tn=St,kn=Tn.implementation,xn=Tn.createNodeIterator,hr=Tn.createDocumentFragment,$i=Tn.getElementsByTagName,kr=_t.importNode,yr={};try{yr=Ee(St).documentMode?St.documentMode:{}}catch(si){}var xr={};We.isSupported="function"==typeof Nn&&kn&&void 0!==kn.createHTMLDocument&&9!==yr;var rr=Nt,Xr=je,es=Ft,Yi=sn,Hs=zt,ps=an,Or=nn,bn=null,Qe=G({},[].concat(Dn(Le),Dn(ne),Dn(Pe),Dn(ze),Dn(nt))),ft=null,mn=G({},[].concat(Dn(kt),Dn(wt),Dn(Pt),Dn(en))),Wt=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Di=null,di=null,zi=!0,_r=!0,yo=!1,sr=!1,Qr=!1,Ts=!1,Zr=!1,Us=!1,Hi=!1,Zn=!1,Gi=!0,pr=!0,ts=!1,Jr={},Lr=null,ls=G({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),or=null,lr=G({},["audio","video","img","source","image","track"]),ns=null,ai=G({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Xi="http://www.w3.org/1998/Math/MathML",ji="http://www.w3.org/2000/svg",Er="http://www.w3.org/1999/xhtml",Bi=Er,ar=!1,ki=void 0,Rr=["application/xhtml+xml","text/html"],is="text/html",Et=void 0,Rt=null,Tt=St.createElement("form"),wn=function(Jt){return Jt instanceof RegExp||Jt instanceof Function},In=function(Jt){Rt&&Rt===Jt||((!Jt||"object"!==(void 0===Jt?"undefined":On(Jt)))&&(Jt={}),Jt=Ee(Jt),bn="ALLOWED_TAGS"in Jt?G({},Jt.ALLOWED_TAGS):Qe,ft="ALLOWED_ATTR"in Jt?G({},Jt.ALLOWED_ATTR):mn,ns="ADD_URI_SAFE_ATTR"in Jt?G(Ee(ai),Jt.ADD_URI_SAFE_ATTR):ai,or="ADD_DATA_URI_TAGS"in Jt?G(Ee(lr),Jt.ADD_DATA_URI_TAGS):lr,Lr="FORBID_CONTENTS"in Jt?G({},Jt.FORBID_CONTENTS):ls,Di="FORBID_TAGS"in Jt?G({},Jt.FORBID_TAGS):{},di="FORBID_ATTR"in Jt?G({},Jt.FORBID_ATTR):{},Jr="USE_PROFILES"in Jt&&Jt.USE_PROFILES,zi=!1!==Jt.ALLOW_ARIA_ATTR,_r=!1!==Jt.ALLOW_DATA_ATTR,yo=Jt.ALLOW_UNKNOWN_PROTOCOLS||!1,sr=Jt.SAFE_FOR_TEMPLATES||!1,Qr=Jt.WHOLE_DOCUMENT||!1,Us=Jt.RETURN_DOM||!1,Hi=Jt.RETURN_DOM_FRAGMENT||!1,Zn=Jt.RETURN_TRUSTED_TYPE||!1,Zr=Jt.FORCE_BODY||!1,Gi=!1!==Jt.SANITIZE_DOM,pr=!1!==Jt.KEEP_CONTENT,ts=Jt.IN_PLACE||!1,Or=Jt.ALLOWED_URI_REGEXP||Or,Bi=Jt.NAMESPACE||Er,Jt.CUSTOM_ELEMENT_HANDLING&&wn(Jt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Wt.tagNameCheck=Jt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Jt.CUSTOM_ELEMENT_HANDLING&&wn(Jt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Wt.attributeNameCheck=Jt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Jt.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof Jt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Wt.allowCustomizedBuiltInElements=Jt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ki=ki=-1===Rr.indexOf(Jt.PARSER_MEDIA_TYPE)?is:Jt.PARSER_MEDIA_TYPE,Et="application/xhtml+xml"===ki?function(Pn){return Pn}:U,sr&&(_r=!1),Hi&&(Us=!0),Jr&&(bn=G({},[].concat(Dn(nt))),ft=[],!0===Jr.html&&(G(bn,Le),G(ft,kt)),!0===Jr.svg&&(G(bn,ne),G(ft,wt),G(ft,en)),!0===Jr.svgFilters&&(G(bn,Pe),G(ft,wt),G(ft,en)),!0===Jr.mathMl&&(G(bn,ze),G(ft,Pt),G(ft,en))),Jt.ADD_TAGS&&(bn===Qe&&(bn=Ee(bn)),G(bn,Jt.ADD_TAGS)),Jt.ADD_ATTR&&(ft===mn&&(ft=Ee(ft)),G(ft,Jt.ADD_ATTR)),Jt.ADD_URI_SAFE_ATTR&&G(ns,Jt.ADD_URI_SAFE_ATTR),Jt.FORBID_CONTENTS&&(Lr===ls&&(Lr=Ee(Lr)),G(Lr,Jt.FORBID_CONTENTS)),pr&&(bn["#text"]=!0),Qr&&G(bn,["html","head","body"]),bn.table&&(G(bn,["tbody"]),delete Di.tbody),m&&m(Jt),Rt=Jt)},Qn=G({},["mi","mo","mn","ms","mtext"]),$n=G({},["foreignobject","desc","title","annotation-xml"]),mi=G({},ne);G(mi,Pe),G(mi,He);var xi=G({},ze);G(xi,dt);var Ri=function(Jt){var Pn=Nn(Jt);(!Pn||!Pn.tagName)&&(Pn={namespaceURI:Er,tagName:"template"});var oi=U(Jt.tagName),Cr=U(Pn.tagName);if(Jt.namespaceURI===ji)return Pn.namespaceURI===Er?"svg"===oi:Pn.namespaceURI===Xi?"svg"===oi&&("annotation-xml"===Cr||Qn[Cr]):Boolean(mi[oi]);if(Jt.namespaceURI===Xi)return Pn.namespaceURI===Er?"math"===oi:Pn.namespaceURI===ji?"math"===oi&&$n[Cr]:Boolean(xi[oi]);if(Jt.namespaceURI===Er){if(Pn.namespaceURI===ji&&!$n[Cr]||Pn.namespaceURI===Xi&&!Qn[Cr])return!1;var Fs=G({},["title","style","font","a","script"]);return!xi[oi]&&(Fs[oi]||!mi[oi])}return!1},Mi=function(Jt){F(We.removed,{element:Jt});try{Jt.parentNode.removeChild(Jt)}catch(Pn){try{Jt.outerHTML=Hn}catch(oi){Jt.remove()}}},Wr=function(Jt,Pn){try{F(We.removed,{attribute:Pn.getAttributeNode(Jt),from:Pn})}catch(oi){F(We.removed,{attribute:null,from:Pn})}if(Pn.removeAttribute(Jt),"is"===Jt&&!ft[Jt])if(Us||Hi)try{Mi(Pn)}catch(oi){}else try{Pn.setAttribute(Jt,"")}catch(oi){}},Is=function(Jt){var Pn=void 0,oi=void 0;if(Zr)Jt="<remove></remove>"+Jt;else{var Cr=Y(Jt,/^[\r\n\t ]+/);oi=Cr&&Cr[0]}"application/xhtml+xml"===ki&&(Jt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Jt+"</body></html>");var Fs=Fn?Fn.createHTML(Jt):Jt;if(Bi===Er)try{Pn=(new jt).parseFromString(Fs,ki)}catch(eo){}if(!Pn||!Pn.documentElement){Pn=kn.createDocument(Bi,"template",null);try{Pn.documentElement.innerHTML=ar?"":Fs}catch(eo){}}var Br=Pn.body||Pn.documentElement;return Jt&&oi&&Br.insertBefore(St.createTextNode(oi),Br.childNodes[0]||null),Bi===Er?$i.call(Pn,Qr?"html":"body")[0]:Qr?Pn.documentElement:Br},Vt=function(Jt){return xn.call(Jt.ownerDocument||Jt,Jt,xe.SHOW_ELEMENT|xe.SHOW_COMMENT|xe.SHOW_TEXT,null,!1)},he=function(Jt){return Jt instanceof lt&&("string"!=typeof Jt.nodeName||"string"!=typeof Jt.textContent||"function"!=typeof Jt.removeChild||!(Jt.attributes instanceof Je)||"function"!=typeof Jt.removeAttribute||"function"!=typeof Jt.setAttribute||"string"!=typeof Jt.namespaceURI||"function"!=typeof Jt.insertBefore)},ke=function(Jt){return"object"===(void 0===ee?"undefined":On(ee))?Jt instanceof ee:Jt&&"object"===(void 0===Jt?"undefined":On(Jt))&&"number"==typeof Jt.nodeType&&"string"==typeof Jt.nodeName},vt=function(Jt,Pn,oi){!xr[Jt]||S(xr[Jt],function(Cr){Cr.call(We,Pn,oi,Rt)})},Qt=function(Jt){var Pn=void 0;if(vt("beforeSanitizeElements",Jt,null),he(Jt)||Y(Jt.nodeName,/[\u0080-\uFFFF]/))return Mi(Jt),!0;var oi=Et(Jt.nodeName);if(vt("uponSanitizeElement",Jt,{tagName:oi,allowedTags:bn}),!ke(Jt.firstElementChild)&&(!ke(Jt.content)||!ke(Jt.content.firstElementChild))&&ae(/<[/\w]/g,Jt.innerHTML)&&ae(/<[/\w]/g,Jt.textContent)||"select"===oi&&ae(/<template/i,Jt.innerHTML))return Mi(Jt),!0;if(!bn[oi]||Di[oi]){if(pr&&!Lr[oi]){var Cr=Nn(Jt)||Jt.parentNode,Fs=cn(Jt)||Jt.childNodes;if(Fs&&Cr)for(var eo=Fs.length-1;eo>=0;--eo)Cr.insertBefore(ut(Fs[eo],!0),It(Jt))}return!(!Di[oi]&&ui(oi)&&(Wt.tagNameCheck instanceof RegExp&&ae(Wt.tagNameCheck,oi)||Wt.tagNameCheck instanceof Function&&Wt.tagNameCheck(oi))||(Mi(Jt),0))}return Jt instanceof pe&&!Ri(Jt)||("noscript"===oi||"noembed"===oi)&&ae(/<\/no(script|embed)/i,Jt.innerHTML)?(Mi(Jt),!0):(sr&&3===Jt.nodeType&&(Pn=Jt.textContent,Pn=ce(Pn,rr," "),Pn=ce(Pn,Xr," "),Jt.textContent!==Pn&&(F(We.removed,{element:Jt.cloneNode()}),Jt.textContent=Pn)),vt("afterSanitizeElements",Jt,null),!1)},yn=function(Jt,Pn,oi){if(Gi&&("id"===Pn||"name"===Pn)&&(oi in St||oi in Tt))return!1;if((!_r||di[Pn]||!ae(es,Pn))&&(!zi||!ae(Yi,Pn)))if(!ft[Pn]||di[Pn]){if(!(ui(Jt)&&(Wt.tagNameCheck instanceof RegExp&&ae(Wt.tagNameCheck,Jt)||Wt.tagNameCheck instanceof Function&&Wt.tagNameCheck(Jt))&&(Wt.attributeNameCheck instanceof RegExp&&ae(Wt.attributeNameCheck,Pn)||Wt.attributeNameCheck instanceof Function&&Wt.attributeNameCheck(Pn))||"is"===Pn&&Wt.allowCustomizedBuiltInElements&&(Wt.tagNameCheck instanceof RegExp&&ae(Wt.tagNameCheck,oi)||Wt.tagNameCheck instanceof Function&&Wt.tagNameCheck(oi))))return!1}else if(!ns[Pn]&&!ae(Or,ce(oi,ps,""))&&("src"!==Pn&&"xlink:href"!==Pn&&"href"!==Pn||"script"===Jt||0!==be(oi,"data:")||!or[Jt])&&(!yo||ae(Hs,ce(oi,ps,"")))&&oi)return!1;return!0},ui=function(Jt){return Jt.indexOf("-")>0},Oi=function(Jt){var Pn=void 0,oi=void 0,Cr=void 0,Fs=void 0;vt("beforeSanitizeAttributes",Jt,null);var Br=Jt.attributes;if(Br){var eo={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ft};for(Fs=Br.length;Fs--;){var gs=Pn=Br[Fs],ys=gs.name,zr=gs.namespaceURI;if(oi=te(Pn.value),Cr=Et(ys),eo.attrName=Cr,eo.attrValue=oi,eo.keepAttr=!0,eo.forceKeepAttr=void 0,vt("uponSanitizeAttribute",Jt,eo),oi=eo.attrValue,!eo.forceKeepAttr&&(Wr(ys,Jt),eo.keepAttr)){if(ae(/\/>/i,oi)){Wr(ys,Jt);continue}sr&&(oi=ce(oi,rr," "),oi=ce(oi,Xr," "));var ea=Et(Jt.nodeName);if(yn(ea,Cr,oi))try{zr?Jt.setAttributeNS(zr,ys,oi):Jt.setAttribute(ys,oi),N(We.removed)}catch(Gr){}}}vt("afterSanitizeAttributes",Jt,null)}},Dr=function si(Jt){var Pn=void 0,oi=Vt(Jt);for(vt("beforeSanitizeShadowDOM",Jt,null);Pn=oi.nextNode();)vt("uponSanitizeShadowNode",Pn,null),!Qt(Pn)&&(Pn.content instanceof Ht&&si(Pn.content),Oi(Pn));vt("afterSanitizeShadowDOM",Jt,null)};return We.sanitize=function(si,Jt){var Pn=void 0,oi=void 0,Cr=void 0,Fs=void 0,Br=void 0;if((ar=!si)&&(si="\x3c!--\x3e"),"string"!=typeof si&&!ke(si)){if("function"!=typeof si.toString)throw _e("toString is not a function");if("string"!=typeof(si=si.toString()))throw _e("dirty is not a string, aborting")}if(!We.isSupported){if("object"===On(qe.toStaticHTML)||"function"==typeof qe.toStaticHTML){if("string"==typeof si)return qe.toStaticHTML(si);if(ke(si))return qe.toStaticHTML(si.outerHTML)}return si}if(Ts||In(Jt),We.removed=[],"string"==typeof si&&(ts=!1),!ts)if(si instanceof ee)1===(oi=(Pn=Is("\x3c!----\x3e")).ownerDocument.importNode(si,!0)).nodeType&&"BODY"===oi.nodeName||"HTML"===oi.nodeName?Pn=oi:Pn.appendChild(oi);else{if(!Us&&!sr&&!Qr&&-1===si.indexOf("<"))return Fn&&Zn?Fn.createHTML(si):si;if(!(Pn=Is(si)))return Us?null:Hn}Pn&&Zr&&Mi(Pn.firstChild);for(var eo=Vt(ts?si:Pn);Cr=eo.nextNode();)3===Cr.nodeType&&Cr===Fs||Qt(Cr)||(Cr.content instanceof Ht&&Dr(Cr.content),Oi(Cr),Fs=Cr);if(Fs=null,ts)return si;if(Us){if(Hi)for(Br=hr.call(Pn.ownerDocument);Pn.firstChild;)Br.appendChild(Pn.firstChild);else Br=Pn;return ft.shadowroot&&(Br=kr.call(_t,Br,!0)),Br}var gs=Qr?Pn.outerHTML:Pn.innerHTML;return sr&&(gs=ce(gs,rr," "),gs=ce(gs,Xr," ")),Fn&&Zn?Fn.createHTML(gs):gs},We.setConfig=function(si){In(si),Ts=!0},We.clearConfig=function(){Rt=null,Ts=!1},We.isValidAttribute=function(si,Jt,Pn){Rt||In({});var oi=Et(si),Cr=Et(Jt);return yn(oi,Cr,Pn)},We.addHook=function(si,Jt){"function"==typeof Jt&&(xr[si]=xr[si]||[],F(xr[si],Jt))},We.removeHook=function(si){xr[si]&&N(xr[si])},We.removeHooks=function(si){xr[si]&&(xr[si]=[])},We.removeAllHooks=function(){xr={}},We}return $t()}()},1631:(V,k,L)=>{V.exports=function(){"use strict";var l={183:function(m,b,v){var w=v(804),T=v(328),x=function(S){this.x=null,this.y=null,this.width=null,this.height=null,S&&(this.setPos(S.x,S.y),this.setDimensions(S.width,S.height))};w.extend(x.prototype,{setPos:function(S,N){this.x=S,this.y=N},setDimensions:function(S,N){this.width=S,this.height=N},toXML:function(S,N){var F=T.createElement(S,"xdr:absoluteAnchor"),U=T.createElement(S,"xdr:pos");U.setAttribute("x",this.x),U.setAttribute("y",this.y),F.appendChild(U);var Y=T.createElement(S,"xdr:ext");return Y.setAttribute("cx",this.width),Y.setAttribute("cy",this.height),F.appendChild(Y),F.appendChild(N),F.appendChild(T.createElement(S,"xdr:clientData")),F}}),m.exports=x},75:function(m,b,v){var T=function(){};v(804).extend(T.prototype,{}),m.exports=T},982:function(m,b,v){var w=v(804),T=v(328),x=function(S){this.x=null,this.y=null,this.xOff=null,this.yOff=null,this.width=null,this.height=null,S&&(this.setPos(S.x,S.y,S.xOff,S.yOff),this.setDimensions(S.width,S.height))};w.extend(x.prototype,{setPos:function(S,N,F,U){this.x=S,this.y=N,void 0!==F&&(this.xOff=F),void 0!==U&&(this.yOff=U)},setDimensions:function(S,N){this.width=S,this.height=N},toXML:function(S,N){var F=T.createElement(S,"xdr:oneCellAnchor"),U=T.createElement(S,"xdr:from"),Y=T.createElement(S,"xdr:col");Y.appendChild(S.createTextNode(this.x));var ce=T.createElement(S,"xdr:colOff");ce.appendChild(S.createTextNode(this.xOff||0));var be=T.createElement(S,"xdr:row");be.appendChild(S.createTextNode(this.y));var te=T.createElement(S,"xdr:rowOff");te.appendChild(S.createTextNode(this.yOff||0)),U.appendChild(Y),U.appendChild(ce),U.appendChild(be),U.appendChild(te),F.appendChild(U);var ae=T.createElement(S,"xdr:ext");return ae.setAttribute("cx",this.width),ae.setAttribute("cy",this.height),F.appendChild(ae),F.appendChild(N),F.appendChild(T.createElement(S,"xdr:clientData")),F}}),m.exports=x},147:function(m,b,v){var w=v(804),T=v(328),x=v(890),S=function(){this.media=null,this.id=w.uniqueId("Picture"),this.pictureId=T.uniqueId("Picture"),this.fill={},this.mediaData=null};S.prototype=new x,w.extend(S.prototype,{setMedia:function(N){this.mediaData=N},setDescription:function(N){this.description=N},setFillType:function(N){this.fill.type=N},setFillConfig:function(N){w.extend(this.fill,N)},getMediaType:function(){return"image"},getMediaData:function(){return this.mediaData},setRelationshipId:function(N){this.mediaData.rId=N},toXML:function(N){var F=T.createElement(N,"xdr:pic"),U=T.createElement(N,"xdr:nvPicPr"),Y=T.createElement(N,"xdr:cNvPr",[["id",this.pictureId],["name",this.mediaData.fileName],["descr",this.description||""]]);U.appendChild(Y);var ce=T.createElement(N,"xdr:cNvPicPr");ce.appendChild(T.createElement(N,"a:picLocks",[["noChangeAspect","1"],["noChangeArrowheads","1"]])),U.appendChild(ce),F.appendChild(U);var be=T.createElement(N,"xdr:blipFill");be.appendChild(T.createElement(N,"a:blip",[["xmlns:r",T.schemas.relationships],["r:embed",this.mediaData.rId]])),be.appendChild(T.createElement(N,"a:srcRect"));var te=T.createElement(N,"a:stretch");te.appendChild(T.createElement(N,"a:fillRect")),be.appendChild(te),F.appendChild(be);var ae=T.createElement(N,"xdr:spPr",[["bwMode","auto"]]),_e=T.createElement(N,"a:xfrm");ae.appendChild(_e);var Te=T.createElement(N,"a:prstGeom",[["prst","rect"]]);return ae.appendChild(Te),F.appendChild(ae),this.anchor.toXML(N,F)}}),m.exports=S},527:function(m,b,v){var w=v(804),T=v(328),x=function(S){this.from={xOff:0,yOff:0},this.to={xOff:0,yOff:0},S&&(this.setFrom(S.from.x,S.from.y,S.to.xOff,S.to.yOff),this.setTo(S.to.x,S.to.y,S.to.xOff,S.to.yOff))};w.extend(x.prototype,{setFrom:function(S,N,F,U){this.from.x=S,this.from.y=N,void 0!==F&&(this.from.xOff=F),void 0!==U&&(this.from.yOff=F)},setTo:function(S,N,F,U){this.to.x=S,this.to.y=N,void 0!==F&&(this.to.xOff=F),void 0!==U&&(this.to.yOff=F)},toXML:function(S,N){var F=T.createElement(S,"xdr:twoCellAnchor"),U=T.createElement(S,"xdr:from"),Y=T.createElement(S,"xdr:col");Y.appendChild(S.createTextNode(this.from.x));var ce=T.createElement(S,"xdr:colOff");ce.appendChild(S.createTextNode(this.from.xOff));var be=T.createElement(S,"xdr:row");be.appendChild(S.createTextNode(this.from.y));var te=T.createElement(S,"xdr:rowOff");te.appendChild(S.createTextNode(this.from.yOff)),U.appendChild(Y),U.appendChild(ce),U.appendChild(be),U.appendChild(te);var ae=T.createElement(S,"xdr:to"),_e=T.createElement(S,"xdr:col");_e.appendChild(S.createTextNode(this.to.x));var Te=T.createElement(S,"xdr:colOff");Te.appendChild(S.createTextNode(this.from.xOff));var Re=T.createElement(S,"xdr:row");Re.appendChild(S.createTextNode(this.to.y));var G=T.createElement(S,"xdr:rowOff");return G.appendChild(S.createTextNode(this.from.yOff)),ae.appendChild(_e),ae.appendChild(Te),ae.appendChild(Re),ae.appendChild(G),F.appendChild(U),F.appendChild(ae),F.appendChild(N),F.appendChild(T.createElement(S,"xdr:clientData")),F}}),m.exports=x},890:function(m,b,v){var w=v(804),T=v(183),x=v(982),S=v(527),N=function(){this.id=w.uniqueId("Drawing")};w.extend(N.prototype,{createAnchor:function(F,U){switch((U=U||{}).drawing=this,F){case"absoluteAnchor":this.anchor=new T(U);break;case"oneCellAnchor":this.anchor=new x(U);break;case"twoCellAnchor":this.anchor=new S(U)}return this.anchor}}),Object.defineProperties(N,{AbsoluteAnchor:{get:function(){return v(183)}},Chart:{get:function(){return v(75)}},OneCellAnchor:{get:function(){return v(982)}},Picture:{get:function(){return v(147)}},TwoCellAnchor:{get:function(){return v(527)}}}),m.exports=N},861:function(m,b,v){var w=v(804),T=v(328),x=v(785),S=function(){this.drawings=[],this.relations=new x,this.id=w.uniqueId("Drawings")};w.extend(S.prototype,{addDrawing:function(N){this.drawings.push(N)},getCount:function(){return this.drawings.length},toXML:function(){var N=T.createXmlDoc(T.schemas.spreadsheetDrawing,"xdr:wsDr"),F=N.documentElement;F.setAttribute("xmlns:a",T.schemas.drawing),F.setAttribute("xmlns:r",T.schemas.relationships),F.setAttribute("xmlns:xdr",T.schemas.spreadsheetDrawing);for(var U=0,Y=this.drawings.length;U<Y;U++){var ce=this.relations.getRelationshipId(this.drawings[U].getMediaData());ce||(ce=this.relations.addRelation(this.drawings[U].getMediaData(),this.drawings[U].getMediaType())),this.drawings[U].setRelationshipId(ce),F.appendChild(this.drawings[U].toXML(N))}return N}}),m.exports=S},753:function(m,b,v){var T=function(){this.state=null,this.xSplit=null,this.ySplit=null,this.activePane="bottomRight",this.topLeftCell=null};v(804).extend(T.prototype,{freezePane:function(x,S,N){this._freezePane={xSplit:x,ySplit:S,cell:N}},exportXML:function(x){var S=x.createElement("pane");return null!==this.state&&(S.setAttribute("xSplit",this._freezePane.xSplit),S.setAttribute("ySplit",this._freezePane.ySplit),S.setAttribute("topLeftCell",this._freezePane.cell),S.setAttribute("activePane","bottomRight"),S.setAttribute("state","frozen")),S}}),m.exports=T},255:function(m){m.exports={}},864:function(m){m.exports={pixelsToEMUs:function(b){return Math.round(914400*b/96)}}},785:function(m,b,v){var w=v(804),T=v(328),x=v(255),S=function(){this.relations={},this.lastId=1};w.uniqueId("rId"),w.extend(S.prototype,{importData:function(N){this.relations=N.relations,this.lastId=N.lastId},exportData:function(){return{relations:this.relations,lastId:this.lastId}},addRelation:function(N,F){return this.relations[N.id]={id:w.uniqueId("rId"),schema:T.schemas[F],object:N},this.relations[N.id].id},getRelationshipId:function(N){return this.relations[N.id]?this.relations[N.id].id:null},toXML:function(){var N=T.createXmlDoc(T.schemas.relationshipPackage,"Relationships"),F=N.documentElement;return w.each(this.relations,function(U,Y){var ce=T.createElement(N,"Relationship",[["Id",U.id],["Type",U.schema],["Target",U.object.target||x[Y]]]);U.object.targetMode&&ce.setAttribute("TargetMode",U.object.targetMode),F.appendChild(ce)}),N}}),m.exports=S},349:function(m,b,v){var w=v(804),T=v(328),x=function(){this.strings={},this.stringArray=[],this.id=w.uniqueId("SharedStrings")};w.extend(x.prototype,{addString:function(S){return this.strings[S]=this.stringArray.length,this.stringArray[this.stringArray.length]=S,this.strings[S]},exportData:function(){return this.strings},toXML:function(){var S=T.createXmlDoc(T.schemas.spreadsheetml,"sst"),N=S.documentElement;this.stringArray.reverse();var F=this.stringArray.length;N.setAttribute("count",F),N.setAttribute("uniqueCount",F);var U=S.createElement("si"),Y=S.createElement("t");Y.appendChild(S.createTextNode("--placeholder--")),U.appendChild(Y);for(var ce=this.stringArray;F--;){var be=U.cloneNode(!0);be.firstChild.firstChild.nodeValue=ce[F],N.appendChild(be)}return S}}),m.exports=x},958:function(m,b,v){var w=v(804),T=v(753),x=v(328),S=function(N){N=N||{},this.pane=N.pane||new T,this.showZeros=null,this.defaultGridColor=null,this.colorId=null,this.rightToLeft=null,this.showFormulas=null,this.showGridLines=null,this.showOutlineSymbols=null,this.showRowColHeaders=null,this.showRuler=null,this.showWhiteSpace=null,this.tabSelected=null,this.topLeftCell=null,this.viewType=null,this.windowProtection=null,this.zoomScale=null,this.zoomScaleNormal=null,this.zoomScalePageLayoutView=null,this.zoomScaleSheetLayoutView=null};w.extend(S.prototype,{freezePane:function(N,F,U){this.pane.state="frozen",this.pane.xSplit=N,this.pane.ySplit=F,this.pane.topLeftCell=U},exportXML:function(N){var F=N.createElement("sheetViews"),U=N.createElement("sheetView");return x.setAttributesOnDoc(U,{workbookViewId:0,showZeros:{v:this.showZeros,type:Boolean},defaultGridColor:{v:this.defaultGridColor,type:Boolean},colorId:this.colorId,rightToLeft:{v:this.rightToLeft,type:Boolean},showFormulas:{v:this.showFormulas,type:Boolean},showGridLines:{v:this.showGridLines,type:Boolean},showOutlineSymbols:{v:this.showOutlineSymbols,type:Boolean},showRowColHeaders:{v:this.showRowColHeaders,type:Boolean},showRuler:{v:this.showRuler,type:Boolean},showWhiteSpace:{v:this.showWhiteSpace,type:Boolean},tabSelected:{v:this.tabSelected,type:Boolean},viewType:this.viewType,windowProtection:{v:this.windowProtection,type:Boolean},zoomScale:{v:this.zoomScale,type:Boolean},zoomScaleNormal:this.zoomScaleNormal,zoomScalePageLayoutView:this.zoomScalePageLayoutView,zoomScaleSheetLayoutView:this.zoomScaleSheetLayoutView}),U.appendChild(this.pane.exportXML(N)),F.appendChild(U),F}}),m.exports=S},747:function(m,b,v){var w=v(804),T=v(328),x=function(){this.id=w.uniqueId("StyleSheet"),this.cellStyles=[{name:"Normal",xfId:"0",builtinId:"0"}],this.defaultTableStyle=!1,this.differentialStyles=[{}],this.masterCellFormats=[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfid:0}],this.masterCellStyles=[{numFmtId:0,fontId:0,fillId:0,borderId:0}],this.fonts=[{}],this.numberFormatters=[],this.fills=[{},{type:"pattern",patternType:"gray125",fgColor:"FF333333",bgColor:"FF333333"}],this.borders=[{top:{},left:{},right:{},bottom:{},diagonal:{}}],this.tableStyles=[]};w.extend(x.prototype,{createSimpleFormatter:function(S){var F={id:this.masterCellFormats.length};if("date"===S)F.numFmtId=14;return this.masterCellFormats.push(F),F},createFill:function(S){var N=this.fills.length,F=S;return F.id=N,this.fills.push(F),F},createNumberFormatter:function(S){var F={id:this.numberFormatters.length+100,formatCode:S};return this.numberFormatters.push(F),F},createFormat:function(S){var F={id:this.masterCellFormats.length};if(S.protection&&(F.protection=S.protection),S.font&&w.isObject(S.font))F.fontId=this.createFontStyle(S.font).id;else if(S.font){if(w.isNaN(parseInt(S.font,10)))throw"Passing a non-numeric font id is not supported";F.fontId=S.font}if(S.format&&w.isString(S.format))F.numFmtId=this.createNumberFormatter(S.format).id;else if(S.format){if(w.isNaN(parseInt(S.format,10)))throw"Invalid number formatter id";F.numFmtId=S.format}if(S.border&&w.isObject(S.border))F.borderId=this.createBorderFormatter(S.border).id;else if(S.border){if(w.isNaN(parseInt(S.border,10)))throw"Passing a non-numeric border id is not supported";F.borderId=S.border}if(S.fill&&w.isObject(S.fill))F.fillId=this.createFill(S.fill).id;else if(S.fill){if(w.isNaN(parseInt(S.fill,10)))throw"Passing a non-numeric fill id is not supported";F.fillId=S.fill}return S.alignment&&w.isObject(S.alignment)&&(F.alignment=w.pick(S.alignment,"horizontal","justifyLastLine","readingOrder","relativeIndent","shrinkToFit","textRotation","vertical","wrapText")),this.masterCellFormats.push(F),F},createDifferentialStyle:function(S){var N=this.differentialStyles.length,F={id:N};return S.font&&w.isObject(S.font)&&(F.font=S.font),S.border&&w.isObject(S.border)&&(F.border=w.defaults(S.border,{top:{},left:{},right:{},bottom:{},diagonal:{}})),S.fill&&w.isObject(S.fill)&&(F.fill=S.fill),S.alignment&&w.isObject(S.alignment)&&(F.alignment=S.alignment),S.format&&w.isString(S.format)&&(F.numFmt=S.format),this.differentialStyles[N]=F,F},createTableStyle:function(S){this.tableStyles.push(S)},createBorderFormatter:function(S){return w.defaults(S,{top:{},left:{},right:{},bottom:{},diagonal:{},id:this.borders.length}),this.borders.push(S),S},createFontStyle:function(S){var F={id:this.fonts.length};return S.bold&&(F.bold=!0),S.italic&&(F.italic=!0),S.superscript&&(F.vertAlign="superscript"),S.subscript&&(F.vertAlign="subscript"),S.underline&&(-1!==w.indexOf(["double","singleAccounting","doubleAccounting"],S.underline)?F.underline=S.underline:F.underline=!0),S.strike&&(F.strike=!0),S.outline&&(F.outline=!0),S.shadow&&(F.shadow=!0),S.size&&(F.size=S.size),S.color&&(F.color=S.color),S.fontName&&(F.fontName=S.fontName),this.fonts.push(F),F},exportBorders:function(S){var N=S.createElement("borders");N.setAttribute("count",this.borders.length);for(var F=0,U=this.borders.length;F<U;F++)N.appendChild(this.exportBorder(S,this.borders[F]));return N},exportBorder:function(S,N){var F=S.createElement("border"),U=this,Y=function(ce){var be=S.createElement(ce);return N[ce].style&&be.setAttribute("style",N[ce].style),N[ce].color&&be.appendChild(U.exportColor(S,N[ce].color)),be};return F.appendChild(Y("left")),F.appendChild(Y("right")),F.appendChild(Y("top")),F.appendChild(Y("bottom")),F.appendChild(Y("diagonal")),F},exportColor:function(S,N){var F=S.createElement("color");return w.isString(N)?(F.setAttribute("rgb",N),F):(w.isUndefined(N.tint)||F.setAttribute("tint",N.tint),w.isUndefined(N.auto)||F.setAttribute("auto",!!N.auto),w.isUndefined(N.theme)||F.setAttribute("theme",N.theme),F)},exportMasterCellFormats:function(S){for(var N=T.createElement(S,"cellXfs",[["count",this.masterCellFormats.length]]),F=0,U=this.masterCellFormats.length;F<U;F++){var Y=this.masterCellFormats[F];N.appendChild(this.exportCellFormatElement(S,Y))}return N},exportMasterCellStyles:function(S){for(var N=T.createElement(S,"cellStyleXfs",[["count",this.masterCellStyles.length]]),F=0,U=this.masterCellStyles.length;F<U;F++){var Y=this.masterCellStyles[F];N.appendChild(this.exportCellFormatElement(S,Y))}return N},exportCellFormatElement:function(S,N){var F=S.createElement("xf"),U=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","borderId","fillId","fontId","numFmtId","pivotButton","quotePrefix","xfId"],Y=w.filter(w.keys(N),function(te){if(-1!==w.indexOf(U,te))return!0});if(N.alignment){var ce=N.alignment;F.appendChild(this.exportAlignment(S,ce))}N.protection&&(F.appendChild(this.exportProtection(S,N.protection)),F.setAttribute("applyProtection","1"));for(var be=Y.length;be--;)F.setAttribute(Y[be],N[Y[be]]);return N.fillId&&F.setAttribute("applyFill","1"),N.fontId&&F.setAttribute("applyFont","1"),N.borderId&&F.setAttribute("applyBorder","1"),N.alignment&&F.setAttribute("applyAlignment","1"),N.numFmtId&&F.setAttribute("applyNumberFormat","1"),void 0!==N.numFmtId&&void 0===N.xfId&&F.setAttribute("xfId","0"),F},exportAlignment:function(S,N){for(var F=S.createElement("alignment"),U=w.keys(N),Y=0,ce=U.length;Y<ce;Y++)F.setAttribute(U[Y],N[U[Y]]);return F},exportFonts:function(S){var N=S.createElement("fonts");N.setAttribute("count",this.fonts.length);for(var F=0,U=this.fonts.length;F<U;F++){var Y=this.fonts[F];N.appendChild(this.exportFont(S,Y))}return N},exportFont:function(S,N){var F=S.createElement("font");if(N.size){var U=S.createElement("sz");U.setAttribute("val",N.size),F.appendChild(U)}if(N.fontName){var Y=S.createElement("name");Y.setAttribute("val",N.fontName),F.appendChild(Y)}if(N.bold&&F.appendChild(S.createElement("b")),N.italic&&F.appendChild(S.createElement("i")),N.vertAlign){var ce=S.createElement("vertAlign");ce.setAttribute("val",N.vertAlign),F.appendChild(ce)}if(N.underline){var be=S.createElement("u");!0!==N.underline&&be.setAttribute("val",N.underline),F.appendChild(be)}return N.strike&&F.appendChild(S.createElement("strike")),N.shadow&&F.appendChild(S.createElement("shadow")),N.outline&&F.appendChild(S.createElement("outline")),N.color&&F.appendChild(this.exportColor(S,N.color)),F},exportFills:function(S){var N=S.createElement("fills");N.setAttribute("count",this.fills.length);for(var F=0,U=this.fills.length;F<U;F++){var Y=this.fills[F];N.appendChild(this.exportFill(S,Y))}return N},exportFill:function(S,N){var F,U=S.createElement("fill");return"pattern"===N.type?(F=this.exportPatternFill(S,N),U.appendChild(F)):"gradient"===N.type&&(F=this.exportGradientFill(S,N),U.appendChild(F)),U},exportGradientFill:function(S,N){var F=S.createElement("gradientFill");N.degree?F.setAttribute("degree",N.degree):N.left&&(F.setAttribute("left",N.left),F.setAttribute("right",N.right),F.setAttribute("top",N.top),F.setAttribute("bottom",N.bottom));var U=S.createElement("stop");U.setAttribute("position",N.start.pureAt||0);var Y=S.createElement("color");"string"==typeof N.start||N.start.color?Y.setAttribute("rgb",N.start.color||N.start):(N.start.theme,Y.setAttribute("theme",N.start.theme));var ce=S.createElement("stop"),be=S.createElement("color");return ce.setAttribute("position",N.end.pureAt||1),"string"==typeof N.start||N.end.color?be.setAttribute("rgb",N.end.color||N.end):(N.end.theme,be.setAttribute("theme",N.end.theme)),U.appendChild(Y),ce.appendChild(be),F.appendChild(U),F.appendChild(ce),F},exportPatternFill:function(S,N){var F=T.createElement(S,"patternFill",[["patternType",N.patternType]]);N.bgColor||(N.bgColor="FFFFFFFF"),N.fgColor||(N.fgColor="FFFFFFFF");var U=S.createElement("bgColor");w.isString(N.bgColor)?U.setAttribute("rgb",N.bgColor):N.bgColor.theme?U.setAttribute("theme",N.bgColor.theme):U.setAttribute("rgb",N.bgColor.rbg);var Y=S.createElement("fgColor");return w.isString(N.fgColor)?Y.setAttribute("rgb",N.fgColor):N.fgColor.theme?Y.setAttribute("theme",N.fgColor.theme):Y.setAttribute("rgb",N.fgColor.rbg),F.appendChild(Y),F.appendChild(U),F},exportNumberFormatters:function(S){var N=S.createElement("numFmts");N.setAttribute("count",this.numberFormatters.length);for(var F=0,U=this.numberFormatters.length;F<U;F++){var Y=this.numberFormatters[F];N.appendChild(this.exportNumberFormatter(S,Y))}return N},exportNumberFormatter:function(S,N){var F=S.createElement("numFmt");return F.setAttribute("numFmtId",N.id),F.setAttribute("formatCode",N.formatCode),F},exportCellStyles:function(S){var N=S.createElement("cellStyles");N.setAttribute("count",this.cellStyles.length);for(var F=0,U=this.cellStyles.length;F<U;F++){var Y=this.cellStyles[F];delete Y.id;var ce=T.createElement(S,"cellStyle");N.appendChild(ce);for(var be=w.keys(Y),te=be.length;te--;)ce.setAttribute(be[te],Y[be[te]])}return N},exportDifferentialStyles:function(S){var N=S.createElement("dxfs");N.setAttribute("count",this.differentialStyles.length);for(var F=0,U=this.differentialStyles.length;F<U;F++){var Y=this.differentialStyles[F];N.appendChild(this.exportDFX(S,Y))}return N},exportDFX:function(S,N){var F=S.createElement("dxf");return N.font&&F.appendChild(this.exportFont(S,N.font)),N.fill&&F.appendChild(this.exportFill(S,N.fill)),N.border&&F.appendChild(this.exportBorder(S,N.border)),N.numFmt&&F.appendChild(this.exportNumberFormatter(S,N.numFmt)),N.alignment&&F.appendChild(this.exportAlignment(S,N.alignment)),F},exportTableStyles:function(S){var N=S.createElement("tableStyles");N.setAttribute("count",this.tableStyles.length),this.defaultTableStyle&&N.setAttribute("defaultTableStyle",this.defaultTableStyle);for(var F=0,U=this.tableStyles.length;F<U;F++)N.appendChild(this.exportTableStyle(S,this.tableStyles[F]));return N},exportTableStyle:function(S,N){var F=S.createElement("tableStyle");F.setAttribute("name",N.name),F.setAttribute("pivot",0);var U=0;return w.each(N,function(Y,ce){if("name"!==ce){U++;var be=S.createElement("tableStyleElement");be.setAttribute("type",ce),be.setAttribute("dxfId",Y),F.appendChild(be)}}),F.setAttribute("count",U),F},exportProtection:function(S,N){var F=S.createElement("protection");for(var U in N)N.hasOwnProperty(U)&&F.setAttribute(U,N[U]);return F},toXML:function(){var S=T.createXmlDoc(T.schemas.spreadsheetml,"styleSheet"),N=S.documentElement;return N.appendChild(this.exportNumberFormatters(S)),N.appendChild(this.exportFonts(S)),N.appendChild(this.exportFills(S)),N.appendChild(this.exportBorders(S)),N.appendChild(this.exportMasterCellStyles(S)),N.appendChild(this.exportMasterCellFormats(S)),N.appendChild(this.exportCellStyles(S)),N.appendChild(this.exportDifferentialStyles(S)),this.tableStyles.length&&N.appendChild(this.exportTableStyles(S)),S}}),m.exports=x},496:function(m,b,v){var w=v(804),T=v(328),x=function(S){w.defaults(this,{name:"",displayName:"",dataCellStyle:null,dataDfxId:null,headerRowBorderDxfId:null,headerRowCellStyle:null,headerRowCount:1,headerRowDxfId:null,insertRow:!1,insertRowShift:!1,ref:null,tableBorderDxfId:null,totalsRowBorderDxfId:null,totalsRowCellStyle:null,totalsRowCount:0,totalsRowDxfId:null,tableColumns:[],autoFilter:null,sortState:null,styleInfo:{}}),this.initialize(S)};w.extend(x.prototype,{initialize:function(S){this.displayName=w.uniqueId("Table"),this.name=this.displayName,this.id=this.name,this.tableId=this.id.replace("Table",""),w.extend(this,S)},setReferenceRange:function(S,N){this.ref=[S,N]},setTableColumns:function(S){w.each(S,function(N){this.addTableColumn(N)},this)},addTableColumn:function(S){if(w.isString(S)&&(S={name:S}),!S.name)throw"Invalid argument for addTableColumn - minimum requirement is a name property";this.tableColumns.push(S)},setSortState:function(S){this.sortState=S},toXML:function(){var S=T.createXmlDoc(T.schemas.spreadsheetml,"table"),N=S.documentElement;N.setAttribute("id",this.tableId),N.setAttribute("name",this.name),N.setAttribute("displayName",this.displayName);var F=this.ref[0],U=this.ref[1];if(N.setAttribute("ref",T.positionToLetterRef(F[0],F[1])+":"+T.positionToLetterRef(U[0],U[1])),N.setAttribute("totalsRowCount",this.totalsRowCount),N.setAttribute("headerRowCount",this.headerRowCount),this.headerRowDxfId&&N.setAttribute("headerRowDxfId",this.headerRowDxfId),this.headerRowBorderDxfId&&N.setAttribute("headerRowBorderDxfId",this.headerRowBorderDxfId),!this.ref)throw"Needs at least a reference range";return this.autoFilter||this.addAutoFilter(this.ref[0],this.ref[1]),N.appendChild(this.exportAutoFilter(S)),N.appendChild(this.exportTableColumns(S)),N.appendChild(this.exportTableStyleInfo(S)),S},exportTableColumns:function(S){var N=S.createElement("tableColumns");N.setAttribute("count",this.tableColumns.length);for(var F=this.tableColumns,U=0,Y=F.length;U<Y;U++){var ce=F[U],be=S.createElement("tableColumn");be.setAttribute("id",U+1),be.setAttribute("name",ce.name),N.appendChild(be),ce.totalsRowFunction&&be.setAttribute("totalsRowFunction",ce.totalsRowFunction),ce.totalsRowLabel&&be.setAttribute("totalsRowLabel",ce.totalsRowLabel)}return N},exportAutoFilter:function(S){var N=S.createElement("autoFilter"),F=this.autoFilter[0],U=this.autoFilter[1];return N.setAttribute("ref",T.positionToLetterRef(F[0],F[1])+":"+T.positionToLetterRef(U[0],U[1]-this.totalsRowCount)),N},exportTableStyleInfo:function(S){var N=this.styleInfo,F=S.createElement("tableStyleInfo");return F.setAttribute("name",N.themeStyle),F.setAttribute("showFirstColumn",N.showFirstColumn?"1":"0"),F.setAttribute("showLastColumn",N.showLastColumn?"1":"0"),F.setAttribute("showColumnStripes",N.showColumnStripes?"1":"0"),F.setAttribute("showRowStripes",N.showRowStripes?"1":"0"),F},addAutoFilter:function(S,N){this.autoFilter=[S,N]}}),m.exports=x},952:function(m,b,v){var w=v(434),T=v(804),x=v(328),S=v(747),N=v(20),F=v(349),U=v(785),Y=v(255),ce=v(543),be=function(te){this.worksheets=[],this.tables=[],this.drawings=[],this.media={},this.initialize(te)};T.extend(be.prototype,{initialize:function(){this.id=T.uniqueId("Workbook"),this.styleSheet=new S,this.sharedStrings=new F,this.relations=new U,this.relations.addRelation(this.styleSheet,"stylesheet"),this.relations.addRelation(this.sharedStrings,"sharedStrings")},createWorksheet:function(te){return te=te||{},T.defaults(te,{name:"Sheet ".concat(this.worksheets.length+1)}),new N(te)},getStyleSheet:function(){return this.styleSheet},addTable:function(te){this.tables.push(te)},addDrawings:function(te){this.drawings.push(te)},setPrintTitleTop:function(te,ae){null==this.printTitles&&(this.printTitles={}),null==this.printTitles[te]&&(this.printTitles[te]={}),this.printTitles[te].top=ae},setPrintTitleLeft:function(te,ae){null==this.printTitles&&(this.printTitles={}),null==this.printTitles[te]&&(this.printTitles[te]={}),this.printTitles[te].left=String.fromCharCode(64+ae)},addMedia:function(te,ae,_e,Te){var Re=ae.split("."),G=Re[Re.length-1];if(!Te)switch(G.toLowerCase()){case"jpeg":case"jpg":Te="image/jpeg";break;case"png":Te="image/png";break;case"gif":Te="image/gif";break;default:Te=null}return this.media[ae]||(this.media[ae]={id:ae,data:_e,fileName:ae,contentType:Te,extension:G}),this.media[ae]},addWorksheet:function(te){this.relations.addRelation(te,"worksheet"),te.setSharedStringCollection(this.sharedStrings),this.worksheets.push(te)},createContentTypes:function(){var _e,Te,te=x.createXmlDoc(x.schemas.contentTypes,"Types"),ae=te.documentElement;ae.appendChild(x.createElement(te,"Default",[["Extension","rels"],["ContentType","application/vnd.openxmlformats-package.relationships+xml"]])),ae.appendChild(x.createElement(te,"Default",[["Extension","xml"],["ContentType","application/xml"]]));var Re={};for(var G in this.media)this.media.hasOwnProperty(G)&&(Re[this.media[G].extension]=this.media[G].contentType);for(var Ee in Re)Re.hasOwnProperty(Ee)&&ae.appendChild(x.createElement(te,"Default",[["Extension",Ee],["ContentType",Re[Ee]]]));for(ae.appendChild(x.createElement(te,"Override",[["PartName","/xl/workbook.xml"],["ContentType","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"]])),ae.appendChild(x.createElement(te,"Override",[["PartName","/xl/sharedStrings.xml"],["ContentType","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"]])),ae.appendChild(x.createElement(te,"Override",[["PartName","/xl/styles.xml"],["ContentType","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"]])),_e=0,Te=this.worksheets.length;_e<Te;_e++)ae.appendChild(x.createElement(te,"Override",[["PartName","/xl/worksheets/sheet"+(_e+1)+".xml"],["ContentType","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"]]));for(_e=0,Te=this.tables.length;_e<Te;_e++)ae.appendChild(x.createElement(te,"Override",[["PartName","/xl/tables/table"+(_e+1)+".xml"],["ContentType","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"]]));for(_e=0,Te=this.drawings.length;_e<Te;_e++)ae.appendChild(x.createElement(te,"Override",[["PartName","/xl/drawings/drawing"+(_e+1)+".xml"],["ContentType","application/vnd.openxmlformats-officedocument.drawing+xml"]]));return te},toXML:function(){var te=x.createXmlDoc(x.schemas.spreadsheetml,"workbook"),ae=te.documentElement;ae.setAttribute("xmlns:r",x.schemas.relationships);for(var Te=x.createElement(te,"sheets"),Re=0,G=this.worksheets.length;Re<G;Re++){var Ee=te.createElement("sheet");"undefined"!=typeof console&&this.worksheets[Re].name.length>31&&console.log('Microsoft Excel requires work sheet names to be less than 32 characters long, work sheet name "'+this.worksheets[Re].name+'" is '+this.worksheets[Re].name.length+" characters long"),Ee.setAttribute("name",this.worksheets[Re].name),Ee.setAttribute("sheetId",Re+1),Ee.setAttribute("r:id",this.relations.getRelationshipId(this.worksheets[Re])),Te.appendChild(Ee)}ae.appendChild(Te);var Ie=x.createElement(te,"definedNames"),Le=0;for(var ne in this.printTitles)if(this.printTitles.hasOwnProperty(ne)){var Pe=this.printTitles[ne],He=te.createElement("definedName");He.setAttribute("name","_xlnm.Print_Titles"),He.setAttribute("localSheetId",Le++);var ze="";Pe.top&&(ze+=ne+"!$1:$"+Pe.top,Pe.left&&(ze+=",")),Pe.left&&(ze+=ne+"!$A:$"+Pe.left),He.appendChild(te.createTextNode(ze)),Ie.appendChild(He)}return ae.appendChild(Ie),te},createWorkbookRelationship:function(){var te=x.createXmlDoc(x.schemas.relationshipPackage,"Relationships");return te.documentElement.appendChild(x.createElement(te,"Relationship",[["Id","rId1"],["Type",x.schemas.officeDocument],["Target","xl/workbook.xml"]])),te},_generateCorePaths:function(te){var ae,_e;for(Y[this.styleSheet.id]="styles.xml",Y[this.sharedStrings.id]="sharedStrings.xml",Y[this.id]="/xl/workbook.xml",ae=0,_e=this.tables.length;ae<_e;ae++)te["/xl/tables/table"+(ae+1)+".xml"]=this.tables[ae].toXML(),Y[this.tables[ae].id]="/xl/tables/table"+(ae+1)+".xml";for(var Te in this.media)if(this.media.hasOwnProperty(Te)){var Re=this.media[Te];te["/xl/media/"+Te]=Re.data,Y[Te]="/xl/media/"+Te}for(ae=0,_e=this.drawings.length;ae<_e;ae++)te["/xl/drawings/drawing"+(ae+1)+".xml"]=this.drawings[ae].toXML(),Y[this.drawings[ae].id]="/xl/drawings/drawing"+(ae+1)+".xml",te["/xl/drawings/_rels/drawing"+(ae+1)+".xml.rels"]=this.drawings[ae].relations.toXML()},_prepareFilesForPackaging:function(te){T.extend(te,{"/[Content_Types].xml":this.createContentTypes(),"/_rels/.rels":this.createWorkbookRelationship(),"/xl/styles.xml":this.styleSheet.toXML(),"/xl/workbook.xml":this.toXML(),"/xl/sharedStrings.xml":this.sharedStrings.toXML(),"/xl/_rels/workbook.xml.rels":this.relations.toXML()}),T.each(te,function(ae,_e){if(-1!==_e.indexOf(".xml")||-1!==_e.indexOf(".rels")){te[_e]=ae instanceof ce?ae.toString():ae.xml||(new window.XMLSerializer).serializeToString(ae);var Te=te[_e].replace(/xmlns=""/g,"");Te=(Te=Te.replace(/NS[\d]+:/g,"")).replace(/xmlns:NS[\d]+=""/g,""),te[_e]='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n'+Te}})},generateFiles:function(){var te={};this._generateCorePaths(te);for(var ae=0,_e=this.worksheets.length;ae<_e;ae++)te["/xl/worksheets/sheet"+(ae+1)+".xml"]=this.worksheets[ae].toXML(),Y[this.worksheets[ae].id]="worksheets/sheet"+(ae+1)+".xml",te["/xl/worksheets/_rels/sheet"+(ae+1)+".xml.rels"]=this.worksheets[ae].relations.toXML();return this._prepareFilesForPackaging(te),w.resolve(te)}}),m.exports=be},20:function(m,b,v){var w=v(804),T=v(328),x=v(785),S=v(958),N=function(F){this.relations=null,this.columnFormats=[],this.data=[],this.mergedCells=[],this.columns=[],this.sheetProtection=!1,this._headers=[],this._footers=[],this._tables=[],this._drawings=[],this._rowInstructions={},this._freezePane={},this.hyperlinks=[],this.sheetView=F.sheetView||new S,this.showZeros=null,this.initialize(F)};w.extend(N.prototype,{initialize:function(F){F=F||{},this.name=F.name,this.id=w.uniqueId("Worksheet"),this._timezoneOffset=60*(new Date).getTimezoneOffset()*1e3,F.columns&&this.setColumns(F.columns),this.relations=new x},exportData:function(){return{relations:this.relations.exportData(),columnFormats:this.columnFormats,data:this.data,columns:this.columns,mergedCells:this.mergedCells,_headers:this._headers,_footers:this._footers,_tables:this._tables,_rowInstructions:this._rowInstructions,_freezePane:this._freezePane,name:this.name,id:this.id}},importData:function(F){this.relations.importData(F.relations),delete F.relations,w.extend(this,F)},setSharedStringCollection:function(F){this.sharedStrings=F},addTable:function(F){this._tables.push(F),this.relations.addRelation(F,"table")},addDrawings:function(F){this._drawings.push(F),this.relations.addRelation(F,"drawingRelationship")},setRowInstructions:function(F,U){this._rowInstructions[F]=U},setHeader:function(F){if(!w.isArray(F))throw"Invalid argument type - setHeader expects an array of three instructions";this._headers=F},setFooter:function(F){if(!w.isArray(F))throw"Invalid argument type - setFooter expects an array of three instructions";this._footers=F},compilePageDetailPackage:function(F){return F=F||"",["&L",this.compilePageDetailPiece(F[0]||""),"&C",this.compilePageDetailPiece(F[1]||""),"&R",this.compilePageDetailPiece(F[2]||"")].join("")},compilePageDetailPiece:function(F){if(w.isString(F))return'&"-,Regular"'.concat(F);if(w.isObject(F)&&!w.isArray(F)){var U="";if(F.font||F.bold){var Y=F.bold?"Bold":"Regular";U+='&"'+(F.font||"-"),U+=","+Y+'"'}else U+='&"-,Regular"';return F.underline&&(U+="&U"),F.fontSize&&(U+="&"+F.fontSize),U+=F.text}if(w.isArray(F)){var ce=this;return w.reduce(F,function(be,te){return be.concat(ce.compilePageDetailPiece(te))},"")}},exportHeader:function(F){var U=F.createElement("oddHeader");return U.appendChild(F.createTextNode(this.compilePageDetailPackage(this._headers))),U},exportFooter:function(F){var U=F.createElement("oddFooter");return U.appendChild(F.createTextNode(this.compilePageDetailPackage(this._footers))),U},_buildCache:function(F){var U=F.createElement("c"),Y=F.createElement("v");Y.appendChild(F.createTextNode("--temp--")),U.appendChild(Y);var ce=F.createElement("c"),be=F.createElement("f");be.appendChild(F.createTextNode("--temp--")),ce.appendChild(be);var te=F.createElement("c");te.setAttribute("t","s");var ae=F.createElement("v");return ae.appendChild(F.createTextNode("--temp--")),te.appendChild(ae),{number:U,date:U,string:te,formula:ce}},collectSharedStrings:function(){for(var F=this.data,U=0,Y={},ce=0,be=F.length;ce<be;ce++){var te=F[ce],ae=te.length;U=ae>U?ae:U;for(var _e=0;_e<ae;_e++){var Te=te[_e],Re=Te&&Te.metadata||{};Te&&"object"==typeof Te&&(Te=Te.value),Re.type||"number"==typeof Te&&(Re.type="number"),("text"===Re.type||!Re.type)&&void 0===Y[Te]&&(Y[Te]=!0)}}return w.keys(Y)},toXML:function(){var be,te,ae,F=this.data,U=this.columns||[],Y=T.createXmlDoc(T.schemas.spreadsheetml,"worksheet"),ce=Y.documentElement;ce.setAttribute("xmlns:r",T.schemas.relationships),ce.setAttribute("xmlns:mc",T.schemas.markupCompat);var _e=0,Te=T.createElement(Y,"sheetData"),Re=this._buildCache(Y);for(ae=0,te=F.length;ae<te;ae++){var G=F[ae],Ee=G.length;_e=Ee>_e?Ee:_e;for(var Ie=Y.createElement("row"),Le=0;Le<Ee;Le++){U[Le]=U[Le]||{};var Pe,ne=G[Le],He=ne&&ne.metadata||{};switch(ne&&"object"==typeof ne&&(ne=ne.value),He.type||"number"==typeof ne&&(He.type="number"),He.type){case"number":(Pe=Re.number.cloneNode(!0)).firstChild.firstChild.nodeValue=ne;break;case"date":(Pe=Re.date.cloneNode(!0)).firstChild.firstChild.nodeValue=25569+(ne-this._timezoneOffset)/864e5;break;case"formula":(Pe=Re.formula.cloneNode(!0)).firstChild.firstChild.nodeValue=ne;break;default:var ze;ze=void 0!==this.sharedStrings.strings[ne]?this.sharedStrings.strings[ne]:this.sharedStrings.addString(ne),(Pe=Re.string.cloneNode(!0)).firstChild.firstChild.nodeValue=ze}He.style?Pe.setAttribute("s",He.style):this._rowInstructions[ae]&&void 0!==this._rowInstructions[ae].style&&Pe.setAttribute("s",this._rowInstructions[ae].style),Pe.setAttribute("r",T.positionToLetterRef(Le+1,ae+1)),Ie.appendChild(Pe)}if(Ie.setAttribute("r",ae+1),this._rowInstructions[ae]){var dt=this._rowInstructions[ae];void 0!==dt.height&&(Ie.setAttribute("customHeight","1"),Ie.setAttribute("ht",dt.height)),void 0!==dt.style&&(Ie.setAttribute("customFormat","1"),Ie.setAttribute("s",dt.style))}Te.appendChild(Ie)}if(0!==_e?ce.appendChild(T.createElement(Y,"dimension",[["ref",T.positionToLetterRef(1,1)+":"+T.positionToLetterRef(_e,F.length)]])):ce.appendChild(T.createElement(Y,"dimension",[["ref",T.positionToLetterRef(1,1)]])),ce.appendChild(this.sheetView.exportXML(Y)),this.columns.length&&ce.appendChild(this.exportColumns(Y)),ce.appendChild(Te),this.sheetProtection&&ce.appendChild(this.sheetProtection.exportXML(Y)),this.hyperlinks.length>0){var nt=Y.createElement("hyperlinks"),kt=this.hyperlinks;for(be=0,te=kt.length;be<te;be++){var wt=Y.createElement("hyperlink"),Pt=kt[be];wt.setAttribute("ref",Pt.cell),Pt.id=T.uniqueId("hyperlink"),this.relations.addRelation({id:Pt.id,target:Pt.location,targetMode:Pt.targetMode||"External"},"hyperlink"),wt.setAttribute("r:id",this.relations.getRelationshipId(Pt)),nt.appendChild(wt)}ce.appendChild(nt)}if(this.mergedCells.length>0){var en=Y.createElement("mergeCells");for(be=0,te=this.mergedCells.length;be<te;be++){var Nt=Y.createElement("mergeCell");Nt.setAttribute("ref",this.mergedCells[be][0]+":"+this.mergedCells[be][1]),en.appendChild(Nt)}ce.appendChild(en)}if(this.exportPageSettings(Y,ce),this._headers.length>0||this._footers.length>0){var je=Y.createElement("headerFooter");this._headers.length>0&&je.appendChild(this.exportHeader(Y)),this._footers.length>0&&je.appendChild(this.exportFooter(Y)),ce.appendChild(je)}for(be=0,te=this._drawings.length;be<te;be++){var Ft=Y.createElement("drawing");Ft.setAttribute("r:id",this.relations.getRelationshipId(this._drawings[be])),ce.appendChild(Ft)}if(this._tables.length>0){var sn=Y.createElement("tableParts");for(sn.setAttribute("count",this._tables.length),be=0,te=this._tables.length;be<te;be++){var nn=Y.createElement("tablePart");nn.setAttribute("r:id",this.relations.getRelationshipId(this._tables[be])),sn.appendChild(nn)}ce.appendChild(sn)}return Y},exportColumns:function(F){for(var U=T.createElement(F,"cols"),Y=0,ce=this.columns.length;Y<ce;Y++){var be=this.columns[Y],te=T.createElement(F,"col",[["min",be.min||Y+1],["max",be.max||Y+1]]);be.hidden&&te.setAttribute("hidden",1),be.bestFit&&te.setAttribute("bestFit",1),(be.customWidth||be.width)&&te.setAttribute("customWidth",1),be.width?te.setAttribute("width",be.width):te.setAttribute("width",9.140625),U.appendChild(te)}return U},exportPageSettings:function(F,U){if(this._margin){var Y=.7,ce=this._margin.left?this._margin.left:Y,be=this._margin.right?this._margin.right:Y,te=this._margin.top?this._margin.top:Y,ae=this._margin.bottom?this._margin.bottom:Y;Y=.3;var _e=this._margin.header?this._margin.header:Y,Te=this._margin.footer?this._margin.footer:Y;U.appendChild(T.createElement(F,"pageMargins",[["top",te],["bottom",ae],["left",ce],["right",be],["header",_e],["footer",Te]]))}this._orientation&&U.appendChild(T.createElement(F,"pageSetup",[["orientation",this._orientation]]))},setPageOrientation:function(F){this._orientation=F},setPageMargin:function(F){this._margin=F},setColumns:function(F){this.columns=F},setData:function(F){this.data=F},mergeCells:function(F,U){this.mergedCells.push([F,U])},freezePane:function(F,U,Y){this.sheetView.freezePane(F,U,Y)},setColumnFormats:function(F){this.columnFormats=F}}),m.exports=N},543:function(m,b,v){var w=v(804),T=function(x,S){this.documentElement=this.createElement(S),this.documentElement.setAttribute("xmlns",x)};w.extend(T.prototype,{createElement:function(x){return new T.XMLNode({nodeName:x})},createTextNode:function(x){return new T.TextNode(x)},toString:function(){return this.documentElement.toString()}}),T.Node=function(){},T.Node.Create=function(x){switch(x.type){case"XML":return new T.XMLNode(x);case"TEXT":return new T.TextNode(x.nodeValue)}},T.TextNode=function(x){this.nodeValue=x},w.extend(T.TextNode.prototype,{toJSON:function(){return{nodeValue:this.nodeValue,type:"TEXT"}},toString:function(){return w.escape(this.nodeValue)}}),T.XMLNode=function(x){if(this.nodeName=x.nodeName,this.children=[],this.nodeValue=x.nodeValue||"",this.attributes={},x.children)for(var S=0,N=x.children.length;S<N;S++)this.appendChild(T.Node.Create(x.children[S]));if(x.attributes)for(var F in x.attributes)x.attributes.hasOwnProperty(F)&&this.setAttribute(F,x.attributes[F])},w.extend(T.XMLNode.prototype,{toString:function(){var x="<"+this.nodeName;for(var S in this.attributes)this.attributes.hasOwnProperty(S)&&(x=x+" "+S+'="'+w.escape(this.attributes[S])+'"');for(var N="",F=0,U=this.children.length;F<U;F++)N+=this.children[F].toString();return x+=N?">"+N+"</"+this.nodeName+">":"/>"},toJSON:function(){for(var x=[],S=0,N=this.children.length;S<N;S++)x.push(this.children[S].toJSON());return{nodeName:this.nodeName,children:x,nodeValue:this.nodeValue,attributes:this.attributes,type:"XML"}},setAttribute:function(x,S){if(null===S)return delete this.attributes[x],void delete this[x];this.attributes[x]=S,this[x]=S},appendChild:function(x){this.children.push(x),this.firstChild=this.children[0]},cloneNode:function(){return new T.XMLNode(this.toJSON())}}),m.exports=T},328:function(m,b,v){var w=v(543),T=v(804),x={_idSpaces:{},uniqueId:function(S){return this._idSpaces[S]||(this._idSpaces[S]=1),this._idSpaces[S]++},createXmlDoc:function(S,N){return new w(S||null,N,null)},createElement:function(S,N,F){for(var U=S.createElement(N),Y=(F=F||[]).length;Y--;)U.setAttribute(F[Y][0],F[Y][1]);return U},setAttributesOnDoc:function(S,N){T.forEach(N,function(F,U){if(T.isPlainObject(F))if(null!==F.v&&void 0!==F.v){if(F.type===Boolean)F=F.v?"1":"0"}else F=null;null!=F&&S.setAttribute(U,F)})},LETTER_REFS:{},positionToLetterRef:function(S,N){var U,F=1,Y=S,ce="";if(this.LETTER_REFS[S])return this.LETTER_REFS[S].concat(N);for(;Y>0;)Y-=Math.pow(26,F-1),Y-=U=Y%Math.pow(26,F),U/=Math.pow(26,F-1),ce="ABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(U)+ce,F+=1;return this.LETTER_REFS[S]=ce,ce.concat(N)},schemas:{worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",sharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",stylesheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",relationships:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",relationshipPackage:"http://schemas.openxmlformats.org/package/2006/relationships",contentTypes:"http://schemas.openxmlformats.org/package/2006/content-types",spreadsheetml:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",markupCompat:"http://schemas.openxmlformats.org/markup-compatibility/2006",x14ac:"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac",officeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",package:"http://schemas.openxmlformats.org/package/2006/relationships",table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table",spreadsheetDrawing:"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing",drawing:"http://schemas.openxmlformats.org/drawingml/2006/main",drawingRelationship:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",chart:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink"}};m.exports=x},450:function(m,b,v){var w=v(952),T=v(496),S=function(N){this.workbook=new w,this.stylesheet=this.workbook.getStyleSheet(),this.columns={},this.predefinedStyles={},this.predefinedFormatters={date:this.stylesheet.createSimpleFormatter("date"),currency:this.stylesheet.createFormat({format:"$ #,##0.00;$ #,##0.00;-",font:{color:"FFE9F50A"}}),header:this.stylesheet.createFormat({font:{bold:!0,underline:!0,color:{theme:3}},alignment:{horizontal:"center"}})},this.worksheet=null!=N?this.workbook.createWorksheet(N):this.workbook.createWorksheet(),this.workbook.addWorksheet(this.worksheet),this.worksheet.setPageOrientation("landscape"),this.table=new T,this.table.styleInfo.themeStyle="TableStyleLight1",this.worksheet.addTable(this.table),this.workbook.addTable(this.table)};v(804).extend(S.prototype,{setHeader:function(){this.worksheet.setHeader.apply(this.worksheet,arguments)},setFooter:function(){this.worksheet.setFooter.apply(this.worksheet,arguments)},prepare:function(){return this.workbook},setData:function(N){this.worksheet.setData(N),this.data=N,this.table.setReferenceRange([1,1],[this.columns.length,N.length])},setColumns:function(N){this.columns=N,this.worksheet.setColumns(N),this.table.setTableColumns(N),this.table.setReferenceRange([1,1],[this.columns.length,this.data.length])},getWorksheet:function(){return this.worksheet}}),m.exports=S},133:function(m,b,v){m.exports={BasicReport:v(450)}},396:function(m,b,v){var w=v(804),T=v(952),x=v(395),S={createWorkbook:function(){return new T},config:{forceUIThread:!1},createFile:function(N,F){var U=new x;return N.generateFiles().then(function(Y){return w.each(Y,function(ce,be){-1!==(be=be.substr(1)).indexOf(".xml")||-1!==be.indexOf(".rel")?U.file(be,ce,{base64:!1}):U.file(be,ce,{base64:!0,binary:!0})}),U.generateAsync(w.defaults(F||{},{type:"base64"}))})}};m.exports=S},351:function(m,b,v){var w=m.exports={Drawings:v(861),Drawing:v(890),Pane:v(753),Paths:v(255),Positioning:v(864),RelationshipManager:v(785),SharedStrings:v(349),SheetView:v(958),StyleSheet:v(747),Table:v(496),util:v(328),Workbook:v(952),Worksheet:v(20),XMLDOM:v(543),Builder:v(396),Template:v(133)};try{"undefined"!=typeof window&&(window.ExcelBuilder=w)}catch(T){console.info("Not attaching EB to window")}},395:function(m){m.exports=L(310)},804:function(m){m.exports=L(2938)},434:function(m){m.exports=L(3118)}},A={};function j(m){if(A[m])return A[m].exports;var b=A[m]={exports:{}},v=!0;try{l[m](b,b.exports,j),v=!1}finally{v&&delete A[m]}return b.exports}var I=void 0!==I?I:"";return j.ab=I+"/",j(351)}()},2800:()=>{"use strict";"function"!=typeof Object.assign&&(Object.assign=function(V,...k){if(!V)throw TypeError("Cannot convert undefined or null to object");for(const L of k)L&&Object.keys(L).forEach(l=>V[l]=L[l]);return V})},7330:function(V,k){!function(L){"use strict";var l="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},A={firstDayOfWeek:1,weekdays:{shorthand:["dim","lun","mar","mer","jeu","ven","sam"],longhand:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},months:{shorthand:["janv","f\xe9vr","mars","avr","mai","juin","juil","ao\xfbt","sept","oct","nov","d\xe9c"],longhand:["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"]},ordinal:function(I){return I>1?"":"er"},rangeSeparator:" au ",weekAbbreviation:"Sem",scrollTitle:"D\xe9filer pour augmenter la valeur",toggleTitle:"Cliquer pour basculer",time_24hr:!0};l.l10ns.fr=A;var j=l.l10ns;L.French=A,L.default=j,Object.defineProperty(L,"__esModule",{value:!0})}(k)},7534:(V,k,L)=>{var l,A,j;!function(I){"use strict";A=[L(5139),L(1523)],l=function(I){return I.extend(I.expr.pseudos,{data:I.expr.createPseudo?I.expr.createPseudo(function(m){return function(b){return!!I.data(b,m)}}):function(m,b,v){return!!I.data(m,v[3])}})},void 0!==(j="function"==typeof l?l.apply(k,A):l)&&(V.exports=j)}()},8236:(V,k,L)=>{var l,A,j;!function(I){"use strict";A=[L(5139),L(1523)],l=function(I){return I.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())},void 0!==(j="function"==typeof l?l.apply(k,A):l)&&(V.exports=j)}()},8749:(V,k,L)=>{var l,A,j;!function(I){"use strict";A=[L(5139),L(1523)],l=function(I){return I.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},void 0!==(j="function"==typeof l?l.apply(k,A):l)&&(V.exports=j)}()},1964:(V,k,L)=>{var l,A,j;!function(I){"use strict";A=[L(5139),L(1523)],l=function(I){return I.ui.plugin={add:function(m,b,v){var w,T=I.ui[m].prototype;for(w in v)T.plugins[w]=T.plugins[w]||[],T.plugins[w].push([b,v[w]])},call:function(m,b,v,w){var T,x=m.plugins[b];if(x&&(w||m.element[0].parentNode&&11!==m.element[0].parentNode.nodeType))for(T=0;T<x.length;T++)m.options[x[T][0]]&&x[T][1].apply(m.element,v)}}},void 0!==(j="function"==typeof l?l.apply(k,A):l)&&(V.exports=j)}()},3852:(V,k,L)=>{var l,A,j;!function(I){"use strict";A=[L(5139),L(1523)],l=function(I){return function(){var m,b=Math.max,v=Math.abs,w=/left|center|right/,T=/top|center|bottom/,x=/[\+\-]\d+(\.[\d]+)?%?/,S=/^\w+/,N=/%$/,F=I.fn.position;function U(te,ae,_e){return[parseFloat(te[0])*(N.test(te[0])?ae/100:1),parseFloat(te[1])*(N.test(te[1])?_e/100:1)]}function Y(te,ae){return parseInt(I.css(te,ae),10)||0}function ce(te){return null!=te&&te===te.window}function be(te){var ae=te[0];return 9===ae.nodeType?{width:te.width(),height:te.height(),offset:{top:0,left:0}}:ce(ae)?{width:te.width(),height:te.height(),offset:{top:te.scrollTop(),left:te.scrollLeft()}}:ae.preventDefault?{width:0,height:0,offset:{top:ae.pageY,left:ae.pageX}}:{width:te.outerWidth(),height:te.outerHeight(),offset:te.offset()}}I.position={scrollbarWidth:function(){if(void 0!==m)return m;var te,ae,_e=I("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>"),Te=_e.children()[0];return I("body").append(_e),te=Te.offsetWidth,_e.css("overflow","scroll"),te===(ae=Te.offsetWidth)&&(ae=_e[0].clientWidth),_e.remove(),m=te-ae},getScrollInfo:function(te){var ae=te.isWindow||te.isDocument?"":te.element.css("overflow-x"),_e=te.isWindow||te.isDocument?"":te.element.css("overflow-y"),Te="scroll"===ae||"auto"===ae&&te.width<te.element[0].scrollWidth;return{width:"scroll"===_e||"auto"===_e&&te.height<te.element[0].scrollHeight?I.position.scrollbarWidth():0,height:Te?I.position.scrollbarWidth():0}},getWithinInfo:function(te){var ae=I(te||window),_e=ce(ae[0]),Te=!!ae[0]&&9===ae[0].nodeType;return{element:ae,isWindow:_e,isDocument:Te,offset:!_e&&!Te?I(te).offset():{left:0,top:0},scrollLeft:ae.scrollLeft(),scrollTop:ae.scrollTop(),width:ae.outerWidth(),height:ae.outerHeight()}}},I.fn.position=function(te){if(!te||!te.of)return F.apply(this,arguments);var ae,_e,Te,Re,G,Ee,Ie="string"==typeof(te=I.extend({},te)).of?I(document).find(te.of):I(te.of),Le=I.position.getWithinInfo(te.within),ne=I.position.getScrollInfo(Le),Pe=(te.collision||"flip").split(" "),He={};return Ee=be(Ie),Ie[0].preventDefault&&(te.at="left top"),_e=Ee.width,Te=Ee.height,Re=Ee.offset,G=I.extend({},Re),I.each(["my","at"],function(){var dt,nt,ze=(te[this]||"").split(" ");1===ze.length&&(ze=w.test(ze[0])?ze.concat(["center"]):T.test(ze[0])?["center"].concat(ze):["center","center"]),ze[0]=w.test(ze[0])?ze[0]:"center",ze[1]=T.test(ze[1])?ze[1]:"center",dt=x.exec(ze[0]),nt=x.exec(ze[1]),He[this]=[dt?dt[0]:0,nt?nt[0]:0],te[this]=[S.exec(ze[0])[0],S.exec(ze[1])[0]]}),1===Pe.length&&(Pe[1]=Pe[0]),"right"===te.at[0]?G.left+=_e:"center"===te.at[0]&&(G.left+=_e/2),"bottom"===te.at[1]?G.top+=Te:"center"===te.at[1]&&(G.top+=Te/2),ae=U(He.at,_e,Te),G.left+=ae[0],G.top+=ae[1],this.each(function(){var ze,dt,nt=I(this),kt=nt.outerWidth(),wt=nt.outerHeight(),Pt=Y(this,"marginLeft"),en=Y(this,"marginTop"),Nt=kt+Pt+Y(this,"marginRight")+ne.width,je=wt+en+Y(this,"marginBottom")+ne.height,Ft=I.extend({},G),sn=U(He.my,nt.outerWidth(),nt.outerHeight());"right"===te.my[0]?Ft.left-=kt:"center"===te.my[0]&&(Ft.left-=kt/2),"bottom"===te.my[1]?Ft.top-=wt:"center"===te.my[1]&&(Ft.top-=wt/2),Ft.left+=sn[0],Ft.top+=sn[1],ze={marginLeft:Pt,marginTop:en},I.each(["left","top"],function(nn,zt){I.ui.position[Pe[nn]]&&I.ui.position[Pe[nn]][zt](Ft,{targetWidth:_e,targetHeight:Te,elemWidth:kt,elemHeight:wt,collisionPosition:ze,collisionWidth:Nt,collisionHeight:je,offset:[ae[0]+sn[0],ae[1]+sn[1]],my:te.my,at:te.at,within:Le,elem:nt})}),te.using&&(dt=function(nn){var zt=Re.left-Ft.left,an=zt+_e-kt,On=Re.top-Ft.top,Dn=On+Te-wt,fi={target:{element:Ie,left:Re.left,top:Re.top,width:_e,height:Te},element:{element:nt,left:Ft.left,top:Ft.top,width:kt,height:wt},horizontal:an<0?"left":zt>0?"right":"center",vertical:Dn<0?"top":On>0?"bottom":"middle"};_e<kt&&v(zt+an)<_e&&(fi.horizontal="center"),Te<wt&&v(On+Dn)<Te&&(fi.vertical="middle"),b(v(zt),v(an))>b(v(On),v(Dn))?fi.important="horizontal":fi.important="vertical",te.using.call(this,nn,fi)}),nt.offset(I.extend(Ft,{using:dt}))})},I.ui.position={fit:{left:function(te,ae){var Le,_e=ae.within,Te=_e.isWindow?_e.scrollLeft:_e.offset.left,Re=_e.width,G=te.left-ae.collisionPosition.marginLeft,Ee=Te-G,Ie=G+ae.collisionWidth-Re-Te;ae.collisionWidth>Re?Ee>0&&Ie<=0?(Le=te.left+Ee+ae.collisionWidth-Re-Te,te.left+=Ee-Le):te.left=Ie>0&&Ee<=0?Te:Ee>Ie?Te+Re-ae.collisionWidth:Te:Ee>0?te.left+=Ee:Ie>0?te.left-=Ie:te.left=b(te.left-G,te.left)},top:function(te,ae){var Le,_e=ae.within,Te=_e.isWindow?_e.scrollTop:_e.offset.top,Re=ae.within.height,G=te.top-ae.collisionPosition.marginTop,Ee=Te-G,Ie=G+ae.collisionHeight-Re-Te;ae.collisionHeight>Re?Ee>0&&Ie<=0?(Le=te.top+Ee+ae.collisionHeight-Re-Te,te.top+=Ee-Le):te.top=Ie>0&&Ee<=0?Te:Ee>Ie?Te+Re-ae.collisionHeight:Te:Ee>0?te.top+=Ee:Ie>0?te.top-=Ie:te.top=b(te.top-G,te.top)}},flip:{left:function(te,ae){var ze,dt,_e=ae.within,Te=_e.offset.left+_e.scrollLeft,Re=_e.width,G=_e.isWindow?_e.scrollLeft:_e.offset.left,Ee=te.left-ae.collisionPosition.marginLeft,Ie=Ee-G,Le=Ee+ae.collisionWidth-Re-G,ne="left"===ae.my[0]?-ae.elemWidth:"right"===ae.my[0]?ae.elemWidth:0,Pe="left"===ae.at[0]?ae.targetWidth:"right"===ae.at[0]?-ae.targetWidth:0,He=-2*ae.offset[0];Ie<0?((ze=te.left+ne+Pe+He+ae.collisionWidth-Re-Te)<0||ze<v(Ie))&&(te.left+=ne+Pe+He):Le>0&&(((dt=te.left-ae.collisionPosition.marginLeft+ne+Pe+He-G)>0||v(dt)<Le)&&(te.left+=ne+Pe+He))},top:function(te,ae){var dt,nt,_e=ae.within,Te=_e.offset.top+_e.scrollTop,Re=_e.height,G=_e.isWindow?_e.scrollTop:_e.offset.top,Ee=te.top-ae.collisionPosition.marginTop,Ie=Ee-G,Le=Ee+ae.collisionHeight-Re-G,Pe="top"===ae.my[1]?-ae.elemHeight:"bottom"===ae.my[1]?ae.elemHeight:0,He="top"===ae.at[1]?ae.targetHeight:"bottom"===ae.at[1]?-ae.targetHeight:0,ze=-2*ae.offset[1];Ie<0?((nt=te.top+Pe+He+ze+ae.collisionHeight-Re-Te)<0||nt<v(Ie))&&(te.top+=Pe+He+ze):Le>0&&(((dt=te.top-ae.collisionPosition.marginTop+Pe+He+ze-G)>0||v(dt)<Le)&&(te.top+=Pe+He+ze))}},flipfit:{left:function(){I.ui.position.flip.left.apply(this,arguments),I.ui.position.fit.left.apply(this,arguments)},top:function(){I.ui.position.flip.top.apply(this,arguments),I.ui.position.fit.top.apply(this,arguments)}}}}(),I.ui.position},void 0!==(j="function"==typeof l?l.apply(k,A):l)&&(V.exports=j)}()},6488:(V,k,L)=>{var l,A,j;!function(I){"use strict";A=[L(5139),L(1523)],l=function(I){return I.ui.safeActiveElement=function(m){var b;try{b=m.activeElement}catch(v){b=m.body}return b||(b=m.body),b.nodeName||(b=m.body),b}},void 0!==(j="function"==typeof l?l.apply(k,A):l)&&(V.exports=j)}()},6173:(V,k,L)=>{var l,A,j;!function(I){"use strict";A=[L(5139),L(1523)],l=function(I){return I.ui.safeBlur=function(m){m&&"body"!==m.nodeName.toLowerCase()&&I(m).trigger("blur")}},void 0!==(j="function"==typeof l?l.apply(k,A):l)&&(V.exports=j)}()},2536:(V,k,L)=>{var l,A,j;!function(I){"use strict";A=[L(5139),L(1523)],l=function(I){return I.fn.scrollParent=function(m){var b=this.css("position"),v="absolute"===b,w=m?/(auto|scroll|hidden)/:/(auto|scroll)/,T=this.parents().filter(function(){var x=I(this);return(!v||"static"!==x.css("position"))&&w.test(x.css("overflow")+x.css("overflow-y")+x.css("overflow-x"))}).eq(0);return"fixed"!==b&&T.length?T:I(this[0].ownerDocument||document)}},void 0!==(j="function"==typeof l?l.apply(k,A):l)&&(V.exports=j)}()},2099:(V,k,L)=>{var l,A,j;!function(I){"use strict";A=[L(5139),L(1523)],l=function(I){return I.fn.extend({uniqueId:(m=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++m)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&I(this).removeAttr("id")})}});var m},void 0!==(j="function"==typeof l?l.apply(k,A):l)&&(V.exports=j)}()},1523:(V,k,L)=>{var l,A,j;!function(I){"use strict";A=[L(5139)],l=function(I){return I.ui=I.ui||{},I.ui.version="1.13.0"},void 0!==(j="function"==typeof l?l.apply(k,A):l)&&(V.exports=j)}()},649:(V,k,L)=>{var l,A,j;!function(I){"use strict";A=[L(5139),L(1523)],l=function(I){var m=0,b=Array.prototype.hasOwnProperty,v=Array.prototype.slice;return I.cleanData=(w=I.cleanData,function(T){var x,S,N;for(N=0;null!=(S=T[N]);N++)(x=I._data(S,"events"))&&x.remove&&I(S).triggerHandler("remove");w(T)}),I.widget=function(w,T,x){var S,N,F,U={},Y=w.split(".")[0],ce=Y+"-"+(w=w.split(".")[1]);return x||(x=T,T=I.Widget),Array.isArray(x)&&(x=I.extend.apply(null,[{}].concat(x))),I.expr.pseudos[ce.toLowerCase()]=function(be){return!!I.data(be,ce)},I[Y]=I[Y]||{},S=I[Y][w],N=I[Y][w]=function(be,te){if(!this._createWidget)return new N(be,te);arguments.length&&this._createWidget(be,te)},I.extend(N,S,{version:x.version,_proto:I.extend({},x),_childConstructors:[]}),(F=new T).options=I.widget.extend({},F.options),I.each(x,function(be,te){U[be]="function"==typeof te?function(){function ae(){return T.prototype[be].apply(this,arguments)}function _e(Te){return T.prototype[be].apply(this,Te)}return function(){var G,Te=this._super,Re=this._superApply;return this._super=ae,this._superApply=_e,G=te.apply(this,arguments),this._super=Te,this._superApply=Re,G}}():te}),N.prototype=I.widget.extend(F,{widgetEventPrefix:S&&F.widgetEventPrefix||w},U,{constructor:N,namespace:Y,widgetName:w,widgetFullName:ce}),S?(I.each(S._childConstructors,function(be,te){var ae=te.prototype;I.widget(ae.namespace+"."+ae.widgetName,N,te._proto)}),delete S._childConstructors):T._childConstructors.push(N),I.widget.bridge(w,N),N},I.widget.extend=function(w){for(var N,F,T=v.call(arguments,1),x=0,S=T.length;x<S;x++)for(N in T[x])F=T[x][N],b.call(T[x],N)&&void 0!==F&&(I.isPlainObject(F)?w[N]=I.isPlainObject(w[N])?I.widget.extend({},w[N],F):I.widget.extend({},F):w[N]=F);return w},I.widget.bridge=function(w,T){var x=T.prototype.widgetFullName||w;I.fn[w]=function(S){var N="string"==typeof S,F=v.call(arguments,1),U=this;return N?this.length||"instance"!==S?this.each(function(){var Y,ce=I.data(this,x);return"instance"===S?(U=ce,!1):ce?"function"!=typeof ce[S]||"_"===S.charAt(0)?I.error("no such method '"+S+"' for "+w+" widget instance"):(Y=ce[S].apply(ce,F))!==ce&&void 0!==Y?(U=Y&&Y.jquery?U.pushStack(Y.get()):Y,!1):void 0:I.error("cannot call methods on "+w+" prior to initialization; attempted to call method '"+S+"'")}):U=void 0:(F.length&&(S=I.widget.extend.apply(null,[S].concat(F))),this.each(function(){var Y=I.data(this,x);Y?(Y.option(S||{}),Y._init&&Y._init()):I.data(this,x,new T(S,this))})),U}},I.Widget=function(){},I.Widget._childConstructors=[],I.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(w,T){T=I(T||this.defaultElement||this)[0],this.element=I(T),this.uuid=m++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=I(),this.hoverable=I(),this.focusable=I(),this.classesElementLookup={},T!==this&&(I.data(T,this.widgetFullName,this),this._on(!0,this.element,{remove:function(x){x.target===T&&this.destroy()}}),this.document=I(T.style?T.ownerDocument:T.document||T),this.window=I(this.document[0].defaultView||this.document[0].parentWindow)),this.options=I.widget.extend({},this.options,this._getCreateOptions(),w),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:I.noop,_create:I.noop,_init:I.noop,destroy:function(){var w=this;this._destroy(),I.each(this.classesElementLookup,function(T,x){w._removeClass(x,T)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:I.noop,widget:function(){return this.element},option:function(w,T){var S,N,F,x=w;if(0===arguments.length)return I.widget.extend({},this.options);if("string"==typeof w)if(x={},S=w.split("."),w=S.shift(),S.length){for(N=x[w]=I.widget.extend({},this.options[w]),F=0;F<S.length-1;F++)N[S[F]]=N[S[F]]||{},N=N[S[F]];if(w=S.pop(),1===arguments.length)return void 0===N[w]?null:N[w];N[w]=T}else{if(1===arguments.length)return void 0===this.options[w]?null:this.options[w];x[w]=T}return this._setOptions(x),this},_setOptions:function(w){var T;for(T in w)this._setOption(T,w[T]);return this},_setOption:function(w,T){return"classes"===w&&this._setOptionClasses(T),this.options[w]=T,"disabled"===w&&this._setOptionDisabled(T),this},_setOptionClasses:function(w){var T,x,S;for(T in w)S=this.classesElementLookup[T],w[T]!==this.options.classes[T]&&S&&S.length&&(x=I(S.get()),this._removeClass(S,T),x.addClass(this._classes({element:x,keys:T,classes:w,add:!0})))},_setOptionDisabled:function(w){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!w),w&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(w){var T=[],x=this;function S(){w.element.each(function(F,U){I.map(x.classesElementLookup,function(ce){return ce}).some(function(ce){return ce.is(U)})||x._on(I(U),{remove:"_untrackClassesElement"})})}function N(F,U){var Y,ce;for(ce=0;ce<F.length;ce++)Y=x.classesElementLookup[F[ce]]||I(),w.add?(S(),Y=I(I.uniqueSort(Y.get().concat(w.element.get())))):Y=I(Y.not(w.element).get()),x.classesElementLookup[F[ce]]=Y,T.push(F[ce]),U&&w.classes[F[ce]]&&T.push(w.classes[F[ce]])}return(w=I.extend({element:this.element,classes:this.options.classes||{}},w)).keys&&N(w.keys.match(/\S+/g)||[],!0),w.extra&&N(w.extra.match(/\S+/g)||[]),T.join(" ")},_untrackClassesElement:function(w){var T=this;I.each(T.classesElementLookup,function(x,S){-1!==I.inArray(w.target,S)&&(T.classesElementLookup[x]=I(S.not(w.target).get()))}),this._off(I(w.target))},_removeClass:function(w,T,x){return this._toggleClass(w,T,x,!1)},_addClass:function(w,T,x){return this._toggleClass(w,T,x,!0)},_toggleClass:function(w,T,x,S){S="boolean"==typeof S?S:x;var N="string"==typeof w||null===w,F={extra:N?T:x,keys:N?w:T,element:N?this.element:w,add:S};return F.element.toggleClass(this._classes(F),S),this},_on:function(w,T,x){var S,N=this;"boolean"!=typeof w&&(x=T,T=w,w=!1),x?(T=S=I(T),this.bindings=this.bindings.add(T)):(x=T,T=this.element,S=this.widget()),I.each(x,function(F,U){function Y(){if(w||!0!==N.options.disabled&&!I(this).hasClass("ui-state-disabled"))return("string"==typeof U?N[U]:U).apply(N,arguments)}"string"!=typeof U&&(Y.guid=U.guid=U.guid||Y.guid||I.guid++);var ce=F.match(/^([\w:-]*)\s*(.*)$/),be=ce[1]+N.eventNamespace,te=ce[2];te?S.on(be,te,Y):T.on(be,Y)})},_off:function(w,T){T=(T||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,w.off(T),this.bindings=I(this.bindings.not(w).get()),this.focusable=I(this.focusable.not(w).get()),this.hoverable=I(this.hoverable.not(w).get())},_delay:function(w,T){function x(){return("string"==typeof w?S[w]:w).apply(S,arguments)}var S=this;return setTimeout(x,T||0)},_hoverable:function(w){this.hoverable=this.hoverable.add(w),this._on(w,{mouseenter:function(T){this._addClass(I(T.currentTarget),null,"ui-state-hover")},mouseleave:function(T){this._removeClass(I(T.currentTarget),null,"ui-state-hover")}})},_focusable:function(w){this.focusable=this.focusable.add(w),this._on(w,{focusin:function(T){this._addClass(I(T.currentTarget),null,"ui-state-focus")},focusout:function(T){this._removeClass(I(T.currentTarget),null,"ui-state-focus")}})},_trigger:function(w,T,x){var S,N,F=this.options[w];if(x=x||{},(T=I.Event(T)).type=(w===this.widgetEventPrefix?w:this.widgetEventPrefix+w).toLowerCase(),T.target=this.element[0],N=T.originalEvent)for(S in N)S in T||(T[S]=N[S]);return this.element.trigger(T,x),!("function"==typeof F&&!1===F.apply(this.element[0],[T].concat(x))||T.isDefaultPrevented())}},I.each({show:"fadeIn",hide:"fadeOut"},function(w,T){I.Widget.prototype["_"+w]=function(x,S,N){"string"==typeof S&&(S={effect:S});var F,U=S?!0===S||"number"==typeof S?T:S.effect||T:w;"number"==typeof(S=S||{})?S={duration:S}:!0===S&&(S={}),F=!I.isEmptyObject(S),S.complete=N,S.delay&&x.delay(S.delay),F&&I.effects&&I.effects.effect[U]?x[w](S):U!==w&&x[U]?x[U](S.duration,S.easing,N):x.queue(function(Y){I(this)[w](),N&&N.call(x[0]),Y()})}}),I.widget;var w},void 0!==(j="function"==typeof l?l.apply(k,A):l)&&(V.exports=j)}()},2400:(V,k,L)=>{var l,A,j;!function(I){"use strict";A=[L(5139),L(584),L(8749),L(3852),L(6488),L(1523),L(649)],l=function(I){return I.widget("ui.autocomplete",{version:"1.13.0",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var m,b,v,w=this.element[0].nodeName.toLowerCase(),T="textarea"===w,x="input"===w;this.isMultiLine=T||!x&&this._isContentEditable(this.element),this.valueMethod=this.element[T||x?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(S){if(this.element.prop("readOnly"))return m=!0,v=!0,void(b=!0);m=!1,v=!1,b=!1;var N=I.ui.keyCode;switch(S.keyCode){case N.PAGE_UP:m=!0,this._move("previousPage",S);break;case N.PAGE_DOWN:m=!0,this._move("nextPage",S);break;case N.UP:m=!0,this._keyEvent("previous",S);break;case N.DOWN:m=!0,this._keyEvent("next",S);break;case N.ENTER:this.menu.active&&(m=!0,S.preventDefault(),this.menu.select(S));break;case N.TAB:this.menu.active&&this.menu.select(S);break;case N.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(S),S.preventDefault());break;default:b=!0,this._searchTimeout(S)}},keypress:function(S){if(m)return m=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&S.preventDefault());if(!b){var N=I.ui.keyCode;switch(S.keyCode){case N.PAGE_UP:this._move("previousPage",S);break;case N.PAGE_DOWN:this._move("nextPage",S);break;case N.UP:this._keyEvent("previous",S);break;case N.DOWN:this._keyEvent("next",S)}}},input:function(S){if(v)return v=!1,void S.preventDefault();this._searchTimeout(S)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(S){clearTimeout(this.searching),this.close(S),this._change(S)}}),this._initSource(),this.menu=I("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().attr({unselectable:"on"}).menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(S){S.preventDefault()},menufocus:function(S,N){var F,U;if(this.isNewMenu&&(this.isNewMenu=!1,S.originalEvent&&/^mouse/.test(S.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){I(S.target).trigger(S.originalEvent)});U=N.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",S,{item:U})&&S.originalEvent&&/^key/.test(S.originalEvent.type)&&this._value(U.value),(F=N.item.attr("aria-label")||U.value)&&String.prototype.trim.call(F).length&&(this.liveRegion.children().hide(),I("<div>").text(F).appendTo(this.liveRegion))},menuselect:function(S,N){var F=N.item.data("ui-autocomplete-item"),U=this.previous;this.element[0]!==I.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=U,this._delay(function(){this.previous=U,this.selectedItem=F})),!1!==this._trigger("select",S,{item:F})&&this._value(F.value),this.term=this._value(),this.close(S),this.selectedItem=F}}),this.liveRegion=I("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(m,b){this._super(m,b),"source"===m&&this._initSource(),"appendTo"===m&&this.menu.element.appendTo(this._appendTo()),"disabled"===m&&b&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(m){var b=this.menu.element[0];return m.target===this.element[0]||m.target===b||I.contains(b,m.target)},_closeOnClickOutside:function(m){this._isEventTargetInWidget(m)||this.close()},_appendTo:function(){var m=this.options.appendTo;return m&&(m=m.jquery||m.nodeType?I(m):this.document.find(m).eq(0)),(!m||!m[0])&&(m=this.element.closest(".ui-front, dialog")),m.length||(m=this.document[0].body),m},_initSource:function(){var m,b,v=this;Array.isArray(this.options.source)?(m=this.options.source,this.source=function(w,T){T(I.ui.autocomplete.filter(m,w.term))}):"string"==typeof this.options.source?(b=this.options.source,this.source=function(w,T){v.xhr&&v.xhr.abort(),v.xhr=I.ajax({url:b,data:w,dataType:"json",success:function(x){T(x)},error:function(){T([])}})}):this.source=this.options.source},_searchTimeout:function(m){clearTimeout(this.searching),this.searching=this._delay(function(){var b=this.term===this._value(),v=this.menu.element.is(":visible"),w=m.altKey||m.ctrlKey||m.metaKey||m.shiftKey;(!b||b&&!v&&!w)&&(this.selectedItem=null,this.search(null,m))},this.options.delay)},search:function(m,b){return m=null!=m?m:this._value(),this.term=this._value(),m.length<this.options.minLength?this.close(b):!1!==this._trigger("search",b)?this._search(m):void 0},_search:function(m){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:m},this._response())},_response:function(){var m=++this.requestIndex;return function(b){m===this.requestIndex&&this.__response(b),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}.bind(this)},__response:function(m){m&&(m=this._normalize(m)),this._trigger("response",null,{content:m}),!this.options.disabled&&m&&m.length&&!this.cancelSearch?(this._suggest(m),this._trigger("open")):this._close()},close:function(m){this.cancelSearch=!0,this._close(m)},_close:function(m){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",m))},_change:function(m){this.previous!==this._value()&&this._trigger("change",m,{item:this.selectedItem})},_normalize:function(m){return m.length&&m[0].label&&m[0].value?m:I.map(m,function(b){return"string"==typeof b?{label:b,value:b}:I.extend({},b,{label:b.label||b.value,value:b.value||b.label})})},_suggest:function(m){var b=this.menu.element.empty();this._renderMenu(b,m),this.isNewMenu=!0,this.menu.refresh(),b.show(),this._resizeMenu(),b.position(I.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var m=this.menu.element;m.outerWidth(Math.max(m.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(m,b){var v=this;I.each(b,function(w,T){v._renderItemData(m,T)})},_renderItemData:function(m,b){return this._renderItem(m,b).data("ui-autocomplete-item",b)},_renderItem:function(m,b){return I("<li>").append(I("<div>").text(b.label)).appendTo(m)},_move:function(m,b){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(m)||this.menu.isLastItem()&&/^next/.test(m)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[m](b);this.search(null,b)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(m,b){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(m,b),b.preventDefault())},_isContentEditable:function(m){if(!m.length)return!1;var b=m.prop("contentEditable");return"inherit"===b?this._isContentEditable(m.parent()):"true"===b}}),I.extend(I.ui.autocomplete,{escapeRegex:function(m){return m.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(m,b){var v=new RegExp(I.ui.autocomplete.escapeRegex(b),"i");return I.grep(m,function(w){return v.test(w.label||w.value||w)})}}),I.widget("ui.autocomplete",I.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(m){return m+(m>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(m){var b;this._superApply(arguments),!this.options.disabled&&!this.cancelSearch&&(b=m&&m.length?this.options.messages.results(m.length):this.options.messages.noResults,this.liveRegion.children().hide(),I("<div>").text(b).appendTo(this.liveRegion))}}),I.ui.autocomplete},void 0!==(j="function"==typeof l?l.apply(k,A):l)&&(V.exports=j)}()},8738:(V,k,L)=>{var l,A,j;!function(I){"use strict";A=[L(5139),L(3289),L(7534),L(1964),L(6488),L(6173),L(2536),L(1523),L(649)],l=function(I){return I.widget("ui.draggable",I.ui.mouse,{version:"1.13.0",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(m,b){this._super(m,b),"handle"===m&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(m){var b=this.options;return!(this.helper||b.disabled||I(m.target).closest(".ui-resizable-handle").length>0||(this.handle=this._getHandle(m),!this.handle))&&(this._blurActiveElement(m),this._blockFrames(!0===b.iframeFix?"iframe":b.iframeFix),!0)},_blockFrames:function(m){this.iframeBlocks=this.document.find(m).map(function(){var b=I(this);return I("<div>").css("position","absolute").appendTo(b.parent()).outerWidth(b.outerWidth()).outerHeight(b.outerHeight()).offset(b.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(m){var b=I.ui.safeActiveElement(this.document[0]);I(m.target).closest(b).length||I.ui.safeBlur(b)},_mouseStart:function(m){var b=this.options;return this.helper=this._createHelper(m),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),I.ui.ddmanager&&(I.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===I(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(m),this.originalPosition=this.position=this._generatePosition(m,!1),this.originalPageX=m.pageX,this.originalPageY=m.pageY,b.cursorAt&&this._adjustOffsetFromHelper(b.cursorAt),this._setContainment(),!1===this._trigger("start",m)?(this._clear(),!1):(this._cacheHelperProportions(),I.ui.ddmanager&&!b.dropBehaviour&&I.ui.ddmanager.prepareOffsets(this,m),this._mouseDrag(m,!0),I.ui.ddmanager&&I.ui.ddmanager.dragStart(this,m),!0)},_refreshOffsets:function(m){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:m.pageX-this.offset.left,top:m.pageY-this.offset.top}},_mouseDrag:function(m,b){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(m,!0),this.positionAbs=this._convertPositionTo("absolute"),!b){var v=this._uiHash();if(!1===this._trigger("drag",m,v))return this._mouseUp(new I.Event("mouseup",m)),!1;this.position=v.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",I.ui.ddmanager&&I.ui.ddmanager.drag(this,m),!1},_mouseStop:function(m){var b=this,v=!1;return I.ui.ddmanager&&!this.options.dropBehaviour&&(v=I.ui.ddmanager.drop(this,m)),this.dropped&&(v=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!v||"valid"===this.options.revert&&v||!0===this.options.revert||"function"==typeof this.options.revert&&this.options.revert.call(this.element,v)?I(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==b._trigger("stop",m)&&b._clear()}):!1!==this._trigger("stop",m)&&this._clear(),!1},_mouseUp:function(m){return this._unblockFrames(),I.ui.ddmanager&&I.ui.ddmanager.dragStop(this,m),this.handleElement.is(m.target)&&this.element.trigger("focus"),I.ui.mouse.prototype._mouseUp.call(this,m)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new I.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(m){return!this.options.handle||!!I(m.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(m){var b=this.options,v="function"==typeof b.helper,w=v?I(b.helper.apply(this.element[0],[m])):"clone"===b.helper?this.element.clone().removeAttr("id"):this.element;return w.parents("body").length||w.appendTo("parent"===b.appendTo?this.element[0].parentNode:b.appendTo),v&&w[0]===this.element[0]&&this._setPositionRelative(),w[0]!==this.element[0]&&!/(fixed|absolute)/.test(w.css("position"))&&w.css("position","absolute"),w},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(m){"string"==typeof m&&(m=m.split(" ")),Array.isArray(m)&&(m={left:+m[0],top:+m[1]||0}),"left"in m&&(this.offset.click.left=m.left+this.margins.left),"right"in m&&(this.offset.click.left=this.helperProportions.width-m.right+this.margins.left),"top"in m&&(this.offset.click.top=m.top+this.margins.top),"bottom"in m&&(this.offset.click.top=this.helperProportions.height-m.bottom+this.margins.top)},_isRootNode:function(m){return/(html|body)/i.test(m.tagName)||m===this.document[0]},_getParentOffset:function(){var m=this.offsetParent.offset(),b=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==b&&I.contains(this.scrollParent[0],this.offsetParent[0])&&(m.left+=this.scrollParent.scrollLeft(),m.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(m={top:0,left:0}),{top:m.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:m.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var m=this.element.position(),b=this._isRootNode(this.scrollParent[0]);return{top:m.top-(parseInt(this.helper.css("top"),10)||0)+(b?0:this.scrollParent.scrollTop()),left:m.left-(parseInt(this.helper.css("left"),10)||0)+(b?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var m,b,v,w=this.options,T=this.document[0];this.relativeContainer=null,w.containment?"window"!==w.containment?"document"!==w.containment?w.containment.constructor!==Array?("parent"===w.containment&&(w.containment=this.helper[0].parentNode),(v=(b=I(w.containment))[0])&&(m=/(scroll|auto)/.test(b.css("overflow")),this.containment=[(parseInt(b.css("borderLeftWidth"),10)||0)+(parseInt(b.css("paddingLeft"),10)||0),(parseInt(b.css("borderTopWidth"),10)||0)+(parseInt(b.css("paddingTop"),10)||0),(m?Math.max(v.scrollWidth,v.offsetWidth):v.offsetWidth)-(parseInt(b.css("borderRightWidth"),10)||0)-(parseInt(b.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(m?Math.max(v.scrollHeight,v.offsetHeight):v.offsetHeight)-(parseInt(b.css("borderBottomWidth"),10)||0)-(parseInt(b.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=b)):this.containment=w.containment:this.containment=[0,0,I(T).width()-this.helperProportions.width-this.margins.left,(I(T).height()||T.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[I(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,I(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,I(window).scrollLeft()+I(window).width()-this.helperProportions.width-this.margins.left,I(window).scrollTop()+(I(window).height()||T.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(m,b){b||(b=this.position);var v="absolute"===m?1:-1,w=this._isRootNode(this.scrollParent[0]);return{top:b.top+this.offset.relative.top*v+this.offset.parent.top*v-("fixed"===this.cssPosition?-this.offset.scroll.top:w?0:this.offset.scroll.top)*v,left:b.left+this.offset.relative.left*v+this.offset.parent.left*v-("fixed"===this.cssPosition?-this.offset.scroll.left:w?0:this.offset.scroll.left)*v}},_generatePosition:function(m,b){var v,w,T,x,S=this.options,N=this._isRootNode(this.scrollParent[0]),F=m.pageX,U=m.pageY;return(!N||!this.offset.scroll)&&(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),b&&(this.containment&&(this.relativeContainer?(w=this.relativeContainer.offset(),v=[this.containment[0]+w.left,this.containment[1]+w.top,this.containment[2]+w.left,this.containment[3]+w.top]):v=this.containment,m.pageX-this.offset.click.left<v[0]&&(F=v[0]+this.offset.click.left),m.pageY-this.offset.click.top<v[1]&&(U=v[1]+this.offset.click.top),m.pageX-this.offset.click.left>v[2]&&(F=v[2]+this.offset.click.left),m.pageY-this.offset.click.top>v[3]&&(U=v[3]+this.offset.click.top)),S.grid&&(T=S.grid[1]?this.originalPageY+Math.round((U-this.originalPageY)/S.grid[1])*S.grid[1]:this.originalPageY,U=v?T-this.offset.click.top>=v[1]||T-this.offset.click.top>v[3]?T:T-this.offset.click.top>=v[1]?T-S.grid[1]:T+S.grid[1]:T,x=S.grid[0]?this.originalPageX+Math.round((F-this.originalPageX)/S.grid[0])*S.grid[0]:this.originalPageX,F=v?x-this.offset.click.left>=v[0]||x-this.offset.click.left>v[2]?x:x-this.offset.click.left>=v[0]?x-S.grid[0]:x+S.grid[0]:x),"y"===S.axis&&(F=this.originalPageX),"x"===S.axis&&(U=this.originalPageY)),{top:U-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:N?0:this.offset.scroll.top),left:F-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:N?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(m,b,v){return v=v||this._uiHash(),I.ui.plugin.call(this,m,[b,v,this],!0),/^(drag|start|stop)/.test(m)&&(this.positionAbs=this._convertPositionTo("absolute"),v.offset=this.positionAbs),I.Widget.prototype._trigger.call(this,m,b,v)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),I.ui.plugin.add("draggable","connectToSortable",{start:function(m,b,v){var w=I.extend({},b,{item:v.element});v.sortables=[],I(v.options.connectToSortable).each(function(){var T=I(this).sortable("instance");T&&!T.options.disabled&&(v.sortables.push(T),T.refreshPositions(),T._trigger("activate",m,w))})},stop:function(m,b,v){var w=I.extend({},b,{item:v.element});v.cancelHelperRemoval=!1,I.each(v.sortables,function(){var T=this;T.isOver?(T.isOver=0,v.cancelHelperRemoval=!0,T.cancelHelperRemoval=!1,T._storedCSS={position:T.placeholder.css("position"),top:T.placeholder.css("top"),left:T.placeholder.css("left")},T._mouseStop(m),T.options.helper=T.options._helper):(T.cancelHelperRemoval=!0,T._trigger("deactivate",m,w))})},drag:function(m,b,v){I.each(v.sortables,function(){var w=!1,T=this;T.positionAbs=v.positionAbs,T.helperProportions=v.helperProportions,T.offset.click=v.offset.click,T._intersectsWith(T.containerCache)&&(w=!0,I.each(v.sortables,function(){return this.positionAbs=v.positionAbs,this.helperProportions=v.helperProportions,this.offset.click=v.offset.click,this!==T&&this._intersectsWith(this.containerCache)&&I.contains(T.element[0],this.element[0])&&(w=!1),w})),w?(T.isOver||(T.isOver=1,v._parent=b.helper.parent(),T.currentItem=b.helper.appendTo(T.element).data("ui-sortable-item",!0),T.options._helper=T.options.helper,T.options.helper=function(){return b.helper[0]},m.target=T.currentItem[0],T._mouseCapture(m,!0),T._mouseStart(m,!0,!0),T.offset.click.top=v.offset.click.top,T.offset.click.left=v.offset.click.left,T.offset.parent.left-=v.offset.parent.left-T.offset.parent.left,T.offset.parent.top-=v.offset.parent.top-T.offset.parent.top,v._trigger("toSortable",m),v.dropped=T.element,I.each(v.sortables,function(){this.refreshPositions()}),v.currentItem=v.element,T.fromOutside=v),T.currentItem&&(T._mouseDrag(m),b.position=T.position)):T.isOver&&(T.isOver=0,T.cancelHelperRemoval=!0,T.options._revert=T.options.revert,T.options.revert=!1,T._trigger("out",m,T._uiHash(T)),T._mouseStop(m,!0),T.options.revert=T.options._revert,T.options.helper=T.options._helper,T.placeholder&&T.placeholder.remove(),b.helper.appendTo(v._parent),v._refreshOffsets(m),b.position=v._generatePosition(m,!0),v._trigger("fromSortable",m),v.dropped=!1,I.each(v.sortables,function(){this.refreshPositions()}))})}}),I.ui.plugin.add("draggable","cursor",{start:function(m,b,v){var w=I("body"),T=v.options;w.css("cursor")&&(T._cursor=w.css("cursor")),w.css("cursor",T.cursor)},stop:function(m,b,v){var w=v.options;w._cursor&&I("body").css("cursor",w._cursor)}}),I.ui.plugin.add("draggable","opacity",{start:function(m,b,v){var w=I(b.helper),T=v.options;w.css("opacity")&&(T._opacity=w.css("opacity")),w.css("opacity",T.opacity)},stop:function(m,b,v){var w=v.options;w._opacity&&I(b.helper).css("opacity",w._opacity)}}),I.ui.plugin.add("draggable","scroll",{start:function(m,b,v){v.scrollParentNotHidden||(v.scrollParentNotHidden=v.helper.scrollParent(!1)),v.scrollParentNotHidden[0]!==v.document[0]&&"HTML"!==v.scrollParentNotHidden[0].tagName&&(v.overflowOffset=v.scrollParentNotHidden.offset())},drag:function(m,b,v){var w=v.options,T=!1,x=v.scrollParentNotHidden[0],S=v.document[0];x!==S&&"HTML"!==x.tagName?((!w.axis||"x"!==w.axis)&&(v.overflowOffset.top+x.offsetHeight-m.pageY<w.scrollSensitivity?x.scrollTop=T=x.scrollTop+w.scrollSpeed:m.pageY-v.overflowOffset.top<w.scrollSensitivity&&(x.scrollTop=T=x.scrollTop-w.scrollSpeed)),(!w.axis||"y"!==w.axis)&&(v.overflowOffset.left+x.offsetWidth-m.pageX<w.scrollSensitivity?x.scrollLeft=T=x.scrollLeft+w.scrollSpeed:m.pageX-v.overflowOffset.left<w.scrollSensitivity&&(x.scrollLeft=T=x.scrollLeft-w.scrollSpeed))):((!w.axis||"x"!==w.axis)&&(m.pageY-I(S).scrollTop()<w.scrollSensitivity?T=I(S).scrollTop(I(S).scrollTop()-w.scrollSpeed):I(window).height()-(m.pageY-I(S).scrollTop())<w.scrollSensitivity&&(T=I(S).scrollTop(I(S).scrollTop()+w.scrollSpeed))),(!w.axis||"y"!==w.axis)&&(m.pageX-I(S).scrollLeft()<w.scrollSensitivity?T=I(S).scrollLeft(I(S).scrollLeft()-w.scrollSpeed):I(window).width()-(m.pageX-I(S).scrollLeft())<w.scrollSensitivity&&(T=I(S).scrollLeft(I(S).scrollLeft()+w.scrollSpeed)))),!1!==T&&I.ui.ddmanager&&!w.dropBehaviour&&I.ui.ddmanager.prepareOffsets(v,m)}}),I.ui.plugin.add("draggable","snap",{start:function(m,b,v){var w=v.options;v.snapElements=[],I(w.snap.constructor!==String?w.snap.items||":data(ui-draggable)":w.snap).each(function(){var T=I(this),x=T.offset();this!==v.element[0]&&v.snapElements.push({item:this,width:T.outerWidth(),height:T.outerHeight(),top:x.top,left:x.left})})},drag:function(m,b,v){var w,T,x,S,N,F,U,Y,ce,be,te=v.options,ae=te.snapTolerance,_e=b.offset.left,Te=_e+v.helperProportions.width,Re=b.offset.top,G=Re+v.helperProportions.height;for(ce=v.snapElements.length-1;ce>=0;ce--)F=(N=v.snapElements[ce].left-v.margins.left)+v.snapElements[ce].width,Y=(U=v.snapElements[ce].top-v.margins.top)+v.snapElements[ce].height,Te<N-ae||_e>F+ae||G<U-ae||Re>Y+ae||!I.contains(v.snapElements[ce].item.ownerDocument,v.snapElements[ce].item)?(v.snapElements[ce].snapping&&v.options.snap.release&&v.options.snap.release.call(v.element,m,I.extend(v._uiHash(),{snapItem:v.snapElements[ce].item})),v.snapElements[ce].snapping=!1):("inner"!==te.snapMode&&(w=Math.abs(U-G)<=ae,T=Math.abs(Y-Re)<=ae,x=Math.abs(N-Te)<=ae,S=Math.abs(F-_e)<=ae,w&&(b.position.top=v._convertPositionTo("relative",{top:U-v.helperProportions.height,left:0}).top),T&&(b.position.top=v._convertPositionTo("relative",{top:Y,left:0}).top),x&&(b.position.left=v._convertPositionTo("relative",{top:0,left:N-v.helperProportions.width}).left),S&&(b.position.left=v._convertPositionTo("relative",{top:0,left:F}).left)),be=w||T||x||S,"outer"!==te.snapMode&&(w=Math.abs(U-Re)<=ae,T=Math.abs(Y-G)<=ae,x=Math.abs(N-_e)<=ae,S=Math.abs(F-Te)<=ae,w&&(b.position.top=v._convertPositionTo("relative",{top:U,left:0}).top),T&&(b.position.top=v._convertPositionTo("relative",{top:Y-v.helperProportions.height,left:0}).top),x&&(b.position.left=v._convertPositionTo("relative",{top:0,left:N}).left),S&&(b.position.left=v._convertPositionTo("relative",{top:0,left:F-v.helperProportions.width}).left)),!v.snapElements[ce].snapping&&(w||T||x||S||be)&&v.options.snap.snap&&v.options.snap.snap.call(v.element,m,I.extend(v._uiHash(),{snapItem:v.snapElements[ce].item})),v.snapElements[ce].snapping=w||T||x||S||be)}}),I.ui.plugin.add("draggable","stack",{start:function(m,b,v){var w,T=v.options,x=I.makeArray(I(T.stack)).sort(function(S,N){return(parseInt(I(S).css("zIndex"),10)||0)-(parseInt(I(N).css("zIndex"),10)||0)});!x.length||(w=parseInt(I(x[0]).css("zIndex"),10)||0,I(x).each(function(S){I(this).css("zIndex",w+S)}),this.css("zIndex",w+x.length))}}),I.ui.plugin.add("draggable","zIndex",{start:function(m,b,v){var w=I(b.helper),T=v.options;w.css("zIndex")&&(T._zIndex=w.css("zIndex")),w.css("zIndex",T.zIndex)},stop:function(m,b,v){var w=v.options;w._zIndex&&I(b.helper).css("zIndex",w._zIndex)}}),I.ui.draggable},void 0!==(j="function"==typeof l?l.apply(k,A):l)&&(V.exports=j)}()},6822:(V,k,L)=>{var l,A,j;!function(I){"use strict";A=[L(5139),L(8738),L(3289),L(1523),L(649)],l=function(I){return I.widget("ui.droppable",{version:"1.13.0",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var m,b=this.options,v=b.accept;this.isover=!1,this.isout=!0,this.accept="function"==typeof v?v:function(w){return w.is(v)},this.proportions=function(){if(!arguments.length)return m||(m={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});m=arguments[0]},this._addToManager(b.scope),b.addClasses&&this._addClass("ui-droppable")},_addToManager:function(m){I.ui.ddmanager.droppables[m]=I.ui.ddmanager.droppables[m]||[],I.ui.ddmanager.droppables[m].push(this)},_splice:function(m){for(var b=0;b<m.length;b++)m[b]===this&&m.splice(b,1)},_destroy:function(){var m=I.ui.ddmanager.droppables[this.options.scope];this._splice(m)},_setOption:function(m,b){if("accept"===m)this.accept="function"==typeof b?b:function(w){return w.is(b)};else if("scope"===m){var v=I.ui.ddmanager.droppables[this.options.scope];this._splice(v),this._addToManager(b)}this._super(m,b)},_activate:function(m){var b=I.ui.ddmanager.current;this._addActiveClass(),b&&this._trigger("activate",m,this.ui(b))},_deactivate:function(m){var b=I.ui.ddmanager.current;this._removeActiveClass(),b&&this._trigger("deactivate",m,this.ui(b))},_over:function(m){var b=I.ui.ddmanager.current;!b||(b.currentItem||b.element)[0]===this.element[0]||this.accept.call(this.element[0],b.currentItem||b.element)&&(this._addHoverClass(),this._trigger("over",m,this.ui(b)))},_out:function(m){var b=I.ui.ddmanager.current;!b||(b.currentItem||b.element)[0]===this.element[0]||this.accept.call(this.element[0],b.currentItem||b.element)&&(this._removeHoverClass(),this._trigger("out",m,this.ui(b)))},_drop:function(m,b){var v=b||I.ui.ddmanager.current,w=!1;return!(!v||(v.currentItem||v.element)[0]===this.element[0]||(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var T=I(this).droppable("instance");if(T.options.greedy&&!T.options.disabled&&T.options.scope===v.options.scope&&T.accept.call(T.element[0],v.currentItem||v.element)&&I.ui.intersect(v,I.extend(T,{offset:T.element.offset()}),T.options.tolerance,m))return w=!0,!1}),w))&&(!!this.accept.call(this.element[0],v.currentItem||v.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",m,this.ui(v)),this.element))},ui:function(m){return{draggable:m.currentItem||m.element,helper:m.helper,position:m.position,offset:m.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}}),I.ui.intersect=function(){function m(b,v,w){return b>=v&&b<v+w}return function(b,v,w,T){if(!v.offset)return!1;var x=(b.positionAbs||b.position.absolute).left+b.margins.left,S=(b.positionAbs||b.position.absolute).top+b.margins.top,N=x+b.helperProportions.width,F=S+b.helperProportions.height,U=v.offset.left,Y=v.offset.top,ce=U+v.proportions().width,be=Y+v.proportions().height;switch(w){case"fit":return U<=x&&N<=ce&&Y<=S&&F<=be;case"intersect":return U<x+b.helperProportions.width/2&&N-b.helperProportions.width/2<ce&&Y<S+b.helperProportions.height/2&&F-b.helperProportions.height/2<be;case"pointer":return m(T.pageY,Y,v.proportions().height)&&m(T.pageX,U,v.proportions().width);case"touch":return(S>=Y&&S<=be||F>=Y&&F<=be||S<Y&&F>be)&&(x>=U&&x<=ce||N>=U&&N<=ce||x<U&&N>ce);default:return!1}}}(),I.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(m,b){var v,w,T=I.ui.ddmanager.droppables[m.options.scope]||[],x=b?b.type:null,S=(m.currentItem||m.element).find(":data(ui-droppable)").addBack();e:for(v=0;v<T.length;v++)if(!(T[v].options.disabled||m&&!T[v].accept.call(T[v].element[0],m.currentItem||m.element))){for(w=0;w<S.length;w++)if(S[w]===T[v].element[0]){T[v].proportions().height=0;continue e}T[v].visible="none"!==T[v].element.css("display"),T[v].visible&&("mousedown"===x&&T[v]._activate.call(T[v],b),T[v].offset=T[v].element.offset(),T[v].proportions({width:T[v].element[0].offsetWidth,height:T[v].element[0].offsetHeight}))}},drop:function(m,b){var v=!1;return I.each((I.ui.ddmanager.droppables[m.options.scope]||[]).slice(),function(){!this.options||(!this.options.disabled&&this.visible&&I.ui.intersect(m,this,this.options.tolerance,b)&&(v=this._drop.call(this,b)||v),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],m.currentItem||m.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,b)))}),v},dragStart:function(m,b){m.element.parentsUntil("body").on("scroll.droppable",function(){m.options.refreshPositions||I.ui.ddmanager.prepareOffsets(m,b)})},drag:function(m,b){m.options.refreshPositions&&I.ui.ddmanager.prepareOffsets(m,b),I.each(I.ui.ddmanager.droppables[m.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var v,w,T,x=I.ui.intersect(m,this,this.options.tolerance,b),S=!x&&this.isover?"isout":x&&!this.isover?"isover":null;!S||(this.options.greedy&&(w=this.options.scope,(T=this.element.parents(":data(ui-droppable)").filter(function(){return I(this).droppable("instance").options.scope===w})).length&&((v=I(T[0]).droppable("instance")).greedyChild="isover"===S)),v&&"isover"===S&&(v.isover=!1,v.isout=!0,v._out.call(v,b)),this[S]=!0,this["isout"===S?"isover":"isout"]=!1,this["isover"===S?"_over":"_out"].call(this,b),v&&"isout"===S&&(v.isout=!1,v.isover=!0,v._over.call(v,b)))}})},dragStop:function(m,b){m.element.parentsUntil("body").off("scroll.droppable"),m.options.refreshPositions||I.ui.ddmanager.prepareOffsets(m,b)}},!1!==I.uiBackCompat&&I.widget("ui.droppable",I.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),I.ui.droppable},void 0!==(j="function"==typeof l?l.apply(k,A):l)&&(V.exports=j)}()},584:(V,k,L)=>{var l,A,j;!function(I){"use strict";A=[L(5139),L(8749),L(3852),L(6488),L(2099),L(1523),L(649)],l=function(I){return I.widget("ui.menu",{version:"1.13.0",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.lastMousePosition={x:null,y:null},this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(m){m.preventDefault(),this._activateItem(m)},"click .ui-menu-item":function(m){var b=I(m.target),v=I(I.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&b.not(".ui-state-disabled").length&&(this.select(m),m.isPropagationStopped()||(this.mouseHandled=!0),b.has(".ui-menu").length?this.expand(m):!this.element.is(":focus")&&v.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":"_activateItem","mousemove .ui-menu-item":"_activateItem",mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(m,b){var v=this.active||this._menuItems().first();b||this.focus(m,v)},blur:function(m){this._delay(function(){!I.contains(this.element[0],I.ui.safeActiveElement(this.document[0]))&&this.collapseAll(m)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(m){this._closeOnDocumentClick(m)&&this.collapseAll(m,!0),this.mouseHandled=!1}})},_activateItem:function(m){if(!this.previousFilter&&(m.clientX!==this.lastMousePosition.x||m.clientY!==this.lastMousePosition.y)){this.lastMousePosition={x:m.clientX,y:m.clientY};var b=I(m.target).closest(".ui-menu-item"),v=I(m.currentTarget);b[0]===v[0]&&(v.is(".ui-state-active")||(this._removeClass(v.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(m,v)))}},_destroy:function(){var b=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),b.children().each(function(){var v=I(this);v.data("ui-menu-submenu-caret")&&v.remove()})},_keydown:function(m){var b,v,w,T,x=!0;switch(m.keyCode){case I.ui.keyCode.PAGE_UP:this.previousPage(m);break;case I.ui.keyCode.PAGE_DOWN:this.nextPage(m);break;case I.ui.keyCode.HOME:this._move("first","first",m);break;case I.ui.keyCode.END:this._move("last","last",m);break;case I.ui.keyCode.UP:this.previous(m);break;case I.ui.keyCode.DOWN:this.next(m);break;case I.ui.keyCode.LEFT:this.collapse(m);break;case I.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(m);break;case I.ui.keyCode.ENTER:case I.ui.keyCode.SPACE:this._activate(m);break;case I.ui.keyCode.ESCAPE:this.collapse(m);break;default:x=!1,v=this.previousFilter||"",T=!1,w=m.keyCode>=96&&m.keyCode<=105?(m.keyCode-96).toString():String.fromCharCode(m.keyCode),clearTimeout(this.filterTimer),w===v?T=!0:w=v+w,b=this._filterMenuItems(w),(b=T&&-1!==b.index(this.active.next())?this.active.nextAll(".ui-menu-item"):b).length||(w=String.fromCharCode(m.keyCode),b=this._filterMenuItems(w)),b.length?(this.focus(m,b),this.previousFilter=w,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}x&&m.preventDefault()},_activate:function(m){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(m):this.select(m))},refresh:function(){var b,v,w,T,x=this,S=this.options.icons.submenu,N=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),v=N.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var F=I(this),U=F.prev(),Y=I("<span>").data("ui-menu-submenu-caret",!0);x._addClass(Y,"ui-menu-icon","ui-icon "+S),U.attr("aria-haspopup","true").prepend(Y),F.attr("aria-labelledby",U.attr("id"))}),this._addClass(v,"ui-menu","ui-widget ui-widget-content ui-front"),(b=N.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var F=I(this);x._isDivider(F)&&x._addClass(F,"ui-menu-divider","ui-widget-content")}),T=(w=b.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(w,"ui-menu-item")._addClass(T,"ui-menu-item-wrapper"),b.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!I.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(m,b){if("icons"===m){var v=this.element.find(".ui-menu-icon");this._removeClass(v,null,this.options.icons.submenu)._addClass(v,null,b.submenu)}this._super(m,b)},_setOptionDisabled:function(m){this._super(m),this.element.attr("aria-disabled",String(m)),this._toggleClass(null,"ui-state-disabled",!!m)},focus:function(m,b){var v,w,T;this.blur(m,m&&"focus"===m.type),this._scrollIntoView(b),this.active=b.first(),w=this.active.children(".ui-menu-item-wrapper"),this._addClass(w,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",w.attr("id")),T=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(T,null,"ui-state-active"),m&&"keydown"===m.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(v=b.children(".ui-menu")).length&&m&&/^mouse/.test(m.type)&&this._startOpening(v),this.activeMenu=b.parent(),this._trigger("focus",m,{item:b})},_scrollIntoView:function(m){var b,v,w,T,x,S;this._hasScroll()&&(b=parseFloat(I.css(this.activeMenu[0],"borderTopWidth"))||0,v=parseFloat(I.css(this.activeMenu[0],"paddingTop"))||0,w=m.offset().top-this.activeMenu.offset().top-b-v,T=this.activeMenu.scrollTop(),x=this.activeMenu.height(),S=m.outerHeight(),w<0?this.activeMenu.scrollTop(T+w):w+S>x&&this.activeMenu.scrollTop(T+w-x+S))},blur:function(m,b){b||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",m,{item:this.active}),this.active=null)},_startOpening:function(m){clearTimeout(this.timer),"true"===m.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(m)},this.delay))},_open:function(m){var b=I.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(m.parents(".ui-menu")).hide().attr("aria-hidden","true"),m.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(b)},collapseAll:function(m,b){clearTimeout(this.timer),this.timer=this._delay(function(){var v=b?this.element:I(m&&m.target).closest(this.element.find(".ui-menu"));v.length||(v=this.element),this._close(v),this.blur(m),this._removeClass(v.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=v},b?0:this.delay)},_close:function(m){m||(m=this.active?this.active.parent():this.element),m.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(m){return!I(m.target).closest(".ui-menu").length},_isDivider:function(m){return!/[^\-\u2014\u2013\s]/.test(m.text())},collapse:function(m){var b=this.active&&this.active.parent().closest(".ui-menu-item",this.element);b&&b.length&&(this._close(),this.focus(m,b))},expand:function(m){var b=this.active&&this._menuItems(this.active.children(".ui-menu")).first();b&&b.length&&(this._open(b.parent()),this._delay(function(){this.focus(m,b)}))},next:function(m){this._move("next","first",m)},previous:function(m){this._move("prev","last",m)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_menuItems:function(m){return(m||this.element).find(this.options.items).filter(".ui-menu-item")},_move:function(m,b,v){var w;this.active&&(w="first"===m||"last"===m?this.active["first"===m?"prevAll":"nextAll"](".ui-menu-item").last():this.active[m+"All"](".ui-menu-item").first()),(!w||!w.length||!this.active)&&(w=this._menuItems(this.activeMenu)[b]()),this.focus(v,w)},nextPage:function(m){var b,v,w;this.active?this.isLastItem()||(this._hasScroll()?(v=this.active.offset().top,w=this.element.innerHeight(),0===I.fn.jquery.indexOf("3.2.")&&(w+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.nextAll(".ui-menu-item").each(function(){return(b=I(this)).offset().top-v-w<0}),this.focus(m,b)):this.focus(m,this._menuItems(this.activeMenu)[this.active?"last":"first"]())):this.next(m)},previousPage:function(m){var b,v,w;this.active?this.isFirstItem()||(this._hasScroll()?(v=this.active.offset().top,w=this.element.innerHeight(),0===I.fn.jquery.indexOf("3.2.")&&(w+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.prevAll(".ui-menu-item").each(function(){return(b=I(this)).offset().top-v+w>0}),this.focus(m,b)):this.focus(m,this._menuItems(this.activeMenu).first())):this.next(m)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(m){this.active=this.active||I(m.target).closest(".ui-menu-item");var b={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(m,!0),this._trigger("select",m,b)},_filterMenuItems:function(m){var b=m.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),v=new RegExp("^"+b,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return v.test(String.prototype.trim.call(I(this).children(".ui-menu-item-wrapper").text()))})}})},void 0!==(j="function"==typeof l?l.apply(k,A):l)&&(V.exports=j)}()},3289:(V,k,L)=>{var l,A,j;!function(I){"use strict";A=[L(5139),L(8236),L(1523),L(649)],l=function(I){var m=!1;return I(document).on("mouseup",function(){m=!1}),I.widget("ui.mouse",{version:"1.13.0",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.on("mousedown."+this.widgetName,function(v){return b._mouseDown(v)}).on("click."+this.widgetName,function(v){if(!0===I.data(v.target,b.widgetName+".preventClickEvent"))return I.removeData(v.target,b.widgetName+".preventClickEvent"),v.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(b){if(!m){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(b),this._mouseDownEvent=b;var v=this,w=1===b.which,T=!("string"!=typeof this.options.cancel||!b.target.nodeName)&&I(b.target).closest(this.options.cancel).length;return!(w&&!T&&this._mouseCapture(b))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){v.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=!1!==this._mouseStart(b),!this._mouseStarted)?(b.preventDefault(),!0):(!0===I.data(b.target,this.widgetName+".preventClickEvent")&&I.removeData(b.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(x){return v._mouseMove(x)},this._mouseUpDelegate=function(x){return v._mouseUp(x)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),m=!0,!0))}},_mouseMove:function(b){if(this._mouseMoved){if(I.ui.ie&&(!document.documentMode||document.documentMode<9)&&!b.button)return this._mouseUp(b);if(!b.which)if(b.originalEvent.altKey||b.originalEvent.ctrlKey||b.originalEvent.metaKey||b.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(b)}return(b.which||b.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,b),this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted)},_mouseUp:function(b){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&I.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,m=!1,b.preventDefault()},_mouseDistanceMet:function(b){return Math.max(Math.abs(this._mouseDownEvent.pageX-b.pageX),Math.abs(this._mouseDownEvent.pageY-b.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})},void 0!==(j="function"==typeof l?l.apply(k,A):l)&&(V.exports=j)}()},6617:(V,k,L)=>{var l,A,j;!function(I){"use strict";A=[L(5139),L(3289),L(8749),L(1523),L(649)],l=function(I){return I.widget("ui.slider",I.ui.mouse,{version:"1.13.0",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var m,b,v=this.options,w=this.element.find(".ui-slider-handle"),T="<span tabindex='0'></span>",x=[];for(b=v.values&&v.values.length||1,w.length>b&&(w.slice(b).remove(),w=w.slice(0,b)),m=w.length;m<b;m++)x.push(T);this.handles=w.add(I(x.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(S){I(this).data("ui-slider-handle-index",S).attr("tabIndex",0)})},_createRange:function(){var m=this.options;m.range?(!0===m.range&&(m.values?m.values.length&&2!==m.values.length?m.values=[m.values[0],m.values[0]]:Array.isArray(m.values)&&(m.values=m.values.slice(0)):m.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=I("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),("min"===m.range||"max"===m.range)&&this._addClass(this.range,"ui-slider-range-"+m.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(m){var b,v,w,T,x,N,F,U=this,Y=this.options;return!Y.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),b={x:m.pageX,y:m.pageY},v=this._normValueFromMouse(b),w=this._valueMax()-this._valueMin()+1,this.handles.each(function(ce){var be=Math.abs(v-U.values(ce));(w>be||w===be&&(ce===U._lastChangedValue||U.values(ce)===Y.min))&&(w=be,T=I(this),x=ce)}),!1!==this._start(m,x))&&(this._mouseSliding=!0,this._handleIndex=x,this._addClass(T,null,"ui-state-active"),T.trigger("focus"),N=T.offset(),F=!I(m.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=F?{left:0,top:0}:{left:m.pageX-N.left-T.width()/2,top:m.pageY-N.top-T.height()/2-(parseInt(T.css("borderTopWidth"),10)||0)-(parseInt(T.css("borderBottomWidth"),10)||0)+(parseInt(T.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(m,x,v),this._animateOff=!0,!0)},_mouseStart:function(){return!0},_mouseDrag:function(m){var b={x:m.pageX,y:m.pageY},v=this._normValueFromMouse(b);return this._slide(m,this._handleIndex,v),!1},_mouseStop:function(m){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(m,this._handleIndex),this._change(m,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(m){var b,v,w,T,x;return"horizontal"===this.orientation?(b=this.elementSize.width,v=m.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,v=m.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(w=v/b)>1&&(w=1),w<0&&(w=0),"vertical"===this.orientation&&(w=1-w),T=this._valueMax()-this._valueMin(),x=this._valueMin()+w*T,this._trimAlignValue(x)},_uiHash:function(m,b,v){var w={handle:this.handles[m],handleIndex:m,value:void 0!==b?b:this.value()};return this._hasMultipleValues()&&(w.value=void 0!==b?b:this.values(m),w.values=v||this.values()),w},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(m,b){return this._trigger("start",m,this._uiHash(b))},_slide:function(m,b,v){var T,x=this.value(),S=this.values();this._hasMultipleValues()&&(T=this.values(b?0:1),x=this.values(b),2===this.options.values.length&&!0===this.options.range&&(v=0===b?Math.min(T,v):Math.max(T,v)),S[b]=v),v!==x&&(!1!==this._trigger("slide",m,this._uiHash(b,v,S))&&(this._hasMultipleValues()?this.values(b,v):this.value(v)))},_stop:function(m,b){this._trigger("stop",m,this._uiHash(b))},_change:function(m,b){!this._keySliding&&!this._mouseSliding&&(this._lastChangedValue=b,this._trigger("change",m,this._uiHash(b)))},value:function(m){return arguments.length?(this.options.value=this._trimAlignValue(m),this._refreshValue(),void this._change(null,0)):this._value()},values:function(m,b){var v,w,T;if(arguments.length>1)return this.options.values[m]=this._trimAlignValue(b),this._refreshValue(),void this._change(null,m);if(!arguments.length)return this._values();if(!Array.isArray(arguments[0]))return this._hasMultipleValues()?this._values(m):this.value();for(v=this.options.values,w=arguments[0],T=0;T<v.length;T+=1)v[T]=this._trimAlignValue(w[T]),this._change(null,T);this._refreshValue()},_setOption:function(m,b){var v,w=0;switch("range"===m&&!0===this.options.range&&("min"===b?(this.options.value=this._values(0),this.options.values=null):"max"===b&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),Array.isArray(this.options.values)&&(w=this.options.values.length),this._super(m,b),m){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(b),this.handles.css("horizontal"===b?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),v=w-1;v>=0;v--)this._change(null,v);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(m){this._super(m),this._toggleClass(null,"ui-state-disabled",!!m)},_value:function(){var m=this.options.value;return m=this._trimAlignValue(m)},_values:function(m){var b,v,w;if(arguments.length)return b=this.options.values[m],b=this._trimAlignValue(b);if(this._hasMultipleValues()){for(v=this.options.values.slice(),w=0;w<v.length;w+=1)v[w]=this._trimAlignValue(v[w]);return v}return[]},_trimAlignValue:function(m){if(m<=this._valueMin())return this._valueMin();if(m>=this._valueMax())return this._valueMax();var b=this.options.step>0?this.options.step:1,v=(m-this._valueMin())%b,w=m-v;return 2*Math.abs(v)>=b&&(w+=v>0?b:-b),parseFloat(w.toFixed(5))},_calculateNewMax:function(){var m=this.options.max,b=this._valueMin(),v=this.options.step;(m=Math.round((m-b)/v)*v+b)>this.options.max&&(m-=v),this.max=parseFloat(m.toFixed(this._precision()))},_precision:function(){var m=this._precisionOf(this.options.step);return null!==this.options.min&&(m=Math.max(m,this._precisionOf(this.options.min))),m},_precisionOf:function(m){var b=m.toString(),v=b.indexOf(".");return-1===v?0:b.length-v-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(m){"vertical"===m&&this.range.css({width:"",left:""}),"horizontal"===m&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var m,b,v,w,T,x=this.options.range,S=this.options,N=this,F=!this._animateOff&&S.animate,U={};this._hasMultipleValues()?this.handles.each(function(Y){b=(N.values(Y)-N._valueMin())/(N._valueMax()-N._valueMin())*100,U["horizontal"===N.orientation?"left":"bottom"]=b+"%",I(this).stop(1,1)[F?"animate":"css"](U,S.animate),!0===N.options.range&&("horizontal"===N.orientation?(0===Y&&N.range.stop(1,1)[F?"animate":"css"]({left:b+"%"},S.animate),1===Y&&N.range[F?"animate":"css"]({width:b-m+"%"},{queue:!1,duration:S.animate})):(0===Y&&N.range.stop(1,1)[F?"animate":"css"]({bottom:b+"%"},S.animate),1===Y&&N.range[F?"animate":"css"]({height:b-m+"%"},{queue:!1,duration:S.animate}))),m=b}):(v=this.value(),w=this._valueMin(),T=this._valueMax(),b=T!==w?(v-w)/(T-w)*100:0,U["horizontal"===this.orientation?"left":"bottom"]=b+"%",this.handle.stop(1,1)[F?"animate":"css"](U,S.animate),"min"===x&&"horizontal"===this.orientation&&this.range.stop(1,1)[F?"animate":"css"]({width:b+"%"},S.animate),"max"===x&&"horizontal"===this.orientation&&this.range.stop(1,1)[F?"animate":"css"]({width:100-b+"%"},S.animate),"min"===x&&"vertical"===this.orientation&&this.range.stop(1,1)[F?"animate":"css"]({height:b+"%"},S.animate),"max"===x&&"vertical"===this.orientation&&this.range.stop(1,1)[F?"animate":"css"]({height:100-b+"%"},S.animate))},_handleEvents:{keydown:function(m){var v,w,T,x=I(m.target).data("ui-slider-handle-index");switch(m.keyCode){case I.ui.keyCode.HOME:case I.ui.keyCode.END:case I.ui.keyCode.PAGE_UP:case I.ui.keyCode.PAGE_DOWN:case I.ui.keyCode.UP:case I.ui.keyCode.RIGHT:case I.ui.keyCode.DOWN:case I.ui.keyCode.LEFT:if(m.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(I(m.target),null,"ui-state-active"),!1===this._start(m,x)))return}switch(T=this.options.step,v=w=this._hasMultipleValues()?this.values(x):this.value(),m.keyCode){case I.ui.keyCode.HOME:w=this._valueMin();break;case I.ui.keyCode.END:w=this._valueMax();break;case I.ui.keyCode.PAGE_UP:w=this._trimAlignValue(v+(this._valueMax()-this._valueMin())/this.numPages);break;case I.ui.keyCode.PAGE_DOWN:w=this._trimAlignValue(v-(this._valueMax()-this._valueMin())/this.numPages);break;case I.ui.keyCode.UP:case I.ui.keyCode.RIGHT:if(v===this._valueMax())return;w=this._trimAlignValue(v+T);break;case I.ui.keyCode.DOWN:case I.ui.keyCode.LEFT:if(v===this._valueMin())return;w=this._trimAlignValue(v-T)}this._slide(m,x,w)},keyup:function(m){var b=I(m.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(m,b),this._change(m,b),this._removeClass(I(m.target),null,"ui-state-active"))}}})},void 0!==(j="function"==typeof l?l.apply(k,A):l)&&(V.exports=j)}()},7472:(V,k,L)=>{var l,A,j;!function(I){"use strict";A=[L(5139),L(3289),L(7534),L(8236),L(2536),L(1523),L(649)],l=function(I){return I.widget("ui.sortable",I.ui.mouse,{version:"1.13.0",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(m,b,v){return m>=b&&m<b+v},_isFloating:function(m){return/left|right/.test(m.css("float"))||/inline|table-cell/.test(m.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(m,b){this._super(m,b),"handle"===m&&this._setHandleClassName()},_setHandleClassName:function(){var m=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),I.each(this.items,function(){m._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var m=this.items.length-1;m>=0;m--)this.items[m].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(m,b){var v=null,w=!1,T=this;return!(this.reverting||this.options.disabled||"static"===this.options.type||(this._refreshItems(m),I(m.target).parents().each(function(){if(I.data(this,T.widgetName+"-item")===T)return v=I(this),!1}),I.data(m.target,T.widgetName+"-item")===T&&(v=I(m.target)),!v)||this.options.handle&&!b&&(I(this.options.handle,v).find("*").addBack().each(function(){this===m.target&&(w=!0)}),!w))&&(this.currentItem=v,this._removeCurrentsFromItems(),!0)},_mouseStart:function(m,b,v){var w,T,x=this.options;if(this.currentContainer=this,this.refreshPositions(),this.appendTo=I("parent"!==x.appendTo?x.appendTo:this.currentItem.parent()),this.helper=this._createHelper(m),this._cacheHelperProportions(),this._cacheMargins(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},I.extend(this.offset,{click:{left:m.pageX-this.offset.left,top:m.pageY-this.offset.top},relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),x.cursorAt&&this._adjustOffsetFromHelper(x.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),this.scrollParent=this.placeholder.scrollParent(),I.extend(this.offset,{parent:this._getParentOffset()}),x.containment&&this._setContainment(),x.cursor&&"auto"!==x.cursor&&(T=this.document.find("body"),this.storedCursor=T.css("cursor"),T.css("cursor",x.cursor),this.storedStylesheet=I("<style>*{ cursor: "+x.cursor+" !important; }</style>").appendTo(T)),x.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",x.zIndex)),x.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",x.opacity)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",m,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!v)for(w=this.containers.length-1;w>=0;w--)this.containers[w]._trigger("activate",m,this._uiHash(this));return I.ui.ddmanager&&(I.ui.ddmanager.current=this),I.ui.ddmanager&&!x.dropBehaviour&&I.ui.ddmanager.prepareOffsets(this,m),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this.helper.parent().is(this.appendTo)||(this.helper.detach().appendTo(this.appendTo),this.offset.parent=this._getParentOffset()),this.position=this.originalPosition=this._generatePosition(m),this.originalPageX=m.pageX,this.originalPageY=m.pageY,this.lastPositionAbs=this.positionAbs=this._convertPositionTo("absolute"),this._mouseDrag(m),!0},_scroll:function(m){var b=this.options,v=!1;return this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-m.pageY<b.scrollSensitivity?this.scrollParent[0].scrollTop=v=this.scrollParent[0].scrollTop+b.scrollSpeed:m.pageY-this.overflowOffset.top<b.scrollSensitivity&&(this.scrollParent[0].scrollTop=v=this.scrollParent[0].scrollTop-b.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-m.pageX<b.scrollSensitivity?this.scrollParent[0].scrollLeft=v=this.scrollParent[0].scrollLeft+b.scrollSpeed:m.pageX-this.overflowOffset.left<b.scrollSensitivity&&(this.scrollParent[0].scrollLeft=v=this.scrollParent[0].scrollLeft-b.scrollSpeed)):(m.pageY-this.document.scrollTop()<b.scrollSensitivity?v=this.document.scrollTop(this.document.scrollTop()-b.scrollSpeed):this.window.height()-(m.pageY-this.document.scrollTop())<b.scrollSensitivity&&(v=this.document.scrollTop(this.document.scrollTop()+b.scrollSpeed)),m.pageX-this.document.scrollLeft()<b.scrollSensitivity?v=this.document.scrollLeft(this.document.scrollLeft()-b.scrollSpeed):this.window.width()-(m.pageX-this.document.scrollLeft())<b.scrollSensitivity&&(v=this.document.scrollLeft(this.document.scrollLeft()+b.scrollSpeed))),v},_mouseDrag:function(m){var b,v,w,T,x=this.options;if(this.position=this._generatePosition(m),this.positionAbs=this._convertPositionTo("absolute"),(!this.options.axis||"y"!==this.options.axis)&&(this.helper[0].style.left=this.position.left+"px"),(!this.options.axis||"x"!==this.options.axis)&&(this.helper[0].style.top=this.position.top+"px"),this._contactContainers(m),null!==this.innermostContainer)for(x.scroll&&!1!==this._scroll(m)&&(this._refreshItemPositions(!0),I.ui.ddmanager&&!x.dropBehaviour&&I.ui.ddmanager.prepareOffsets(this,m)),this.dragDirection={vertical:this._getDragVerticalDirection(),horizontal:this._getDragHorizontalDirection()},b=this.items.length-1;b>=0;b--)if(w=(v=this.items[b]).item[0],(T=this._intersectsWithPointer(v))&&v.instance===this.currentContainer&&w!==this.currentItem[0]&&this.placeholder[1===T?"next":"prev"]()[0]!==w&&!I.contains(this.placeholder[0],w)&&("semi-dynamic"!==this.options.type||!I.contains(this.element[0],w))){if(this.direction=1===T?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(v))break;this._rearrange(m,v),this._trigger("change",m,this._uiHash());break}return I.ui.ddmanager&&I.ui.ddmanager.drag(this,m),this._trigger("sort",m,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(m,b){if(m){if(I.ui.ddmanager&&!this.options.dropBehaviour&&I.ui.ddmanager.drop(this,m),this.options.revert){var v=this,w=this.placeholder.offset(),T=this.options.axis,x={};(!T||"x"===T)&&(x.left=w.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),(!T||"y"===T)&&(x.top=w.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,I(this.helper).animate(x,parseInt(this.options.revert,10)||500,function(){v._clear(m)})}else this._clear(m,b);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new I.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var m=this.containers.length-1;m>=0;m--)this.containers[m]._trigger("deactivate",null,this._uiHash(this)),this.containers[m].containerCache.over&&(this.containers[m]._trigger("out",null,this._uiHash(this)),this.containers[m].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),I.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?I(this.domPosition.prev).after(this.currentItem):I(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(m){var b=this._getItemsAsjQuery(m&&m.connected),v=[];return m=m||{},I(b).each(function(){var w=(I(m.item||this).attr(m.attribute||"id")||"").match(m.expression||/(.+)[\-=_](.+)/);w&&v.push((m.key||w[1]+"[]")+"="+(m.key&&m.expression?w[1]:w[2]))}),!v.length&&m.key&&v.push(m.key+"="),v.join("&")},toArray:function(m){var b=this._getItemsAsjQuery(m&&m.connected),v=[];return m=m||{},b.each(function(){v.push(I(m.item||this).attr(m.attribute||"id")||"")}),v},_intersectsWith:function(m){var b=this.positionAbs.left,v=b+this.helperProportions.width,w=this.positionAbs.top,T=w+this.helperProportions.height,x=m.left,S=x+m.width,N=m.top,F=N+m.height,U=this.offset.click.top,Y=this.offset.click.left,ce="x"===this.options.axis||w+U>N&&w+U<F,be="y"===this.options.axis||b+Y>x&&b+Y<S,te=ce&&be;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>m[this.floating?"width":"height"]?te:x<b+this.helperProportions.width/2&&v-this.helperProportions.width/2<S&&N<w+this.helperProportions.height/2&&T-this.helperProportions.height/2<F},_intersectsWithPointer:function(m){var b,v,w="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,m.top,m.height),T="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,m.left,m.width);return!!(w&&T)&&(b=this.dragDirection.vertical,v=this.dragDirection.horizontal,this.floating?"right"===v||"down"===b?2:1:b&&("down"===b?2:1))},_intersectsWithSides:function(m){var b=this._isOverAxis(this.positionAbs.top+this.offset.click.top,m.top+m.height/2,m.height),v=this._isOverAxis(this.positionAbs.left+this.offset.click.left,m.left+m.width/2,m.width),w=this.dragDirection.vertical,T=this.dragDirection.horizontal;return this.floating&&T?"right"===T&&v||"left"===T&&!v:w&&("down"===w&&b||"up"===w&&!b)},_getDragVerticalDirection:function(){var m=this.positionAbs.top-this.lastPositionAbs.top;return 0!==m&&(m>0?"down":"up")},_getDragHorizontalDirection:function(){var m=this.positionAbs.left-this.lastPositionAbs.left;return 0!==m&&(m>0?"right":"left")},refresh:function(m){return this._refreshItems(m),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var m=this.options;return m.connectWith.constructor===String?[m.connectWith]:m.connectWith},_getItemsAsjQuery:function(m){var b,v,w,T,x=[],S=[],N=this._connectWith();if(N&&m)for(b=N.length-1;b>=0;b--)for(v=(w=I(N[b],this.document[0])).length-1;v>=0;v--)(T=I.data(w[v],this.widgetFullName))&&T!==this&&!T.options.disabled&&S.push(["function"==typeof T.options.items?T.options.items.call(T.element):I(T.options.items,T.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),T]);function F(){x.push(this)}for(S.push(["function"==typeof this.options.items?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):I(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),b=S.length-1;b>=0;b--)S[b][0].each(F);return I(x)},_removeCurrentsFromItems:function(){var m=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=I.grep(this.items,function(b){for(var v=0;v<m.length;v++)if(m[v]===b.item[0])return!1;return!0})},_refreshItems:function(m){this.items=[],this.containers=[this];var b,v,w,T,x,S,N,F,U=this.items,Y=[["function"==typeof this.options.items?this.options.items.call(this.element[0],m,{item:this.currentItem}):I(this.options.items,this.element),this]],ce=this._connectWith();if(ce&&this.ready)for(b=ce.length-1;b>=0;b--)for(v=(w=I(ce[b],this.document[0])).length-1;v>=0;v--)(T=I.data(w[v],this.widgetFullName))&&T!==this&&!T.options.disabled&&(Y.push(["function"==typeof T.options.items?T.options.items.call(T.element[0],m,{item:this.currentItem}):I(T.options.items,T.element),T]),this.containers.push(T));for(b=Y.length-1;b>=0;b--)for(x=Y[b][1],v=0,F=(S=Y[b][0]).length;v<F;v++)(N=I(S[v])).data(this.widgetName+"-item",x),U.push({item:N,instance:x,width:0,height:0,left:0,top:0})},_refreshItemPositions:function(m){var b,v,w,T;for(b=this.items.length-1;b>=0;b--)v=this.items[b],(!this.currentContainer||v.instance===this.currentContainer||v.item[0]===this.currentItem[0])&&(w=this.options.toleranceElement?I(this.options.toleranceElement,v.item):v.item,m||(v.width=w.outerWidth(),v.height=w.outerHeight()),T=w.offset(),v.left=T.left,v.top=T.top)},refreshPositions:function(m){var b,v;if(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),null!==this.innermostContainer&&this._refreshItemPositions(m),this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(b=this.containers.length-1;b>=0;b--)v=this.containers[b].element.offset(),this.containers[b].containerCache.left=v.left,this.containers[b].containerCache.top=v.top,this.containers[b].containerCache.width=this.containers[b].element.outerWidth(),this.containers[b].containerCache.height=this.containers[b].element.outerHeight();return this},_createPlaceholder:function(m){var b,v,w=(m=m||this).options;(!w.placeholder||w.placeholder.constructor===String)&&(b=w.placeholder,v=m.currentItem[0].nodeName.toLowerCase(),w.placeholder={element:function(){var T=I("<"+v+">",m.document[0]);return m._addClass(T,"ui-sortable-placeholder",b||m.currentItem[0].className)._removeClass(T,"ui-sortable-helper"),"tbody"===v?m._createTrPlaceholder(m.currentItem.find("tr").eq(0),I("<tr>",m.document[0]).appendTo(T)):"tr"===v?m._createTrPlaceholder(m.currentItem,T):"img"===v&&T.attr("src",m.currentItem.attr("src")),b||T.css("visibility","hidden"),T},update:function(T,x){b&&!w.forcePlaceholderSize||((!x.height()||w.forcePlaceholderSize&&("tbody"===v||"tr"===v))&&x.height(m.currentItem.innerHeight()-parseInt(m.currentItem.css("paddingTop")||0,10)-parseInt(m.currentItem.css("paddingBottom")||0,10)),x.width()||x.width(m.currentItem.innerWidth()-parseInt(m.currentItem.css("paddingLeft")||0,10)-parseInt(m.currentItem.css("paddingRight")||0,10)))}}),m.placeholder=I(w.placeholder.element.call(m.element,m.currentItem)),m.currentItem.after(m.placeholder),w.placeholder.update(m,m.placeholder)},_createTrPlaceholder:function(m,b){var v=this;m.children().each(function(){I("<td>&#160;</td>",v.document[0]).attr("colspan",I(this).attr("colspan")||1).appendTo(b)})},_contactContainers:function(m){var b,v,w,T,x,S,N,F,U,Y,ce=null,be=null;for(b=this.containers.length-1;b>=0;b--)if(!I.contains(this.currentItem[0],this.containers[b].element[0]))if(this._intersectsWith(this.containers[b].containerCache)){if(ce&&I.contains(this.containers[b].element[0],ce.element[0]))continue;ce=this.containers[b],be=b}else this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",m,this._uiHash(this)),this.containers[b].containerCache.over=0);if(this.innermostContainer=ce,ce)if(1===this.containers.length)this.containers[be].containerCache.over||(this.containers[be]._trigger("over",m,this._uiHash(this)),this.containers[be].containerCache.over=1);else{for(w=1e4,T=null,x=(U=ce.floating||this._isFloating(this.currentItem))?"left":"top",S=U?"width":"height",Y=U?"pageX":"pageY",v=this.items.length-1;v>=0;v--)!I.contains(this.containers[be].element[0],this.items[v].item[0])||this.items[v].item[0]!==this.currentItem[0]&&(N=this.items[v].item.offset()[x],F=!1,m[Y]-N>this.items[v][S]/2&&(F=!0),Math.abs(m[Y]-N)<w&&(w=Math.abs(m[Y]-N),T=this.items[v],this.direction=F?"up":"down"));if(!T&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[be])return void(this.currentContainer.containerCache.over||(this.containers[be]._trigger("over",m,this._uiHash()),this.currentContainer.containerCache.over=1));T?this._rearrange(m,T,null,!0):this._rearrange(m,null,this.containers[be].element,!0),this._trigger("change",m,this._uiHash()),this.containers[be]._trigger("change",m,this._uiHash(this)),this.currentContainer=this.containers[be],this.options.placeholder.update(this.currentContainer,this.placeholder),this.scrollParent=this.placeholder.scrollParent(),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this.containers[be]._trigger("over",m,this._uiHash(this)),this.containers[be].containerCache.over=1}},_createHelper:function(m){var b=this.options,v="function"==typeof b.helper?I(b.helper.apply(this.element[0],[m,this.currentItem])):"clone"===b.helper?this.currentItem.clone():this.currentItem;return v.parents("body").length||this.appendTo[0].appendChild(v[0]),v[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!v[0].style.width||b.forceHelperSize)&&v.width(this.currentItem.width()),(!v[0].style.height||b.forceHelperSize)&&v.height(this.currentItem.height()),v},_adjustOffsetFromHelper:function(m){"string"==typeof m&&(m=m.split(" ")),Array.isArray(m)&&(m={left:+m[0],top:+m[1]||0}),"left"in m&&(this.offset.click.left=m.left+this.margins.left),"right"in m&&(this.offset.click.left=this.helperProportions.width-m.right+this.margins.left),"top"in m&&(this.offset.click.top=m.top+this.margins.top),"bottom"in m&&(this.offset.click.top=this.helperProportions.height-m.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var m=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&I.contains(this.scrollParent[0],this.offsetParent[0])&&(m.left+=this.scrollParent.scrollLeft(),m.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&I.ui.ie)&&(m={top:0,left:0}),{top:m.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:m.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var m=this.currentItem.position();return{top:m.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:m.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var m,b,v,w=this.options;"parent"===w.containment&&(w.containment=this.helper[0].parentNode),("document"===w.containment||"window"===w.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===w.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===w.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(w.containment)||(m=I(w.containment)[0],b=I(w.containment).offset(),v="hidden"!==I(m).css("overflow"),this.containment=[b.left+(parseInt(I(m).css("borderLeftWidth"),10)||0)+(parseInt(I(m).css("paddingLeft"),10)||0)-this.margins.left,b.top+(parseInt(I(m).css("borderTopWidth"),10)||0)+(parseInt(I(m).css("paddingTop"),10)||0)-this.margins.top,b.left+(v?Math.max(m.scrollWidth,m.offsetWidth):m.offsetWidth)-(parseInt(I(m).css("borderLeftWidth"),10)||0)-(parseInt(I(m).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,b.top+(v?Math.max(m.scrollHeight,m.offsetHeight):m.offsetHeight)-(parseInt(I(m).css("borderTopWidth"),10)||0)-(parseInt(I(m).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(m,b){b||(b=this.position);var v="absolute"===m?1:-1,w="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&I.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,T=/(html|body)/i.test(w[0].tagName);return{top:b.top+this.offset.relative.top*v+this.offset.parent.top*v-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():T?0:w.scrollTop())*v,left:b.left+this.offset.relative.left*v+this.offset.parent.left*v-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():T?0:w.scrollLeft())*v}},_generatePosition:function(m){var b,v,w=this.options,T=m.pageX,x=m.pageY,S="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&I.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,N=/(html|body)/i.test(S[0].tagName);return"relative"===this.cssPosition&&!(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(m.pageX-this.offset.click.left<this.containment[0]&&(T=this.containment[0]+this.offset.click.left),m.pageY-this.offset.click.top<this.containment[1]&&(x=this.containment[1]+this.offset.click.top),m.pageX-this.offset.click.left>this.containment[2]&&(T=this.containment[2]+this.offset.click.left),m.pageY-this.offset.click.top>this.containment[3]&&(x=this.containment[3]+this.offset.click.top)),w.grid&&(b=this.originalPageY+Math.round((x-this.originalPageY)/w.grid[1])*w.grid[1],x=this.containment?b-this.offset.click.top>=this.containment[1]&&b-this.offset.click.top<=this.containment[3]?b:b-this.offset.click.top>=this.containment[1]?b-w.grid[1]:b+w.grid[1]:b,v=this.originalPageX+Math.round((T-this.originalPageX)/w.grid[0])*w.grid[0],T=this.containment?v-this.offset.click.left>=this.containment[0]&&v-this.offset.click.left<=this.containment[2]?v:v-this.offset.click.left>=this.containment[0]?v-w.grid[0]:v+w.grid[0]:v)),{top:x-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():N?0:S.scrollTop()),left:T-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():N?0:S.scrollLeft())}},_rearrange:function(m,b,v,w){v?v[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?b.item[0]:b.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var T=this.counter;this._delay(function(){T===this.counter&&this.refreshPositions(!w)})},_clear:function(m,b){this.reverting=!1;var v,w=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(v in this._storedCSS)("auto"===this._storedCSS[v]||"static"===this._storedCSS[v])&&(this._storedCSS[v]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function T(x,S,N){return function(F){N._trigger(x,F,S._uiHash(S))}}for(this.fromOutside&&!b&&w.push(function(x){this._trigger("receive",x,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!b&&w.push(function(x){this._trigger("update",x,this._uiHash())}),this!==this.currentContainer&&(b||(w.push(function(x){this._trigger("remove",x,this._uiHash())}),w.push(function(x){return function(S){x._trigger("receive",S,this._uiHash(this))}}.call(this,this.currentContainer)),w.push(function(x){return function(S){x._trigger("update",S,this._uiHash(this))}}.call(this,this.currentContainer)))),v=this.containers.length-1;v>=0;v--)b||w.push(T("deactivate",this,this.containers[v])),this.containers[v].containerCache.over&&(w.push(T("out",this,this.containers[v])),this.containers[v].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,b||this._trigger("beforeStop",m,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!b){for(v=0;v<w.length;v++)w[v].call(this,m);this._trigger("stop",m,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===I.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(m){var b=m||this;return{helper:b.helper,placeholder:b.placeholder||I([]),position:b.position,originalPosition:b.originalPosition,offset:b.positionAbs,item:b.currentItem,sender:m?m.element:null}}})},void 0!==(j="function"==typeof l?l.apply(k,A):l)&&(V.exports=j)}()},5139:function(V,k){var L,l;!function(A,j){"use strict";"object"==typeof V.exports?V.exports=A.document?j(A,!0):function(I){if(!I.document)throw new Error("jQuery requires a window with a document");return j(I)}:j(A)}("undefined"!=typeof window?window:this,function(A,j){"use strict";var I=[],m=Object.getPrototypeOf,b=I.slice,v=I.flat?function(R){return I.flat.call(R)}:function(R){return I.concat.apply([],R)},w=I.push,T=I.indexOf,x={},S=x.toString,N=x.hasOwnProperty,F=N.toString,U=F.call(Object),Y={},ce=function(Q){return"function"==typeof Q&&"number"!=typeof Q.nodeType&&"function"!=typeof Q.item},be=function(Q){return null!=Q&&Q===Q.window},te=A.document,ae={type:!0,src:!0,nonce:!0,noModule:!0};function _e(R,Q,ue){var ve,Ve,Ge=(ue=ue||te).createElement("script");if(Ge.text=R,Q)for(ve in ae)(Ve=Q[ve]||Q.getAttribute&&Q.getAttribute(ve))&&Ge.setAttribute(ve,Ve);ue.head.appendChild(Ge).parentNode.removeChild(Ge)}function Te(R){return null==R?R+"":"object"==typeof R||"function"==typeof R?x[S.call(R)]||"object":typeof R}var G=function(R,Q){return new G.fn.init(R,Q)};function Ee(R){var Q=!!R&&"length"in R&&R.length,ue=Te(R);return!ce(R)&&!be(R)&&("array"===ue||0===Q||"number"==typeof Q&&Q>0&&Q-1 in R)}G.fn=G.prototype={jquery:"3.6.0",constructor:G,length:0,toArray:function(){return b.call(this)},get:function(R){return null==R?b.call(this):R<0?this[R+this.length]:this[R]},pushStack:function(R){var Q=G.merge(this.constructor(),R);return Q.prevObject=this,Q},each:function(R){return G.each(this,R)},map:function(R){return this.pushStack(G.map(this,function(Q,ue){return R.call(Q,ue,Q)}))},slice:function(){return this.pushStack(b.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(G.grep(this,function(R,Q){return(Q+1)%2}))},odd:function(){return this.pushStack(G.grep(this,function(R,Q){return Q%2}))},eq:function(R){var Q=this.length,ue=+R+(R<0?Q:0);return this.pushStack(ue>=0&&ue<Q?[this[ue]]:[])},end:function(){return this.prevObject||this.constructor()},push:w,sort:I.sort,splice:I.splice},G.extend=G.fn.extend=function(){var R,Q,ue,ve,Ve,Ge,Xe=arguments[0]||{},Bt=1,Lt=arguments.length,de=!1;for("boolean"==typeof Xe&&(de=Xe,Xe=arguments[Bt]||{},Bt++),"object"!=typeof Xe&&!ce(Xe)&&(Xe={}),Bt===Lt&&(Xe=this,Bt--);Bt<Lt;Bt++)if(null!=(R=arguments[Bt]))for(Q in R)ve=R[Q],"__proto__"!==Q&&Xe!==ve&&(de&&ve&&(G.isPlainObject(ve)||(Ve=Array.isArray(ve)))?(ue=Xe[Q],Ge=Ve&&!Array.isArray(ue)?[]:Ve||G.isPlainObject(ue)?ue:{},Ve=!1,Xe[Q]=G.extend(de,Ge,ve)):void 0!==ve&&(Xe[Q]=ve));return Xe},G.extend({expando:"jQuery"+("3.6.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(R){throw new Error(R)},noop:function(){},isPlainObject:function(R){var Q,ue;return!(!R||"[object Object]"!==S.call(R))&&(!(Q=m(R))||"function"==typeof(ue=N.call(Q,"constructor")&&Q.constructor)&&F.call(ue)===U)},isEmptyObject:function(R){var Q;for(Q in R)return!1;return!0},globalEval:function(R,Q,ue){_e(R,{nonce:Q&&Q.nonce},ue)},each:function(R,Q){var ue,ve=0;if(Ee(R))for(ue=R.length;ve<ue&&!1!==Q.call(R[ve],ve,R[ve]);ve++);else for(ve in R)if(!1===Q.call(R[ve],ve,R[ve]))break;return R},makeArray:function(R,Q){var ue=Q||[];return null!=R&&(Ee(Object(R))?G.merge(ue,"string"==typeof R?[R]:R):w.call(ue,R)),ue},inArray:function(R,Q,ue){return null==Q?-1:T.call(Q,R,ue)},merge:function(R,Q){for(var ue=+Q.length,ve=0,Ve=R.length;ve<ue;ve++)R[Ve++]=Q[ve];return R.length=Ve,R},grep:function(R,Q,ue){for(var Ve=[],Ge=0,Xe=R.length,Bt=!ue;Ge<Xe;Ge++)!Q(R[Ge],Ge)!==Bt&&Ve.push(R[Ge]);return Ve},map:function(R,Q,ue){var ve,Ve,Ge=0,Xe=[];if(Ee(R))for(ve=R.length;Ge<ve;Ge++)null!=(Ve=Q(R[Ge],Ge,ue))&&Xe.push(Ve);else for(Ge in R)null!=(Ve=Q(R[Ge],Ge,ue))&&Xe.push(Ve);return v(Xe)},guid:1,support:Y}),"function"==typeof Symbol&&(G.fn[Symbol.iterator]=I[Symbol.iterator]),G.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(R,Q){x["[object "+Q+"]"]=Q.toLowerCase()});var Ie=function(R){var Q,ue,ve,Ve,Ge,Xe,Bt,Lt,de,P,O,Z,Me,et,hn,En,vi,Zi,Ir,ci="sizzle"+1*new Date,_i=R.document,wr=0,Ji=0,wi=Io(),mo=Io(),ra=Io(),lo=Io(),Co=function(at,Ot){return at===Ot&&(O=!0),0},Oo={}.hasOwnProperty,uo=[],wo=uo.pop,Un=uo.push,Vr=uo.push,ha=uo.slice,$s=function(at,Ot){for(var qt=0,An=at.length;qt<An;qt++)if(at[qt]===Ot)return qt;return-1},za="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",bi="[\\x20\\t\\r\\n\\f]",li="(?:\\\\[\\da-fA-F]{1,6}"+bi+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",To="\\["+bi+"*("+li+")(?:"+bi+"*([*^$|!~]?=)"+bi+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+li+"))|)"+bi+"*\\]",qs=":("+li+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+To+")*)|.*)\\)|)",ol=new RegExp(bi+"+","g"),Ki=new RegExp("^"+bi+"+|((?:^|[^\\\\])(?:\\\\.)*)"+bi+"+$","g"),Ys=new RegExp("^"+bi+"*,"+bi+"*"),Hr=new RegExp("^"+bi+"*([>+~]|"+bi+")"+bi+"*"),K=new RegExp(bi+"|>"),fe=new RegExp(qs),Be=new RegExp("^"+li+"$"),ot={ID:new RegExp("^#("+li+")"),CLASS:new RegExp("^\\.("+li+")"),TAG:new RegExp("^("+li+"|[*])"),ATTR:new RegExp("^"+To),PSEUDO:new RegExp("^"+qs),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+bi+"*(even|odd|(([+-]|)(\\d*)n|)"+bi+"*(?:([+-]|)"+bi+"*(\\d+)|))"+bi+"*\\)|)","i"),bool:new RegExp("^(?:"+za+")$","i"),needsContext:new RegExp("^"+bi+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+bi+"*((?:-\\d)?\\d*)"+bi+"*\\)|)(?=[^-]|$)","i")},Gt=/HTML$/i,yt=/^(?:input|select|textarea|button)$/i,Ln=/^h\d$/i,qn=/^[^{]+\{\s*\[native \w/,ii=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ei=/[+~]/,hi=new RegExp("\\\\[\\da-fA-F]{1,6}"+bi+"?|\\\\([^\\r\\n\\f])","g"),er=function(at,Ot){var qt="0x"+at.slice(1)-65536;return Ot||(qt<0?String.fromCharCode(qt+65536):String.fromCharCode(qt>>10|55296,1023&qt|56320))},Ui=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ms=function(at,Ot){return Ot?"\0"===at?"\ufffd":at.slice(0,-1)+"\\"+at.charCodeAt(at.length-1).toString(16)+" ":"\\"+at},Xs=function(){Z()},Qs=Ii(function(at){return!0===at.disabled&&"fieldset"===at.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{Vr.apply(uo=ha.call(_i.childNodes),_i.childNodes),uo[_i.childNodes.length].nodeType}catch(at){Vr={apply:uo.length?function(Ot,qt){Un.apply(Ot,ha.call(qt))}:function(Ot,qt){for(var An=Ot.length,rn=0;Ot[An++]=qt[rn++];);Ot.length=An-1}}}function Yr(at,Ot,qt,An){var rn,Mn,Sn,gi,Pi,cr,gr,br=Ot&&Ot.ownerDocument,Pr=Ot?Ot.nodeType:9;if(qt=qt||[],"string"!=typeof at||!at||1!==Pr&&9!==Pr&&11!==Pr)return qt;if(!An&&(Z(Ot),Ot=Ot||Me,hn)){if(11!==Pr&&(Pi=ii.exec(at)))if(rn=Pi[1]){if(9===Pr){if(!(Sn=Ot.getElementById(rn)))return qt;if(Sn.id===rn)return qt.push(Sn),qt}else if(br&&(Sn=br.getElementById(rn))&&Ir(Ot,Sn)&&Sn.id===rn)return qt.push(Sn),qt}else{if(Pi[2])return Vr.apply(qt,Ot.getElementsByTagName(at)),qt;if((rn=Pi[3])&&ue.getElementsByClassName&&Ot.getElementsByClassName)return Vr.apply(qt,Ot.getElementsByClassName(rn)),qt}if(ue.qsa&&!lo[at+" "]&&(!En||!En.test(at))&&(1!==Pr||"object"!==Ot.nodeName.toLowerCase())){if(gr=at,br=Ot,1===Pr&&(K.test(at)||Hr.test(at))){for(((br=Ei.test(at)&&on(Ot.parentNode)||Ot)!==Ot||!ue.scope)&&((gi=Ot.getAttribute("id"))?gi=gi.replace(Ui,ms):Ot.setAttribute("id",gi=ci)),Mn=(cr=Xe(at)).length;Mn--;)cr[Mn]=(gi?"#"+gi:":scope")+" "+Cn(cr[Mn]);gr=cr.join(",")}try{return Vr.apply(qt,br.querySelectorAll(gr)),qt}catch(mr){lo(at,!0)}finally{gi===ci&&Ot.removeAttribute("id")}}}return Lt(at.replace(Ki,"$1"),Ot,qt,An)}function Io(){var at=[];return function Ot(qt,An){return at.push(qt+" ")>ve.cacheLength&&delete Ot[at.shift()],Ot[qt+" "]=An}}function Ur(at){return at[ci]=!0,at}function sa(at){var Ot=Me.createElement("fieldset");try{return!!at(Ot)}catch(qt){return!1}finally{Ot.parentNode&&Ot.parentNode.removeChild(Ot),Ot=null}}function al(at,Ot){for(var qt=at.split("|"),An=qt.length;An--;)ve.attrHandle[qt[An]]=Ot}function pn(at,Ot){var qt=Ot&&at,An=qt&&1===at.nodeType&&1===Ot.nodeType&&at.sourceIndex-Ot.sourceIndex;if(An)return An;if(qt)for(;qt=qt.nextSibling;)if(qt===Ot)return-1;return at?1:-1}function it(at){return function(Ot){return"input"===Ot.nodeName.toLowerCase()&&Ot.type===at}}function Go(at){return function(Ot){var qt=Ot.nodeName.toLowerCase();return("input"===qt||"button"===qt)&&Ot.type===at}}function Ea(at){return function(Ot){return"form"in Ot?Ot.parentNode&&!1===Ot.disabled?"label"in Ot?"label"in Ot.parentNode?Ot.parentNode.disabled===at:Ot.disabled===at:Ot.isDisabled===at||Ot.isDisabled!==!at&&Qs(Ot)===at:Ot.disabled===at:"label"in Ot&&Ot.disabled===at}}function ks(at){return Ur(function(Ot){return Ot=+Ot,Ur(function(qt,An){for(var rn,Mn=at([],qt.length,Ot),Sn=Mn.length;Sn--;)qt[rn=Mn[Sn]]&&(qt[rn]=!(An[rn]=qt[rn]))})})}function on(at){return at&&void 0!==at.getElementsByTagName&&at}for(Q in ue=Yr.support={},Ge=Yr.isXML=function(at){var Ot=at&&at.namespaceURI,qt=at&&(at.ownerDocument||at).documentElement;return!Gt.test(Ot||qt&&qt.nodeName||"HTML")},Z=Yr.setDocument=function(at){var Ot,qt,An=at?at.ownerDocument||at:_i;return An==Me||9!==An.nodeType||!An.documentElement||(et=(Me=An).documentElement,hn=!Ge(Me),_i!=Me&&(qt=Me.defaultView)&&qt.top!==qt&&(qt.addEventListener?qt.addEventListener("unload",Xs,!1):qt.attachEvent&&qt.attachEvent("onunload",Xs)),ue.scope=sa(function(rn){return et.appendChild(rn).appendChild(Me.createElement("div")),void 0!==rn.querySelectorAll&&!rn.querySelectorAll(":scope fieldset div").length}),ue.attributes=sa(function(rn){return rn.className="i",!rn.getAttribute("className")}),ue.getElementsByTagName=sa(function(rn){return rn.appendChild(Me.createComment("")),!rn.getElementsByTagName("*").length}),ue.getElementsByClassName=qn.test(Me.getElementsByClassName),ue.getById=sa(function(rn){return et.appendChild(rn).id=ci,!Me.getElementsByName||!Me.getElementsByName(ci).length}),ue.getById?(ve.filter.ID=function(rn){var Mn=rn.replace(hi,er);return function(Sn){return Sn.getAttribute("id")===Mn}},ve.find.ID=function(rn,Mn){if(void 0!==Mn.getElementById&&hn){var Sn=Mn.getElementById(rn);return Sn?[Sn]:[]}}):(ve.filter.ID=function(rn){var Mn=rn.replace(hi,er);return function(Sn){var gi=void 0!==Sn.getAttributeNode&&Sn.getAttributeNode("id");return gi&&gi.value===Mn}},ve.find.ID=function(rn,Mn){if(void 0!==Mn.getElementById&&hn){var Sn,gi,Pi,cr=Mn.getElementById(rn);if(cr){if((Sn=cr.getAttributeNode("id"))&&Sn.value===rn)return[cr];for(Pi=Mn.getElementsByName(rn),gi=0;cr=Pi[gi++];)if((Sn=cr.getAttributeNode("id"))&&Sn.value===rn)return[cr]}return[]}}),ve.find.TAG=ue.getElementsByTagName?function(rn,Mn){return void 0!==Mn.getElementsByTagName?Mn.getElementsByTagName(rn):ue.qsa?Mn.querySelectorAll(rn):void 0}:function(rn,Mn){var Sn,gi=[],Pi=0,cr=Mn.getElementsByTagName(rn);if("*"===rn){for(;Sn=cr[Pi++];)1===Sn.nodeType&&gi.push(Sn);return gi}return cr},ve.find.CLASS=ue.getElementsByClassName&&function(rn,Mn){if(void 0!==Mn.getElementsByClassName&&hn)return Mn.getElementsByClassName(rn)},vi=[],En=[],(ue.qsa=qn.test(Me.querySelectorAll))&&(sa(function(rn){var Mn;et.appendChild(rn).innerHTML="<a id='"+ci+"'></a><select id='"+ci+"-\r\\' msallowcapture=''><option selected=''></option></select>",rn.querySelectorAll("[msallowcapture^='']").length&&En.push("[*^$]="+bi+"*(?:''|\"\")"),rn.querySelectorAll("[selected]").length||En.push("\\["+bi+"*(?:value|"+za+")"),rn.querySelectorAll("[id~="+ci+"-]").length||En.push("~="),(Mn=Me.createElement("input")).setAttribute("name",""),rn.appendChild(Mn),rn.querySelectorAll("[name='']").length||En.push("\\["+bi+"*name"+bi+"*="+bi+"*(?:''|\"\")"),rn.querySelectorAll(":checked").length||En.push(":checked"),rn.querySelectorAll("a#"+ci+"+*").length||En.push(".#.+[+~]"),rn.querySelectorAll("\\\f"),En.push("[\\r\\n\\f]")}),sa(function(rn){rn.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var Mn=Me.createElement("input");Mn.setAttribute("type","hidden"),rn.appendChild(Mn).setAttribute("name","D"),rn.querySelectorAll("[name=d]").length&&En.push("name"+bi+"*[*^$|!~]?="),2!==rn.querySelectorAll(":enabled").length&&En.push(":enabled",":disabled"),et.appendChild(rn).disabled=!0,2!==rn.querySelectorAll(":disabled").length&&En.push(":enabled",":disabled"),rn.querySelectorAll("*,:x"),En.push(",.*:")})),(ue.matchesSelector=qn.test(Zi=et.matches||et.webkitMatchesSelector||et.mozMatchesSelector||et.oMatchesSelector||et.msMatchesSelector))&&sa(function(rn){ue.disconnectedMatch=Zi.call(rn,"*"),Zi.call(rn,"[s!='']:x"),vi.push("!=",qs)}),En=En.length&&new RegExp(En.join("|")),vi=vi.length&&new RegExp(vi.join("|")),Ot=qn.test(et.compareDocumentPosition),Ir=Ot||qn.test(et.contains)?function(rn,Mn){var Sn=9===rn.nodeType?rn.documentElement:rn,gi=Mn&&Mn.parentNode;return rn===gi||!(!gi||1!==gi.nodeType||!(Sn.contains?Sn.contains(gi):rn.compareDocumentPosition&&16&rn.compareDocumentPosition(gi)))}:function(rn,Mn){if(Mn)for(;Mn=Mn.parentNode;)if(Mn===rn)return!0;return!1},Co=Ot?function(rn,Mn){if(rn===Mn)return O=!0,0;var Sn=!rn.compareDocumentPosition-!Mn.compareDocumentPosition;return Sn||(1&(Sn=(rn.ownerDocument||rn)==(Mn.ownerDocument||Mn)?rn.compareDocumentPosition(Mn):1)||!ue.sortDetached&&Mn.compareDocumentPosition(rn)===Sn?rn==Me||rn.ownerDocument==_i&&Ir(_i,rn)?-1:Mn==Me||Mn.ownerDocument==_i&&Ir(_i,Mn)?1:P?$s(P,rn)-$s(P,Mn):0:4&Sn?-1:1)}:function(rn,Mn){if(rn===Mn)return O=!0,0;var Sn,gi=0,Pi=rn.parentNode,cr=Mn.parentNode,gr=[rn],br=[Mn];if(!Pi||!cr)return rn==Me?-1:Mn==Me?1:Pi?-1:cr?1:P?$s(P,rn)-$s(P,Mn):0;if(Pi===cr)return pn(rn,Mn);for(Sn=rn;Sn=Sn.parentNode;)gr.unshift(Sn);for(Sn=Mn;Sn=Sn.parentNode;)br.unshift(Sn);for(;gr[gi]===br[gi];)gi++;return gi?pn(gr[gi],br[gi]):gr[gi]==_i?-1:br[gi]==_i?1:0}),Me},Yr.matches=function(at,Ot){return Yr(at,null,null,Ot)},Yr.matchesSelector=function(at,Ot){if(Z(at),ue.matchesSelector&&hn&&!lo[Ot+" "]&&(!vi||!vi.test(Ot))&&(!En||!En.test(Ot)))try{var qt=Zi.call(at,Ot);if(qt||ue.disconnectedMatch||at.document&&11!==at.document.nodeType)return qt}catch(An){lo(Ot,!0)}return Yr(Ot,Me,null,[at]).length>0},Yr.contains=function(at,Ot){return(at.ownerDocument||at)!=Me&&Z(at),Ir(at,Ot)},Yr.attr=function(at,Ot){(at.ownerDocument||at)!=Me&&Z(at);var qt=ve.attrHandle[Ot.toLowerCase()],An=qt&&Oo.call(ve.attrHandle,Ot.toLowerCase())?qt(at,Ot,!hn):void 0;return void 0!==An?An:ue.attributes||!hn?at.getAttribute(Ot):(An=at.getAttributeNode(Ot))&&An.specified?An.value:null},Yr.escape=function(at){return(at+"").replace(Ui,ms)},Yr.error=function(at){throw new Error("Syntax error, unrecognized expression: "+at)},Yr.uniqueSort=function(at){var Ot,qt=[],An=0,rn=0;if(O=!ue.detectDuplicates,P=!ue.sortStable&&at.slice(0),at.sort(Co),O){for(;Ot=at[rn++];)Ot===at[rn]&&(An=qt.push(rn));for(;An--;)at.splice(qt[An],1)}return P=null,at},Ve=Yr.getText=function(at){var Ot,qt="",An=0,rn=at.nodeType;if(rn){if(1===rn||9===rn||11===rn){if("string"==typeof at.textContent)return at.textContent;for(at=at.firstChild;at;at=at.nextSibling)qt+=Ve(at)}else if(3===rn||4===rn)return at.nodeValue}else for(;Ot=at[An++];)qt+=Ve(Ot);return qt},(ve=Yr.selectors={cacheLength:50,createPseudo:Ur,match:ot,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(at){return at[1]=at[1].replace(hi,er),at[3]=(at[3]||at[4]||at[5]||"").replace(hi,er),"~="===at[2]&&(at[3]=" "+at[3]+" "),at.slice(0,4)},CHILD:function(at){return at[1]=at[1].toLowerCase(),"nth"===at[1].slice(0,3)?(at[3]||Yr.error(at[0]),at[4]=+(at[4]?at[5]+(at[6]||1):2*("even"===at[3]||"odd"===at[3])),at[5]=+(at[7]+at[8]||"odd"===at[3])):at[3]&&Yr.error(at[0]),at},PSEUDO:function(at){var Ot,qt=!at[6]&&at[2];return ot.CHILD.test(at[0])?null:(at[3]?at[2]=at[4]||at[5]||"":qt&&fe.test(qt)&&(Ot=Xe(qt,!0))&&(Ot=qt.indexOf(")",qt.length-Ot)-qt.length)&&(at[0]=at[0].slice(0,Ot),at[2]=qt.slice(0,Ot)),at.slice(0,3))}},filter:{TAG:function(at){var Ot=at.replace(hi,er).toLowerCase();return"*"===at?function(){return!0}:function(qt){return qt.nodeName&&qt.nodeName.toLowerCase()===Ot}},CLASS:function(at){var Ot=wi[at+" "];return Ot||(Ot=new RegExp("(^|"+bi+")"+at+"("+bi+"|$)"))&&wi(at,function(qt){return Ot.test("string"==typeof qt.className&&qt.className||void 0!==qt.getAttribute&&qt.getAttribute("class")||"")})},ATTR:function(at,Ot,qt){return function(An){var rn=Yr.attr(An,at);return null==rn?"!="===Ot:!Ot||(rn+="","="===Ot?rn===qt:"!="===Ot?rn!==qt:"^="===Ot?qt&&0===rn.indexOf(qt):"*="===Ot?qt&&rn.indexOf(qt)>-1:"$="===Ot?qt&&rn.slice(-qt.length)===qt:"~="===Ot?(" "+rn.replace(ol," ")+" ").indexOf(qt)>-1:"|="===Ot&&(rn===qt||rn.slice(0,qt.length+1)===qt+"-"))}},CHILD:function(at,Ot,qt,An,rn){var Mn="nth"!==at.slice(0,3),Sn="last"!==at.slice(-4),gi="of-type"===Ot;return 1===An&&0===rn?function(Pi){return!!Pi.parentNode}:function(Pi,cr,gr){var br,Pr,mr,Vi,vs,co,Do=Mn!==Sn?"nextSibling":"previousSibling",bs=Pi.parentNode,ho=gi&&Pi.nodeName.toLowerCase(),vo=!gr&&!gi,Fo=!1;if(bs){if(Mn){for(;Do;){for(Vi=Pi;Vi=Vi[Do];)if(gi?Vi.nodeName.toLowerCase()===ho:1===Vi.nodeType)return!1;co=Do="only"===at&&!co&&"nextSibling"}return!0}if(co=[Sn?bs.firstChild:bs.lastChild],Sn&&vo){for(Fo=(vs=(br=(Pr=(mr=(Vi=bs)[ci]||(Vi[ci]={}))[Vi.uniqueID]||(mr[Vi.uniqueID]={}))[at]||[])[0]===wr&&br[1])&&br[2],Vi=vs&&bs.childNodes[vs];Vi=++vs&&Vi&&Vi[Do]||(Fo=vs=0)||co.pop();)if(1===Vi.nodeType&&++Fo&&Vi===Pi){Pr[at]=[wr,vs,Fo];break}}else if(vo&&(Fo=vs=(br=(Pr=(mr=(Vi=Pi)[ci]||(Vi[ci]={}))[Vi.uniqueID]||(mr[Vi.uniqueID]={}))[at]||[])[0]===wr&&br[1]),!1===Fo)for(;(Vi=++vs&&Vi&&Vi[Do]||(Fo=vs=0)||co.pop())&&((gi?Vi.nodeName.toLowerCase()!==ho:1!==Vi.nodeType)||!++Fo||(vo&&((Pr=(mr=Vi[ci]||(Vi[ci]={}))[Vi.uniqueID]||(mr[Vi.uniqueID]={}))[at]=[wr,Fo]),Vi!==Pi)););return(Fo-=rn)===An||Fo%An==0&&Fo/An>=0}}},PSEUDO:function(at,Ot){var qt,An=ve.pseudos[at]||ve.setFilters[at.toLowerCase()]||Yr.error("unsupported pseudo: "+at);return An[ci]?An(Ot):An.length>1?(qt=[at,at,"",Ot],ve.setFilters.hasOwnProperty(at.toLowerCase())?Ur(function(rn,Mn){for(var Sn,gi=An(rn,Ot),Pi=gi.length;Pi--;)rn[Sn=$s(rn,gi[Pi])]=!(Mn[Sn]=gi[Pi])}):function(rn){return An(rn,0,qt)}):An}},pseudos:{not:Ur(function(at){var Ot=[],qt=[],An=Bt(at.replace(Ki,"$1"));return An[ci]?Ur(function(rn,Mn,Sn,gi){for(var Pi,cr=An(rn,null,gi,[]),gr=rn.length;gr--;)(Pi=cr[gr])&&(rn[gr]=!(Mn[gr]=Pi))}):function(rn,Mn,Sn){return Ot[0]=rn,An(Ot,null,Sn,qt),Ot[0]=null,!qt.pop()}}),has:Ur(function(at){return function(Ot){return Yr(at,Ot).length>0}}),contains:Ur(function(at){return at=at.replace(hi,er),function(Ot){return(Ot.textContent||Ve(Ot)).indexOf(at)>-1}}),lang:Ur(function(at){return Be.test(at||"")||Yr.error("unsupported lang: "+at),at=at.replace(hi,er).toLowerCase(),function(Ot){var qt;do{if(qt=hn?Ot.lang:Ot.getAttribute("xml:lang")||Ot.getAttribute("lang"))return(qt=qt.toLowerCase())===at||0===qt.indexOf(at+"-")}while((Ot=Ot.parentNode)&&1===Ot.nodeType);return!1}}),target:function(at){var Ot=R.location&&R.location.hash;return Ot&&Ot.slice(1)===at.id},root:function(at){return at===et},focus:function(at){return at===Me.activeElement&&(!Me.hasFocus||Me.hasFocus())&&!!(at.type||at.href||~at.tabIndex)},enabled:Ea(!1),disabled:Ea(!0),checked:function(at){var Ot=at.nodeName.toLowerCase();return"input"===Ot&&!!at.checked||"option"===Ot&&!!at.selected},selected:function(at){return at.parentNode&&at.parentNode.selectedIndex,!0===at.selected},empty:function(at){for(at=at.firstChild;at;at=at.nextSibling)if(at.nodeType<6)return!1;return!0},parent:function(at){return!ve.pseudos.empty(at)},header:function(at){return Ln.test(at.nodeName)},input:function(at){return yt.test(at.nodeName)},button:function(at){var Ot=at.nodeName.toLowerCase();return"input"===Ot&&"button"===at.type||"button"===Ot},text:function(at){var Ot;return"input"===at.nodeName.toLowerCase()&&"text"===at.type&&(null==(Ot=at.getAttribute("type"))||"text"===Ot.toLowerCase())},first:ks(function(){return[0]}),last:ks(function(at,Ot){return[Ot-1]}),eq:ks(function(at,Ot,qt){return[qt<0?qt+Ot:qt]}),even:ks(function(at,Ot){for(var qt=0;qt<Ot;qt+=2)at.push(qt);return at}),odd:ks(function(at,Ot){for(var qt=1;qt<Ot;qt+=2)at.push(qt);return at}),lt:ks(function(at,Ot,qt){for(var An=qt<0?qt+Ot:qt>Ot?Ot:qt;--An>=0;)at.push(An);return at}),gt:ks(function(at,Ot,qt){for(var An=qt<0?qt+Ot:qt;++An<Ot;)at.push(An);return at})}}).pseudos.nth=ve.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})ve.pseudos[Q]=it(Q);for(Q in{submit:!0,reset:!0})ve.pseudos[Q]=Go(Q);function Rn(){}function Cn(at){for(var Ot=0,qt=at.length,An="";Ot<qt;Ot++)An+=at[Ot].value;return An}function Ii(at,Ot,qt){var An=Ot.dir,rn=Ot.next,Mn=rn||An,Sn=qt&&"parentNode"===Mn,gi=Ji++;return Ot.first?function(Pi,cr,gr){for(;Pi=Pi[An];)if(1===Pi.nodeType||Sn)return at(Pi,cr,gr);return!1}:function(Pi,cr,gr){var br,Pr,mr,Vi=[wr,gi];if(gr){for(;Pi=Pi[An];)if((1===Pi.nodeType||Sn)&&at(Pi,cr,gr))return!0}else for(;Pi=Pi[An];)if(1===Pi.nodeType||Sn)if(Pr=(mr=Pi[ci]||(Pi[ci]={}))[Pi.uniqueID]||(mr[Pi.uniqueID]={}),rn&&rn===Pi.nodeName.toLowerCase())Pi=Pi[An]||Pi;else{if((br=Pr[Mn])&&br[0]===wr&&br[1]===gi)return Vi[2]=br[2];if(Pr[Mn]=Vi,Vi[2]=at(Pi,cr,gr))return!0}return!1}}function Mr(at){return at.length>1?function(Ot,qt,An){for(var rn=at.length;rn--;)if(!at[rn](Ot,qt,An))return!1;return!0}:at[0]}function Zs(at,Ot,qt,An,rn){for(var Mn,Sn=[],gi=0,Pi=at.length,cr=null!=Ot;gi<Pi;gi++)(Mn=at[gi])&&(!qt||qt(Mn,An,rn))&&(Sn.push(Mn),cr&&Ot.push(gi));return Sn}function ws(at,Ot,qt,An,rn,Mn){return An&&!An[ci]&&(An=ws(An)),rn&&!rn[ci]&&(rn=ws(rn,Mn)),Ur(function(Sn,gi,Pi,cr){var gr,br,Pr,mr=[],Vi=[],vs=gi.length,co=Sn||function(at,Ot,qt){for(var An=0,rn=Ot.length;An<rn;An++)Yr(at,Ot[An],qt);return qt}(Ot||"*",Pi.nodeType?[Pi]:Pi,[]),Do=!at||!Sn&&Ot?co:Zs(co,mr,at,Pi,cr),bs=qt?rn||(Sn?at:vs||An)?[]:gi:Do;if(qt&&qt(Do,bs,Pi,cr),An)for(gr=Zs(bs,Vi),An(gr,[],Pi,cr),br=gr.length;br--;)(Pr=gr[br])&&(bs[Vi[br]]=!(Do[Vi[br]]=Pr));if(Sn){if(rn||at){if(rn){for(gr=[],br=bs.length;br--;)(Pr=bs[br])&&gr.push(Do[br]=Pr);rn(null,bs=[],gr,cr)}for(br=bs.length;br--;)(Pr=bs[br])&&(gr=rn?$s(Sn,Pr):mr[br])>-1&&(Sn[gr]=!(gi[gr]=Pr))}}else bs=Zs(bs===gi?bs.splice(vs,bs.length):bs),rn?rn(null,gi,bs,cr):Vr.apply(gi,bs)})}function Ga(at){for(var Ot,qt,An,rn=at.length,Mn=ve.relative[at[0].type],Sn=Mn||ve.relative[" "],gi=Mn?1:0,Pi=Ii(function(br){return br===Ot},Sn,!0),cr=Ii(function(br){return $s(Ot,br)>-1},Sn,!0),gr=[function(br,Pr,mr){var Vi=!Mn&&(mr||Pr!==de)||((Ot=Pr).nodeType?Pi(br,Pr,mr):cr(br,Pr,mr));return Ot=null,Vi}];gi<rn;gi++)if(qt=ve.relative[at[gi].type])gr=[Ii(Mr(gr),qt)];else{if((qt=ve.filter[at[gi].type].apply(null,at[gi].matches))[ci]){for(An=++gi;An<rn&&!ve.relative[at[An].type];An++);return ws(gi>1&&Mr(gr),gi>1&&Cn(at.slice(0,gi-1).concat({value:" "===at[gi-2].type?"*":""})).replace(Ki,"$1"),qt,gi<An&&Ga(at.slice(gi,An)),An<rn&&Ga(at=at.slice(An)),An<rn&&Cn(at))}gr.push(qt)}return Mr(gr)}return Rn.prototype=ve.filters=ve.pseudos,ve.setFilters=new Rn,Xe=Yr.tokenize=function(at,Ot){var qt,An,rn,Mn,Sn,gi,Pi,cr=mo[at+" "];if(cr)return Ot?0:cr.slice(0);for(Sn=at,gi=[],Pi=ve.preFilter;Sn;){for(Mn in(!qt||(An=Ys.exec(Sn)))&&(An&&(Sn=Sn.slice(An[0].length)||Sn),gi.push(rn=[])),qt=!1,(An=Hr.exec(Sn))&&(qt=An.shift(),rn.push({value:qt,type:An[0].replace(Ki," ")}),Sn=Sn.slice(qt.length)),ve.filter)(An=ot[Mn].exec(Sn))&&(!Pi[Mn]||(An=Pi[Mn](An)))&&(qt=An.shift(),rn.push({value:qt,type:Mn,matches:An}),Sn=Sn.slice(qt.length));if(!qt)break}return Ot?Sn.length:Sn?Yr.error(at):mo(at,gi).slice(0)},Bt=Yr.compile=function(at,Ot){var qt,An=[],rn=[],Mn=ra[at+" "];if(!Mn){for(Ot||(Ot=Xe(at)),qt=Ot.length;qt--;)(Mn=Ga(Ot[qt]))[ci]?An.push(Mn):rn.push(Mn);Mn=ra(at,function(at,Ot){var qt=Ot.length>0,An=at.length>0,rn=function(Mn,Sn,gi,Pi,cr){var gr,br,Pr,mr=0,Vi="0",vs=Mn&&[],co=[],Do=de,bs=Mn||An&&ve.find.TAG("*",cr),ho=wr+=null==Do?1:Math.random()||.1,vo=bs.length;for(cr&&(de=Sn==Me||Sn||cr);Vi!==vo&&null!=(gr=bs[Vi]);Vi++){if(An&&gr){for(br=0,!Sn&&gr.ownerDocument!=Me&&(Z(gr),gi=!hn);Pr=at[br++];)if(Pr(gr,Sn||Me,gi)){Pi.push(gr);break}cr&&(wr=ho)}qt&&((gr=!Pr&&gr)&&mr--,Mn&&vs.push(gr))}if(mr+=Vi,qt&&Vi!==mr){for(br=0;Pr=Ot[br++];)Pr(vs,co,Sn,gi);if(Mn){if(mr>0)for(;Vi--;)vs[Vi]||co[Vi]||(co[Vi]=wo.call(Pi));co=Zs(co)}Vr.apply(Pi,co),cr&&!Mn&&co.length>0&&mr+Ot.length>1&&Yr.uniqueSort(Pi)}return cr&&(wr=ho,de=Do),vs};return qt?Ur(rn):rn}(rn,An)),Mn.selector=at}return Mn},Lt=Yr.select=function(at,Ot,qt,An){var rn,Mn,Sn,gi,Pi,cr="function"==typeof at&&at,gr=!An&&Xe(at=cr.selector||at);if(qt=qt||[],1===gr.length){if((Mn=gr[0]=gr[0].slice(0)).length>2&&"ID"===(Sn=Mn[0]).type&&9===Ot.nodeType&&hn&&ve.relative[Mn[1].type]){if(!(Ot=(ve.find.ID(Sn.matches[0].replace(hi,er),Ot)||[])[0]))return qt;cr&&(Ot=Ot.parentNode),at=at.slice(Mn.shift().value.length)}for(rn=ot.needsContext.test(at)?0:Mn.length;rn--&&(Sn=Mn[rn],!ve.relative[gi=Sn.type]);)if((Pi=ve.find[gi])&&(An=Pi(Sn.matches[0].replace(hi,er),Ei.test(Mn[0].type)&&on(Ot.parentNode)||Ot))){if(Mn.splice(rn,1),!(at=An.length&&Cn(Mn)))return Vr.apply(qt,An),qt;break}}return(cr||Bt(at,gr))(An,Ot,!hn,qt,!Ot||Ei.test(at)&&on(Ot.parentNode)||Ot),qt},ue.sortStable=ci.split("").sort(Co).join("")===ci,ue.detectDuplicates=!!O,Z(),ue.sortDetached=sa(function(at){return 1&at.compareDocumentPosition(Me.createElement("fieldset"))}),sa(function(at){return at.innerHTML="<a href='#'></a>","#"===at.firstChild.getAttribute("href")})||al("type|href|height|width",function(at,Ot,qt){if(!qt)return at.getAttribute(Ot,"type"===Ot.toLowerCase()?1:2)}),(!ue.attributes||!sa(function(at){return at.innerHTML="<input/>",at.firstChild.setAttribute("value",""),""===at.firstChild.getAttribute("value")}))&&al("value",function(at,Ot,qt){if(!qt&&"input"===at.nodeName.toLowerCase())return at.defaultValue}),sa(function(at){return null==at.getAttribute("disabled")})||al(za,function(at,Ot,qt){var An;if(!qt)return!0===at[Ot]?Ot.toLowerCase():(An=at.getAttributeNode(Ot))&&An.specified?An.value:null}),Yr}(A);G.find=Ie,G.expr=Ie.selectors,G.expr[":"]=G.expr.pseudos,G.uniqueSort=G.unique=Ie.uniqueSort,G.text=Ie.getText,G.isXMLDoc=Ie.isXML,G.contains=Ie.contains,G.escapeSelector=Ie.escape;var Le=function(R,Q,ue){for(var ve=[],Ve=void 0!==ue;(R=R[Q])&&9!==R.nodeType;)if(1===R.nodeType){if(Ve&&G(R).is(ue))break;ve.push(R)}return ve},ne=function(R,Q){for(var ue=[];R;R=R.nextSibling)1===R.nodeType&&R!==Q&&ue.push(R);return ue},Pe=G.expr.match.needsContext;function He(R,Q){return R.nodeName&&R.nodeName.toLowerCase()===Q.toLowerCase()}var ze=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function dt(R,Q,ue){return ce(Q)?G.grep(R,function(ve,Ve){return!!Q.call(ve,Ve,ve)!==ue}):Q.nodeType?G.grep(R,function(ve){return ve===Q!==ue}):"string"!=typeof Q?G.grep(R,function(ve){return T.call(Q,ve)>-1!==ue}):G.filter(Q,R,ue)}G.filter=function(R,Q,ue){var ve=Q[0];return ue&&(R=":not("+R+")"),1===Q.length&&1===ve.nodeType?G.find.matchesSelector(ve,R)?[ve]:[]:G.find.matches(R,G.grep(Q,function(Ve){return 1===Ve.nodeType}))},G.fn.extend({find:function(R){var Q,ue,ve=this.length,Ve=this;if("string"!=typeof R)return this.pushStack(G(R).filter(function(){for(Q=0;Q<ve;Q++)if(G.contains(Ve[Q],this))return!0}));for(ue=this.pushStack([]),Q=0;Q<ve;Q++)G.find(R,Ve[Q],ue);return ve>1?G.uniqueSort(ue):ue},filter:function(R){return this.pushStack(dt(this,R||[],!1))},not:function(R){return this.pushStack(dt(this,R||[],!0))},is:function(R){return!!dt(this,"string"==typeof R&&Pe.test(R)?G(R):R||[],!1).length}});var nt,kt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,wt=G.fn.init=function(R,Q,ue){var ve,Ve;if(!R)return this;if(ue=ue||nt,"string"==typeof R){if(!(ve="<"===R[0]&&">"===R[R.length-1]&&R.length>=3?[null,R,null]:kt.exec(R))||!ve[1]&&Q)return!Q||Q.jquery?(Q||ue).find(R):this.constructor(Q).find(R);if(ve[1]){if(Q=Q instanceof G?Q[0]:Q,G.merge(this,G.parseHTML(ve[1],Q&&Q.nodeType?Q.ownerDocument||Q:te,!0)),ze.test(ve[1])&&G.isPlainObject(Q))for(ve in Q)ce(this[ve])?this[ve](Q[ve]):this.attr(ve,Q[ve]);return this}return(Ve=te.getElementById(ve[2]))&&(this[0]=Ve,this.length=1),this}return R.nodeType?(this[0]=R,this.length=1,this):ce(R)?void 0!==ue.ready?ue.ready(R):R(G):G.makeArray(R,this)};wt.prototype=G.fn,nt=G(te);var Pt=/^(?:parents|prev(?:Until|All))/,en={children:!0,contents:!0,next:!0,prev:!0};function Nt(R,Q){for(;(R=R[Q])&&1!==R.nodeType;);return R}G.fn.extend({has:function(R){var Q=G(R,this),ue=Q.length;return this.filter(function(){for(var ve=0;ve<ue;ve++)if(G.contains(this,Q[ve]))return!0})},closest:function(R,Q){var ue,ve=0,Ve=this.length,Ge=[],Xe="string"!=typeof R&&G(R);if(!Pe.test(R))for(;ve<Ve;ve++)for(ue=this[ve];ue&&ue!==Q;ue=ue.parentNode)if(ue.nodeType<11&&(Xe?Xe.index(ue)>-1:1===ue.nodeType&&G.find.matchesSelector(ue,R))){Ge.push(ue);break}return this.pushStack(Ge.length>1?G.uniqueSort(Ge):Ge)},index:function(R){return R?"string"==typeof R?T.call(G(R),this[0]):T.call(this,R.jquery?R[0]:R):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(R,Q){return this.pushStack(G.uniqueSort(G.merge(this.get(),G(R,Q))))},addBack:function(R){return this.add(null==R?this.prevObject:this.prevObject.filter(R))}}),G.each({parent:function(R){var Q=R.parentNode;return Q&&11!==Q.nodeType?Q:null},parents:function(R){return Le(R,"parentNode")},parentsUntil:function(R,Q,ue){return Le(R,"parentNode",ue)},next:function(R){return Nt(R,"nextSibling")},prev:function(R){return Nt(R,"previousSibling")},nextAll:function(R){return Le(R,"nextSibling")},prevAll:function(R){return Le(R,"previousSibling")},nextUntil:function(R,Q,ue){return Le(R,"nextSibling",ue)},prevUntil:function(R,Q,ue){return Le(R,"previousSibling",ue)},siblings:function(R){return ne((R.parentNode||{}).firstChild,R)},children:function(R){return ne(R.firstChild)},contents:function(R){return null!=R.contentDocument&&m(R.contentDocument)?R.contentDocument:(He(R,"template")&&(R=R.content||R),G.merge([],R.childNodes))}},function(R,Q){G.fn[R]=function(ue,ve){var Ve=G.map(this,Q,ue);return"Until"!==R.slice(-5)&&(ve=ue),ve&&"string"==typeof ve&&(Ve=G.filter(ve,Ve)),this.length>1&&(en[R]||G.uniqueSort(Ve),Pt.test(R)&&Ve.reverse()),this.pushStack(Ve)}});var je=/[^\x20\t\r\n\f]+/g;function sn(R){return R}function nn(R){throw R}function zt(R,Q,ue,ve){var Ve;try{R&&ce(Ve=R.promise)?Ve.call(R).done(Q).fail(ue):R&&ce(Ve=R.then)?Ve.call(R,Q,ue):Q.apply(void 0,[R].slice(ve))}catch(Ge){ue.apply(void 0,[Ge])}}G.Callbacks=function(R){R="string"==typeof R?function(R){var Q={};return G.each(R.match(je)||[],function(ue,ve){Q[ve]=!0}),Q}(R):G.extend({},R);var Q,ue,ve,Ve,Ge=[],Xe=[],Bt=-1,Lt=function(){for(Ve=Ve||R.once,ve=Q=!0;Xe.length;Bt=-1)for(ue=Xe.shift();++Bt<Ge.length;)!1===Ge[Bt].apply(ue[0],ue[1])&&R.stopOnFalse&&(Bt=Ge.length,ue=!1);R.memory||(ue=!1),Q=!1,Ve&&(Ge=ue?[]:"")},de={add:function(){return Ge&&(ue&&!Q&&(Bt=Ge.length-1,Xe.push(ue)),function P(O){G.each(O,function(Z,Me){ce(Me)?(!R.unique||!de.has(Me))&&Ge.push(Me):Me&&Me.length&&"string"!==Te(Me)&&P(Me)})}(arguments),ue&&!Q&&Lt()),this},remove:function(){return G.each(arguments,function(P,O){for(var Z;(Z=G.inArray(O,Ge,Z))>-1;)Ge.splice(Z,1),Z<=Bt&&Bt--}),this},has:function(P){return P?G.inArray(P,Ge)>-1:Ge.length>0},empty:function(){return Ge&&(Ge=[]),this},disable:function(){return Ve=Xe=[],Ge=ue="",this},disabled:function(){return!Ge},lock:function(){return Ve=Xe=[],!ue&&!Q&&(Ge=ue=""),this},locked:function(){return!!Ve},fireWith:function(P,O){return Ve||(O=[P,(O=O||[]).slice?O.slice():O],Xe.push(O),Q||Lt()),this},fire:function(){return de.fireWith(this,arguments),this},fired:function(){return!!ve}};return de},G.extend({Deferred:function(R){var Q=[["notify","progress",G.Callbacks("memory"),G.Callbacks("memory"),2],["resolve","done",G.Callbacks("once memory"),G.Callbacks("once memory"),0,"resolved"],["reject","fail",G.Callbacks("once memory"),G.Callbacks("once memory"),1,"rejected"]],ue="pending",ve={state:function(){return ue},always:function(){return Ve.done(arguments).fail(arguments),this},catch:function(Ge){return ve.then(null,Ge)},pipe:function(){var Ge=arguments;return G.Deferred(function(Xe){G.each(Q,function(Bt,Lt){var de=ce(Ge[Lt[4]])&&Ge[Lt[4]];Ve[Lt[1]](function(){var P=de&&de.apply(this,arguments);P&&ce(P.promise)?P.promise().progress(Xe.notify).done(Xe.resolve).fail(Xe.reject):Xe[Lt[0]+"With"](this,de?[P]:arguments)})}),Ge=null}).promise()},then:function(Ge,Xe,Bt){var Lt=0;function de(P,O,Z,Me){return function(){var et=this,hn=arguments,En=function(){var Zi,Ir;if(!(P<Lt)){if((Zi=Z.apply(et,hn))===O.promise())throw new TypeError("Thenable self-resolution");Ir=Zi&&("object"==typeof Zi||"function"==typeof Zi)&&Zi.then,ce(Ir)?Me?Ir.call(Zi,de(Lt,O,sn,Me),de(Lt,O,nn,Me)):(Lt++,Ir.call(Zi,de(Lt,O,sn,Me),de(Lt,O,nn,Me),de(Lt,O,sn,O.notifyWith))):(Z!==sn&&(et=void 0,hn=[Zi]),(Me||O.resolveWith)(et,hn))}},vi=Me?En:function(){try{En()}catch(Zi){G.Deferred.exceptionHook&&G.Deferred.exceptionHook(Zi,vi.stackTrace),P+1>=Lt&&(Z!==nn&&(et=void 0,hn=[Zi]),O.rejectWith(et,hn))}};P?vi():(G.Deferred.getStackHook&&(vi.stackTrace=G.Deferred.getStackHook()),A.setTimeout(vi))}}return G.Deferred(function(P){Q[0][3].add(de(0,P,ce(Bt)?Bt:sn,P.notifyWith)),Q[1][3].add(de(0,P,ce(Ge)?Ge:sn)),Q[2][3].add(de(0,P,ce(Xe)?Xe:nn))}).promise()},promise:function(Ge){return null!=Ge?G.extend(Ge,ve):ve}},Ve={};return G.each(Q,function(Ge,Xe){var Bt=Xe[2],Lt=Xe[5];ve[Xe[1]]=Bt.add,Lt&&Bt.add(function(){ue=Lt},Q[3-Ge][2].disable,Q[3-Ge][3].disable,Q[0][2].lock,Q[0][3].lock),Bt.add(Xe[3].fire),Ve[Xe[0]]=function(){return Ve[Xe[0]+"With"](this===Ve?void 0:this,arguments),this},Ve[Xe[0]+"With"]=Bt.fireWith}),ve.promise(Ve),R&&R.call(Ve,Ve),Ve},when:function(R){var Q=arguments.length,ue=Q,ve=Array(ue),Ve=b.call(arguments),Ge=G.Deferred(),Xe=function(Bt){return function(Lt){ve[Bt]=this,Ve[Bt]=arguments.length>1?b.call(arguments):Lt,--Q||Ge.resolveWith(ve,Ve)}};if(Q<=1&&(zt(R,Ge.done(Xe(ue)).resolve,Ge.reject,!Q),"pending"===Ge.state()||ce(Ve[ue]&&Ve[ue].then)))return Ge.then();for(;ue--;)zt(Ve[ue],Xe(ue),Ge.reject);return Ge.promise()}});var an=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;G.Deferred.exceptionHook=function(R,Q){A.console&&A.console.warn&&R&&an.test(R.name)&&A.console.warn("jQuery.Deferred exception: "+R.message,R.stack,Q)},G.readyException=function(R){A.setTimeout(function(){throw R})};var On=G.Deferred();function Dn(){te.removeEventListener("DOMContentLoaded",Dn),A.removeEventListener("load",Dn),G.ready()}G.fn.ready=function(R){return On.then(R).catch(function(Q){G.readyException(Q)}),this},G.extend({isReady:!1,readyWait:1,ready:function(R){(!0===R?--G.readyWait:G.isReady)||(G.isReady=!0,!(!0!==R&&--G.readyWait>0)&&On.resolveWith(te,[G]))}}),G.ready.then=On.then,"complete"===te.readyState||"loading"!==te.readyState&&!te.documentElement.doScroll?A.setTimeout(G.ready):(te.addEventListener("DOMContentLoaded",Dn),A.addEventListener("load",Dn));var fi=function(R,Q,ue,ve,Ve,Ge,Xe){var Bt=0,Lt=R.length,de=null==ue;if("object"===Te(ue))for(Bt in Ve=!0,ue)fi(R,Q,Bt,ue[Bt],!0,Ge,Xe);else if(void 0!==ve&&(Ve=!0,ce(ve)||(Xe=!0),de&&(Xe?(Q.call(R,ve),Q=null):(de=Q,Q=function(P,O,Z){return de.call(G(P),Z)})),Q))for(;Bt<Lt;Bt++)Q(R[Bt],ue,Xe?ve:ve.call(R[Bt],Bt,Q(R[Bt],ue)));return Ve?R:de?Q.call(R):Lt?Q(R[0],ue):Ge},ge=/^-ms-/,$t=/-([a-z])/g;function Dt(R,Q){return Q.toUpperCase()}function qe(R){return R.replace(ge,"ms-").replace($t,Dt)}var We=function(R){return 1===R.nodeType||9===R.nodeType||!+R.nodeType};function _t(){this.expando=G.expando+_t.uid++}_t.uid=1,_t.prototype={cache:function(R){var Q=R[this.expando];return Q||(Q={},We(R)&&(R.nodeType?R[this.expando]=Q:Object.defineProperty(R,this.expando,{value:Q,configurable:!0}))),Q},set:function(R,Q,ue){var ve,Ve=this.cache(R);if("string"==typeof Q)Ve[qe(Q)]=ue;else for(ve in Q)Ve[qe(ve)]=Q[ve];return Ve},get:function(R,Q){return void 0===Q?this.cache(R):R[this.expando]&&R[this.expando][qe(Q)]},access:function(R,Q,ue){return void 0===Q||Q&&"string"==typeof Q&&void 0===ue?this.get(R,Q):(this.set(R,Q,ue),void 0!==ue?ue:Q)},remove:function(R,Q){var ue,ve=R[this.expando];if(void 0!==ve){if(void 0!==Q)for((Array.isArray(Q)?Q=Q.map(qe):Q=(Q=qe(Q))in ve?[Q]:Q.match(je)||[],ue=Q.length);ue--;)delete ve[Q[ue]];(void 0===Q||G.isEmptyObject(ve))&&(R.nodeType?R[this.expando]=void 0:delete R[this.expando])}},hasData:function(R){var Q=R[this.expando];return void 0!==Q&&!G.isEmptyObject(Q)}};var St=new _t,Ht=new _t,Mt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ee=/[A-Z]/g;function xe(R,Q,ue){var ve;if(void 0===ue&&1===R.nodeType)if(ve="data-"+Q.replace(ee,"-$&").toLowerCase(),"string"==typeof(ue=R.getAttribute(ve))){try{ue=function(R){return"true"===R||"false"!==R&&("null"===R?null:R===+R+""?+R:Mt.test(R)?JSON.parse(R):R)}(ue)}catch(Ve){}Ht.set(R,Q,ue)}else ue=void 0;return ue}G.extend({hasData:function(R){return Ht.hasData(R)||St.hasData(R)},data:function(R,Q,ue){return Ht.access(R,Q,ue)},removeData:function(R,Q){Ht.remove(R,Q)},_data:function(R,Q,ue){return St.access(R,Q,ue)},_removeData:function(R,Q){St.remove(R,Q)}}),G.fn.extend({data:function(R,Q){var ue,ve,Ve,Ge=this[0],Xe=Ge&&Ge.attributes;if(void 0===R){if(this.length&&(Ve=Ht.get(Ge),1===Ge.nodeType&&!St.get(Ge,"hasDataAttrs"))){for(ue=Xe.length;ue--;)Xe[ue]&&(0===(ve=Xe[ue].name).indexOf("data-")&&(ve=qe(ve.slice(5)),xe(Ge,ve,Ve[ve])));St.set(Ge,"hasDataAttrs",!0)}return Ve}return"object"==typeof R?this.each(function(){Ht.set(this,R)}):fi(this,function(Bt){var Lt;if(Ge&&void 0===Bt)return void 0!==(Lt=Ht.get(Ge,R))||void 0!==(Lt=xe(Ge,R))?Lt:void 0;this.each(function(){Ht.set(this,R,Bt)})},null,Q,arguments.length>1,null,!0)},removeData:function(R){return this.each(function(){Ht.remove(this,R)})}}),G.extend({queue:function(R,Q,ue){var ve;if(R)return Q=(Q||"fx")+"queue",ve=St.get(R,Q),ue&&(!ve||Array.isArray(ue)?ve=St.access(R,Q,G.makeArray(ue)):ve.push(ue)),ve||[]},dequeue:function(R,Q){Q=Q||"fx";var ue=G.queue(R,Q),ve=ue.length,Ve=ue.shift(),Ge=G._queueHooks(R,Q);"inprogress"===Ve&&(Ve=ue.shift(),ve--),Ve&&("fx"===Q&&ue.unshift("inprogress"),delete Ge.stop,Ve.call(R,function(){G.dequeue(R,Q)},Ge)),!ve&&Ge&&Ge.empty.fire()},_queueHooks:function(R,Q){var ue=Q+"queueHooks";return St.get(R,ue)||St.access(R,ue,{empty:G.Callbacks("once memory").add(function(){St.remove(R,[Q+"queue",ue])})})}}),G.fn.extend({queue:function(R,Q){var ue=2;return"string"!=typeof R&&(Q=R,R="fx",ue--),arguments.length<ue?G.queue(this[0],R):void 0===Q?this:this.each(function(){var ve=G.queue(this,R,Q);G._queueHooks(this,R),"fx"===R&&"inprogress"!==ve[0]&&G.dequeue(this,R)})},dequeue:function(R){return this.each(function(){G.dequeue(this,R)})},clearQueue:function(R){return this.queue(R||"fx",[])},promise:function(R,Q){var ue,ve=1,Ve=G.Deferred(),Ge=this,Xe=this.length,Bt=function(){--ve||Ve.resolveWith(Ge,[Ge])};for("string"!=typeof R&&(Q=R,R=void 0),R=R||"fx";Xe--;)(ue=St.get(Ge[Xe],R+"queueHooks"))&&ue.empty&&(ve++,ue.empty.add(Bt));return Bt(),Ve.promise(Q)}});var Ce=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Je=new RegExp("^(?:([+-])=|)("+Ce+")([a-z%]*)$","i"),lt=["Top","Right","Bottom","Left"],jt=te.documentElement,Oe=function(R){return G.contains(R.ownerDocument,R)},Fe={composed:!0};jt.getRootNode&&(Oe=function(R){return G.contains(R.ownerDocument,R)||R.getRootNode(Fe)===R.ownerDocument});var ut=function(R,Q){return"none"===(R=Q||R).style.display||""===R.style.display&&Oe(R)&&"none"===G.css(R,"display")};function It(R,Q,ue,ve){var Ve,Ge,Xe=20,Bt=ve?function(){return ve.cur()}:function(){return G.css(R,Q,"")},Lt=Bt(),de=ue&&ue[3]||(G.cssNumber[Q]?"":"px"),P=R.nodeType&&(G.cssNumber[Q]||"px"!==de&&+Lt)&&Je.exec(G.css(R,Q));if(P&&P[3]!==de){for(Lt/=2,de=de||P[3],P=+Lt||1;Xe--;)G.style(R,Q,P+de),(1-Ge)*(1-(Ge=Bt()/Lt||.5))<=0&&(Xe=0),P/=Ge;P*=2,G.style(R,Q,P+de),ue=ue||[]}return ue&&(P=+P||+Lt||0,Ve=ue[1]?P+(ue[1]+1)*ue[2]:+ue[2],ve&&(ve.unit=de,ve.start=P,ve.end=Ve)),Ve}var cn={};function Nn(R){var Q,ue=R.ownerDocument,ve=R.nodeName,Ve=cn[ve];return Ve||(Q=ue.body.appendChild(ue.createElement(ve)),Ve=G.css(Q,"display"),Q.parentNode.removeChild(Q),"none"===Ve&&(Ve="block"),cn[ve]=Ve,Ve)}function _n(R,Q){for(var ue,ve,Ve=[],Ge=0,Xe=R.length;Ge<Xe;Ge++)(ve=R[Ge]).style&&(ue=ve.style.display,Q?("none"===ue&&(Ve[Ge]=St.get(ve,"display")||null,Ve[Ge]||(ve.style.display="")),""===ve.style.display&&ut(ve)&&(Ve[Ge]=Nn(ve))):"none"!==ue&&(Ve[Ge]="none",St.set(ve,"display",ue)));for(Ge=0;Ge<Xe;Ge++)null!=Ve[Ge]&&(R[Ge].style.display=Ve[Ge]);return R}G.fn.extend({show:function(){return _n(this,!0)},hide:function(){return _n(this)},toggle:function(R){return"boolean"==typeof R?R?this.show():this.hide():this.each(function(){ut(this)?G(this).show():G(this).hide()})}});var Q,ue,Fn=/^(?:checkbox|radio)$/i,Hn=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Tn=/^$|^module$|\/(?:java|ecma)script/i;Q=te.createDocumentFragment().appendChild(te.createElement("div")),(ue=te.createElement("input")).setAttribute("type","radio"),ue.setAttribute("checked","checked"),ue.setAttribute("name","t"),Q.appendChild(ue),Y.checkClone=Q.cloneNode(!0).cloneNode(!0).lastChild.checked,Q.innerHTML="<textarea>x</textarea>",Y.noCloneChecked=!!Q.cloneNode(!0).lastChild.defaultValue,Q.innerHTML="<option></option>",Y.option=!!Q.lastChild;var kn={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function xn(R,Q){var ue;return ue=void 0!==R.getElementsByTagName?R.getElementsByTagName(Q||"*"):void 0!==R.querySelectorAll?R.querySelectorAll(Q||"*"):[],void 0===Q||Q&&He(R,Q)?G.merge([R],ue):ue}function hr(R,Q){for(var ue=0,ve=R.length;ue<ve;ue++)St.set(R[ue],"globalEval",!Q||St.get(Q[ue],"globalEval"))}kn.tbody=kn.tfoot=kn.colgroup=kn.caption=kn.thead,kn.th=kn.td,Y.option||(kn.optgroup=kn.option=[1,"<select multiple='multiple'>","</select>"]);var $i=/<|&#?\w+;/;function kr(R,Q,ue,ve,Ve){for(var Ge,Xe,Bt,Lt,de,P,O=Q.createDocumentFragment(),Z=[],Me=0,et=R.length;Me<et;Me++)if((Ge=R[Me])||0===Ge)if("object"===Te(Ge))G.merge(Z,Ge.nodeType?[Ge]:Ge);else if($i.test(Ge)){for(Xe=Xe||O.appendChild(Q.createElement("div")),Bt=(Hn.exec(Ge)||["",""])[1].toLowerCase(),Lt=kn[Bt]||kn._default,Xe.innerHTML=Lt[1]+G.htmlPrefilter(Ge)+Lt[2],P=Lt[0];P--;)Xe=Xe.lastChild;G.merge(Z,Xe.childNodes),(Xe=O.firstChild).textContent=""}else Z.push(Q.createTextNode(Ge));for(O.textContent="",Me=0;Ge=Z[Me++];)if(ve&&G.inArray(Ge,ve)>-1)Ve&&Ve.push(Ge);else if(de=Oe(Ge),Xe=xn(O.appendChild(Ge),"script"),de&&hr(Xe),ue)for(P=0;Ge=Xe[P++];)Tn.test(Ge.type||"")&&ue.push(Ge);return O}var yr=/^([^.]*)(?:\.(.+)|)/;function xr(){return!0}function rr(){return!1}function Xr(R,Q){return R===function(){try{return te.activeElement}catch(R){}}()==("focus"===Q)}function Yi(R,Q,ue,ve,Ve,Ge){var Xe,Bt;if("object"==typeof Q){for(Bt in"string"!=typeof ue&&(ve=ve||ue,ue=void 0),Q)Yi(R,Bt,ue,ve,Q[Bt],Ge);return R}if(null==ve&&null==Ve?(Ve=ue,ve=ue=void 0):null==Ve&&("string"==typeof ue?(Ve=ve,ve=void 0):(Ve=ve,ve=ue,ue=void 0)),!1===Ve)Ve=rr;else if(!Ve)return R;return 1===Ge&&(Xe=Ve,Ve=function(Lt){return G().off(Lt),Xe.apply(this,arguments)},Ve.guid=Xe.guid||(Xe.guid=G.guid++)),R.each(function(){G.event.add(this,Q,Ve,ve,ue)})}function Hs(R,Q,ue){ue?(St.set(R,Q,!1),G.event.add(R,Q,{namespace:!1,handler:function(ve){var Ve,Ge,Xe=St.get(this,Q);if(1&ve.isTrigger&&this[Q]){if(Xe.length)(G.event.special[Q]||{}).delegateType&&ve.stopPropagation();else if(Xe=b.call(arguments),St.set(this,Q,Xe),Ve=ue(this,Q),this[Q](),Xe!==(Ge=St.get(this,Q))||Ve?St.set(this,Q,!1):Ge={},Xe!==Ge)return ve.stopImmediatePropagation(),ve.preventDefault(),Ge&&Ge.value}else Xe.length&&(St.set(this,Q,{value:G.event.trigger(G.extend(Xe[0],G.Event.prototype),Xe.slice(1),this)}),ve.stopImmediatePropagation())}})):void 0===St.get(R,Q)&&G.event.add(R,Q,xr)}G.event={global:{},add:function(R,Q,ue,ve,Ve){var Ge,Xe,Bt,Lt,de,P,O,Z,Me,et,hn,En=St.get(R);if(We(R))for(ue.handler&&(ue=(Ge=ue).handler,Ve=Ge.selector),Ve&&G.find.matchesSelector(jt,Ve),ue.guid||(ue.guid=G.guid++),(Lt=En.events)||(Lt=En.events=Object.create(null)),(Xe=En.handle)||(Xe=En.handle=function(vi){return void 0!==G&&G.event.triggered!==vi.type?G.event.dispatch.apply(R,arguments):void 0}),de=(Q=(Q||"").match(je)||[""]).length;de--;)Me=hn=(Bt=yr.exec(Q[de])||[])[1],et=(Bt[2]||"").split(".").sort(),Me&&(O=G.event.special[Me]||{},Me=(Ve?O.delegateType:O.bindType)||Me,O=G.event.special[Me]||{},P=G.extend({type:Me,origType:hn,data:ve,handler:ue,guid:ue.guid,selector:Ve,needsContext:Ve&&G.expr.match.needsContext.test(Ve),namespace:et.join(".")},Ge),(Z=Lt[Me])||((Z=Lt[Me]=[]).delegateCount=0,(!O.setup||!1===O.setup.call(R,ve,et,Xe))&&R.addEventListener&&R.addEventListener(Me,Xe)),O.add&&(O.add.call(R,P),P.handler.guid||(P.handler.guid=ue.guid)),Ve?Z.splice(Z.delegateCount++,0,P):Z.push(P),G.event.global[Me]=!0)},remove:function(R,Q,ue,ve,Ve){var Ge,Xe,Bt,Lt,de,P,O,Z,Me,et,hn,En=St.hasData(R)&&St.get(R);if(En&&(Lt=En.events)){for(de=(Q=(Q||"").match(je)||[""]).length;de--;)if(Me=hn=(Bt=yr.exec(Q[de])||[])[1],et=(Bt[2]||"").split(".").sort(),Me){for(O=G.event.special[Me]||{},Z=Lt[Me=(ve?O.delegateType:O.bindType)||Me]||[],Bt=Bt[2]&&new RegExp("(^|\\.)"+et.join("\\.(?:.*\\.|)")+"(\\.|$)"),Xe=Ge=Z.length;Ge--;)P=Z[Ge],(Ve||hn===P.origType)&&(!ue||ue.guid===P.guid)&&(!Bt||Bt.test(P.namespace))&&(!ve||ve===P.selector||"**"===ve&&P.selector)&&(Z.splice(Ge,1),P.selector&&Z.delegateCount--,O.remove&&O.remove.call(R,P));Xe&&!Z.length&&((!O.teardown||!1===O.teardown.call(R,et,En.handle))&&G.removeEvent(R,Me,En.handle),delete Lt[Me])}else for(Me in Lt)G.event.remove(R,Me+Q[de],ue,ve,!0);G.isEmptyObject(Lt)&&St.remove(R,"handle events")}},dispatch:function(R){var Q,ue,ve,Ve,Ge,Xe,Bt=new Array(arguments.length),Lt=G.event.fix(R),de=(St.get(this,"events")||Object.create(null))[Lt.type]||[],P=G.event.special[Lt.type]||{};for(Bt[0]=Lt,Q=1;Q<arguments.length;Q++)Bt[Q]=arguments[Q];if(Lt.delegateTarget=this,!P.preDispatch||!1!==P.preDispatch.call(this,Lt)){for(Xe=G.event.handlers.call(this,Lt,de),Q=0;(Ve=Xe[Q++])&&!Lt.isPropagationStopped();)for(Lt.currentTarget=Ve.elem,ue=0;(Ge=Ve.handlers[ue++])&&!Lt.isImmediatePropagationStopped();)(!Lt.rnamespace||!1===Ge.namespace||Lt.rnamespace.test(Ge.namespace))&&(Lt.handleObj=Ge,Lt.data=Ge.data,void 0!==(ve=((G.event.special[Ge.origType]||{}).handle||Ge.handler).apply(Ve.elem,Bt))&&!1===(Lt.result=ve)&&(Lt.preventDefault(),Lt.stopPropagation()));return P.postDispatch&&P.postDispatch.call(this,Lt),Lt.result}},handlers:function(R,Q){var ue,ve,Ve,Ge,Xe,Bt=[],Lt=Q.delegateCount,de=R.target;if(Lt&&de.nodeType&&!("click"===R.type&&R.button>=1))for(;de!==this;de=de.parentNode||this)if(1===de.nodeType&&("click"!==R.type||!0!==de.disabled)){for(Ge=[],Xe={},ue=0;ue<Lt;ue++)void 0===Xe[Ve=(ve=Q[ue]).selector+" "]&&(Xe[Ve]=ve.needsContext?G(Ve,this).index(de)>-1:G.find(Ve,this,null,[de]).length),Xe[Ve]&&Ge.push(ve);Ge.length&&Bt.push({elem:de,handlers:Ge})}return de=this,Lt<Q.length&&Bt.push({elem:de,handlers:Q.slice(Lt)}),Bt},addProp:function(R,Q){Object.defineProperty(G.Event.prototype,R,{enumerable:!0,configurable:!0,get:ce(Q)?function(){if(this.originalEvent)return Q(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[R]},set:function(ue){Object.defineProperty(this,R,{enumerable:!0,configurable:!0,writable:!0,value:ue})}})},fix:function(R){return R[G.expando]?R:new G.Event(R)},special:{load:{noBubble:!0},click:{setup:function(R){var Q=this||R;return Fn.test(Q.type)&&Q.click&&He(Q,"input")&&Hs(Q,"click",xr),!1},trigger:function(R){var Q=this||R;return Fn.test(Q.type)&&Q.click&&He(Q,"input")&&Hs(Q,"click"),!0},_default:function(R){var Q=R.target;return Fn.test(Q.type)&&Q.click&&He(Q,"input")&&St.get(Q,"click")||He(Q,"a")}},beforeunload:{postDispatch:function(R){void 0!==R.result&&R.originalEvent&&(R.originalEvent.returnValue=R.result)}}}},G.removeEvent=function(R,Q,ue){R.removeEventListener&&R.removeEventListener(Q,ue)},G.Event=function(R,Q){if(!(this instanceof G.Event))return new G.Event(R,Q);R&&R.type?(this.originalEvent=R,this.type=R.type,this.isDefaultPrevented=R.defaultPrevented||void 0===R.defaultPrevented&&!1===R.returnValue?xr:rr,this.target=R.target&&3===R.target.nodeType?R.target.parentNode:R.target,this.currentTarget=R.currentTarget,this.relatedTarget=R.relatedTarget):this.type=R,Q&&G.extend(this,Q),this.timeStamp=R&&R.timeStamp||Date.now(),this[G.expando]=!0},G.Event.prototype={constructor:G.Event,isDefaultPrevented:rr,isPropagationStopped:rr,isImmediatePropagationStopped:rr,isSimulated:!1,preventDefault:function(){var R=this.originalEvent;this.isDefaultPrevented=xr,R&&!this.isSimulated&&R.preventDefault()},stopPropagation:function(){var R=this.originalEvent;this.isPropagationStopped=xr,R&&!this.isSimulated&&R.stopPropagation()},stopImmediatePropagation:function(){var R=this.originalEvent;this.isImmediatePropagationStopped=xr,R&&!this.isSimulated&&R.stopImmediatePropagation(),this.stopPropagation()}},G.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},G.event.addProp),G.each({focus:"focusin",blur:"focusout"},function(R,Q){G.event.special[R]={setup:function(){return Hs(this,R,Xr),!1},trigger:function(){return Hs(this,R),!0},_default:function(){return!0},delegateType:Q}}),G.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(R,Q){G.event.special[R]={delegateType:Q,bindType:Q,handle:function(ue){var ve,Ve=this,Ge=ue.relatedTarget,Xe=ue.handleObj;return(!Ge||Ge!==Ve&&!G.contains(Ve,Ge))&&(ue.type=Xe.origType,ve=Xe.handler.apply(this,arguments),ue.type=Q),ve}}}),G.fn.extend({on:function(R,Q,ue,ve){return Yi(this,R,Q,ue,ve)},one:function(R,Q,ue,ve){return Yi(this,R,Q,ue,ve,1)},off:function(R,Q,ue){var ve,Ve;if(R&&R.preventDefault&&R.handleObj)return ve=R.handleObj,G(R.delegateTarget).off(ve.namespace?ve.origType+"."+ve.namespace:ve.origType,ve.selector,ve.handler),this;if("object"==typeof R){for(Ve in R)this.off(Ve,Q,R[Ve]);return this}return(!1===Q||"function"==typeof Q)&&(ue=Q,Q=void 0),!1===ue&&(ue=rr),this.each(function(){G.event.remove(this,R,ue,Q)})}});var ps=/<script|<style|<link/i,Or=/checked\s*(?:[^=]|=\s*.checked.)/i,bn=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Qe(R,Q){return He(R,"table")&&He(11!==Q.nodeType?Q:Q.firstChild,"tr")&&G(R).children("tbody")[0]||R}function ft(R){return R.type=(null!==R.getAttribute("type"))+"/"+R.type,R}function mn(R){return"true/"===(R.type||"").slice(0,5)?R.type=R.type.slice(5):R.removeAttribute("type"),R}function Wt(R,Q){var ue,ve,Ve,Xe,Bt,Lt;if(1===Q.nodeType){if(St.hasData(R)&&(Lt=St.get(R).events))for(Ve in St.remove(Q,"handle events"),Lt)for(ue=0,ve=Lt[Ve].length;ue<ve;ue++)G.event.add(Q,Ve,Lt[Ve][ue]);Ht.hasData(R)&&(Xe=Ht.access(R),Bt=G.extend({},Xe),Ht.set(Q,Bt))}}function Di(R,Q){var ue=Q.nodeName.toLowerCase();"input"===ue&&Fn.test(R.type)?Q.checked=R.checked:("input"===ue||"textarea"===ue)&&(Q.defaultValue=R.defaultValue)}function di(R,Q,ue,ve){Q=v(Q);var Ve,Ge,Xe,Bt,Lt,de,P=0,O=R.length,Z=O-1,Me=Q[0],et=ce(Me);if(et||O>1&&"string"==typeof Me&&!Y.checkClone&&Or.test(Me))return R.each(function(hn){var En=R.eq(hn);et&&(Q[0]=Me.call(this,hn,En.html())),di(En,Q,ue,ve)});if(O&&(Ge=(Ve=kr(Q,R[0].ownerDocument,!1,R,ve)).firstChild,1===Ve.childNodes.length&&(Ve=Ge),Ge||ve)){for(Bt=(Xe=G.map(xn(Ve,"script"),ft)).length;P<O;P++)Lt=Ve,P!==Z&&(Lt=G.clone(Lt,!0,!0),Bt&&G.merge(Xe,xn(Lt,"script"))),ue.call(R[P],Lt,P);if(Bt)for(de=Xe[Xe.length-1].ownerDocument,G.map(Xe,mn),P=0;P<Bt;P++)Lt=Xe[P],Tn.test(Lt.type||"")&&!St.access(Lt,"globalEval")&&G.contains(de,Lt)&&(Lt.src&&"module"!==(Lt.type||"").toLowerCase()?G._evalUrl&&!Lt.noModule&&G._evalUrl(Lt.src,{nonce:Lt.nonce||Lt.getAttribute("nonce")},de):_e(Lt.textContent.replace(bn,""),Lt,de))}return R}function zi(R,Q,ue){for(var ve,Ve=Q?G.filter(Q,R):R,Ge=0;null!=(ve=Ve[Ge]);Ge++)!ue&&1===ve.nodeType&&G.cleanData(xn(ve)),ve.parentNode&&(ue&&Oe(ve)&&hr(xn(ve,"script")),ve.parentNode.removeChild(ve));return R}G.extend({htmlPrefilter:function(R){return R},clone:function(R,Q,ue){var ve,Ve,Ge,Xe,Bt=R.cloneNode(!0),Lt=Oe(R);if(!(Y.noCloneChecked||1!==R.nodeType&&11!==R.nodeType||G.isXMLDoc(R)))for(Xe=xn(Bt),ve=0,Ve=(Ge=xn(R)).length;ve<Ve;ve++)Di(Ge[ve],Xe[ve]);if(Q)if(ue)for(Ge=Ge||xn(R),Xe=Xe||xn(Bt),ve=0,Ve=Ge.length;ve<Ve;ve++)Wt(Ge[ve],Xe[ve]);else Wt(R,Bt);return(Xe=xn(Bt,"script")).length>0&&hr(Xe,!Lt&&xn(R,"script")),Bt},cleanData:function(R){for(var Q,ue,ve,Ve=G.event.special,Ge=0;void 0!==(ue=R[Ge]);Ge++)if(We(ue)){if(Q=ue[St.expando]){if(Q.events)for(ve in Q.events)Ve[ve]?G.event.remove(ue,ve):G.removeEvent(ue,ve,Q.handle);ue[St.expando]=void 0}ue[Ht.expando]&&(ue[Ht.expando]=void 0)}}}),G.fn.extend({detach:function(R){return zi(this,R,!0)},remove:function(R){return zi(this,R)},text:function(R){return fi(this,function(Q){return void 0===Q?G.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=Q)})},null,R,arguments.length)},append:function(){return di(this,arguments,function(R){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Qe(this,R).appendChild(R)})},prepend:function(){return di(this,arguments,function(R){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var Q=Qe(this,R);Q.insertBefore(R,Q.firstChild)}})},before:function(){return di(this,arguments,function(R){this.parentNode&&this.parentNode.insertBefore(R,this)})},after:function(){return di(this,arguments,function(R){this.parentNode&&this.parentNode.insertBefore(R,this.nextSibling)})},empty:function(){for(var R,Q=0;null!=(R=this[Q]);Q++)1===R.nodeType&&(G.cleanData(xn(R,!1)),R.textContent="");return this},clone:function(R,Q){return R=null!=R&&R,Q=null==Q?R:Q,this.map(function(){return G.clone(this,R,Q)})},html:function(R){return fi(this,function(Q){var ue=this[0]||{},ve=0,Ve=this.length;if(void 0===Q&&1===ue.nodeType)return ue.innerHTML;if("string"==typeof Q&&!ps.test(Q)&&!kn[(Hn.exec(Q)||["",""])[1].toLowerCase()]){Q=G.htmlPrefilter(Q);try{for(;ve<Ve;ve++)1===(ue=this[ve]||{}).nodeType&&(G.cleanData(xn(ue,!1)),ue.innerHTML=Q);ue=0}catch(Ge){}}ue&&this.empty().append(Q)},null,R,arguments.length)},replaceWith:function(){var R=[];return di(this,arguments,function(Q){var ue=this.parentNode;G.inArray(this,R)<0&&(G.cleanData(xn(this)),ue&&ue.replaceChild(Q,this))},R)}}),G.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(R,Q){G.fn[R]=function(ue){for(var ve,Ve=[],Ge=G(ue),Xe=Ge.length-1,Bt=0;Bt<=Xe;Bt++)ve=Bt===Xe?this:this.clone(!0),G(Ge[Bt])[Q](ve),w.apply(Ve,ve.get());return this.pushStack(Ve)}});var _r=new RegExp("^("+Ce+")(?!px)[a-z%]+$","i"),yo=function(R){var Q=R.ownerDocument.defaultView;return(!Q||!Q.opener)&&(Q=A),Q.getComputedStyle(R)},sr=function(R,Q,ue){var ve,Ve,Ge={};for(Ve in Q)Ge[Ve]=R.style[Ve],R.style[Ve]=Q[Ve];for(Ve in ve=ue.call(R),Q)R.style[Ve]=Ge[Ve];return ve},Qr=new RegExp(lt.join("|"),"i");function Ts(R,Q,ue){var ve,Ve,Ge,Xe,Bt=R.style;return(ue=ue||yo(R))&&(""===(Xe=ue.getPropertyValue(Q)||ue[Q])&&!Oe(R)&&(Xe=G.style(R,Q)),!Y.pixelBoxStyles()&&_r.test(Xe)&&Qr.test(Q)&&(ve=Bt.width,Ve=Bt.minWidth,Ge=Bt.maxWidth,Bt.minWidth=Bt.maxWidth=Bt.width=Xe,Xe=ue.width,Bt.width=ve,Bt.minWidth=Ve,Bt.maxWidth=Ge)),void 0!==Xe?Xe+"":Xe}function Zr(R,Q){return{get:function(){if(!R())return(this.get=Q).apply(this,arguments);delete this.get}}}!function(){function R(){if(de){Lt.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",de.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",jt.appendChild(Lt).appendChild(de);var P=A.getComputedStyle(de);ue="1%"!==P.top,Bt=12===Q(P.marginLeft),de.style.right="60%",Ge=36===Q(P.right),ve=36===Q(P.width),de.style.position="absolute",Ve=12===Q(de.offsetWidth/3),jt.removeChild(Lt),de=null}}function Q(P){return Math.round(parseFloat(P))}var ue,ve,Ve,Ge,Xe,Bt,Lt=te.createElement("div"),de=te.createElement("div");!de.style||(de.style.backgroundClip="content-box",de.cloneNode(!0).style.backgroundClip="",Y.clearCloneStyle="content-box"===de.style.backgroundClip,G.extend(Y,{boxSizingReliable:function(){return R(),ve},pixelBoxStyles:function(){return R(),Ge},pixelPosition:function(){return R(),ue},reliableMarginLeft:function(){return R(),Bt},scrollboxSize:function(){return R(),Ve},reliableTrDimensions:function(){var P,O,Z,Me;return null==Xe&&(P=te.createElement("table"),O=te.createElement("tr"),Z=te.createElement("div"),P.style.cssText="position:absolute;left:-11111px;border-collapse:separate",O.style.cssText="border:1px solid",O.style.height="1px",Z.style.height="9px",Z.style.display="block",jt.appendChild(P).appendChild(O).appendChild(Z),Me=A.getComputedStyle(O),Xe=parseInt(Me.height,10)+parseInt(Me.borderTopWidth,10)+parseInt(Me.borderBottomWidth,10)===O.offsetHeight,jt.removeChild(P)),Xe}}))}();var Us=["Webkit","Moz","ms"],Hi=te.createElement("div").style,Zn={};function pr(R){return G.cssProps[R]||Zn[R]||(R in Hi?R:Zn[R]=function(R){for(var Q=R[0].toUpperCase()+R.slice(1),ue=Us.length;ue--;)if((R=Us[ue]+Q)in Hi)return R}(R)||R)}var ts=/^(none|table(?!-c[ea]).+)/,Jr=/^--/,Lr={position:"absolute",visibility:"hidden",display:"block"},ls={letterSpacing:"0",fontWeight:"400"};function or(R,Q,ue){var ve=Je.exec(Q);return ve?Math.max(0,ve[2]-(ue||0))+(ve[3]||"px"):Q}function lr(R,Q,ue,ve,Ve,Ge){var Xe="width"===Q?1:0,Bt=0,Lt=0;if(ue===(ve?"border":"content"))return 0;for(;Xe<4;Xe+=2)"margin"===ue&&(Lt+=G.css(R,ue+lt[Xe],!0,Ve)),ve?("content"===ue&&(Lt-=G.css(R,"padding"+lt[Xe],!0,Ve)),"margin"!==ue&&(Lt-=G.css(R,"border"+lt[Xe]+"Width",!0,Ve))):(Lt+=G.css(R,"padding"+lt[Xe],!0,Ve),"padding"!==ue?Lt+=G.css(R,"border"+lt[Xe]+"Width",!0,Ve):Bt+=G.css(R,"border"+lt[Xe]+"Width",!0,Ve));return!ve&&Ge>=0&&(Lt+=Math.max(0,Math.ceil(R["offset"+Q[0].toUpperCase()+Q.slice(1)]-Ge-Lt-Bt-.5))||0),Lt}function ns(R,Q,ue){var ve=yo(R),Ge=(!Y.boxSizingReliable()||ue)&&"border-box"===G.css(R,"boxSizing",!1,ve),Xe=Ge,Bt=Ts(R,Q,ve),Lt="offset"+Q[0].toUpperCase()+Q.slice(1);if(_r.test(Bt)){if(!ue)return Bt;Bt="auto"}return(!Y.boxSizingReliable()&&Ge||!Y.reliableTrDimensions()&&He(R,"tr")||"auto"===Bt||!parseFloat(Bt)&&"inline"===G.css(R,"display",!1,ve))&&R.getClientRects().length&&(Ge="border-box"===G.css(R,"boxSizing",!1,ve),(Xe=Lt in R)&&(Bt=R[Lt])),(Bt=parseFloat(Bt)||0)+lr(R,Q,ue||(Ge?"border":"content"),Xe,ve,Bt)+"px"}function ai(R,Q,ue,ve,Ve){return new ai.prototype.init(R,Q,ue,ve,Ve)}G.extend({cssHooks:{opacity:{get:function(R,Q){if(Q){var ue=Ts(R,"opacity");return""===ue?"1":ue}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(R,Q,ue,ve){if(R&&3!==R.nodeType&&8!==R.nodeType&&R.style){var Ve,Ge,Xe,Bt=qe(Q),Lt=Jr.test(Q),de=R.style;if(Lt||(Q=pr(Bt)),Xe=G.cssHooks[Q]||G.cssHooks[Bt],void 0===ue)return Xe&&"get"in Xe&&void 0!==(Ve=Xe.get(R,!1,ve))?Ve:de[Q];if("string"===(Ge=typeof ue)&&(Ve=Je.exec(ue))&&Ve[1]&&(ue=It(R,Q,Ve),Ge="number"),null==ue||ue!=ue)return;"number"===Ge&&!Lt&&(ue+=Ve&&Ve[3]||(G.cssNumber[Bt]?"":"px")),!Y.clearCloneStyle&&""===ue&&0===Q.indexOf("background")&&(de[Q]="inherit"),(!Xe||!("set"in Xe)||void 0!==(ue=Xe.set(R,ue,ve)))&&(Lt?de.setProperty(Q,ue):de[Q]=ue)}},css:function(R,Q,ue,ve){var Ve,Ge,Xe,Bt=qe(Q);return Jr.test(Q)||(Q=pr(Bt)),(Xe=G.cssHooks[Q]||G.cssHooks[Bt])&&"get"in Xe&&(Ve=Xe.get(R,!0,ue)),void 0===Ve&&(Ve=Ts(R,Q,ve)),"normal"===Ve&&Q in ls&&(Ve=ls[Q]),""===ue||ue?(Ge=parseFloat(Ve),!0===ue||isFinite(Ge)?Ge||0:Ve):Ve}}),G.each(["height","width"],function(R,Q){G.cssHooks[Q]={get:function(ue,ve,Ve){if(ve)return!ts.test(G.css(ue,"display"))||ue.getClientRects().length&&ue.getBoundingClientRect().width?ns(ue,Q,Ve):sr(ue,Lr,function(){return ns(ue,Q,Ve)})},set:function(ue,ve,Ve){var Ge,Xe=yo(ue),Bt=!Y.scrollboxSize()&&"absolute"===Xe.position,de=(Bt||Ve)&&"border-box"===G.css(ue,"boxSizing",!1,Xe),P=Ve?lr(ue,Q,Ve,de,Xe):0;return de&&Bt&&(P-=Math.ceil(ue["offset"+Q[0].toUpperCase()+Q.slice(1)]-parseFloat(Xe[Q])-lr(ue,Q,"border",!1,Xe)-.5)),P&&(Ge=Je.exec(ve))&&"px"!==(Ge[3]||"px")&&(ue.style[Q]=ve,ve=G.css(ue,Q)),or(0,ve,P)}}}),G.cssHooks.marginLeft=Zr(Y.reliableMarginLeft,function(R,Q){if(Q)return(parseFloat(Ts(R,"marginLeft"))||R.getBoundingClientRect().left-sr(R,{marginLeft:0},function(){return R.getBoundingClientRect().left}))+"px"}),G.each({margin:"",padding:"",border:"Width"},function(R,Q){G.cssHooks[R+Q]={expand:function(ue){for(var ve=0,Ve={},Ge="string"==typeof ue?ue.split(" "):[ue];ve<4;ve++)Ve[R+lt[ve]+Q]=Ge[ve]||Ge[ve-2]||Ge[0];return Ve}},"margin"!==R&&(G.cssHooks[R+Q].set=or)}),G.fn.extend({css:function(R,Q){return fi(this,function(ue,ve,Ve){var Ge,Xe,Bt={},Lt=0;if(Array.isArray(ve)){for(Ge=yo(ue),Xe=ve.length;Lt<Xe;Lt++)Bt[ve[Lt]]=G.css(ue,ve[Lt],!1,Ge);return Bt}return void 0!==Ve?G.style(ue,ve,Ve):G.css(ue,ve)},R,Q,arguments.length>1)}}),G.Tween=ai,ai.prototype={constructor:ai,init:function(R,Q,ue,ve,Ve,Ge){this.elem=R,this.prop=ue,this.easing=Ve||G.easing._default,this.options=Q,this.start=this.now=this.cur(),this.end=ve,this.unit=Ge||(G.cssNumber[ue]?"":"px")},cur:function(){var R=ai.propHooks[this.prop];return R&&R.get?R.get(this):ai.propHooks._default.get(this)},run:function(R){var Q,ue=ai.propHooks[this.prop];return this.options.duration?this.pos=Q=G.easing[this.easing](R,this.options.duration*R,0,1,this.options.duration):this.pos=Q=R,this.now=(this.end-this.start)*Q+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),ue&&ue.set?ue.set(this):ai.propHooks._default.set(this),this}},ai.prototype.init.prototype=ai.prototype,ai.propHooks={_default:{get:function(R){var Q;return 1!==R.elem.nodeType||null!=R.elem[R.prop]&&null==R.elem.style[R.prop]?R.elem[R.prop]:(Q=G.css(R.elem,R.prop,""))&&"auto"!==Q?Q:0},set:function(R){G.fx.step[R.prop]?G.fx.step[R.prop](R):1!==R.elem.nodeType||!G.cssHooks[R.prop]&&null==R.elem.style[pr(R.prop)]?R.elem[R.prop]=R.now:G.style(R.elem,R.prop,R.now+R.unit)}}},ai.propHooks.scrollTop=ai.propHooks.scrollLeft={set:function(R){R.elem.nodeType&&R.elem.parentNode&&(R.elem[R.prop]=R.now)}},G.easing={linear:function(R){return R},swing:function(R){return.5-Math.cos(R*Math.PI)/2},_default:"swing"},G.fx=ai.prototype.init,G.fx.step={};var Xi,ji,Er=/^(?:toggle|show|hide)$/,Bi=/queueHooks$/;function ar(){ji&&(!1===te.hidden&&A.requestAnimationFrame?A.requestAnimationFrame(ar):A.setTimeout(ar,G.fx.interval),G.fx.tick())}function ki(){return A.setTimeout(function(){Xi=void 0}),Xi=Date.now()}function Rr(R,Q){var ue,ve=0,Ve={height:R};for(Q=Q?1:0;ve<4;ve+=2-Q)Ve["margin"+(ue=lt[ve])]=Ve["padding"+ue]=R;return Q&&(Ve.opacity=Ve.width=R),Ve}function is(R,Q,ue){for(var ve,Ve=(Tt.tweeners[Q]||[]).concat(Tt.tweeners["*"]),Ge=0,Xe=Ve.length;Ge<Xe;Ge++)if(ve=Ve[Ge].call(ue,Q,R))return ve}function Tt(R,Q,ue){var ve,Ve,Ge=0,Xe=Tt.prefilters.length,Bt=G.Deferred().always(function(){delete Lt.elem}),Lt=function(){if(Ve)return!1;for(var O=Xi||ki(),Z=Math.max(0,de.startTime+de.duration-O),et=1-(Z/de.duration||0),hn=0,En=de.tweens.length;hn<En;hn++)de.tweens[hn].run(et);return Bt.notifyWith(R,[de,et,Z]),et<1&&En?Z:(En||Bt.notifyWith(R,[de,1,0]),Bt.resolveWith(R,[de]),!1)},de=Bt.promise({elem:R,props:G.extend({},Q),opts:G.extend(!0,{specialEasing:{},easing:G.easing._default},ue),originalProperties:Q,originalOptions:ue,startTime:Xi||ki(),duration:ue.duration,tweens:[],createTween:function(O,Z){var Me=G.Tween(R,de.opts,O,Z,de.opts.specialEasing[O]||de.opts.easing);return de.tweens.push(Me),Me},stop:function(O){var Z=0,Me=O?de.tweens.length:0;if(Ve)return this;for(Ve=!0;Z<Me;Z++)de.tweens[Z].run(1);return O?(Bt.notifyWith(R,[de,1,0]),Bt.resolveWith(R,[de,O])):Bt.rejectWith(R,[de,O]),this}}),P=de.props;for(function(R,Q){var ue,ve,Ve,Ge,Xe;for(ue in R)if(Ve=Q[ve=qe(ue)],Ge=R[ue],Array.isArray(Ge)&&(Ve=Ge[1],Ge=R[ue]=Ge[0]),ue!==ve&&(R[ve]=Ge,delete R[ue]),(Xe=G.cssHooks[ve])&&"expand"in Xe)for(ue in Ge=Xe.expand(Ge),delete R[ve],Ge)ue in R||(R[ue]=Ge[ue],Q[ue]=Ve);else Q[ve]=Ve}(P,de.opts.specialEasing);Ge<Xe;Ge++)if(ve=Tt.prefilters[Ge].call(de,R,P,de.opts))return ce(ve.stop)&&(G._queueHooks(de.elem,de.opts.queue).stop=ve.stop.bind(ve)),ve;return G.map(P,is,de),ce(de.opts.start)&&de.opts.start.call(R,de),de.progress(de.opts.progress).done(de.opts.done,de.opts.complete).fail(de.opts.fail).always(de.opts.always),G.fx.timer(G.extend(Lt,{elem:R,anim:de,queue:de.opts.queue})),de}G.Animation=G.extend(Tt,{tweeners:{"*":[function(R,Q){var ue=this.createTween(R,Q);return It(ue.elem,R,Je.exec(Q),ue),ue}]},tweener:function(R,Q){ce(R)?(Q=R,R=["*"]):R=R.match(je);for(var ue,ve=0,Ve=R.length;ve<Ve;ve++)ue=R[ve],Tt.tweeners[ue]=Tt.tweeners[ue]||[],Tt.tweeners[ue].unshift(Q)},prefilters:[function(R,Q,ue){var ve,Ve,Ge,Xe,Bt,Lt,de,P,O="width"in Q||"height"in Q,Z=this,Me={},et=R.style,hn=R.nodeType&&ut(R),En=St.get(R,"fxshow");for(ve in ue.queue||(null==(Xe=G._queueHooks(R,"fx")).unqueued&&(Xe.unqueued=0,Bt=Xe.empty.fire,Xe.empty.fire=function(){Xe.unqueued||Bt()}),Xe.unqueued++,Z.always(function(){Z.always(function(){Xe.unqueued--,G.queue(R,"fx").length||Xe.empty.fire()})})),Q)if(Ve=Q[ve],Er.test(Ve)){if(delete Q[ve],Ge=Ge||"toggle"===Ve,Ve===(hn?"hide":"show")){if("show"!==Ve||!En||void 0===En[ve])continue;hn=!0}Me[ve]=En&&En[ve]||G.style(R,ve)}if((Lt=!G.isEmptyObject(Q))||!G.isEmptyObject(Me))for(ve in O&&1===R.nodeType&&(ue.overflow=[et.overflow,et.overflowX,et.overflowY],null==(de=En&&En.display)&&(de=St.get(R,"display")),"none"===(P=G.css(R,"display"))&&(de?P=de:(_n([R],!0),de=R.style.display||de,P=G.css(R,"display"),_n([R]))),("inline"===P||"inline-block"===P&&null!=de)&&"none"===G.css(R,"float")&&(Lt||(Z.done(function(){et.display=de}),null==de&&(P=et.display,de="none"===P?"":P)),et.display="inline-block")),ue.overflow&&(et.overflow="hidden",Z.always(function(){et.overflow=ue.overflow[0],et.overflowX=ue.overflow[1],et.overflowY=ue.overflow[2]})),Lt=!1,Me)Lt||(En?"hidden"in En&&(hn=En.hidden):En=St.access(R,"fxshow",{display:de}),Ge&&(En.hidden=!hn),hn&&_n([R],!0),Z.done(function(){for(ve in hn||_n([R]),St.remove(R,"fxshow"),Me)G.style(R,ve,Me[ve])})),Lt=is(hn?En[ve]:0,ve,Z),ve in En||(En[ve]=Lt.start,hn&&(Lt.end=Lt.start,Lt.start=0))}],prefilter:function(R,Q){Q?Tt.prefilters.unshift(R):Tt.prefilters.push(R)}}),G.speed=function(R,Q,ue){var ve=R&&"object"==typeof R?G.extend({},R):{complete:ue||!ue&&Q||ce(R)&&R,duration:R,easing:ue&&Q||Q&&!ce(Q)&&Q};return G.fx.off?ve.duration=0:"number"!=typeof ve.duration&&(ve.duration in G.fx.speeds?ve.duration=G.fx.speeds[ve.duration]:ve.duration=G.fx.speeds._default),(null==ve.queue||!0===ve.queue)&&(ve.queue="fx"),ve.old=ve.complete,ve.complete=function(){ce(ve.old)&&ve.old.call(this),ve.queue&&G.dequeue(this,ve.queue)},ve},G.fn.extend({fadeTo:function(R,Q,ue,ve){return this.filter(ut).css("opacity",0).show().end().animate({opacity:Q},R,ue,ve)},animate:function(R,Q,ue,ve){var Ve=G.isEmptyObject(R),Ge=G.speed(Q,ue,ve),Xe=function(){var Bt=Tt(this,G.extend({},R),Ge);(Ve||St.get(this,"finish"))&&Bt.stop(!0)};return Xe.finish=Xe,Ve||!1===Ge.queue?this.each(Xe):this.queue(Ge.queue,Xe)},stop:function(R,Q,ue){var ve=function(Ve){var Ge=Ve.stop;delete Ve.stop,Ge(ue)};return"string"!=typeof R&&(ue=Q,Q=R,R=void 0),Q&&this.queue(R||"fx",[]),this.each(function(){var Ve=!0,Ge=null!=R&&R+"queueHooks",Xe=G.timers,Bt=St.get(this);if(Ge)Bt[Ge]&&Bt[Ge].stop&&ve(Bt[Ge]);else for(Ge in Bt)Bt[Ge]&&Bt[Ge].stop&&Bi.test(Ge)&&ve(Bt[Ge]);for(Ge=Xe.length;Ge--;)Xe[Ge].elem===this&&(null==R||Xe[Ge].queue===R)&&(Xe[Ge].anim.stop(ue),Ve=!1,Xe.splice(Ge,1));(Ve||!ue)&&G.dequeue(this,R)})},finish:function(R){return!1!==R&&(R=R||"fx"),this.each(function(){var Q,ue=St.get(this),ve=ue[R+"queue"],Ve=ue[R+"queueHooks"],Ge=G.timers,Xe=ve?ve.length:0;for(ue.finish=!0,G.queue(this,R,[]),Ve&&Ve.stop&&Ve.stop.call(this,!0),Q=Ge.length;Q--;)Ge[Q].elem===this&&Ge[Q].queue===R&&(Ge[Q].anim.stop(!0),Ge.splice(Q,1));for(Q=0;Q<Xe;Q++)ve[Q]&&ve[Q].finish&&ve[Q].finish.call(this);delete ue.finish})}}),G.each(["toggle","show","hide"],function(R,Q){var ue=G.fn[Q];G.fn[Q]=function(ve,Ve,Ge){return null==ve||"boolean"==typeof ve?ue.apply(this,arguments):this.animate(Rr(Q,!0),ve,Ve,Ge)}}),G.each({slideDown:Rr("show"),slideUp:Rr("hide"),slideToggle:Rr("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(R,Q){G.fn[R]=function(ue,ve,Ve){return this.animate(Q,ue,ve,Ve)}}),G.timers=[],G.fx.tick=function(){var R,Q=0,ue=G.timers;for(Xi=Date.now();Q<ue.length;Q++)!(R=ue[Q])()&&ue[Q]===R&&ue.splice(Q--,1);ue.length||G.fx.stop(),Xi=void 0},G.fx.timer=function(R){G.timers.push(R),G.fx.start()},G.fx.interval=13,G.fx.start=function(){ji||(ji=!0,ar())},G.fx.stop=function(){ji=null},G.fx.speeds={slow:600,fast:200,_default:400},G.fn.delay=function(R,Q){return R=G.fx&&G.fx.speeds[R]||R,Q=Q||"fx",this.queue(Q,function(ue,ve){var Ve=A.setTimeout(ue,R);ve.stop=function(){A.clearTimeout(Ve)}})},function(){var R=te.createElement("input"),ue=te.createElement("select").appendChild(te.createElement("option"));R.type="checkbox",Y.checkOn=""!==R.value,Y.optSelected=ue.selected,(R=te.createElement("input")).value="t",R.type="radio",Y.radioValue="t"===R.value}();var wn,In=G.expr.attrHandle;G.fn.extend({attr:function(R,Q){return fi(this,G.attr,R,Q,arguments.length>1)},removeAttr:function(R){return this.each(function(){G.removeAttr(this,R)})}}),G.extend({attr:function(R,Q,ue){var ve,Ve,Ge=R.nodeType;if(3!==Ge&&8!==Ge&&2!==Ge)return void 0===R.getAttribute?G.prop(R,Q,ue):((1!==Ge||!G.isXMLDoc(R))&&(Ve=G.attrHooks[Q.toLowerCase()]||(G.expr.match.bool.test(Q)?wn:void 0)),void 0!==ue?null===ue?void G.removeAttr(R,Q):Ve&&"set"in Ve&&void 0!==(ve=Ve.set(R,ue,Q))?ve:(R.setAttribute(Q,ue+""),ue):Ve&&"get"in Ve&&null!==(ve=Ve.get(R,Q))?ve:null==(ve=G.find.attr(R,Q))?void 0:ve)},attrHooks:{type:{set:function(R,Q){if(!Y.radioValue&&"radio"===Q&&He(R,"input")){var ue=R.value;return R.setAttribute("type",Q),ue&&(R.value=ue),Q}}}},removeAttr:function(R,Q){var ue,ve=0,Ve=Q&&Q.match(je);if(Ve&&1===R.nodeType)for(;ue=Ve[ve++];)R.removeAttribute(ue)}}),wn={set:function(R,Q,ue){return!1===Q?G.removeAttr(R,ue):R.setAttribute(ue,ue),ue}},G.each(G.expr.match.bool.source.match(/\w+/g),function(R,Q){var ue=In[Q]||G.find.attr;In[Q]=function(ve,Ve,Ge){var Xe,Bt,Lt=Ve.toLowerCase();return Ge||(Bt=In[Lt],In[Lt]=Xe,Xe=null!=ue(ve,Ve,Ge)?Lt:null,In[Lt]=Bt),Xe}});var Qn=/^(?:input|select|textarea|button)$/i,$n=/^(?:a|area)$/i;function mi(R){return(R.match(je)||[]).join(" ")}function xi(R){return R.getAttribute&&R.getAttribute("class")||""}function Ri(R){return Array.isArray(R)?R:"string"==typeof R&&R.match(je)||[]}G.fn.extend({prop:function(R,Q){return fi(this,G.prop,R,Q,arguments.length>1)},removeProp:function(R){return this.each(function(){delete this[G.propFix[R]||R]})}}),G.extend({prop:function(R,Q,ue){var ve,Ve,Ge=R.nodeType;if(3!==Ge&&8!==Ge&&2!==Ge)return(1!==Ge||!G.isXMLDoc(R))&&(Q=G.propFix[Q]||Q,Ve=G.propHooks[Q]),void 0!==ue?Ve&&"set"in Ve&&void 0!==(ve=Ve.set(R,ue,Q))?ve:R[Q]=ue:Ve&&"get"in Ve&&null!==(ve=Ve.get(R,Q))?ve:R[Q]},propHooks:{tabIndex:{get:function(R){var Q=G.find.attr(R,"tabindex");return Q?parseInt(Q,10):Qn.test(R.nodeName)||$n.test(R.nodeName)&&R.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),Y.optSelected||(G.propHooks.selected={get:function(R){var Q=R.parentNode;return Q&&Q.parentNode&&Q.parentNode.selectedIndex,null},set:function(R){var Q=R.parentNode;Q&&(Q.selectedIndex,Q.parentNode&&Q.parentNode.selectedIndex)}}),G.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){G.propFix[this.toLowerCase()]=this}),G.fn.extend({addClass:function(R){var Q,ue,ve,Ve,Ge,Xe,Bt,Lt=0;if(ce(R))return this.each(function(de){G(this).addClass(R.call(this,de,xi(this)))});if((Q=Ri(R)).length)for(;ue=this[Lt++];)if(Ve=xi(ue),ve=1===ue.nodeType&&" "+mi(Ve)+" "){for(Xe=0;Ge=Q[Xe++];)ve.indexOf(" "+Ge+" ")<0&&(ve+=Ge+" ");Ve!==(Bt=mi(ve))&&ue.setAttribute("class",Bt)}return this},removeClass:function(R){var Q,ue,ve,Ve,Ge,Xe,Bt,Lt=0;if(ce(R))return this.each(function(de){G(this).removeClass(R.call(this,de,xi(this)))});if(!arguments.length)return this.attr("class","");if((Q=Ri(R)).length)for(;ue=this[Lt++];)if(Ve=xi(ue),ve=1===ue.nodeType&&" "+mi(Ve)+" "){for(Xe=0;Ge=Q[Xe++];)for(;ve.indexOf(" "+Ge+" ")>-1;)ve=ve.replace(" "+Ge+" "," ");Ve!==(Bt=mi(ve))&&ue.setAttribute("class",Bt)}return this},toggleClass:function(R,Q){var ue=typeof R,ve="string"===ue||Array.isArray(R);return"boolean"==typeof Q&&ve?Q?this.addClass(R):this.removeClass(R):ce(R)?this.each(function(Ve){G(this).toggleClass(R.call(this,Ve,xi(this),Q),Q)}):this.each(function(){var Ve,Ge,Xe,Bt;if(ve)for(Ge=0,Xe=G(this),Bt=Ri(R);Ve=Bt[Ge++];)Xe.hasClass(Ve)?Xe.removeClass(Ve):Xe.addClass(Ve);else(void 0===R||"boolean"===ue)&&((Ve=xi(this))&&St.set(this,"__className__",Ve),this.setAttribute&&this.setAttribute("class",Ve||!1===R?"":St.get(this,"__className__")||""))})},hasClass:function(R){var Q,ue,ve=0;for(Q=" "+R+" ";ue=this[ve++];)if(1===ue.nodeType&&(" "+mi(xi(ue))+" ").indexOf(Q)>-1)return!0;return!1}});var Mi=/\r/g;G.fn.extend({val:function(R){var Q,ue,ve,Ve=this[0];return arguments.length?(ve=ce(R),this.each(function(Ge){var Xe;1===this.nodeType&&(null==(Xe=ve?R.call(this,Ge,G(this).val()):R)?Xe="":"number"==typeof Xe?Xe+="":Array.isArray(Xe)&&(Xe=G.map(Xe,function(Bt){return null==Bt?"":Bt+""})),(!(Q=G.valHooks[this.type]||G.valHooks[this.nodeName.toLowerCase()])||!("set"in Q)||void 0===Q.set(this,Xe,"value"))&&(this.value=Xe))})):Ve?(Q=G.valHooks[Ve.type]||G.valHooks[Ve.nodeName.toLowerCase()])&&"get"in Q&&void 0!==(ue=Q.get(Ve,"value"))?ue:"string"==typeof(ue=Ve.value)?ue.replace(Mi,""):null==ue?"":ue:void 0}}),G.extend({valHooks:{option:{get:function(R){var Q=G.find.attr(R,"value");return null!=Q?Q:mi(G.text(R))}},select:{get:function(R){var Q,ue,ve,Ve=R.options,Ge=R.selectedIndex,Xe="select-one"===R.type,Bt=Xe?null:[],Lt=Xe?Ge+1:Ve.length;for(ve=Ge<0?Lt:Xe?Ge:0;ve<Lt;ve++)if(((ue=Ve[ve]).selected||ve===Ge)&&!ue.disabled&&(!ue.parentNode.disabled||!He(ue.parentNode,"optgroup"))){if(Q=G(ue).val(),Xe)return Q;Bt.push(Q)}return Bt},set:function(R,Q){for(var ue,ve,Ve=R.options,Ge=G.makeArray(Q),Xe=Ve.length;Xe--;)((ve=Ve[Xe]).selected=G.inArray(G.valHooks.option.get(ve),Ge)>-1)&&(ue=!0);return ue||(R.selectedIndex=-1),Ge}}}}),G.each(["radio","checkbox"],function(){G.valHooks[this]={set:function(R,Q){if(Array.isArray(Q))return R.checked=G.inArray(G(R).val(),Q)>-1}},Y.checkOn||(G.valHooks[this].get=function(R){return null===R.getAttribute("value")?"on":R.value})}),Y.focusin="onfocusin"in A;var Wr=/^(?:focusinfocus|focusoutblur)$/,Is=function(R){R.stopPropagation()};G.extend(G.event,{trigger:function(R,Q,ue,ve){var Ve,Ge,Xe,Bt,Lt,de,P,O,Z=[ue||te],Me=N.call(R,"type")?R.type:R,et=N.call(R,"namespace")?R.namespace.split("."):[];if(Ge=O=Xe=ue=ue||te,3!==ue.nodeType&&8!==ue.nodeType&&!Wr.test(Me+G.event.triggered)&&(Me.indexOf(".")>-1&&(et=Me.split("."),Me=et.shift(),et.sort()),Lt=Me.indexOf(":")<0&&"on"+Me,(R=R[G.expando]?R:new G.Event(Me,"object"==typeof R&&R)).isTrigger=ve?2:3,R.namespace=et.join("."),R.rnamespace=R.namespace?new RegExp("(^|\\.)"+et.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,R.result=void 0,R.target||(R.target=ue),Q=null==Q?[R]:G.makeArray(Q,[R]),P=G.event.special[Me]||{},ve||!P.trigger||!1!==P.trigger.apply(ue,Q))){if(!ve&&!P.noBubble&&!be(ue)){for(Bt=P.delegateType||Me,Wr.test(Bt+Me)||(Ge=Ge.parentNode);Ge;Ge=Ge.parentNode)Z.push(Ge),Xe=Ge;Xe===(ue.ownerDocument||te)&&Z.push(Xe.defaultView||Xe.parentWindow||A)}for(Ve=0;(Ge=Z[Ve++])&&!R.isPropagationStopped();)O=Ge,R.type=Ve>1?Bt:P.bindType||Me,(de=(St.get(Ge,"events")||Object.create(null))[R.type]&&St.get(Ge,"handle"))&&de.apply(Ge,Q),(de=Lt&&Ge[Lt])&&de.apply&&We(Ge)&&(R.result=de.apply(Ge,Q),!1===R.result&&R.preventDefault());return R.type=Me,!ve&&!R.isDefaultPrevented()&&(!P._default||!1===P._default.apply(Z.pop(),Q))&&We(ue)&&Lt&&ce(ue[Me])&&!be(ue)&&((Xe=ue[Lt])&&(ue[Lt]=null),G.event.triggered=Me,R.isPropagationStopped()&&O.addEventListener(Me,Is),ue[Me](),R.isPropagationStopped()&&O.removeEventListener(Me,Is),G.event.triggered=void 0,Xe&&(ue[Lt]=Xe)),R.result}},simulate:function(R,Q,ue){var ve=G.extend(new G.Event,ue,{type:R,isSimulated:!0});G.event.trigger(ve,null,Q)}}),G.fn.extend({trigger:function(R,Q){return this.each(function(){G.event.trigger(R,Q,this)})},triggerHandler:function(R,Q){var ue=this[0];if(ue)return G.event.trigger(R,Q,ue,!0)}}),Y.focusin||G.each({focus:"focusin",blur:"focusout"},function(R,Q){var ue=function(ve){G.event.simulate(Q,ve.target,G.event.fix(ve))};G.event.special[Q]={setup:function(){var ve=this.ownerDocument||this.document||this,Ve=St.access(ve,Q);Ve||ve.addEventListener(R,ue,!0),St.access(ve,Q,(Ve||0)+1)},teardown:function(){var ve=this.ownerDocument||this.document||this,Ve=St.access(ve,Q)-1;Ve?St.access(ve,Q,Ve):(ve.removeEventListener(R,ue,!0),St.remove(ve,Q))}}});var Vt=A.location,he={guid:Date.now()},ke=/\?/;G.parseXML=function(R){var Q,ue;if(!R||"string"!=typeof R)return null;try{Q=(new A.DOMParser).parseFromString(R,"text/xml")}catch(ve){}return ue=Q&&Q.getElementsByTagName("parsererror")[0],(!Q||ue)&&G.error("Invalid XML: "+(ue?G.map(ue.childNodes,function(ve){return ve.textContent}).join("\n"):R)),Q};var vt=/\[\]$/,Qt=/\r?\n/g,yn=/^(?:submit|button|image|reset|file)$/i,ui=/^(?:input|select|textarea|keygen)/i;function Oi(R,Q,ue,ve){var Ve;if(Array.isArray(Q))G.each(Q,function(Ge,Xe){ue||vt.test(R)?ve(R,Xe):Oi(R+"["+("object"==typeof Xe&&null!=Xe?Ge:"")+"]",Xe,ue,ve)});else if(ue||"object"!==Te(Q))ve(R,Q);else for(Ve in Q)Oi(R+"["+Ve+"]",Q[Ve],ue,ve)}G.param=function(R,Q){var ue,ve=[],Ve=function(Ge,Xe){var Bt=ce(Xe)?Xe():Xe;ve[ve.length]=encodeURIComponent(Ge)+"="+encodeURIComponent(null==Bt?"":Bt)};if(null==R)return"";if(Array.isArray(R)||R.jquery&&!G.isPlainObject(R))G.each(R,function(){Ve(this.name,this.value)});else for(ue in R)Oi(ue,R[ue],Q,Ve);return ve.join("&")},G.fn.extend({serialize:function(){return G.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var R=G.prop(this,"elements");return R?G.makeArray(R):this}).filter(function(){var R=this.type;return this.name&&!G(this).is(":disabled")&&ui.test(this.nodeName)&&!yn.test(R)&&(this.checked||!Fn.test(R))}).map(function(R,Q){var ue=G(this).val();return null==ue?null:Array.isArray(ue)?G.map(ue,function(ve){return{name:Q.name,value:ve.replace(Qt,"\r\n")}}):{name:Q.name,value:ue.replace(Qt,"\r\n")}}).get()}});var Dr=/%20/g,si=/#.*$/,Jt=/([?&])_=[^&]*/,Pn=/^(.*?):[ \t]*([^\r\n]*)$/gm,Cr=/^(?:GET|HEAD)$/,Fs=/^\/\//,Br={},eo={},gs="*/".concat("*"),ys=te.createElement("a");function zr(R){return function(Q,ue){"string"!=typeof Q&&(ue=Q,Q="*");var ve,Ve=0,Ge=Q.toLowerCase().match(je)||[];if(ce(ue))for(;ve=Ge[Ve++];)"+"===ve[0]?(ve=ve.slice(1)||"*",(R[ve]=R[ve]||[]).unshift(ue)):(R[ve]=R[ve]||[]).push(ue)}}function ea(R,Q,ue,ve){var Ve={},Ge=R===eo;function Xe(Bt){var Lt;return Ve[Bt]=!0,G.each(R[Bt]||[],function(de,P){var O=P(Q,ue,ve);return"string"!=typeof O||Ge||Ve[O]?Ge?!(Lt=O):void 0:(Q.dataTypes.unshift(O),Xe(O),!1)}),Lt}return Xe(Q.dataTypes[0])||!Ve["*"]&&Xe("*")}function Gr(R,Q){var ue,ve,Ve=G.ajaxSettings.flatOptions||{};for(ue in Q)void 0!==Q[ue]&&((Ve[ue]?R:ve||(ve={}))[ue]=Q[ue]);return ve&&G.extend(!0,R,ve),R}ys.href=Vt.href,G.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Vt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Vt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":gs,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":G.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(R,Q){return Q?Gr(Gr(R,G.ajaxSettings),Q):Gr(G.ajaxSettings,R)},ajaxPrefilter:zr(Br),ajaxTransport:zr(eo),ajax:function(R,Q){"object"==typeof R&&(Q=R,R=void 0),Q=Q||{};var ue,ve,Ve,Ge,Xe,Bt,Lt,de,P,O,Z=G.ajaxSetup({},Q),Me=Z.context||Z,et=Z.context&&(Me.nodeType||Me.jquery)?G(Me):G.event,hn=G.Deferred(),En=G.Callbacks("once memory"),vi=Z.statusCode||{},Zi={},Ir={},ci="canceled",_i={readyState:0,getResponseHeader:function(Ji){var wi;if(Lt){if(!Ge)for(Ge={};wi=Pn.exec(Ve);)Ge[wi[1].toLowerCase()+" "]=(Ge[wi[1].toLowerCase()+" "]||[]).concat(wi[2]);wi=Ge[Ji.toLowerCase()+" "]}return null==wi?null:wi.join(", ")},getAllResponseHeaders:function(){return Lt?Ve:null},setRequestHeader:function(Ji,wi){return null==Lt&&(Ji=Ir[Ji.toLowerCase()]=Ir[Ji.toLowerCase()]||Ji,Zi[Ji]=wi),this},overrideMimeType:function(Ji){return null==Lt&&(Z.mimeType=Ji),this},statusCode:function(Ji){var wi;if(Ji)if(Lt)_i.always(Ji[_i.status]);else for(wi in Ji)vi[wi]=[vi[wi],Ji[wi]];return this},abort:function(Ji){var wi=Ji||ci;return ue&&ue.abort(wi),wr(0,wi),this}};if(hn.promise(_i),Z.url=((R||Z.url||Vt.href)+"").replace(Fs,Vt.protocol+"//"),Z.type=Q.method||Q.type||Z.method||Z.type,Z.dataTypes=(Z.dataType||"*").toLowerCase().match(je)||[""],null==Z.crossDomain){Bt=te.createElement("a");try{Bt.href=Z.url,Bt.href=Bt.href,Z.crossDomain=ys.protocol+"//"+ys.host!=Bt.protocol+"//"+Bt.host}catch(Ji){Z.crossDomain=!0}}if(Z.data&&Z.processData&&"string"!=typeof Z.data&&(Z.data=G.param(Z.data,Z.traditional)),ea(Br,Z,Q,_i),Lt)return _i;for(P in(de=G.event&&Z.global)&&0==G.active++&&G.event.trigger("ajaxStart"),Z.type=Z.type.toUpperCase(),Z.hasContent=!Cr.test(Z.type),ve=Z.url.replace(si,""),Z.hasContent?Z.data&&Z.processData&&0===(Z.contentType||"").indexOf("application/x-www-form-urlencoded")&&(Z.data=Z.data.replace(Dr,"+")):(O=Z.url.slice(ve.length),Z.data&&(Z.processData||"string"==typeof Z.data)&&(ve+=(ke.test(ve)?"&":"?")+Z.data,delete Z.data),!1===Z.cache&&(ve=ve.replace(Jt,"$1"),O=(ke.test(ve)?"&":"?")+"_="+he.guid+++O),Z.url=ve+O),Z.ifModified&&(G.lastModified[ve]&&_i.setRequestHeader("If-Modified-Since",G.lastModified[ve]),G.etag[ve]&&_i.setRequestHeader("If-None-Match",G.etag[ve])),(Z.data&&Z.hasContent&&!1!==Z.contentType||Q.contentType)&&_i.setRequestHeader("Content-Type",Z.contentType),_i.setRequestHeader("Accept",Z.dataTypes[0]&&Z.accepts[Z.dataTypes[0]]?Z.accepts[Z.dataTypes[0]]+("*"!==Z.dataTypes[0]?", "+gs+"; q=0.01":""):Z.accepts["*"]),Z.headers)_i.setRequestHeader(P,Z.headers[P]);if(Z.beforeSend&&(!1===Z.beforeSend.call(Me,_i,Z)||Lt))return _i.abort();if(ci="abort",En.add(Z.complete),_i.done(Z.success),_i.fail(Z.error),ue=ea(eo,Z,Q,_i)){if(_i.readyState=1,de&&et.trigger("ajaxSend",[_i,Z]),Lt)return _i;Z.async&&Z.timeout>0&&(Xe=A.setTimeout(function(){_i.abort("timeout")},Z.timeout));try{Lt=!1,ue.send(Zi,wr)}catch(Ji){if(Lt)throw Ji;wr(-1,Ji)}}else wr(-1,"No Transport");function wr(Ji,wi,mo,ra){var lo,Co,Oo,uo,wo,Un=wi;Lt||(Lt=!0,Xe&&A.clearTimeout(Xe),ue=void 0,Ve=ra||"",_i.readyState=Ji>0?4:0,lo=Ji>=200&&Ji<300||304===Ji,mo&&(uo=function(R,Q,ue){for(var ve,Ve,Ge,Xe,Bt=R.contents,Lt=R.dataTypes;"*"===Lt[0];)Lt.shift(),void 0===ve&&(ve=R.mimeType||Q.getResponseHeader("Content-Type"));if(ve)for(Ve in Bt)if(Bt[Ve]&&Bt[Ve].test(ve)){Lt.unshift(Ve);break}if(Lt[0]in ue)Ge=Lt[0];else{for(Ve in ue){if(!Lt[0]||R.converters[Ve+" "+Lt[0]]){Ge=Ve;break}Xe||(Xe=Ve)}Ge=Ge||Xe}if(Ge)return Ge!==Lt[0]&&Lt.unshift(Ge),ue[Ge]}(Z,_i,mo)),!lo&&G.inArray("script",Z.dataTypes)>-1&&G.inArray("json",Z.dataTypes)<0&&(Z.converters["text script"]=function(){}),uo=function(R,Q,ue,ve){var Ve,Ge,Xe,Bt,Lt,de={},P=R.dataTypes.slice();if(P[1])for(Xe in R.converters)de[Xe.toLowerCase()]=R.converters[Xe];for(Ge=P.shift();Ge;)if(R.responseFields[Ge]&&(ue[R.responseFields[Ge]]=Q),!Lt&&ve&&R.dataFilter&&(Q=R.dataFilter(Q,R.dataType)),Lt=Ge,Ge=P.shift())if("*"===Ge)Ge=Lt;else if("*"!==Lt&&Lt!==Ge){if(!(Xe=de[Lt+" "+Ge]||de["* "+Ge]))for(Ve in de)if((Bt=Ve.split(" "))[1]===Ge&&(Xe=de[Lt+" "+Bt[0]]||de["* "+Bt[0]])){!0===Xe?Xe=de[Ve]:!0!==de[Ve]&&(Ge=Bt[0],P.unshift(Bt[1]));break}if(!0!==Xe)if(Xe&&R.throws)Q=Xe(Q);else try{Q=Xe(Q)}catch(O){return{state:"parsererror",error:Xe?O:"No conversion from "+Lt+" to "+Ge}}}return{state:"success",data:Q}}(Z,uo,_i,lo),lo?(Z.ifModified&&((wo=_i.getResponseHeader("Last-Modified"))&&(G.lastModified[ve]=wo),(wo=_i.getResponseHeader("etag"))&&(G.etag[ve]=wo)),204===Ji||"HEAD"===Z.type?Un="nocontent":304===Ji?Un="notmodified":(Un=uo.state,Co=uo.data,lo=!(Oo=uo.error))):(Oo=Un,(Ji||!Un)&&(Un="error",Ji<0&&(Ji=0))),_i.status=Ji,_i.statusText=(wi||Un)+"",lo?hn.resolveWith(Me,[Co,Un,_i]):hn.rejectWith(Me,[_i,Un,Oo]),_i.statusCode(vi),vi=void 0,de&&et.trigger(lo?"ajaxSuccess":"ajaxError",[_i,Z,lo?Co:Oo]),En.fireWith(Me,[_i,Un]),de&&(et.trigger("ajaxComplete",[_i,Z]),--G.active||G.event.trigger("ajaxStop")))}return _i},getJSON:function(R,Q,ue){return G.get(R,Q,ue,"json")},getScript:function(R,Q){return G.get(R,void 0,Q,"script")}}),G.each(["get","post"],function(R,Q){G[Q]=function(ue,ve,Ve,Ge){return ce(ve)&&(Ge=Ge||Ve,Ve=ve,ve=void 0),G.ajax(G.extend({url:ue,type:Q,dataType:Ge,data:ve,success:Ve},G.isPlainObject(ue)&&ue))}}),G.ajaxPrefilter(function(R){var Q;for(Q in R.headers)"content-type"===Q.toLowerCase()&&(R.contentType=R.headers[Q]||"")}),G._evalUrl=function(R,Q,ue){return G.ajax({url:R,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(ve){G.globalEval(ve,Q,ue)}})},G.fn.extend({wrapAll:function(R){var Q;return this[0]&&(ce(R)&&(R=R.call(this[0])),Q=G(R,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&Q.insertBefore(this[0]),Q.map(function(){for(var ue=this;ue.firstElementChild;)ue=ue.firstElementChild;return ue}).append(this)),this},wrapInner:function(R){return ce(R)?this.each(function(Q){G(this).wrapInner(R.call(this,Q))}):this.each(function(){var Q=G(this),ue=Q.contents();ue.length?ue.wrapAll(R):Q.append(R)})},wrap:function(R){var Q=ce(R);return this.each(function(ue){G(this).wrapAll(Q?R.call(this,ue):R)})},unwrap:function(R){return this.parent(R).not("body").each(function(){G(this).replaceWith(this.childNodes)}),this}}),G.expr.pseudos.hidden=function(R){return!G.expr.pseudos.visible(R)},G.expr.pseudos.visible=function(R){return!!(R.offsetWidth||R.offsetHeight||R.getClientRects().length)},G.ajaxSettings.xhr=function(){try{return new A.XMLHttpRequest}catch(R){}};var Vo={0:200,1223:204},qr=G.ajaxSettings.xhr();Y.cors=!!qr&&"withCredentials"in qr,Y.ajax=qr=!!qr,G.ajaxTransport(function(R){var Q,ue;if(Y.cors||qr&&!R.crossDomain)return{send:function(ve,Ve){var Ge,Xe=R.xhr();if(Xe.open(R.type,R.url,R.async,R.username,R.password),R.xhrFields)for(Ge in R.xhrFields)Xe[Ge]=R.xhrFields[Ge];for(Ge in R.mimeType&&Xe.overrideMimeType&&Xe.overrideMimeType(R.mimeType),!R.crossDomain&&!ve["X-Requested-With"]&&(ve["X-Requested-With"]="XMLHttpRequest"),ve)Xe.setRequestHeader(Ge,ve[Ge]);Q=function(Bt){return function(){Q&&(Q=ue=Xe.onload=Xe.onerror=Xe.onabort=Xe.ontimeout=Xe.onreadystatechange=null,"abort"===Bt?Xe.abort():"error"===Bt?"number"!=typeof Xe.status?Ve(0,"error"):Ve(Xe.status,Xe.statusText):Ve(Vo[Xe.status]||Xe.status,Xe.statusText,"text"!==(Xe.responseType||"text")||"string"!=typeof Xe.responseText?{binary:Xe.response}:{text:Xe.responseText},Xe.getAllResponseHeaders()))}},Xe.onload=Q(),ue=Xe.onerror=Xe.ontimeout=Q("error"),void 0!==Xe.onabort?Xe.onabort=ue:Xe.onreadystatechange=function(){4===Xe.readyState&&A.setTimeout(function(){Q&&ue()})},Q=Q("abort");try{Xe.send(R.hasContent&&R.data||null)}catch(Bt){if(Q)throw Bt}},abort:function(){Q&&Q()}}}),G.ajaxPrefilter(function(R){R.crossDomain&&(R.contents.script=!1)}),G.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(R){return G.globalEval(R),R}}}),G.ajaxPrefilter("script",function(R){void 0===R.cache&&(R.cache=!1),R.crossDomain&&(R.type="GET")}),G.ajaxTransport("script",function(R){var Q,ue;if(R.crossDomain||R.scriptAttrs)return{send:function(ve,Ve){Q=G("<script>").attr(R.scriptAttrs||{}).prop({charset:R.scriptCharset,src:R.url}).on("load error",ue=function(Ge){Q.remove(),ue=null,Ge&&Ve("error"===Ge.type?404:200,Ge.type)}),te.head.appendChild(Q[0])},abort:function(){ue&&ue()}}});var R,Ho=[],to=/(=)\?(?=&|$)|\?\?/;G.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var R=Ho.pop()||G.expando+"_"+he.guid++;return this[R]=!0,R}}),G.ajaxPrefilter("json jsonp",function(R,Q,ue){var ve,Ve,Ge,Xe=!1!==R.jsonp&&(to.test(R.url)?"url":"string"==typeof R.data&&0===(R.contentType||"").indexOf("application/x-www-form-urlencoded")&&to.test(R.data)&&"data");if(Xe||"jsonp"===R.dataTypes[0])return ve=R.jsonpCallback=ce(R.jsonpCallback)?R.jsonpCallback():R.jsonpCallback,Xe?R[Xe]=R[Xe].replace(to,"$1"+ve):!1!==R.jsonp&&(R.url+=(ke.test(R.url)?"&":"?")+R.jsonp+"="+ve),R.converters["script json"]=function(){return Ge||G.error(ve+" was not called"),Ge[0]},R.dataTypes[0]="json",Ve=A[ve],A[ve]=function(){Ge=arguments},ue.always(function(){void 0===Ve?G(A).removeProp(ve):A[ve]=Ve,R[ve]&&(R.jsonpCallback=Q.jsonpCallback,Ho.push(ve)),Ge&&ce(Ve)&&Ve(Ge[0]),Ge=Ve=void 0}),"script"}),Y.createHTMLDocument=((R=te.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===R.childNodes.length),G.parseHTML=function(R,Q,ue){return"string"!=typeof R?[]:("boolean"==typeof Q&&(ue=Q,Q=!1),Q||(Y.createHTMLDocument?((ve=(Q=te.implementation.createHTMLDocument("")).createElement("base")).href=te.location.href,Q.head.appendChild(ve)):Q=te),Ge=!ue&&[],(Ve=ze.exec(R))?[Q.createElement(Ve[1])]:(Ve=kr([R],Q,Ge),Ge&&Ge.length&&G(Ge).remove(),G.merge([],Ve.childNodes)));var ve,Ve,Ge},G.fn.load=function(R,Q,ue){var ve,Ve,Ge,Xe=this,Bt=R.indexOf(" ");return Bt>-1&&(ve=mi(R.slice(Bt)),R=R.slice(0,Bt)),ce(Q)?(ue=Q,Q=void 0):Q&&"object"==typeof Q&&(Ve="POST"),Xe.length>0&&G.ajax({url:R,type:Ve||"GET",dataType:"html",data:Q}).done(function(Lt){Ge=arguments,Xe.html(ve?G("<div>").append(G.parseHTML(Lt)).find(ve):Lt)}).always(ue&&function(Lt,de){Xe.each(function(){ue.apply(this,Ge||[Lt.responseText,de,Lt])})}),this},G.expr.pseudos.animated=function(R){return G.grep(G.timers,function(Q){return R===Q.elem}).length},G.offset={setOffset:function(R,Q,ue){var ve,Ve,Ge,Xe,Bt,Lt,P=G.css(R,"position"),O=G(R),Z={};"static"===P&&(R.style.position="relative"),Bt=O.offset(),Ge=G.css(R,"top"),Lt=G.css(R,"left"),("absolute"===P||"fixed"===P)&&(Ge+Lt).indexOf("auto")>-1?(Xe=(ve=O.position()).top,Ve=ve.left):(Xe=parseFloat(Ge)||0,Ve=parseFloat(Lt)||0),ce(Q)&&(Q=Q.call(R,ue,G.extend({},Bt))),null!=Q.top&&(Z.top=Q.top-Bt.top+Xe),null!=Q.left&&(Z.left=Q.left-Bt.left+Ve),"using"in Q?Q.using.call(R,Z):O.css(Z)}},G.fn.extend({offset:function(R){if(arguments.length)return void 0===R?this:this.each(function(Ve){G.offset.setOffset(this,R,Ve)});var Q,ue,ve=this[0];return ve?ve.getClientRects().length?(Q=ve.getBoundingClientRect(),ue=ve.ownerDocument.defaultView,{top:Q.top+ue.pageYOffset,left:Q.left+ue.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var R,Q,ue,ve=this[0],Ve={top:0,left:0};if("fixed"===G.css(ve,"position"))Q=ve.getBoundingClientRect();else{for(Q=this.offset(),ue=ve.ownerDocument,R=ve.offsetParent||ue.documentElement;R&&(R===ue.body||R===ue.documentElement)&&"static"===G.css(R,"position");)R=R.parentNode;R&&R!==ve&&1===R.nodeType&&((Ve=G(R).offset()).top+=G.css(R,"borderTopWidth",!0),Ve.left+=G.css(R,"borderLeftWidth",!0))}return{top:Q.top-Ve.top-G.css(ve,"marginTop",!0),left:Q.left-Ve.left-G.css(ve,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var R=this.offsetParent;R&&"static"===G.css(R,"position");)R=R.offsetParent;return R||jt})}}),G.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(R,Q){var ue="pageYOffset"===Q;G.fn[R]=function(ve){return fi(this,function(Ve,Ge,Xe){var Bt;if(be(Ve)?Bt=Ve:9===Ve.nodeType&&(Bt=Ve.defaultView),void 0===Xe)return Bt?Bt[Q]:Ve[Ge];Bt?Bt.scrollTo(ue?Bt.pageXOffset:Xe,ue?Xe:Bt.pageYOffset):Ve[Ge]=Xe},R,ve,arguments.length)}}),G.each(["top","left"],function(R,Q){G.cssHooks[Q]=Zr(Y.pixelPosition,function(ue,ve){if(ve)return ve=Ts(ue,Q),_r.test(ve)?G(ue).position()[Q]+"px":ve})}),G.each({Height:"height",Width:"width"},function(R,Q){G.each({padding:"inner"+R,content:Q,"":"outer"+R},function(ue,ve){G.fn[ve]=function(Ve,Ge){var Xe=arguments.length&&(ue||"boolean"!=typeof Ve),Bt=ue||(!0===Ve||!0===Ge?"margin":"border");return fi(this,function(Lt,de,P){var O;return be(Lt)?0===ve.indexOf("outer")?Lt["inner"+R]:Lt.document.documentElement["client"+R]:9===Lt.nodeType?(O=Lt.documentElement,Math.max(Lt.body["scroll"+R],O["scroll"+R],Lt.body["offset"+R],O["offset"+R],O["client"+R])):void 0===P?G.css(Lt,de,Bt):G.style(Lt,de,P,Bt)},Q,Xe?Ve:void 0,Xe)}})}),G.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(R,Q){G.fn[Q]=function(ue){return this.on(Q,ue)}}),G.fn.extend({bind:function(R,Q,ue){return this.on(R,null,Q,ue)},unbind:function(R,Q){return this.off(R,null,Q)},delegate:function(R,Q,ue,ve){return this.on(Q,R,ue,ve)},undelegate:function(R,Q,ue){return 1===arguments.length?this.off(R,"**"):this.off(Q,R||"**",ue)},hover:function(R,Q){return this.mouseenter(R).mouseleave(Q||R)}}),G.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(R,Q){G.fn[Q]=function(ue,ve){return arguments.length>0?this.on(Q,null,ue,ve):this.trigger(Q)}});var rs=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;G.proxy=function(R,Q){var ue,ve,Ve;if("string"==typeof Q&&(ue=R[Q],Q=R,R=ue),ce(R))return ve=b.call(arguments,2),Ve=function(){return R.apply(Q||this,ve.concat(b.call(arguments)))},Ve.guid=R.guid=R.guid||G.guid++,Ve},G.holdReady=function(R){R?G.readyWait++:G.ready(!0)},G.isArray=Array.isArray,G.parseJSON=JSON.parse,G.nodeName=He,G.isFunction=ce,G.isWindow=be,G.camelCase=qe,G.type=Te,G.now=Date.now,G.isNumeric=function(R){var Q=G.type(R);return("number"===Q||"string"===Q)&&!isNaN(R-parseFloat(R))},G.trim=function(R){return null==R?"":(R+"").replace(rs,"")},L=[],void 0!==(l=function(){return G}.apply(k,L))&&(V.exports=l);var Eo=A.jQuery,Ls=A.$;return G.noConflict=function(R){return A.$===G&&(A.$=Ls),R&&A.jQuery===G&&(A.jQuery=Eo),G},void 0===j&&(A.jQuery=A.$=G),G})},310:V=>{V.exports=function k(L,l,A){function j(b,v){if(!l[b]){if(!L[b]){if(I)return I(b,!0);var T=new Error("Cannot find module '"+b+"'");throw T.code="MODULE_NOT_FOUND",T}var x=l[b]={exports:{}};L[b][0].call(x.exports,function(S){return j(L[b][1][S]||S)},x,x.exports,k,L,l,A)}return l[b].exports}for(var I=void 0,m=0;m<A.length;m++)j(A[m]);return j}({1:[function(k,L,l){"use strict";var A=k("./utils"),j=k("./support"),I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";l.encode=function(m){for(var b,v,w,T,x,S,N,F=[],U=0,Y=m.length,ce=Y,be="string"!==A.getTypeOf(m);U<m.length;)ce=Y-U,w=be?(b=m[U++],v=U<Y?m[U++]:0,U<Y?m[U++]:0):(b=m.charCodeAt(U++),v=U<Y?m.charCodeAt(U++):0,U<Y?m.charCodeAt(U++):0),T=b>>2,x=(3&b)<<4|v>>4,S=1<ce?(15&v)<<2|w>>6:64,N=2<ce?63&w:64,F.push(I.charAt(T)+I.charAt(x)+I.charAt(S)+I.charAt(N));return F.join("")},l.decode=function(m){var b,v,w,T,x,S,N=0,F=0,U="data:";if(m.substr(0,U.length)===U)throw new Error("Invalid base64 input, it looks like a data url.");var Y,ce=3*(m=m.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(m.charAt(m.length-1)===I.charAt(64)&&ce--,m.charAt(m.length-2)===I.charAt(64)&&ce--,ce%1!=0)throw new Error("Invalid base64 input, bad content length.");for(Y=j.uint8array?new Uint8Array(0|ce):new Array(0|ce);N<m.length;)b=I.indexOf(m.charAt(N++))<<2|(T=I.indexOf(m.charAt(N++)))>>4,v=(15&T)<<4|(x=I.indexOf(m.charAt(N++)))>>2,w=(3&x)<<6|(S=I.indexOf(m.charAt(N++))),Y[F++]=b,64!==x&&(Y[F++]=v),64!==S&&(Y[F++]=w);return Y}},{"./support":30,"./utils":32}],2:[function(k,L,l){"use strict";var A=k("./external"),j=k("./stream/DataWorker"),I=k("./stream/Crc32Probe"),m=k("./stream/DataLengthProbe");function b(v,w,T,x,S){this.compressedSize=v,this.uncompressedSize=w,this.crc32=T,this.compression=x,this.compressedContent=S}b.prototype={getContentWorker:function(){var v=new j(A.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new m("data_length")),w=this;return v.on("end",function(){if(this.streamInfo.data_length!==w.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),v},getCompressedWorker:function(){return new j(A.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},b.createWorkerFrom=function(v,w,T){return v.pipe(new I).pipe(new m("uncompressedSize")).pipe(w.compressWorker(T)).pipe(new m("compressedSize")).withStreamInfo("compression",w)},L.exports=b},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(k,L,l){"use strict";var A=k("./stream/GenericWorker");l.STORE={magic:"\0\0",compressWorker:function(j){return new A("STORE compression")},uncompressWorker:function(){return new A("STORE decompression")}},l.DEFLATE=k("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(k,L,l){"use strict";var A=k("./utils"),j=function(){for(var I,m=[],b=0;b<256;b++){I=b;for(var v=0;v<8;v++)I=1&I?3988292384^I>>>1:I>>>1;m[b]=I}return m}();L.exports=function(I,m){return void 0!==I&&I.length?"string"!==A.getTypeOf(I)?function(b,v,w,T){var x=j,S=T+w;b^=-1;for(var N=T;N<S;N++)b=b>>>8^x[255&(b^v[N])];return-1^b}(0|m,I,I.length,0):function(b,v,w,T){var x=j,S=T+w;b^=-1;for(var N=T;N<S;N++)b=b>>>8^x[255&(b^v.charCodeAt(N))];return-1^b}(0|m,I,I.length,0):0}},{"./utils":32}],5:[function(k,L,l){"use strict";l.base64=!1,l.binary=!1,l.dir=!1,l.createFolders=!0,l.date=null,l.compression=null,l.compressionOptions=null,l.comment=null,l.unixPermissions=null,l.dosPermissions=null},{}],6:[function(k,L,l){"use strict";var A=null;A="undefined"!=typeof Promise?Promise:k("lie"),L.exports={Promise:A}},{lie:37}],7:[function(k,L,l){"use strict";var A="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,j=k("pako"),I=k("./utils"),m=k("./stream/GenericWorker"),b=A?"uint8array":"array";function v(w,T){m.call(this,"FlateWorker/"+w),this._pako=null,this._pakoAction=w,this._pakoOptions=T,this.meta={}}l.magic="\b\0",I.inherits(v,m),v.prototype.processChunk=function(w){this.meta=w.meta,null===this._pako&&this._createPako(),this._pako.push(I.transformTo(b,w.data),!1)},v.prototype.flush=function(){m.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},v.prototype.cleanUp=function(){m.prototype.cleanUp.call(this),this._pako=null},v.prototype._createPako=function(){this._pako=new j[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var w=this;this._pako.onData=function(T){w.push({data:T,meta:w.meta})}},l.compressWorker=function(w){return new v("Deflate",w)},l.uncompressWorker=function(){return new v("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(k,L,l){"use strict";function A(x,S){var N,F="";for(N=0;N<S;N++)F+=String.fromCharCode(255&x),x>>>=8;return F}function j(x,S,N,F,U,Y){var ce,be,te=x.file,ae=x.compression,_e=Y!==b.utf8encode,Te=I.transformTo("string",Y(te.name)),Re=I.transformTo("string",b.utf8encode(te.name)),G=te.comment,Ee=I.transformTo("string",Y(G)),Ie=I.transformTo("string",b.utf8encode(G)),Le=Re.length!==te.name.length,ne=Ie.length!==G.length,Pe="",He="",ze="",dt=te.dir,nt=te.date,kt={crc32:0,compressedSize:0,uncompressedSize:0};S&&!N||(kt.crc32=x.crc32,kt.compressedSize=x.compressedSize,kt.uncompressedSize=x.uncompressedSize);var wt=0;S&&(wt|=8),_e||!Le&&!ne||(wt|=2048);var je,Ft,sn,Pt=0,en=0;dt&&(Pt|=16),"UNIX"===U?(en=798,Pt|=(je=te.unixPermissions,Ft=dt,sn=je,je||(sn=Ft?16893:33204),(65535&sn)<<16)):(en=20,Pt|=function(je){return 63&(je||0)}(te.dosPermissions)),ce=nt.getUTCHours(),ce<<=6,ce|=nt.getUTCMinutes(),ce<<=5,ce|=nt.getUTCSeconds()/2,be=nt.getUTCFullYear()-1980,be<<=4,be|=nt.getUTCMonth()+1,be<<=5,be|=nt.getUTCDate(),Le&&(He=A(1,1)+A(v(Te),4)+Re,Pe+="up"+A(He.length,2)+He),ne&&(ze=A(1,1)+A(v(Ee),4)+Ie,Pe+="uc"+A(ze.length,2)+ze);var Nt="";return Nt+="\n\0",Nt+=A(wt,2),Nt+=ae.magic,Nt+=A(ce,2),Nt+=A(be,2),Nt+=A(kt.crc32,4),Nt+=A(kt.compressedSize,4),Nt+=A(kt.uncompressedSize,4),Nt+=A(Te.length,2),Nt+=A(Pe.length,2),{fileRecord:w.LOCAL_FILE_HEADER+Nt+Te+Pe,dirRecord:w.CENTRAL_FILE_HEADER+A(en,2)+Nt+A(Ee.length,2)+"\0\0\0\0"+A(Pt,4)+A(F,4)+Te+Pe+Ee}}var I=k("../utils"),m=k("../stream/GenericWorker"),b=k("../utf8"),v=k("../crc32"),w=k("../signature");function T(x,S,N,F){m.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=S,this.zipPlatform=N,this.encodeFileName=F,this.streamFiles=x,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}I.inherits(T,m),T.prototype.push=function(x){var S=x.meta.percent||0,N=this.entriesCount,F=this._sources.length;this.accumulate?this.contentBuffer.push(x):(this.bytesWritten+=x.data.length,m.prototype.push.call(this,{data:x.data,meta:{currentFile:this.currentFile,percent:N?(S+100*(N-F-1))/N:100}}))},T.prototype.openedSource=function(x){this.currentSourceOffset=this.bytesWritten,this.currentFile=x.file.name;var S=this.streamFiles&&!x.file.dir;if(S){var N=j(x,S,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:N.fileRecord,meta:{percent:0}})}else this.accumulate=!0},T.prototype.closedSource=function(x){this.accumulate=!1;var F,S=this.streamFiles&&!x.file.dir,N=j(x,S,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(N.dirRecord),S)this.push({data:(F=x,w.DATA_DESCRIPTOR+A(F.crc32,4)+A(F.compressedSize,4)+A(F.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:N.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},T.prototype.flush=function(){for(var x=this.bytesWritten,S=0;S<this.dirRecords.length;S++)this.push({data:this.dirRecords[S],meta:{percent:100}});var U,Y,ce,be,te,ae,N=this.bytesWritten-x,F=(U=this.dirRecords.length,Y=N,ce=x,be=this.zipComment,te=this.encodeFileName,ae=I.transformTo("string",te(be)),w.CENTRAL_DIRECTORY_END+"\0\0\0\0"+A(U,2)+A(U,2)+A(Y,4)+A(ce,4)+A(ae.length,2)+ae);this.push({data:F,meta:{percent:100}})},T.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},T.prototype.registerPrevious=function(x){this._sources.push(x);var S=this;return x.on("data",function(N){S.processChunk(N)}),x.on("end",function(){S.closedSource(S.previous.streamInfo),S._sources.length?S.prepareNextSource():S.end()}),x.on("error",function(N){S.error(N)}),this},T.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},T.prototype.error=function(x){var S=this._sources;if(!m.prototype.error.call(this,x))return!1;for(var N=0;N<S.length;N++)try{S[N].error(x)}catch(F){}return!0},T.prototype.lock=function(){m.prototype.lock.call(this);for(var x=this._sources,S=0;S<x.length;S++)x[S].lock()},L.exports=T},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(k,L,l){"use strict";var A=k("../compressions"),j=k("./ZipFileWorker");l.generateWorker=function(I,m,b){var v=new j(m.streamFiles,b,m.platform,m.encodeFileName),w=0;try{I.forEach(function(T,x){w++;var S=function(Y,ce){var be=Y||ce,te=A[be];if(!te)throw new Error(be+" is not a valid compression method !");return te}(x.options.compression,m.compression),N=x.options.compressionOptions||m.compressionOptions||{},F=x.dir,U=x.date;x._compressWorker(S,N).withStreamInfo("file",{name:T,dir:F,date:U,comment:x.comment||"",unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions}).pipe(v)}),v.entriesCount=w}catch(T){v.error(T)}return v}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(k,L,l){"use strict";function A(){if(!(this instanceof A))return new A;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var j=new A;for(var I in this)"function"!=typeof this[I]&&(j[I]=this[I]);return j}}(A.prototype=k("./object")).loadAsync=k("./load"),A.support=k("./support"),A.defaults=k("./defaults"),A.version="3.7.1",A.loadAsync=function(j,I){return(new A).loadAsync(j,I)},A.external=k("./external"),L.exports=A},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(k,L,l){"use strict";var A=k("./utils"),j=k("./external"),I=k("./utf8"),m=k("./zipEntries"),b=k("./stream/Crc32Probe"),v=k("./nodejsUtils");function w(T){return new j.Promise(function(x,S){var N=T.decompressed.getContentWorker().pipe(new b);N.on("error",function(F){S(F)}).on("end",function(){N.streamInfo.crc32!==T.decompressed.crc32?S(new Error("Corrupted zip : CRC32 mismatch")):x()}).resume()})}L.exports=function(T,x){var S=this;return x=A.extend(x||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:I.utf8decode}),v.isNode&&v.isStream(T)?j.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):A.prepareContent("the loaded zip file",T,!0,x.optimizedBinaryString,x.base64).then(function(N){var F=new m(x);return F.load(N),F}).then(function(N){var F=[j.Promise.resolve(N)],U=N.files;if(x.checkCRC32)for(var Y=0;Y<U.length;Y++)F.push(w(U[Y]));return j.Promise.all(F)}).then(function(N){for(var F=N.shift(),U=F.files,Y=0;Y<U.length;Y++){var ce=U[Y];S.file(ce.fileNameStr,ce.decompressed,{binary:!0,optimizedBinaryString:!0,date:ce.date,dir:ce.dir,comment:ce.fileCommentStr.length?ce.fileCommentStr:null,unixPermissions:ce.unixPermissions,dosPermissions:ce.dosPermissions,createFolders:x.createFolders})}return F.zipComment.length&&(S.comment=F.zipComment),S})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(k,L,l){"use strict";var A=k("../utils"),j=k("../stream/GenericWorker");function I(m,b){j.call(this,"Nodejs stream input adapter for "+m),this._upstreamEnded=!1,this._bindStream(b)}A.inherits(I,j),I.prototype._bindStream=function(m){var b=this;(this._stream=m).pause(),m.on("data",function(v){b.push({data:v,meta:{percent:0}})}).on("error",function(v){b.isPaused?this.generatedError=v:b.error(v)}).on("end",function(){b.isPaused?b._upstreamEnded=!0:b.end()})},I.prototype.pause=function(){return!!j.prototype.pause.call(this)&&(this._stream.pause(),!0)},I.prototype.resume=function(){return!!j.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},L.exports=I},{"../stream/GenericWorker":28,"../utils":32}],13:[function(k,L,l){"use strict";var A=k("readable-stream").Readable;function j(I,m,b){A.call(this,m),this._helper=I;var v=this;I.on("data",function(w,T){v.push(w)||v._helper.pause(),b&&b(T)}).on("error",function(w){v.emit("error",w)}).on("end",function(){v.push(null)})}k("../utils").inherits(j,A),j.prototype._read=function(){this._helper.resume()},L.exports=j},{"../utils":32,"readable-stream":16}],14:[function(k,L,l){"use strict";L.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(A,j){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(A,j);if("number"==typeof A)throw new Error('The "data" argument must not be a number');return new Buffer(A,j)},allocBuffer:function(A){if(Buffer.alloc)return Buffer.alloc(A);var j=new Buffer(A);return j.fill(0),j},isBuffer:function(A){return Buffer.isBuffer(A)},isStream:function(A){return A&&"function"==typeof A.on&&"function"==typeof A.pause&&"function"==typeof A.resume}}},{}],15:[function(k,L,l){"use strict";function A(te,ae,_e){var Te,Re=I.getTypeOf(ae),G=I.extend(_e||{},v);G.date=G.date||new Date,null!==G.compression&&(G.compression=G.compression.toUpperCase()),"string"==typeof G.unixPermissions&&(G.unixPermissions=parseInt(G.unixPermissions,8)),G.unixPermissions&&16384&G.unixPermissions&&(G.dir=!0),G.dosPermissions&&16&G.dosPermissions&&(G.dir=!0),G.dir&&(te=U(te)),G.createFolders&&(Te=F(te))&&Y.call(this,Te,!0);var Ee="string"===Re&&!1===G.binary&&!1===G.base64;_e&&void 0!==_e.binary||(G.binary=!Ee),(ae instanceof w&&0===ae.uncompressedSize||G.dir||!ae||0===ae.length)&&(G.base64=!1,G.binary=!0,ae="",G.compression="STORE",Re="string");var Ie=null;Ie=ae instanceof w||ae instanceof m?ae:S.isNode&&S.isStream(ae)?new N(te,ae):I.prepareContent(te,ae,G.binary,G.optimizedBinaryString,G.base64);var Le=new T(te,Ie,G);this.files[te]=Le}var j=k("./utf8"),I=k("./utils"),m=k("./stream/GenericWorker"),b=k("./stream/StreamHelper"),v=k("./defaults"),w=k("./compressedObject"),T=k("./zipObject"),x=k("./generate"),S=k("./nodejsUtils"),N=k("./nodejs/NodejsStreamInputAdapter"),F=function(te){"/"===te.slice(-1)&&(te=te.substring(0,te.length-1));var ae=te.lastIndexOf("/");return 0<ae?te.substring(0,ae):""},U=function(te){return"/"!==te.slice(-1)&&(te+="/"),te},Y=function(te,ae){return ae=void 0!==ae?ae:v.createFolders,te=U(te),this.files[te]||A.call(this,te,null,{dir:!0,createFolders:ae}),this.files[te]};function ce(te){return"[object RegExp]"===Object.prototype.toString.call(te)}var be={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(te){var ae,_e,Te;for(ae in this.files)Te=this.files[ae],(_e=ae.slice(this.root.length,ae.length))&&ae.slice(0,this.root.length)===this.root&&te(_e,Te)},filter:function(te){var ae=[];return this.forEach(function(_e,Te){te(_e,Te)&&ae.push(Te)}),ae},file:function(te,ae,_e){if(1!==arguments.length)return te=this.root+te,A.call(this,te,ae,_e),this;if(ce(te)){var Te=te;return this.filter(function(G,Ee){return!Ee.dir&&Te.test(G)})}var Re=this.files[this.root+te];return Re&&!Re.dir?Re:null},folder:function(te){if(!te)return this;if(ce(te))return this.filter(function(Re,G){return G.dir&&te.test(Re)});var ae=this.root+te,_e=Y.call(this,ae),Te=this.clone();return Te.root=_e.name,Te},remove:function(te){te=this.root+te;var ae=this.files[te];if(ae||("/"!==te.slice(-1)&&(te+="/"),ae=this.files[te]),ae&&!ae.dir)delete this.files[te];else for(var _e=this.filter(function(Re,G){return G.name.slice(0,te.length)===te}),Te=0;Te<_e.length;Te++)delete this.files[_e[Te].name];return this},generate:function(te){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(te){var ae,_e={};try{if((_e=I.extend(te||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:j.utf8encode})).type=_e.type.toLowerCase(),_e.compression=_e.compression.toUpperCase(),"binarystring"===_e.type&&(_e.type="string"),!_e.type)throw new Error("No output type specified.");I.checkSupport(_e.type),"darwin"!==_e.platform&&"freebsd"!==_e.platform&&"linux"!==_e.platform&&"sunos"!==_e.platform||(_e.platform="UNIX"),"win32"===_e.platform&&(_e.platform="DOS");var Te=_e.comment||this.comment||"";ae=x.generateWorker(this,_e,Te)}catch(Re){(ae=new m("error")).error(Re)}return new b(ae,_e.type||"string",_e.mimeType)},generateAsync:function(te,ae){return this.generateInternalStream(te).accumulate(ae)},generateNodeStream:function(te,ae){return(te=te||{}).type||(te.type="nodebuffer"),this.generateInternalStream(te).toNodejsStream(ae)}};L.exports=be},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(k,L,l){L.exports=k("stream")},{stream:void 0}],17:[function(k,L,l){"use strict";var A=k("./DataReader");function j(I){A.call(this,I);for(var m=0;m<this.data.length;m++)I[m]=255&I[m]}k("../utils").inherits(j,A),j.prototype.byteAt=function(I){return this.data[this.zero+I]},j.prototype.lastIndexOfSignature=function(I){for(var m=I.charCodeAt(0),b=I.charCodeAt(1),v=I.charCodeAt(2),w=I.charCodeAt(3),T=this.length-4;0<=T;--T)if(this.data[T]===m&&this.data[T+1]===b&&this.data[T+2]===v&&this.data[T+3]===w)return T-this.zero;return-1},j.prototype.readAndCheckSignature=function(I){var m=I.charCodeAt(0),b=I.charCodeAt(1),v=I.charCodeAt(2),w=I.charCodeAt(3),T=this.readData(4);return m===T[0]&&b===T[1]&&v===T[2]&&w===T[3]},j.prototype.readData=function(I){if(this.checkOffset(I),0===I)return[];var m=this.data.slice(this.zero+this.index,this.zero+this.index+I);return this.index+=I,m},L.exports=j},{"../utils":32,"./DataReader":18}],18:[function(k,L,l){"use strict";var A=k("../utils");function j(I){this.data=I,this.length=I.length,this.index=0,this.zero=0}j.prototype={checkOffset:function(I){this.checkIndex(this.index+I)},checkIndex:function(I){if(this.length<this.zero+I||I<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+I+"). Corrupted zip ?")},setIndex:function(I){this.checkIndex(I),this.index=I},skip:function(I){this.setIndex(this.index+I)},byteAt:function(I){},readInt:function(I){var m,b=0;for(this.checkOffset(I),m=this.index+I-1;m>=this.index;m--)b=(b<<8)+this.byteAt(m);return this.index+=I,b},readString:function(I){return A.transformTo("string",this.readData(I))},readData:function(I){},lastIndexOfSignature:function(I){},readAndCheckSignature:function(I){},readDate:function(){var I=this.readInt(4);return new Date(Date.UTC(1980+(I>>25&127),(I>>21&15)-1,I>>16&31,I>>11&31,I>>5&63,(31&I)<<1))}},L.exports=j},{"../utils":32}],19:[function(k,L,l){"use strict";var A=k("./Uint8ArrayReader");function j(I){A.call(this,I)}k("../utils").inherits(j,A),j.prototype.readData=function(I){this.checkOffset(I);var m=this.data.slice(this.zero+this.index,this.zero+this.index+I);return this.index+=I,m},L.exports=j},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(k,L,l){"use strict";var A=k("./DataReader");function j(I){A.call(this,I)}k("../utils").inherits(j,A),j.prototype.byteAt=function(I){return this.data.charCodeAt(this.zero+I)},j.prototype.lastIndexOfSignature=function(I){return this.data.lastIndexOf(I)-this.zero},j.prototype.readAndCheckSignature=function(I){return I===this.readData(4)},j.prototype.readData=function(I){this.checkOffset(I);var m=this.data.slice(this.zero+this.index,this.zero+this.index+I);return this.index+=I,m},L.exports=j},{"../utils":32,"./DataReader":18}],21:[function(k,L,l){"use strict";var A=k("./ArrayReader");function j(I){A.call(this,I)}k("../utils").inherits(j,A),j.prototype.readData=function(I){if(this.checkOffset(I),0===I)return new Uint8Array(0);var m=this.data.subarray(this.zero+this.index,this.zero+this.index+I);return this.index+=I,m},L.exports=j},{"../utils":32,"./ArrayReader":17}],22:[function(k,L,l){"use strict";var A=k("../utils"),j=k("../support"),I=k("./ArrayReader"),m=k("./StringReader"),b=k("./NodeBufferReader"),v=k("./Uint8ArrayReader");L.exports=function(w){var T=A.getTypeOf(w);return A.checkSupport(T),"string"!==T||j.uint8array?"nodebuffer"===T?new b(w):j.uint8array?new v(A.transformTo("uint8array",w)):new I(A.transformTo("array",w)):new m(w)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(k,L,l){"use strict";l.LOCAL_FILE_HEADER="PK\x03\x04",l.CENTRAL_FILE_HEADER="PK\x01\x02",l.CENTRAL_DIRECTORY_END="PK\x05\x06",l.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",l.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",l.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(k,L,l){"use strict";var A=k("./GenericWorker"),j=k("../utils");function I(m){A.call(this,"ConvertWorker to "+m),this.destType=m}j.inherits(I,A),I.prototype.processChunk=function(m){this.push({data:j.transformTo(this.destType,m.data),meta:m.meta})},L.exports=I},{"../utils":32,"./GenericWorker":28}],25:[function(k,L,l){"use strict";var A=k("./GenericWorker"),j=k("../crc32");function I(){A.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}k("../utils").inherits(I,A),I.prototype.processChunk=function(m){this.streamInfo.crc32=j(m.data,this.streamInfo.crc32||0),this.push(m)},L.exports=I},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(k,L,l){"use strict";var A=k("../utils"),j=k("./GenericWorker");function I(m){j.call(this,"DataLengthProbe for "+m),this.propName=m,this.withStreamInfo(m,0)}A.inherits(I,j),I.prototype.processChunk=function(m){if(m){var b=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=b+m.data.length}j.prototype.processChunk.call(this,m)},L.exports=I},{"../utils":32,"./GenericWorker":28}],27:[function(k,L,l){"use strict";var A=k("../utils"),j=k("./GenericWorker");function I(m){j.call(this,"DataWorker");var b=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,m.then(function(v){b.dataIsReady=!0,b.data=v,b.max=v&&v.length||0,b.type=A.getTypeOf(v),b.isPaused||b._tickAndRepeat()},function(v){b.error(v)})}A.inherits(I,j),I.prototype.cleanUp=function(){j.prototype.cleanUp.call(this),this.data=null},I.prototype.resume=function(){return!!j.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,A.delay(this._tickAndRepeat,[],this)),!0)},I.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(A.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},I.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var m=null,b=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":m=this.data.substring(this.index,b);break;case"uint8array":m=this.data.subarray(this.index,b);break;case"array":case"nodebuffer":m=this.data.slice(this.index,b)}return this.index=b,this.push({data:m,meta:{percent:this.max?this.index/this.max*100:0}})},L.exports=I},{"../utils":32,"./GenericWorker":28}],28:[function(k,L,l){"use strict";function A(j){this.name=j||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}A.prototype={push:function(j){this.emit("data",j)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(j){this.emit("error",j)}return!0},error:function(j){return!this.isFinished&&(this.isPaused?this.generatedError=j:(this.isFinished=!0,this.emit("error",j),this.previous&&this.previous.error(j),this.cleanUp()),!0)},on:function(j,I){return this._listeners[j].push(I),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(j,I){if(this._listeners[j])for(var m=0;m<this._listeners[j].length;m++)this._listeners[j][m].call(this,I)},pipe:function(j){return j.registerPrevious(this)},registerPrevious:function(j){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=j.streamInfo,this.mergeStreamInfo(),this.previous=j;var I=this;return j.on("data",function(m){I.processChunk(m)}),j.on("end",function(){I.end()}),j.on("error",function(m){I.error(m)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var j=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),j=!0),this.previous&&this.previous.resume(),!j},flush:function(){},processChunk:function(j){this.push(j)},withStreamInfo:function(j,I){return this.extraStreamInfo[j]=I,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var j in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(j)&&(this.streamInfo[j]=this.extraStreamInfo[j])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var j="Worker "+this.name;return this.previous?this.previous+" -> "+j:j}},L.exports=A},{}],29:[function(k,L,l){"use strict";var A=k("../utils"),j=k("./ConvertWorker"),I=k("./GenericWorker"),m=k("../base64"),b=k("../support"),v=k("../external"),w=null;if(b.nodestream)try{w=k("../nodejs/NodejsStreamOutputAdapter")}catch(S){}function T(S,N){return new v.Promise(function(F,U){var Y=[],ce=S._internalType,be=S._outputType,te=S._mimeType;S.on("data",function(ae,_e){Y.push(ae),N&&N(_e)}).on("error",function(ae){Y=[],U(ae)}).on("end",function(){try{var ae=function(_e,Te,Re){switch(_e){case"blob":return A.newBlob(A.transformTo("arraybuffer",Te),Re);case"base64":return m.encode(Te);default:return A.transformTo(_e,Te)}}(be,function(_e,Te){var Re,G=0,Ee=null,Ie=0;for(Re=0;Re<Te.length;Re++)Ie+=Te[Re].length;switch(_e){case"string":return Te.join("");case"array":return Array.prototype.concat.apply([],Te);case"uint8array":for(Ee=new Uint8Array(Ie),Re=0;Re<Te.length;Re++)Ee.set(Te[Re],G),G+=Te[Re].length;return Ee;case"nodebuffer":return Buffer.concat(Te);default:throw new Error("concat : unsupported type '"+_e+"'")}}(ce,Y),te);F(ae)}catch(_e){U(_e)}Y=[]}).resume()})}function x(S,N,F){var U=N;switch(N){case"blob":case"arraybuffer":U="uint8array";break;case"base64":U="string"}try{this._internalType=U,this._outputType=N,this._mimeType=F,A.checkSupport(U),this._worker=S.pipe(new j(U)),S.lock()}catch(Y){this._worker=new I("error"),this._worker.error(Y)}}x.prototype={accumulate:function(S){return T(this,S)},on:function(S,N){var F=this;return"data"===S?this._worker.on(S,function(U){N.call(F,U.data,U.meta)}):this._worker.on(S,function(){A.delay(N,arguments,F)}),this},resume:function(){return A.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(S){if(A.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new w(this,{objectMode:"nodebuffer"!==this._outputType},S)}},L.exports=x},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(k,L,l){"use strict";if(l.base64=!0,l.array=!0,l.string=!0,l.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,l.nodebuffer="undefined"!=typeof Buffer,l.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)l.blob=!1;else{var A=new ArrayBuffer(0);try{l.blob=0===new Blob([A],{type:"application/zip"}).size}catch(I){try{var j=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);j.append(A),l.blob=0===j.getBlob("application/zip").size}catch(m){l.blob=!1}}}try{l.nodestream=!!k("readable-stream").Readable}catch(I){l.nodestream=!1}},{"readable-stream":16}],31:[function(k,L,l){"use strict";for(var A=k("./utils"),j=k("./support"),I=k("./nodejsUtils"),m=k("./stream/GenericWorker"),b=new Array(256),v=0;v<256;v++)b[v]=252<=v?6:248<=v?5:240<=v?4:224<=v?3:192<=v?2:1;function w(){m.call(this,"utf-8 decode"),this.leftOver=null}function T(){m.call(this,"utf-8 encode")}b[254]=b[254]=1,l.utf8encode=function(x){return j.nodebuffer?I.newBufferFrom(x,"utf-8"):function(S){var N,F,U,Y,ce,be=S.length,te=0;for(Y=0;Y<be;Y++)55296==(64512&(F=S.charCodeAt(Y)))&&Y+1<be&&56320==(64512&(U=S.charCodeAt(Y+1)))&&(F=65536+(F-55296<<10)+(U-56320),Y++),te+=F<128?1:F<2048?2:F<65536?3:4;for(N=j.uint8array?new Uint8Array(te):new Array(te),Y=ce=0;ce<te;Y++)55296==(64512&(F=S.charCodeAt(Y)))&&Y+1<be&&56320==(64512&(U=S.charCodeAt(Y+1)))&&(F=65536+(F-55296<<10)+(U-56320),Y++),F<128?N[ce++]=F:(F<2048?N[ce++]=192|F>>>6:(F<65536?N[ce++]=224|F>>>12:(N[ce++]=240|F>>>18,N[ce++]=128|F>>>12&63),N[ce++]=128|F>>>6&63),N[ce++]=128|63&F);return N}(x)},l.utf8decode=function(x){return j.nodebuffer?A.transformTo("nodebuffer",x).toString("utf-8"):function(S){var N,F,U,Y,ce=S.length,be=new Array(2*ce);for(N=F=0;N<ce;)if((U=S[N++])<128)be[F++]=U;else if(4<(Y=b[U]))be[F++]=65533,N+=Y-1;else{for(U&=2===Y?31:3===Y?15:7;1<Y&&N<ce;)U=U<<6|63&S[N++],Y--;1<Y?be[F++]=65533:U<65536?be[F++]=U:(U-=65536,be[F++]=55296|U>>10&1023,be[F++]=56320|1023&U)}return be.length!==F&&(be.subarray?be=be.subarray(0,F):be.length=F),A.applyFromCharCode(be)}(x=A.transformTo(j.uint8array?"uint8array":"array",x))},A.inherits(w,m),w.prototype.processChunk=function(x){var S=A.transformTo(j.uint8array?"uint8array":"array",x.data);if(this.leftOver&&this.leftOver.length){if(j.uint8array){var N=S;(S=new Uint8Array(N.length+this.leftOver.length)).set(this.leftOver,0),S.set(N,this.leftOver.length)}else S=this.leftOver.concat(S);this.leftOver=null}var F=function(Y,ce){var be;for((ce=ce||Y.length)>Y.length&&(ce=Y.length),be=ce-1;0<=be&&128==(192&Y[be]);)be--;return be<0||0===be?ce:be+b[Y[be]]>ce?be:ce}(S),U=S;F!==S.length&&(j.uint8array?(U=S.subarray(0,F),this.leftOver=S.subarray(F,S.length)):(U=S.slice(0,F),this.leftOver=S.slice(F,S.length))),this.push({data:l.utf8decode(U),meta:x.meta})},w.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:l.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},l.Utf8DecodeWorker=w,A.inherits(T,m),T.prototype.processChunk=function(x){this.push({data:l.utf8encode(x.data),meta:x.meta})},l.Utf8EncodeWorker=T},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(k,L,l){"use strict";var A=k("./support"),j=k("./base64"),I=k("./nodejsUtils"),m=k("set-immediate-shim"),b=k("./external");function v(F){return F}function w(F,U){for(var Y=0;Y<F.length;++Y)U[Y]=255&F.charCodeAt(Y);return U}l.newBlob=function(F,U){l.checkSupport("blob");try{return new Blob([F],{type:U})}catch(ce){try{var Y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return Y.append(F),Y.getBlob(U)}catch(be){throw new Error("Bug : can't construct the Blob.")}}};var T={stringifyByChunk:function(F,U,Y){var ce=[],be=0,te=F.length;if(te<=Y)return String.fromCharCode.apply(null,F);for(;be<te;)"array"===U||"nodebuffer"===U?ce.push(String.fromCharCode.apply(null,F.slice(be,Math.min(be+Y,te)))):ce.push(String.fromCharCode.apply(null,F.subarray(be,Math.min(be+Y,te)))),be+=Y;return ce.join("")},stringifyByChar:function(F){for(var U="",Y=0;Y<F.length;Y++)U+=String.fromCharCode(F[Y]);return U},applyCanBeUsed:{uint8array:function(){try{return A.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(F){return!1}}(),nodebuffer:function(){try{return A.nodebuffer&&1===String.fromCharCode.apply(null,I.allocBuffer(1)).length}catch(F){return!1}}()}};function x(F){var U=65536,Y=l.getTypeOf(F),ce=!0;if("uint8array"===Y?ce=T.applyCanBeUsed.uint8array:"nodebuffer"===Y&&(ce=T.applyCanBeUsed.nodebuffer),ce)for(;1<U;)try{return T.stringifyByChunk(F,Y,U)}catch(be){U=Math.floor(U/2)}return T.stringifyByChar(F)}function S(F,U){for(var Y=0;Y<F.length;Y++)U[Y]=F[Y];return U}l.applyFromCharCode=x;var N={};N.string={string:v,array:function(F){return w(F,new Array(F.length))},arraybuffer:function(F){return N.string.uint8array(F).buffer},uint8array:function(F){return w(F,new Uint8Array(F.length))},nodebuffer:function(F){return w(F,I.allocBuffer(F.length))}},N.array={string:x,array:v,arraybuffer:function(F){return new Uint8Array(F).buffer},uint8array:function(F){return new Uint8Array(F)},nodebuffer:function(F){return I.newBufferFrom(F)}},N.arraybuffer={string:function(F){return x(new Uint8Array(F))},array:function(F){return S(new Uint8Array(F),new Array(F.byteLength))},arraybuffer:v,uint8array:function(F){return new Uint8Array(F)},nodebuffer:function(F){return I.newBufferFrom(new Uint8Array(F))}},N.uint8array={string:x,array:function(F){return S(F,new Array(F.length))},arraybuffer:function(F){return F.buffer},uint8array:v,nodebuffer:function(F){return I.newBufferFrom(F)}},N.nodebuffer={string:x,array:function(F){return S(F,new Array(F.length))},arraybuffer:function(F){return N.nodebuffer.uint8array(F).buffer},uint8array:function(F){return S(F,new Uint8Array(F.length))},nodebuffer:v},l.transformTo=function(F,U){if(U=U||"",!F)return U;l.checkSupport(F);var Y=l.getTypeOf(U);return N[Y][F](U)},l.getTypeOf=function(F){return"string"==typeof F?"string":"[object Array]"===Object.prototype.toString.call(F)?"array":A.nodebuffer&&I.isBuffer(F)?"nodebuffer":A.uint8array&&F instanceof Uint8Array?"uint8array":A.arraybuffer&&F instanceof ArrayBuffer?"arraybuffer":void 0},l.checkSupport=function(F){if(!A[F.toLowerCase()])throw new Error(F+" is not supported by this platform")},l.MAX_VALUE_16BITS=65535,l.MAX_VALUE_32BITS=-1,l.pretty=function(F){var U,Y,ce="";for(Y=0;Y<(F||"").length;Y++)ce+="\\x"+((U=F.charCodeAt(Y))<16?"0":"")+U.toString(16).toUpperCase();return ce},l.delay=function(F,U,Y){m(function(){F.apply(Y||null,U||[])})},l.inherits=function(F,U){function Y(){}Y.prototype=U.prototype,F.prototype=new Y},l.extend=function(){var F,U,Y={};for(F=0;F<arguments.length;F++)for(U in arguments[F])arguments[F].hasOwnProperty(U)&&void 0===Y[U]&&(Y[U]=arguments[F][U]);return Y},l.prepareContent=function(F,U,Y,ce,be){return b.Promise.resolve(U).then(function(te){return A.blob&&(te instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(te)))&&"undefined"!=typeof FileReader?new b.Promise(function(ae,_e){var Te=new FileReader;Te.onload=function(Re){ae(Re.target.result)},Te.onerror=function(Re){_e(Re.target.error)},Te.readAsArrayBuffer(te)}):te}).then(function(te){var _e,ae=l.getTypeOf(te);return ae?("arraybuffer"===ae?te=l.transformTo("uint8array",te):"string"===ae&&(be?te=j.decode(te):Y&&!0!==ce&&(te=w(_e=te,A.uint8array?new Uint8Array(_e.length):new Array(_e.length)))),te):b.Promise.reject(new Error("Can't read the data of '"+F+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(k,L,l){"use strict";var A=k("./reader/readerFor"),j=k("./utils"),I=k("./signature"),m=k("./zipEntry"),b=(k("./utf8"),k("./support"));function v(w){this.files=[],this.loadOptions=w}v.prototype={checkSignature:function(w){if(!this.reader.readAndCheckSignature(w)){this.reader.index-=4;var T=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+j.pretty(T)+", expected "+j.pretty(w)+")")}},isSignature:function(w,T){var x=this.reader.index;this.reader.setIndex(w);var S=this.reader.readString(4)===T;return this.reader.setIndex(x),S},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var w=this.reader.readData(this.zipCommentLength),T=b.uint8array?"uint8array":"array",x=j.transformTo(T,w);this.zipComment=this.loadOptions.decodeFileName(x)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var w,T,x,S=this.zip64EndOfCentralSize-44;0<S;)w=this.reader.readInt(2),T=this.reader.readInt(4),x=this.reader.readData(T),this.zip64ExtensibleData[w]={id:w,length:T,value:x}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var w,T;for(w=0;w<this.files.length;w++)T=this.files[w],this.reader.setIndex(T.localHeaderOffset),this.checkSignature(I.LOCAL_FILE_HEADER),T.readLocalPart(this.reader),T.handleUTF8(),T.processAttributes()},readCentralDir:function(){var w;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(I.CENTRAL_FILE_HEADER);)(w=new m({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(w);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var w=this.reader.lastIndexOfSignature(I.CENTRAL_DIRECTORY_END);if(w<0)throw this.isSignature(0,I.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(w);var T=w;if(this.checkSignature(I.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===j.MAX_VALUE_16BITS||this.diskWithCentralDirStart===j.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===j.MAX_VALUE_16BITS||this.centralDirRecords===j.MAX_VALUE_16BITS||this.centralDirSize===j.MAX_VALUE_32BITS||this.centralDirOffset===j.MAX_VALUE_32BITS){if(this.zip64=!0,(w=this.reader.lastIndexOfSignature(I.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(w),this.checkSignature(I.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,I.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(I.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(I.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var x=this.centralDirOffset+this.centralDirSize;this.zip64&&(x+=20,x+=12+this.zip64EndOfCentralSize);var S=T-x;if(0<S)this.isSignature(T,I.CENTRAL_FILE_HEADER)||(this.reader.zero=S);else if(S<0)throw new Error("Corrupted zip: missing "+Math.abs(S)+" bytes.")},prepareReader:function(w){this.reader=A(w)},load:function(w){this.prepareReader(w),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},L.exports=v},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(k,L,l){"use strict";var A=k("./reader/readerFor"),j=k("./utils"),I=k("./compressedObject"),m=k("./crc32"),b=k("./utf8"),v=k("./compressions"),w=k("./support");function T(x,S){this.options=x,this.loadOptions=S}T.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(x){var S,N;if(x.skip(22),this.fileNameLength=x.readInt(2),N=x.readInt(2),this.fileName=x.readData(this.fileNameLength),x.skip(N),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(S=function(F){for(var U in v)if(v.hasOwnProperty(U)&&v[U].magic===F)return v[U];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+j.pretty(this.compressionMethod)+" unknown (inner file : "+j.transformTo("string",this.fileName)+")");this.decompressed=new I(this.compressedSize,this.uncompressedSize,this.crc32,S,x.readData(this.compressedSize))},readCentralPart:function(x){this.versionMadeBy=x.readInt(2),x.skip(2),this.bitFlag=x.readInt(2),this.compressionMethod=x.readString(2),this.date=x.readDate(),this.crc32=x.readInt(4),this.compressedSize=x.readInt(4),this.uncompressedSize=x.readInt(4);var S=x.readInt(2);if(this.extraFieldsLength=x.readInt(2),this.fileCommentLength=x.readInt(2),this.diskNumberStart=x.readInt(2),this.internalFileAttributes=x.readInt(2),this.externalFileAttributes=x.readInt(4),this.localHeaderOffset=x.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");x.skip(S),this.readExtraFields(x),this.parseZIP64ExtraField(x),this.fileComment=x.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var x=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==x&&(this.dosPermissions=63&this.externalFileAttributes),3==x&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(x){if(this.extraFields[1]){var S=A(this.extraFields[1].value);this.uncompressedSize===j.MAX_VALUE_32BITS&&(this.uncompressedSize=S.readInt(8)),this.compressedSize===j.MAX_VALUE_32BITS&&(this.compressedSize=S.readInt(8)),this.localHeaderOffset===j.MAX_VALUE_32BITS&&(this.localHeaderOffset=S.readInt(8)),this.diskNumberStart===j.MAX_VALUE_32BITS&&(this.diskNumberStart=S.readInt(4))}},readExtraFields:function(x){var S,N,F,U=x.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});x.index+4<U;)S=x.readInt(2),N=x.readInt(2),F=x.readData(N),this.extraFields[S]={id:S,length:N,value:F};x.setIndex(U)},handleUTF8:function(){var x=w.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=b.utf8decode(this.fileName),this.fileCommentStr=b.utf8decode(this.fileComment);else{var S=this.findExtraFieldUnicodePath();if(null!==S)this.fileNameStr=S;else{var N=j.transformTo(x,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(N)}var F=this.findExtraFieldUnicodeComment();if(null!==F)this.fileCommentStr=F;else{var U=j.transformTo(x,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(U)}}},findExtraFieldUnicodePath:function(){var x=this.extraFields[28789];if(x){var S=A(x.value);return 1!==S.readInt(1)||m(this.fileName)!==S.readInt(4)?null:b.utf8decode(S.readData(x.length-5))}return null},findExtraFieldUnicodeComment:function(){var x=this.extraFields[25461];if(x){var S=A(x.value);return 1!==S.readInt(1)||m(this.fileComment)!==S.readInt(4)?null:b.utf8decode(S.readData(x.length-5))}return null}},L.exports=T},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(k,L,l){"use strict";function A(S,N,F){this.name=S,this.dir=F.dir,this.date=F.date,this.comment=F.comment,this.unixPermissions=F.unixPermissions,this.dosPermissions=F.dosPermissions,this._data=N,this._dataBinary=F.binary,this.options={compression:F.compression,compressionOptions:F.compressionOptions}}var j=k("./stream/StreamHelper"),I=k("./stream/DataWorker"),m=k("./utf8"),b=k("./compressedObject"),v=k("./stream/GenericWorker");A.prototype={internalStream:function(S){var N=null,F="string";try{if(!S)throw new Error("No output type specified.");var U="string"===(F=S.toLowerCase())||"text"===F;"binarystring"!==F&&"text"!==F||(F="string"),N=this._decompressWorker();var Y=!this._dataBinary;Y&&!U&&(N=N.pipe(new m.Utf8EncodeWorker)),!Y&&U&&(N=N.pipe(new m.Utf8DecodeWorker))}catch(ce){(N=new v("error")).error(ce)}return new j(N,F,"")},async:function(S,N){return this.internalStream(S).accumulate(N)},nodeStream:function(S,N){return this.internalStream(S||"nodebuffer").toNodejsStream(N)},_compressWorker:function(S,N){if(this._data instanceof b&&this._data.compression.magic===S.magic)return this._data.getCompressedWorker();var F=this._decompressWorker();return this._dataBinary||(F=F.pipe(new m.Utf8EncodeWorker)),b.createWorkerFrom(F,S,N)},_decompressWorker:function(){return this._data instanceof b?this._data.getContentWorker():this._data instanceof v?this._data:new I(this._data)}};for(var w=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],T=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},x=0;x<w.length;x++)A.prototype[w[x]]=T;L.exports=A},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(k,L,l){(function(A){"use strict";var j,I,m=A.MutationObserver||A.WebKitMutationObserver;if(m){var b=0,v=new m(S),w=A.document.createTextNode("");v.observe(w,{characterData:!0}),j=function(){w.data=b=++b%2}}else if(A.setImmediate||void 0===A.MessageChannel)j="document"in A&&"onreadystatechange"in A.document.createElement("script")?function(){var N=A.document.createElement("script");N.onreadystatechange=function(){S(),N.onreadystatechange=null,N.parentNode.removeChild(N),N=null},A.document.documentElement.appendChild(N)}:function(){setTimeout(S,0)};else{var T=new A.MessageChannel;T.port1.onmessage=S,j=function(){T.port2.postMessage(0)}}var x=[];function S(){var N,F;I=!0;for(var U=x.length;U;){for(F=x,x=[],N=-1;++N<U;)F[N]();U=x.length}I=!1}L.exports=function(N){1!==x.push(N)||I||j()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(k,L,l){"use strict";var A=k("immediate");function j(){}var I={},m=["REJECTED"],b=["FULFILLED"],v=["PENDING"];function w(U){if("function"!=typeof U)throw new TypeError("resolver must be a function");this.state=v,this.queue=[],this.outcome=void 0,U!==j&&N(this,U)}function T(U,Y,ce){this.promise=U,"function"==typeof Y&&(this.onFulfilled=Y,this.callFulfilled=this.otherCallFulfilled),"function"==typeof ce&&(this.onRejected=ce,this.callRejected=this.otherCallRejected)}function x(U,Y,ce){A(function(){var be;try{be=Y(ce)}catch(te){return I.reject(U,te)}be===U?I.reject(U,new TypeError("Cannot resolve promise with itself")):I.resolve(U,be)})}function S(U){var Y=U&&U.then;if(U&&("object"==typeof U||"function"==typeof U)&&"function"==typeof Y)return function(){Y.apply(U,arguments)}}function N(U,Y){var ce=!1;function be(_e){ce||(ce=!0,I.reject(U,_e))}function te(_e){ce||(ce=!0,I.resolve(U,_e))}var ae=F(function(){Y(te,be)});"error"===ae.status&&be(ae.value)}function F(U,Y){var ce={};try{ce.value=U(Y),ce.status="success"}catch(be){ce.status="error",ce.value=be}return ce}(L.exports=w).prototype.finally=function(U){if("function"!=typeof U)return this;var Y=this.constructor;return this.then(function(ce){return Y.resolve(U()).then(function(){return ce})},function(ce){return Y.resolve(U()).then(function(){throw ce})})},w.prototype.catch=function(U){return this.then(null,U)},w.prototype.then=function(U,Y){if("function"!=typeof U&&this.state===b||"function"!=typeof Y&&this.state===m)return this;var ce=new this.constructor(j);return this.state!==v?x(ce,this.state===b?U:Y,this.outcome):this.queue.push(new T(ce,U,Y)),ce},T.prototype.callFulfilled=function(U){I.resolve(this.promise,U)},T.prototype.otherCallFulfilled=function(U){x(this.promise,this.onFulfilled,U)},T.prototype.callRejected=function(U){I.reject(this.promise,U)},T.prototype.otherCallRejected=function(U){x(this.promise,this.onRejected,U)},I.resolve=function(U,Y){var ce=F(S,Y);if("error"===ce.status)return I.reject(U,ce.value);var be=ce.value;if(be)N(U,be);else{U.state=b,U.outcome=Y;for(var te=-1,ae=U.queue.length;++te<ae;)U.queue[te].callFulfilled(Y)}return U},I.reject=function(U,Y){U.state=m,U.outcome=Y;for(var ce=-1,be=U.queue.length;++ce<be;)U.queue[ce].callRejected(Y);return U},w.resolve=function(U){return U instanceof this?U:I.resolve(new this(j),U)},w.reject=function(U){var Y=new this(j);return I.reject(Y,U)},w.all=function(U){var Y=this;if("[object Array]"!==Object.prototype.toString.call(U))return this.reject(new TypeError("must be an array"));var ce=U.length,be=!1;if(!ce)return this.resolve([]);for(var te=new Array(ce),ae=0,_e=-1,Te=new this(j);++_e<ce;)Re(U[_e],_e);return Te;function Re(G,Ee){Y.resolve(G).then(function(Ie){te[Ee]=Ie,++ae!==ce||be||(be=!0,I.resolve(Te,te))},function(Ie){be||(be=!0,I.reject(Te,Ie))})}},w.race=function(U){var Y=this;if("[object Array]"!==Object.prototype.toString.call(U))return this.reject(new TypeError("must be an array"));var _e,ce=U.length,be=!1;if(!ce)return this.resolve([]);for(var te=-1,ae=new this(j);++te<ce;)_e=U[te],Y.resolve(_e).then(function(Te){be||(be=!0,I.resolve(ae,Te))},function(Te){be||(be=!0,I.reject(ae,Te))});return ae}},{immediate:36}],38:[function(k,L,l){"use strict";var A={};(0,k("./lib/utils/common").assign)(A,k("./lib/deflate"),k("./lib/inflate"),k("./lib/zlib/constants")),L.exports=A},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(k,L,l){"use strict";var A=k("./zlib/deflate"),j=k("./utils/common"),I=k("./utils/strings"),m=k("./zlib/messages"),b=k("./zlib/zstream"),v=Object.prototype.toString,w=0,T=-1,x=0,S=8;function N(U){if(!(this instanceof N))return new N(U);this.options=j.assign({level:T,method:S,chunkSize:16384,windowBits:15,memLevel:8,strategy:x,to:""},U||{});var Y=this.options;Y.raw&&0<Y.windowBits?Y.windowBits=-Y.windowBits:Y.gzip&&0<Y.windowBits&&Y.windowBits<16&&(Y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new b,this.strm.avail_out=0;var ce=A.deflateInit2(this.strm,Y.level,Y.method,Y.windowBits,Y.memLevel,Y.strategy);if(ce!==w)throw new Error(m[ce]);if(Y.header&&A.deflateSetHeader(this.strm,Y.header),Y.dictionary){var be;if(be="string"==typeof Y.dictionary?I.string2buf(Y.dictionary):"[object ArrayBuffer]"===v.call(Y.dictionary)?new Uint8Array(Y.dictionary):Y.dictionary,(ce=A.deflateSetDictionary(this.strm,be))!==w)throw new Error(m[ce]);this._dict_set=!0}}function F(U,Y){var ce=new N(Y);if(ce.push(U,!0),ce.err)throw ce.msg||m[ce.err];return ce.result}N.prototype.push=function(U,Y){var ce,be,te=this.strm,ae=this.options.chunkSize;if(this.ended)return!1;be=Y===~~Y?Y:!0===Y?4:0,"string"==typeof U?te.input=I.string2buf(U):"[object ArrayBuffer]"===v.call(U)?te.input=new Uint8Array(U):te.input=U,te.next_in=0,te.avail_in=te.input.length;do{if(0===te.avail_out&&(te.output=new j.Buf8(ae),te.next_out=0,te.avail_out=ae),1!==(ce=A.deflate(te,be))&&ce!==w)return this.onEnd(ce),!(this.ended=!0);0!==te.avail_out&&(0!==te.avail_in||4!==be&&2!==be)||("string"===this.options.to?this.onData(I.buf2binstring(j.shrinkBuf(te.output,te.next_out))):this.onData(j.shrinkBuf(te.output,te.next_out)))}while((0<te.avail_in||0===te.avail_out)&&1!==ce);return 4===be?(ce=A.deflateEnd(this.strm),this.onEnd(ce),this.ended=!0,ce===w):2!==be||(this.onEnd(w),!(te.avail_out=0))},N.prototype.onData=function(U){this.chunks.push(U)},N.prototype.onEnd=function(U){U===w&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=j.flattenChunks(this.chunks)),this.chunks=[],this.err=U,this.msg=this.strm.msg},l.Deflate=N,l.deflate=F,l.deflateRaw=function(U,Y){return(Y=Y||{}).raw=!0,F(U,Y)},l.gzip=function(U,Y){return(Y=Y||{}).gzip=!0,F(U,Y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(k,L,l){"use strict";var A=k("./zlib/inflate"),j=k("./utils/common"),I=k("./utils/strings"),m=k("./zlib/constants"),b=k("./zlib/messages"),v=k("./zlib/zstream"),w=k("./zlib/gzheader"),T=Object.prototype.toString;function x(N){if(!(this instanceof x))return new x(N);this.options=j.assign({chunkSize:16384,windowBits:0,to:""},N||{});var F=this.options;F.raw&&0<=F.windowBits&&F.windowBits<16&&(F.windowBits=-F.windowBits,0===F.windowBits&&(F.windowBits=-15)),!(0<=F.windowBits&&F.windowBits<16)||N&&N.windowBits||(F.windowBits+=32),15<F.windowBits&&F.windowBits<48&&0==(15&F.windowBits)&&(F.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v,this.strm.avail_out=0;var U=A.inflateInit2(this.strm,F.windowBits);if(U!==m.Z_OK)throw new Error(b[U]);this.header=new w,A.inflateGetHeader(this.strm,this.header)}function S(N,F){var U=new x(F);if(U.push(N,!0),U.err)throw U.msg||b[U.err];return U.result}x.prototype.push=function(N,F){var U,Y,ce,be,te,ae,_e=this.strm,Te=this.options.chunkSize,Re=this.options.dictionary,G=!1;if(this.ended)return!1;Y=F===~~F?F:!0===F?m.Z_FINISH:m.Z_NO_FLUSH,"string"==typeof N?_e.input=I.binstring2buf(N):"[object ArrayBuffer]"===T.call(N)?_e.input=new Uint8Array(N):_e.input=N,_e.next_in=0,_e.avail_in=_e.input.length;do{if(0===_e.avail_out&&(_e.output=new j.Buf8(Te),_e.next_out=0,_e.avail_out=Te),(U=A.inflate(_e,m.Z_NO_FLUSH))===m.Z_NEED_DICT&&Re&&(ae="string"==typeof Re?I.string2buf(Re):"[object ArrayBuffer]"===T.call(Re)?new Uint8Array(Re):Re,U=A.inflateSetDictionary(this.strm,ae)),U===m.Z_BUF_ERROR&&!0===G&&(U=m.Z_OK,G=!1),U!==m.Z_STREAM_END&&U!==m.Z_OK)return this.onEnd(U),!(this.ended=!0);_e.next_out&&(0!==_e.avail_out&&U!==m.Z_STREAM_END&&(0!==_e.avail_in||Y!==m.Z_FINISH&&Y!==m.Z_SYNC_FLUSH)||("string"===this.options.to?(ce=I.utf8border(_e.output,_e.next_out),be=_e.next_out-ce,te=I.buf2string(_e.output,ce),_e.next_out=be,_e.avail_out=Te-be,be&&j.arraySet(_e.output,_e.output,ce,be,0),this.onData(te)):this.onData(j.shrinkBuf(_e.output,_e.next_out)))),0===_e.avail_in&&0===_e.avail_out&&(G=!0)}while((0<_e.avail_in||0===_e.avail_out)&&U!==m.Z_STREAM_END);return U===m.Z_STREAM_END&&(Y=m.Z_FINISH),Y===m.Z_FINISH?(U=A.inflateEnd(this.strm),this.onEnd(U),this.ended=!0,U===m.Z_OK):Y!==m.Z_SYNC_FLUSH||(this.onEnd(m.Z_OK),!(_e.avail_out=0))},x.prototype.onData=function(N){this.chunks.push(N)},x.prototype.onEnd=function(N){N===m.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=j.flattenChunks(this.chunks)),this.chunks=[],this.err=N,this.msg=this.strm.msg},l.Inflate=x,l.inflate=S,l.inflateRaw=function(N,F){return(F=F||{}).raw=!0,S(N,F)},l.ungzip=S},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(k,L,l){"use strict";var A="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;l.assign=function(m){for(var b=Array.prototype.slice.call(arguments,1);b.length;){var v=b.shift();if(v){if("object"!=typeof v)throw new TypeError(v+"must be non-object");for(var w in v)v.hasOwnProperty(w)&&(m[w]=v[w])}}return m},l.shrinkBuf=function(m,b){return m.length===b?m:m.subarray?m.subarray(0,b):(m.length=b,m)};var j={arraySet:function(m,b,v,w,T){if(b.subarray&&m.subarray)m.set(b.subarray(v,v+w),T);else for(var x=0;x<w;x++)m[T+x]=b[v+x]},flattenChunks:function(m){var b,v,w,T,x,S;for(b=w=0,v=m.length;b<v;b++)w+=m[b].length;for(S=new Uint8Array(w),b=T=0,v=m.length;b<v;b++)x=m[b],S.set(x,T),T+=x.length;return S}},I={arraySet:function(m,b,v,w,T){for(var x=0;x<w;x++)m[T+x]=b[v+x]},flattenChunks:function(m){return[].concat.apply([],m)}};l.setTyped=function(m){m?(l.Buf8=Uint8Array,l.Buf16=Uint16Array,l.Buf32=Int32Array,l.assign(l,j)):(l.Buf8=Array,l.Buf16=Array,l.Buf32=Array,l.assign(l,I))},l.setTyped(A)},{}],42:[function(k,L,l){"use strict";var A=k("./common"),j=!0,I=!0;try{String.fromCharCode.apply(null,[0])}catch(w){j=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(w){I=!1}for(var m=new A.Buf8(256),b=0;b<256;b++)m[b]=252<=b?6:248<=b?5:240<=b?4:224<=b?3:192<=b?2:1;function v(w,T){if(T<65537&&(w.subarray&&I||!w.subarray&&j))return String.fromCharCode.apply(null,A.shrinkBuf(w,T));for(var x="",S=0;S<T;S++)x+=String.fromCharCode(w[S]);return x}m[254]=m[254]=1,l.string2buf=function(w){var T,x,S,N,F,U=w.length,Y=0;for(N=0;N<U;N++)55296==(64512&(x=w.charCodeAt(N)))&&N+1<U&&56320==(64512&(S=w.charCodeAt(N+1)))&&(x=65536+(x-55296<<10)+(S-56320),N++),Y+=x<128?1:x<2048?2:x<65536?3:4;for(T=new A.Buf8(Y),N=F=0;F<Y;N++)55296==(64512&(x=w.charCodeAt(N)))&&N+1<U&&56320==(64512&(S=w.charCodeAt(N+1)))&&(x=65536+(x-55296<<10)+(S-56320),N++),x<128?T[F++]=x:(x<2048?T[F++]=192|x>>>6:(x<65536?T[F++]=224|x>>>12:(T[F++]=240|x>>>18,T[F++]=128|x>>>12&63),T[F++]=128|x>>>6&63),T[F++]=128|63&x);return T},l.buf2binstring=function(w){return v(w,w.length)},l.binstring2buf=function(w){for(var T=new A.Buf8(w.length),x=0,S=T.length;x<S;x++)T[x]=w.charCodeAt(x);return T},l.buf2string=function(w,T){var x,S,N,F,U=T||w.length,Y=new Array(2*U);for(x=S=0;x<U;)if((N=w[x++])<128)Y[S++]=N;else if(4<(F=m[N]))Y[S++]=65533,x+=F-1;else{for(N&=2===F?31:3===F?15:7;1<F&&x<U;)N=N<<6|63&w[x++],F--;1<F?Y[S++]=65533:N<65536?Y[S++]=N:(N-=65536,Y[S++]=55296|N>>10&1023,Y[S++]=56320|1023&N)}return v(Y,S)},l.utf8border=function(w,T){var x;for((T=T||w.length)>w.length&&(T=w.length),x=T-1;0<=x&&128==(192&w[x]);)x--;return x<0||0===x?T:x+m[w[x]]>T?x:T}},{"./common":41}],43:[function(k,L,l){"use strict";L.exports=function(A,j,I,m){for(var b=65535&A|0,v=A>>>16&65535|0,w=0;0!==I;){for(I-=w=2e3<I?2e3:I;v=v+(b=b+j[m++]|0)|0,--w;);b%=65521,v%=65521}return b|v<<16|0}},{}],44:[function(k,L,l){"use strict";L.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(k,L,l){"use strict";var A=function(){for(var j,I=[],m=0;m<256;m++){j=m;for(var b=0;b<8;b++)j=1&j?3988292384^j>>>1:j>>>1;I[m]=j}return I}();L.exports=function(j,I,m,b){var v=A,w=b+m;j^=-1;for(var T=b;T<w;T++)j=j>>>8^v[255&(j^I[T])];return-1^j}},{}],46:[function(k,L,l){"use strict";var A,j=k("../utils/common"),I=k("./trees"),m=k("./adler32"),b=k("./crc32"),v=k("./messages"),w=0,T=4,x=0,S=-2,N=-1,F=4,U=2,Y=8,ce=9,be=286,te=30,ae=19,_e=2*be+1,Te=15,Re=3,G=258,Ee=G+Re+1,Ie=42,Le=113,ne=1,Pe=2,He=3,ze=4;function dt(ge,$t){return ge.msg=v[$t],$t}function nt(ge){return(ge<<1)-(4<ge?9:0)}function kt(ge){for(var $t=ge.length;0<=--$t;)ge[$t]=0}function wt(ge){var $t=ge.state,Dt=$t.pending;Dt>ge.avail_out&&(Dt=ge.avail_out),0!==Dt&&(j.arraySet(ge.output,$t.pending_buf,$t.pending_out,Dt,ge.next_out),ge.next_out+=Dt,$t.pending_out+=Dt,ge.total_out+=Dt,ge.avail_out-=Dt,$t.pending-=Dt,0===$t.pending&&($t.pending_out=0))}function Pt(ge,$t){I._tr_flush_block(ge,0<=ge.block_start?ge.block_start:-1,ge.strstart-ge.block_start,$t),ge.block_start=ge.strstart,wt(ge.strm)}function en(ge,$t){ge.pending_buf[ge.pending++]=$t}function Nt(ge,$t){ge.pending_buf[ge.pending++]=$t>>>8&255,ge.pending_buf[ge.pending++]=255&$t}function je(ge,$t){var Dt,qe,We=ge.max_chain_length,_t=ge.strstart,St=ge.prev_length,Ht=ge.nice_match,Mt=ge.strstart>ge.w_size-Ee?ge.strstart-(ge.w_size-Ee):0,ee=ge.window,pe=ge.w_mask,xe=ge.prev,Ce=ge.strstart+G,Je=ee[_t+St-1],lt=ee[_t+St];ge.prev_length>=ge.good_match&&(We>>=2),Ht>ge.lookahead&&(Ht=ge.lookahead);do{if(ee[(Dt=$t)+St]===lt&&ee[Dt+St-1]===Je&&ee[Dt]===ee[_t]&&ee[++Dt]===ee[_t+1]){_t+=2,Dt++;do{}while(ee[++_t]===ee[++Dt]&&ee[++_t]===ee[++Dt]&&ee[++_t]===ee[++Dt]&&ee[++_t]===ee[++Dt]&&ee[++_t]===ee[++Dt]&&ee[++_t]===ee[++Dt]&&ee[++_t]===ee[++Dt]&&ee[++_t]===ee[++Dt]&&_t<Ce);if(qe=G-(Ce-_t),_t=Ce-G,St<qe){if(ge.match_start=$t,Ht<=(St=qe))break;Je=ee[_t+St-1],lt=ee[_t+St]}}}while(($t=xe[$t&pe])>Mt&&0!=--We);return St<=ge.lookahead?St:ge.lookahead}function Ft(ge){var $t,Dt,qe,We,_t,St,Ht,Mt,ee,pe,xe=ge.w_size;do{if(We=ge.window_size-ge.lookahead-ge.strstart,ge.strstart>=xe+(xe-Ee)){for(j.arraySet(ge.window,ge.window,xe,xe,0),ge.match_start-=xe,ge.strstart-=xe,ge.block_start-=xe,$t=Dt=ge.hash_size;qe=ge.head[--$t],ge.head[$t]=xe<=qe?qe-xe:0,--Dt;);for($t=Dt=xe;qe=ge.prev[--$t],ge.prev[$t]=xe<=qe?qe-xe:0,--Dt;);We+=xe}if(0===ge.strm.avail_in)break;if(St=ge.strm,Ht=ge.window,Mt=ge.strstart+ge.lookahead,pe=void 0,(ee=We)<(pe=St.avail_in)&&(pe=ee),Dt=0===pe?0:(St.avail_in-=pe,j.arraySet(Ht,St.input,St.next_in,pe,Mt),1===St.state.wrap?St.adler=m(St.adler,Ht,pe,Mt):2===St.state.wrap&&(St.adler=b(St.adler,Ht,pe,Mt)),St.next_in+=pe,St.total_in+=pe,pe),ge.lookahead+=Dt,ge.lookahead+ge.insert>=Re)for(_t=ge.strstart-ge.insert,ge.ins_h=ge.window[_t],ge.ins_h=(ge.ins_h<<ge.hash_shift^ge.window[_t+1])&ge.hash_mask;ge.insert&&(ge.ins_h=(ge.ins_h<<ge.hash_shift^ge.window[_t+Re-1])&ge.hash_mask,ge.prev[_t&ge.w_mask]=ge.head[ge.ins_h],ge.head[ge.ins_h]=_t,_t++,ge.insert--,!(ge.lookahead+ge.insert<Re)););}while(ge.lookahead<Ee&&0!==ge.strm.avail_in)}function sn(ge,$t){for(var Dt,qe;;){if(ge.lookahead<Ee){if(Ft(ge),ge.lookahead<Ee&&$t===w)return ne;if(0===ge.lookahead)break}if(Dt=0,ge.lookahead>=Re&&(ge.ins_h=(ge.ins_h<<ge.hash_shift^ge.window[ge.strstart+Re-1])&ge.hash_mask,Dt=ge.prev[ge.strstart&ge.w_mask]=ge.head[ge.ins_h],ge.head[ge.ins_h]=ge.strstart),0!==Dt&&ge.strstart-Dt<=ge.w_size-Ee&&(ge.match_length=je(ge,Dt)),ge.match_length>=Re)if(qe=I._tr_tally(ge,ge.strstart-ge.match_start,ge.match_length-Re),ge.lookahead-=ge.match_length,ge.match_length<=ge.max_lazy_match&&ge.lookahead>=Re){for(ge.match_length--;ge.strstart++,ge.ins_h=(ge.ins_h<<ge.hash_shift^ge.window[ge.strstart+Re-1])&ge.hash_mask,Dt=ge.prev[ge.strstart&ge.w_mask]=ge.head[ge.ins_h],ge.head[ge.ins_h]=ge.strstart,0!=--ge.match_length;);ge.strstart++}else ge.strstart+=ge.match_length,ge.match_length=0,ge.ins_h=ge.window[ge.strstart],ge.ins_h=(ge.ins_h<<ge.hash_shift^ge.window[ge.strstart+1])&ge.hash_mask;else qe=I._tr_tally(ge,0,ge.window[ge.strstart]),ge.lookahead--,ge.strstart++;if(qe&&(Pt(ge,!1),0===ge.strm.avail_out))return ne}return ge.insert=ge.strstart<Re-1?ge.strstart:Re-1,$t===T?(Pt(ge,!0),0===ge.strm.avail_out?He:ze):ge.last_lit&&(Pt(ge,!1),0===ge.strm.avail_out)?ne:Pe}function nn(ge,$t){for(var Dt,qe,We;;){if(ge.lookahead<Ee){if(Ft(ge),ge.lookahead<Ee&&$t===w)return ne;if(0===ge.lookahead)break}if(Dt=0,ge.lookahead>=Re&&(ge.ins_h=(ge.ins_h<<ge.hash_shift^ge.window[ge.strstart+Re-1])&ge.hash_mask,Dt=ge.prev[ge.strstart&ge.w_mask]=ge.head[ge.ins_h],ge.head[ge.ins_h]=ge.strstart),ge.prev_length=ge.match_length,ge.prev_match=ge.match_start,ge.match_length=Re-1,0!==Dt&&ge.prev_length<ge.max_lazy_match&&ge.strstart-Dt<=ge.w_size-Ee&&(ge.match_length=je(ge,Dt),ge.match_length<=5&&(1===ge.strategy||ge.match_length===Re&&4096<ge.strstart-ge.match_start)&&(ge.match_length=Re-1)),ge.prev_length>=Re&&ge.match_length<=ge.prev_length){for(We=ge.strstart+ge.lookahead-Re,qe=I._tr_tally(ge,ge.strstart-1-ge.prev_match,ge.prev_length-Re),ge.lookahead-=ge.prev_length-1,ge.prev_length-=2;++ge.strstart<=We&&(ge.ins_h=(ge.ins_h<<ge.hash_shift^ge.window[ge.strstart+Re-1])&ge.hash_mask,Dt=ge.prev[ge.strstart&ge.w_mask]=ge.head[ge.ins_h],ge.head[ge.ins_h]=ge.strstart),0!=--ge.prev_length;);if(ge.match_available=0,ge.match_length=Re-1,ge.strstart++,qe&&(Pt(ge,!1),0===ge.strm.avail_out))return ne}else if(ge.match_available){if((qe=I._tr_tally(ge,0,ge.window[ge.strstart-1]))&&Pt(ge,!1),ge.strstart++,ge.lookahead--,0===ge.strm.avail_out)return ne}else ge.match_available=1,ge.strstart++,ge.lookahead--}return ge.match_available&&(qe=I._tr_tally(ge,0,ge.window[ge.strstart-1]),ge.match_available=0),ge.insert=ge.strstart<Re-1?ge.strstart:Re-1,$t===T?(Pt(ge,!0),0===ge.strm.avail_out?He:ze):ge.last_lit&&(Pt(ge,!1),0===ge.strm.avail_out)?ne:Pe}function zt(ge,$t,Dt,qe,We){this.good_length=ge,this.max_lazy=$t,this.nice_length=Dt,this.max_chain=qe,this.func=We}function an(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new j.Buf16(2*_e),this.dyn_dtree=new j.Buf16(2*(2*te+1)),this.bl_tree=new j.Buf16(2*(2*ae+1)),kt(this.dyn_ltree),kt(this.dyn_dtree),kt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new j.Buf16(Te+1),this.heap=new j.Buf16(2*be+1),kt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new j.Buf16(2*be+1),kt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function On(ge){var $t;return ge&&ge.state?(ge.total_in=ge.total_out=0,ge.data_type=U,($t=ge.state).pending=0,$t.pending_out=0,$t.wrap<0&&($t.wrap=-$t.wrap),$t.status=$t.wrap?Ie:Le,ge.adler=2===$t.wrap?0:1,$t.last_flush=w,I._tr_init($t),x):dt(ge,S)}function Dn(ge){var Dt,$t=On(ge);return $t===x&&((Dt=ge.state).window_size=2*Dt.w_size,kt(Dt.head),Dt.max_lazy_match=A[Dt.level].max_lazy,Dt.good_match=A[Dt.level].good_length,Dt.nice_match=A[Dt.level].nice_length,Dt.max_chain_length=A[Dt.level].max_chain,Dt.strstart=0,Dt.block_start=0,Dt.lookahead=0,Dt.insert=0,Dt.match_length=Dt.prev_length=Re-1,Dt.match_available=0,Dt.ins_h=0),$t}function fi(ge,$t,Dt,qe,We,_t){if(!ge)return S;var St=1;if($t===N&&($t=6),qe<0?(St=0,qe=-qe):15<qe&&(St=2,qe-=16),We<1||ce<We||Dt!==Y||qe<8||15<qe||$t<0||9<$t||_t<0||F<_t)return dt(ge,S);8===qe&&(qe=9);var Ht=new an;return(ge.state=Ht).strm=ge,Ht.wrap=St,Ht.gzhead=null,Ht.w_bits=qe,Ht.w_size=1<<Ht.w_bits,Ht.w_mask=Ht.w_size-1,Ht.hash_bits=We+7,Ht.hash_size=1<<Ht.hash_bits,Ht.hash_mask=Ht.hash_size-1,Ht.hash_shift=~~((Ht.hash_bits+Re-1)/Re),Ht.window=new j.Buf8(2*Ht.w_size),Ht.head=new j.Buf16(Ht.hash_size),Ht.prev=new j.Buf16(Ht.w_size),Ht.lit_bufsize=1<<We+6,Ht.pending_buf_size=4*Ht.lit_bufsize,Ht.pending_buf=new j.Buf8(Ht.pending_buf_size),Ht.d_buf=1*Ht.lit_bufsize,Ht.l_buf=3*Ht.lit_bufsize,Ht.level=$t,Ht.strategy=_t,Ht.method=Dt,Dn(ge)}A=[new zt(0,0,0,0,function(ge,$t){var Dt=65535;for(Dt>ge.pending_buf_size-5&&(Dt=ge.pending_buf_size-5);;){if(ge.lookahead<=1){if(Ft(ge),0===ge.lookahead&&$t===w)return ne;if(0===ge.lookahead)break}ge.strstart+=ge.lookahead,ge.lookahead=0;var qe=ge.block_start+Dt;if((0===ge.strstart||ge.strstart>=qe)&&(ge.lookahead=ge.strstart-qe,ge.strstart=qe,Pt(ge,!1),0===ge.strm.avail_out)||ge.strstart-ge.block_start>=ge.w_size-Ee&&(Pt(ge,!1),0===ge.strm.avail_out))return ne}return ge.insert=0,$t===T?(Pt(ge,!0),0===ge.strm.avail_out?He:ze):(ge.strstart>ge.block_start&&(Pt(ge,!1),ge.strm.avail_out),ne)}),new zt(4,4,8,4,sn),new zt(4,5,16,8,sn),new zt(4,6,32,32,sn),new zt(4,4,16,16,nn),new zt(8,16,32,32,nn),new zt(8,16,128,128,nn),new zt(8,32,128,256,nn),new zt(32,128,258,1024,nn),new zt(32,258,258,4096,nn)],l.deflateInit=function(ge,$t){return fi(ge,$t,Y,15,8,0)},l.deflateInit2=fi,l.deflateReset=Dn,l.deflateResetKeep=On,l.deflateSetHeader=function(ge,$t){return ge&&ge.state?2!==ge.state.wrap?S:(ge.state.gzhead=$t,x):S},l.deflate=function(ge,$t){var Dt,qe,We,_t;if(!ge||!ge.state||5<$t||$t<0)return ge?dt(ge,S):S;if(qe=ge.state,!ge.output||!ge.input&&0!==ge.avail_in||666===qe.status&&$t!==T)return dt(ge,0===ge.avail_out?-5:S);if(qe.strm=ge,Dt=qe.last_flush,qe.last_flush=$t,qe.status===Ie)if(2===qe.wrap)ge.adler=0,en(qe,31),en(qe,139),en(qe,8),qe.gzhead?(en(qe,(qe.gzhead.text?1:0)+(qe.gzhead.hcrc?2:0)+(qe.gzhead.extra?4:0)+(qe.gzhead.name?8:0)+(qe.gzhead.comment?16:0)),en(qe,255&qe.gzhead.time),en(qe,qe.gzhead.time>>8&255),en(qe,qe.gzhead.time>>16&255),en(qe,qe.gzhead.time>>24&255),en(qe,9===qe.level?2:2<=qe.strategy||qe.level<2?4:0),en(qe,255&qe.gzhead.os),qe.gzhead.extra&&qe.gzhead.extra.length&&(en(qe,255&qe.gzhead.extra.length),en(qe,qe.gzhead.extra.length>>8&255)),qe.gzhead.hcrc&&(ge.adler=b(ge.adler,qe.pending_buf,qe.pending,0)),qe.gzindex=0,qe.status=69):(en(qe,0),en(qe,0),en(qe,0),en(qe,0),en(qe,0),en(qe,9===qe.level?2:2<=qe.strategy||qe.level<2?4:0),en(qe,3),qe.status=Le);else{var St=Y+(qe.w_bits-8<<4)<<8;St|=(2<=qe.strategy||qe.level<2?0:qe.level<6?1:6===qe.level?2:3)<<6,0!==qe.strstart&&(St|=32),St+=31-St%31,qe.status=Le,Nt(qe,St),0!==qe.strstart&&(Nt(qe,ge.adler>>>16),Nt(qe,65535&ge.adler)),ge.adler=1}if(69===qe.status)if(qe.gzhead.extra){for(We=qe.pending;qe.gzindex<(65535&qe.gzhead.extra.length)&&(qe.pending!==qe.pending_buf_size||(qe.gzhead.hcrc&&qe.pending>We&&(ge.adler=b(ge.adler,qe.pending_buf,qe.pending-We,We)),wt(ge),We=qe.pending,qe.pending!==qe.pending_buf_size));)en(qe,255&qe.gzhead.extra[qe.gzindex]),qe.gzindex++;qe.gzhead.hcrc&&qe.pending>We&&(ge.adler=b(ge.adler,qe.pending_buf,qe.pending-We,We)),qe.gzindex===qe.gzhead.extra.length&&(qe.gzindex=0,qe.status=73)}else qe.status=73;if(73===qe.status)if(qe.gzhead.name){We=qe.pending;do{if(qe.pending===qe.pending_buf_size&&(qe.gzhead.hcrc&&qe.pending>We&&(ge.adler=b(ge.adler,qe.pending_buf,qe.pending-We,We)),wt(ge),We=qe.pending,qe.pending===qe.pending_buf_size)){_t=1;break}_t=qe.gzindex<qe.gzhead.name.length?255&qe.gzhead.name.charCodeAt(qe.gzindex++):0,en(qe,_t)}while(0!==_t);qe.gzhead.hcrc&&qe.pending>We&&(ge.adler=b(ge.adler,qe.pending_buf,qe.pending-We,We)),0===_t&&(qe.gzindex=0,qe.status=91)}else qe.status=91;if(91===qe.status)if(qe.gzhead.comment){We=qe.pending;do{if(qe.pending===qe.pending_buf_size&&(qe.gzhead.hcrc&&qe.pending>We&&(ge.adler=b(ge.adler,qe.pending_buf,qe.pending-We,We)),wt(ge),We=qe.pending,qe.pending===qe.pending_buf_size)){_t=1;break}_t=qe.gzindex<qe.gzhead.comment.length?255&qe.gzhead.comment.charCodeAt(qe.gzindex++):0,en(qe,_t)}while(0!==_t);qe.gzhead.hcrc&&qe.pending>We&&(ge.adler=b(ge.adler,qe.pending_buf,qe.pending-We,We)),0===_t&&(qe.status=103)}else qe.status=103;if(103===qe.status&&(qe.gzhead.hcrc?(qe.pending+2>qe.pending_buf_size&&wt(ge),qe.pending+2<=qe.pending_buf_size&&(en(qe,255&ge.adler),en(qe,ge.adler>>8&255),ge.adler=0,qe.status=Le)):qe.status=Le),0!==qe.pending){if(wt(ge),0===ge.avail_out)return qe.last_flush=-1,x}else if(0===ge.avail_in&&nt($t)<=nt(Dt)&&$t!==T)return dt(ge,-5);if(666===qe.status&&0!==ge.avail_in)return dt(ge,-5);if(0!==ge.avail_in||0!==qe.lookahead||$t!==w&&666!==qe.status){var Ht=2===qe.strategy?function(Mt,ee){for(var pe;;){if(0===Mt.lookahead&&(Ft(Mt),0===Mt.lookahead)){if(ee===w)return ne;break}if(Mt.match_length=0,pe=I._tr_tally(Mt,0,Mt.window[Mt.strstart]),Mt.lookahead--,Mt.strstart++,pe&&(Pt(Mt,!1),0===Mt.strm.avail_out))return ne}return Mt.insert=0,ee===T?(Pt(Mt,!0),0===Mt.strm.avail_out?He:ze):Mt.last_lit&&(Pt(Mt,!1),0===Mt.strm.avail_out)?ne:Pe}(qe,$t):3===qe.strategy?function(Mt,ee){for(var pe,xe,Ce,Je,lt=Mt.window;;){if(Mt.lookahead<=G){if(Ft(Mt),Mt.lookahead<=G&&ee===w)return ne;if(0===Mt.lookahead)break}if(Mt.match_length=0,Mt.lookahead>=Re&&0<Mt.strstart&&(xe=lt[Ce=Mt.strstart-1])===lt[++Ce]&&xe===lt[++Ce]&&xe===lt[++Ce]){Je=Mt.strstart+G;do{}while(xe===lt[++Ce]&&xe===lt[++Ce]&&xe===lt[++Ce]&&xe===lt[++Ce]&&xe===lt[++Ce]&&xe===lt[++Ce]&&xe===lt[++Ce]&&xe===lt[++Ce]&&Ce<Je);Mt.match_length=G-(Je-Ce),Mt.match_length>Mt.lookahead&&(Mt.match_length=Mt.lookahead)}if(Mt.match_length>=Re?(pe=I._tr_tally(Mt,1,Mt.match_length-Re),Mt.lookahead-=Mt.match_length,Mt.strstart+=Mt.match_length,Mt.match_length=0):(pe=I._tr_tally(Mt,0,Mt.window[Mt.strstart]),Mt.lookahead--,Mt.strstart++),pe&&(Pt(Mt,!1),0===Mt.strm.avail_out))return ne}return Mt.insert=0,ee===T?(Pt(Mt,!0),0===Mt.strm.avail_out?He:ze):Mt.last_lit&&(Pt(Mt,!1),0===Mt.strm.avail_out)?ne:Pe}(qe,$t):A[qe.level].func(qe,$t);if(Ht!==He&&Ht!==ze||(qe.status=666),Ht===ne||Ht===He)return 0===ge.avail_out&&(qe.last_flush=-1),x;if(Ht===Pe&&(1===$t?I._tr_align(qe):5!==$t&&(I._tr_stored_block(qe,0,0,!1),3===$t&&(kt(qe.head),0===qe.lookahead&&(qe.strstart=0,qe.block_start=0,qe.insert=0))),wt(ge),0===ge.avail_out))return qe.last_flush=-1,x}return $t!==T?x:qe.wrap<=0?1:(2===qe.wrap?(en(qe,255&ge.adler),en(qe,ge.adler>>8&255),en(qe,ge.adler>>16&255),en(qe,ge.adler>>24&255),en(qe,255&ge.total_in),en(qe,ge.total_in>>8&255),en(qe,ge.total_in>>16&255),en(qe,ge.total_in>>24&255)):(Nt(qe,ge.adler>>>16),Nt(qe,65535&ge.adler)),wt(ge),0<qe.wrap&&(qe.wrap=-qe.wrap),0!==qe.pending?x:1)},l.deflateEnd=function(ge){var $t;return ge&&ge.state?($t=ge.state.status)!==Ie&&69!==$t&&73!==$t&&91!==$t&&103!==$t&&$t!==Le&&666!==$t?dt(ge,S):(ge.state=null,$t===Le?dt(ge,-3):x):S},l.deflateSetDictionary=function(ge,$t){var Dt,qe,We,_t,St,Ht,Mt,ee,pe=$t.length;if(!ge||!ge.state||2===(_t=(Dt=ge.state).wrap)||1===_t&&Dt.status!==Ie||Dt.lookahead)return S;for(1===_t&&(ge.adler=m(ge.adler,$t,pe,0)),Dt.wrap=0,pe>=Dt.w_size&&(0===_t&&(kt(Dt.head),Dt.strstart=0,Dt.block_start=0,Dt.insert=0),ee=new j.Buf8(Dt.w_size),j.arraySet(ee,$t,pe-Dt.w_size,Dt.w_size,0),$t=ee,pe=Dt.w_size),St=ge.avail_in,Ht=ge.next_in,Mt=ge.input,ge.avail_in=pe,ge.next_in=0,ge.input=$t,Ft(Dt);Dt.lookahead>=Re;){for(qe=Dt.strstart,We=Dt.lookahead-(Re-1);Dt.ins_h=(Dt.ins_h<<Dt.hash_shift^Dt.window[qe+Re-1])&Dt.hash_mask,Dt.prev[qe&Dt.w_mask]=Dt.head[Dt.ins_h],Dt.head[Dt.ins_h]=qe,qe++,--We;);Dt.strstart=qe,Dt.lookahead=Re-1,Ft(Dt)}return Dt.strstart+=Dt.lookahead,Dt.block_start=Dt.strstart,Dt.insert=Dt.lookahead,Dt.lookahead=0,Dt.match_length=Dt.prev_length=Re-1,Dt.match_available=0,ge.next_in=Ht,ge.input=Mt,ge.avail_in=St,Dt.wrap=_t,x},l.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(k,L,l){"use strict";L.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(k,L,l){"use strict";L.exports=function(A,j){var I,m,b,v,w,T,x,S,N,F,U,Y,ce,be,te,ae,_e,Te,Re,G,Ee,Ie,Le,ne,Pe;I=A.state,m=A.next_in,ne=A.input,b=m+(A.avail_in-5),v=A.next_out,Pe=A.output,w=v-(j-A.avail_out),T=v+(A.avail_out-257),x=I.dmax,S=I.wsize,N=I.whave,F=I.wnext,U=I.window,Y=I.hold,ce=I.bits,be=I.lencode,te=I.distcode,ae=(1<<I.lenbits)-1,_e=(1<<I.distbits)-1;e:do{ce<15&&(Y+=ne[m++]<<ce,ce+=8,Y+=ne[m++]<<ce,ce+=8),Te=be[Y&ae];t:for(;;){if(Y>>>=Re=Te>>>24,ce-=Re,0==(Re=Te>>>16&255))Pe[v++]=65535&Te;else{if(!(16&Re)){if(0==(64&Re)){Te=be[(65535&Te)+(Y&(1<<Re)-1)];continue t}if(32&Re){I.mode=12;break e}A.msg="invalid literal/length code",I.mode=30;break e}G=65535&Te,(Re&=15)&&(ce<Re&&(Y+=ne[m++]<<ce,ce+=8),G+=Y&(1<<Re)-1,Y>>>=Re,ce-=Re),ce<15&&(Y+=ne[m++]<<ce,ce+=8,Y+=ne[m++]<<ce,ce+=8),Te=te[Y&_e];n:for(;;){if(Y>>>=Re=Te>>>24,ce-=Re,!(16&(Re=Te>>>16&255))){if(0==(64&Re)){Te=te[(65535&Te)+(Y&(1<<Re)-1)];continue n}A.msg="invalid distance code",I.mode=30;break e}if(Ee=65535&Te,ce<(Re&=15)&&(Y+=ne[m++]<<ce,(ce+=8)<Re&&(Y+=ne[m++]<<ce,ce+=8)),x<(Ee+=Y&(1<<Re)-1)){A.msg="invalid distance too far back",I.mode=30;break e}if(Y>>>=Re,ce-=Re,(Re=v-w)<Ee){if(N<(Re=Ee-Re)&&I.sane){A.msg="invalid distance too far back",I.mode=30;break e}if(Le=U,(Ie=0)===F){if(Ie+=S-Re,Re<G){for(G-=Re;Pe[v++]=U[Ie++],--Re;);Ie=v-Ee,Le=Pe}}else if(F<Re){if(Ie+=S+F-Re,(Re-=F)<G){for(G-=Re;Pe[v++]=U[Ie++],--Re;);if(Ie=0,F<G){for(G-=Re=F;Pe[v++]=U[Ie++],--Re;);Ie=v-Ee,Le=Pe}}}else if(Ie+=F-Re,Re<G){for(G-=Re;Pe[v++]=U[Ie++],--Re;);Ie=v-Ee,Le=Pe}for(;2<G;)Pe[v++]=Le[Ie++],Pe[v++]=Le[Ie++],Pe[v++]=Le[Ie++],G-=3;G&&(Pe[v++]=Le[Ie++],1<G&&(Pe[v++]=Le[Ie++]))}else{for(Ie=v-Ee;Pe[v++]=Pe[Ie++],Pe[v++]=Pe[Ie++],Pe[v++]=Pe[Ie++],2<(G-=3););G&&(Pe[v++]=Pe[Ie++],1<G&&(Pe[v++]=Pe[Ie++]))}break}}break}}while(m<b&&v<T);m-=G=ce>>3,Y&=(1<<(ce-=G<<3))-1,A.next_in=m,A.next_out=v,A.avail_in=m<b?b-m+5:5-(m-b),A.avail_out=v<T?T-v+257:257-(v-T),I.hold=Y,I.bits=ce}},{}],49:[function(k,L,l){"use strict";var A=k("../utils/common"),j=k("./adler32"),I=k("./crc32"),m=k("./inffast"),b=k("./inftrees"),v=1,w=2,T=0,x=-2,S=1,N=852,F=592;function U(Ie){return(Ie>>>24&255)+(Ie>>>8&65280)+((65280&Ie)<<8)+((255&Ie)<<24)}function Y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new A.Buf16(320),this.work=new A.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ce(Ie){var Le;return Ie&&Ie.state?(Le=Ie.state,Ie.total_in=Ie.total_out=Le.total=0,Ie.msg="",Le.wrap&&(Ie.adler=1&Le.wrap),Le.mode=S,Le.last=0,Le.havedict=0,Le.dmax=32768,Le.head=null,Le.hold=0,Le.bits=0,Le.lencode=Le.lendyn=new A.Buf32(N),Le.distcode=Le.distdyn=new A.Buf32(F),Le.sane=1,Le.back=-1,T):x}function be(Ie){var Le;return Ie&&Ie.state?((Le=Ie.state).wsize=0,Le.whave=0,Le.wnext=0,ce(Ie)):x}function te(Ie,Le){var ne,Pe;return Ie&&Ie.state?(Pe=Ie.state,Le<0?(ne=0,Le=-Le):(ne=1+(Le>>4),Le<48&&(Le&=15)),Le&&(Le<8||15<Le)?x:(null!==Pe.window&&Pe.wbits!==Le&&(Pe.window=null),Pe.wrap=ne,Pe.wbits=Le,be(Ie))):x}function ae(Ie,Le){var ne,Pe;return Ie?(Pe=new Y,(Ie.state=Pe).window=null,(ne=te(Ie,Le))!==T&&(Ie.state=null),ne):x}var _e,Te,Re=!0;function G(Ie){if(Re){var Le;for(_e=new A.Buf32(512),Te=new A.Buf32(32),Le=0;Le<144;)Ie.lens[Le++]=8;for(;Le<256;)Ie.lens[Le++]=9;for(;Le<280;)Ie.lens[Le++]=7;for(;Le<288;)Ie.lens[Le++]=8;for(b(v,Ie.lens,0,288,_e,0,Ie.work,{bits:9}),Le=0;Le<32;)Ie.lens[Le++]=5;b(w,Ie.lens,0,32,Te,0,Ie.work,{bits:5}),Re=!1}Ie.lencode=_e,Ie.lenbits=9,Ie.distcode=Te,Ie.distbits=5}function Ee(Ie,Le,ne,Pe){var He,ze=Ie.state;return null===ze.window&&(ze.wsize=1<<ze.wbits,ze.wnext=0,ze.whave=0,ze.window=new A.Buf8(ze.wsize)),Pe>=ze.wsize?(A.arraySet(ze.window,Le,ne-ze.wsize,ze.wsize,0),ze.wnext=0,ze.whave=ze.wsize):(Pe<(He=ze.wsize-ze.wnext)&&(He=Pe),A.arraySet(ze.window,Le,ne-Pe,He,ze.wnext),(Pe-=He)?(A.arraySet(ze.window,Le,ne-Pe,Pe,0),ze.wnext=Pe,ze.whave=ze.wsize):(ze.wnext+=He,ze.wnext===ze.wsize&&(ze.wnext=0),ze.whave<ze.wsize&&(ze.whave+=He))),0}l.inflateReset=be,l.inflateReset2=te,l.inflateResetKeep=ce,l.inflateInit=function(Ie){return ae(Ie,15)},l.inflateInit2=ae,l.inflate=function(Ie,Le){var ne,Pe,He,ze,dt,nt,kt,wt,Pt,en,Nt,je,Ft,sn,nn,zt,an,On,Dn,fi,ge,$t,Dt,qe,We=0,_t=new A.Buf8(4),St=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Ie||!Ie.state||!Ie.output||!Ie.input&&0!==Ie.avail_in)return x;12===(ne=Ie.state).mode&&(ne.mode=13),dt=Ie.next_out,He=Ie.output,kt=Ie.avail_out,ze=Ie.next_in,Pe=Ie.input,nt=Ie.avail_in,wt=ne.hold,Pt=ne.bits,en=nt,Nt=kt,$t=T;e:for(;;)switch(ne.mode){case S:if(0===ne.wrap){ne.mode=13;break}for(;Pt<16;){if(0===nt)break e;nt--,wt+=Pe[ze++]<<Pt,Pt+=8}if(2&ne.wrap&&35615===wt){_t[ne.check=0]=255&wt,_t[1]=wt>>>8&255,ne.check=I(ne.check,_t,2,0),Pt=wt=0,ne.mode=2;break}if(ne.flags=0,ne.head&&(ne.head.done=!1),!(1&ne.wrap)||(((255&wt)<<8)+(wt>>8))%31){Ie.msg="incorrect header check",ne.mode=30;break}if(8!=(15&wt)){Ie.msg="unknown compression method",ne.mode=30;break}if(Pt-=4,ge=8+(15&(wt>>>=4)),0===ne.wbits)ne.wbits=ge;else if(ge>ne.wbits){Ie.msg="invalid window size",ne.mode=30;break}ne.dmax=1<<ge,Ie.adler=ne.check=1,ne.mode=512&wt?10:12,Pt=wt=0;break;case 2:for(;Pt<16;){if(0===nt)break e;nt--,wt+=Pe[ze++]<<Pt,Pt+=8}if(ne.flags=wt,8!=(255&ne.flags)){Ie.msg="unknown compression method",ne.mode=30;break}if(57344&ne.flags){Ie.msg="unknown header flags set",ne.mode=30;break}ne.head&&(ne.head.text=wt>>8&1),512&ne.flags&&(_t[0]=255&wt,_t[1]=wt>>>8&255,ne.check=I(ne.check,_t,2,0)),Pt=wt=0,ne.mode=3;case 3:for(;Pt<32;){if(0===nt)break e;nt--,wt+=Pe[ze++]<<Pt,Pt+=8}ne.head&&(ne.head.time=wt),512&ne.flags&&(_t[0]=255&wt,_t[1]=wt>>>8&255,_t[2]=wt>>>16&255,_t[3]=wt>>>24&255,ne.check=I(ne.check,_t,4,0)),Pt=wt=0,ne.mode=4;case 4:for(;Pt<16;){if(0===nt)break e;nt--,wt+=Pe[ze++]<<Pt,Pt+=8}ne.head&&(ne.head.xflags=255&wt,ne.head.os=wt>>8),512&ne.flags&&(_t[0]=255&wt,_t[1]=wt>>>8&255,ne.check=I(ne.check,_t,2,0)),Pt=wt=0,ne.mode=5;case 5:if(1024&ne.flags){for(;Pt<16;){if(0===nt)break e;nt--,wt+=Pe[ze++]<<Pt,Pt+=8}ne.length=wt,ne.head&&(ne.head.extra_len=wt),512&ne.flags&&(_t[0]=255&wt,_t[1]=wt>>>8&255,ne.check=I(ne.check,_t,2,0)),Pt=wt=0}else ne.head&&(ne.head.extra=null);ne.mode=6;case 6:if(1024&ne.flags&&(nt<(je=ne.length)&&(je=nt),je&&(ne.head&&(ge=ne.head.extra_len-ne.length,ne.head.extra||(ne.head.extra=new Array(ne.head.extra_len)),A.arraySet(ne.head.extra,Pe,ze,je,ge)),512&ne.flags&&(ne.check=I(ne.check,Pe,je,ze)),nt-=je,ze+=je,ne.length-=je),ne.length))break e;ne.length=0,ne.mode=7;case 7:if(2048&ne.flags){if(0===nt)break e;for(je=0;ge=Pe[ze+je++],ne.head&&ge&&ne.length<65536&&(ne.head.name+=String.fromCharCode(ge)),ge&&je<nt;);if(512&ne.flags&&(ne.check=I(ne.check,Pe,je,ze)),nt-=je,ze+=je,ge)break e}else ne.head&&(ne.head.name=null);ne.length=0,ne.mode=8;case 8:if(4096&ne.flags){if(0===nt)break e;for(je=0;ge=Pe[ze+je++],ne.head&&ge&&ne.length<65536&&(ne.head.comment+=String.fromCharCode(ge)),ge&&je<nt;);if(512&ne.flags&&(ne.check=I(ne.check,Pe,je,ze)),nt-=je,ze+=je,ge)break e}else ne.head&&(ne.head.comment=null);ne.mode=9;case 9:if(512&ne.flags){for(;Pt<16;){if(0===nt)break e;nt--,wt+=Pe[ze++]<<Pt,Pt+=8}if(wt!==(65535&ne.check)){Ie.msg="header crc mismatch",ne.mode=30;break}Pt=wt=0}ne.head&&(ne.head.hcrc=ne.flags>>9&1,ne.head.done=!0),Ie.adler=ne.check=0,ne.mode=12;break;case 10:for(;Pt<32;){if(0===nt)break e;nt--,wt+=Pe[ze++]<<Pt,Pt+=8}Ie.adler=ne.check=U(wt),Pt=wt=0,ne.mode=11;case 11:if(0===ne.havedict)return Ie.next_out=dt,Ie.avail_out=kt,Ie.next_in=ze,Ie.avail_in=nt,ne.hold=wt,ne.bits=Pt,2;Ie.adler=ne.check=1,ne.mode=12;case 12:if(5===Le||6===Le)break e;case 13:if(ne.last){wt>>>=7&Pt,Pt-=7&Pt,ne.mode=27;break}for(;Pt<3;){if(0===nt)break e;nt--,wt+=Pe[ze++]<<Pt,Pt+=8}switch(ne.last=1&wt,Pt-=1,3&(wt>>>=1)){case 0:ne.mode=14;break;case 1:if(G(ne),ne.mode=20,6!==Le)break;wt>>>=2,Pt-=2;break e;case 2:ne.mode=17;break;case 3:Ie.msg="invalid block type",ne.mode=30}wt>>>=2,Pt-=2;break;case 14:for(wt>>>=7&Pt,Pt-=7&Pt;Pt<32;){if(0===nt)break e;nt--,wt+=Pe[ze++]<<Pt,Pt+=8}if((65535&wt)!=(wt>>>16^65535)){Ie.msg="invalid stored block lengths",ne.mode=30;break}if(ne.length=65535&wt,Pt=wt=0,ne.mode=15,6===Le)break e;case 15:ne.mode=16;case 16:if(je=ne.length){if(nt<je&&(je=nt),kt<je&&(je=kt),0===je)break e;A.arraySet(He,Pe,ze,je,dt),nt-=je,ze+=je,kt-=je,dt+=je,ne.length-=je;break}ne.mode=12;break;case 17:for(;Pt<14;){if(0===nt)break e;nt--,wt+=Pe[ze++]<<Pt,Pt+=8}if(ne.nlen=257+(31&wt),wt>>>=5,Pt-=5,ne.ndist=1+(31&wt),wt>>>=5,Pt-=5,ne.ncode=4+(15&wt),wt>>>=4,Pt-=4,286<ne.nlen||30<ne.ndist){Ie.msg="too many length or distance symbols",ne.mode=30;break}ne.have=0,ne.mode=18;case 18:for(;ne.have<ne.ncode;){for(;Pt<3;){if(0===nt)break e;nt--,wt+=Pe[ze++]<<Pt,Pt+=8}ne.lens[St[ne.have++]]=7&wt,wt>>>=3,Pt-=3}for(;ne.have<19;)ne.lens[St[ne.have++]]=0;if(ne.lencode=ne.lendyn,ne.lenbits=7,Dt={bits:ne.lenbits},$t=b(0,ne.lens,0,19,ne.lencode,0,ne.work,Dt),ne.lenbits=Dt.bits,$t){Ie.msg="invalid code lengths set",ne.mode=30;break}ne.have=0,ne.mode=19;case 19:for(;ne.have<ne.nlen+ne.ndist;){for(;zt=(We=ne.lencode[wt&(1<<ne.lenbits)-1])>>>16&255,an=65535&We,!((nn=We>>>24)<=Pt);){if(0===nt)break e;nt--,wt+=Pe[ze++]<<Pt,Pt+=8}if(an<16)wt>>>=nn,Pt-=nn,ne.lens[ne.have++]=an;else{if(16===an){for(qe=nn+2;Pt<qe;){if(0===nt)break e;nt--,wt+=Pe[ze++]<<Pt,Pt+=8}if(wt>>>=nn,Pt-=nn,0===ne.have){Ie.msg="invalid bit length repeat",ne.mode=30;break}ge=ne.lens[ne.have-1],je=3+(3&wt),wt>>>=2,Pt-=2}else if(17===an){for(qe=nn+3;Pt<qe;){if(0===nt)break e;nt--,wt+=Pe[ze++]<<Pt,Pt+=8}Pt-=nn,ge=0,je=3+(7&(wt>>>=nn)),wt>>>=3,Pt-=3}else{for(qe=nn+7;Pt<qe;){if(0===nt)break e;nt--,wt+=Pe[ze++]<<Pt,Pt+=8}Pt-=nn,ge=0,je=11+(127&(wt>>>=nn)),wt>>>=7,Pt-=7}if(ne.have+je>ne.nlen+ne.ndist){Ie.msg="invalid bit length repeat",ne.mode=30;break}for(;je--;)ne.lens[ne.have++]=ge}}if(30===ne.mode)break;if(0===ne.lens[256]){Ie.msg="invalid code -- missing end-of-block",ne.mode=30;break}if(ne.lenbits=9,Dt={bits:ne.lenbits},$t=b(v,ne.lens,0,ne.nlen,ne.lencode,0,ne.work,Dt),ne.lenbits=Dt.bits,$t){Ie.msg="invalid literal/lengths set",ne.mode=30;break}if(ne.distbits=6,ne.distcode=ne.distdyn,Dt={bits:ne.distbits},$t=b(w,ne.lens,ne.nlen,ne.ndist,ne.distcode,0,ne.work,Dt),ne.distbits=Dt.bits,$t){Ie.msg="invalid distances set",ne.mode=30;break}if(ne.mode=20,6===Le)break e;case 20:ne.mode=21;case 21:if(6<=nt&&258<=kt){Ie.next_out=dt,Ie.avail_out=kt,Ie.next_in=ze,Ie.avail_in=nt,ne.hold=wt,ne.bits=Pt,m(Ie,Nt),dt=Ie.next_out,He=Ie.output,kt=Ie.avail_out,ze=Ie.next_in,Pe=Ie.input,nt=Ie.avail_in,wt=ne.hold,Pt=ne.bits,12===ne.mode&&(ne.back=-1);break}for(ne.back=0;zt=(We=ne.lencode[wt&(1<<ne.lenbits)-1])>>>16&255,an=65535&We,!((nn=We>>>24)<=Pt);){if(0===nt)break e;nt--,wt+=Pe[ze++]<<Pt,Pt+=8}if(zt&&0==(240&zt)){for(On=nn,Dn=zt,fi=an;zt=(We=ne.lencode[fi+((wt&(1<<On+Dn)-1)>>On)])>>>16&255,an=65535&We,!(On+(nn=We>>>24)<=Pt);){if(0===nt)break e;nt--,wt+=Pe[ze++]<<Pt,Pt+=8}wt>>>=On,Pt-=On,ne.back+=On}if(wt>>>=nn,Pt-=nn,ne.back+=nn,ne.length=an,0===zt){ne.mode=26;break}if(32&zt){ne.back=-1,ne.mode=12;break}if(64&zt){Ie.msg="invalid literal/length code",ne.mode=30;break}ne.extra=15&zt,ne.mode=22;case 22:if(ne.extra){for(qe=ne.extra;Pt<qe;){if(0===nt)break e;nt--,wt+=Pe[ze++]<<Pt,Pt+=8}ne.length+=wt&(1<<ne.extra)-1,wt>>>=ne.extra,Pt-=ne.extra,ne.back+=ne.extra}ne.was=ne.length,ne.mode=23;case 23:for(;zt=(We=ne.distcode[wt&(1<<ne.distbits)-1])>>>16&255,an=65535&We,!((nn=We>>>24)<=Pt);){if(0===nt)break e;nt--,wt+=Pe[ze++]<<Pt,Pt+=8}if(0==(240&zt)){for(On=nn,Dn=zt,fi=an;zt=(We=ne.distcode[fi+((wt&(1<<On+Dn)-1)>>On)])>>>16&255,an=65535&We,!(On+(nn=We>>>24)<=Pt);){if(0===nt)break e;nt--,wt+=Pe[ze++]<<Pt,Pt+=8}wt>>>=On,Pt-=On,ne.back+=On}if(wt>>>=nn,Pt-=nn,ne.back+=nn,64&zt){Ie.msg="invalid distance code",ne.mode=30;break}ne.offset=an,ne.extra=15&zt,ne.mode=24;case 24:if(ne.extra){for(qe=ne.extra;Pt<qe;){if(0===nt)break e;nt--,wt+=Pe[ze++]<<Pt,Pt+=8}ne.offset+=wt&(1<<ne.extra)-1,wt>>>=ne.extra,Pt-=ne.extra,ne.back+=ne.extra}if(ne.offset>ne.dmax){Ie.msg="invalid distance too far back",ne.mode=30;break}ne.mode=25;case 25:if(0===kt)break e;if(je=Nt-kt,ne.offset>je){if((je=ne.offset-je)>ne.whave&&ne.sane){Ie.msg="invalid distance too far back",ne.mode=30;break}Ft=je>ne.wnext?(je-=ne.wnext,ne.wsize-je):ne.wnext-je,je>ne.length&&(je=ne.length),sn=ne.window}else sn=He,Ft=dt-ne.offset,je=ne.length;for(kt<je&&(je=kt),kt-=je,ne.length-=je;He[dt++]=sn[Ft++],--je;);0===ne.length&&(ne.mode=21);break;case 26:if(0===kt)break e;He[dt++]=ne.length,kt--,ne.mode=21;break;case 27:if(ne.wrap){for(;Pt<32;){if(0===nt)break e;nt--,wt|=Pe[ze++]<<Pt,Pt+=8}if(Nt-=kt,Ie.total_out+=Nt,ne.total+=Nt,Nt&&(Ie.adler=ne.check=ne.flags?I(ne.check,He,Nt,dt-Nt):j(ne.check,He,Nt,dt-Nt)),Nt=kt,(ne.flags?wt:U(wt))!==ne.check){Ie.msg="incorrect data check",ne.mode=30;break}Pt=wt=0}ne.mode=28;case 28:if(ne.wrap&&ne.flags){for(;Pt<32;){if(0===nt)break e;nt--,wt+=Pe[ze++]<<Pt,Pt+=8}if(wt!==(4294967295&ne.total)){Ie.msg="incorrect length check",ne.mode=30;break}Pt=wt=0}ne.mode=29;case 29:$t=1;break e;case 30:$t=-3;break e;case 31:return-4;default:return x}return Ie.next_out=dt,Ie.avail_out=kt,Ie.next_in=ze,Ie.avail_in=nt,ne.hold=wt,ne.bits=Pt,(ne.wsize||Nt!==Ie.avail_out&&ne.mode<30&&(ne.mode<27||4!==Le))&&Ee(Ie,Ie.output,Ie.next_out,Nt-Ie.avail_out)?(ne.mode=31,-4):(en-=Ie.avail_in,Nt-=Ie.avail_out,Ie.total_in+=en,Ie.total_out+=Nt,ne.total+=Nt,ne.wrap&&Nt&&(Ie.adler=ne.check=ne.flags?I(ne.check,He,Nt,Ie.next_out-Nt):j(ne.check,He,Nt,Ie.next_out-Nt)),Ie.data_type=ne.bits+(ne.last?64:0)+(12===ne.mode?128:0)+(20===ne.mode||15===ne.mode?256:0),(0==en&&0===Nt||4===Le)&&$t===T&&($t=-5),$t)},l.inflateEnd=function(Ie){if(!Ie||!Ie.state)return x;var Le=Ie.state;return Le.window&&(Le.window=null),Ie.state=null,T},l.inflateGetHeader=function(Ie,Le){var ne;return Ie&&Ie.state?0==(2&(ne=Ie.state).wrap)?x:((ne.head=Le).done=!1,T):x},l.inflateSetDictionary=function(Ie,Le){var ne,Pe=Le.length;return Ie&&Ie.state?0!==(ne=Ie.state).wrap&&11!==ne.mode?x:11===ne.mode&&j(1,Le,Pe,0)!==ne.check?-3:Ee(Ie,Le,Pe,Pe)?(ne.mode=31,-4):(ne.havedict=1,T):x},l.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(k,L,l){"use strict";var A=k("../utils/common"),j=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],I=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],m=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],b=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];L.exports=function(v,w,T,x,S,N,F,U){var Y,ce,be,te,ae,_e,Te,Re,G,Ee=U.bits,Ie=0,Le=0,ne=0,Pe=0,He=0,ze=0,dt=0,nt=0,kt=0,wt=0,Pt=null,en=0,Nt=new A.Buf16(16),je=new A.Buf16(16),Ft=null,sn=0;for(Ie=0;Ie<=15;Ie++)Nt[Ie]=0;for(Le=0;Le<x;Le++)Nt[w[T+Le]]++;for(He=Ee,Pe=15;1<=Pe&&0===Nt[Pe];Pe--);if(Pe<He&&(He=Pe),0===Pe)return S[N++]=20971520,S[N++]=20971520,U.bits=1,0;for(ne=1;ne<Pe&&0===Nt[ne];ne++);for(He<ne&&(He=ne),Ie=nt=1;Ie<=15;Ie++)if(nt<<=1,(nt-=Nt[Ie])<0)return-1;if(0<nt&&(0===v||1!==Pe))return-1;for(je[1]=0,Ie=1;Ie<15;Ie++)je[Ie+1]=je[Ie]+Nt[Ie];for(Le=0;Le<x;Le++)0!==w[T+Le]&&(F[je[w[T+Le]]++]=Le);if(_e=0===v?(Pt=Ft=F,19):1===v?(Pt=j,en-=257,Ft=I,sn-=257,256):(Pt=m,Ft=b,-1),Ie=ne,ae=N,dt=Le=wt=0,be=-1,te=(kt=1<<(ze=He))-1,1===v&&852<kt||2===v&&592<kt)return 1;for(;;){for(Te=Ie-dt,G=F[Le]<_e?(Re=0,F[Le]):F[Le]>_e?(Re=Ft[sn+F[Le]],Pt[en+F[Le]]):(Re=96,0),Y=1<<Ie-dt,ne=ce=1<<ze;S[ae+(wt>>dt)+(ce-=Y)]=Te<<24|Re<<16|G|0,0!==ce;);for(Y=1<<Ie-1;wt&Y;)Y>>=1;if(0!==Y?(wt&=Y-1,wt+=Y):wt=0,Le++,0==--Nt[Ie]){if(Ie===Pe)break;Ie=w[T+F[Le]]}if(He<Ie&&(wt&te)!==be){for(0===dt&&(dt=He),ae+=ne,nt=1<<(ze=Ie-dt);ze+dt<Pe&&!((nt-=Nt[ze+dt])<=0);)ze++,nt<<=1;if(kt+=1<<ze,1===v&&852<kt||2===v&&592<kt)return 1;S[be=wt&te]=He<<24|ze<<16|ae-N|0}}return 0!==wt&&(S[ae+wt]=Ie-dt<<24|64<<16|0),U.bits=He,0}},{"../utils/common":41}],51:[function(k,L,l){"use strict";L.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(k,L,l){"use strict";var A=k("../utils/common"),j=0,I=1;function m(We){for(var _t=We.length;0<=--_t;)We[_t]=0}var b=0,v=29,w=256,T=w+1+v,x=30,S=19,N=2*T+1,F=15,U=16,Y=7,ce=256,be=16,te=17,ae=18,_e=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Te=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Re=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Ee=new Array(2*(T+2));m(Ee);var Ie=new Array(2*x);m(Ie);var Le=new Array(512);m(Le);var ne=new Array(256);m(ne);var Pe=new Array(v);m(Pe);var He,ze,dt,nt=new Array(x);function kt(We,_t,St,Ht,Mt){this.static_tree=We,this.extra_bits=_t,this.extra_base=St,this.elems=Ht,this.max_length=Mt,this.has_stree=We&&We.length}function wt(We,_t){this.dyn_tree=We,this.max_code=0,this.stat_desc=_t}function Pt(We){return We<256?Le[We]:Le[256+(We>>>7)]}function en(We,_t){We.pending_buf[We.pending++]=255&_t,We.pending_buf[We.pending++]=_t>>>8&255}function Nt(We,_t,St){We.bi_valid>U-St?(We.bi_buf|=_t<<We.bi_valid&65535,en(We,We.bi_buf),We.bi_buf=_t>>U-We.bi_valid,We.bi_valid+=St-U):(We.bi_buf|=_t<<We.bi_valid&65535,We.bi_valid+=St)}function je(We,_t,St){Nt(We,St[2*_t],St[2*_t+1])}function Ft(We,_t){for(var St=0;St|=1&We,We>>>=1,St<<=1,0<--_t;);return St>>>1}function sn(We,_t,St){var Ht,Mt,ee=new Array(F+1),pe=0;for(Ht=1;Ht<=F;Ht++)ee[Ht]=pe=pe+St[Ht-1]<<1;for(Mt=0;Mt<=_t;Mt++){var xe=We[2*Mt+1];0!==xe&&(We[2*Mt]=Ft(ee[xe]++,xe))}}function nn(We){var _t;for(_t=0;_t<T;_t++)We.dyn_ltree[2*_t]=0;for(_t=0;_t<x;_t++)We.dyn_dtree[2*_t]=0;for(_t=0;_t<S;_t++)We.bl_tree[2*_t]=0;We.dyn_ltree[2*ce]=1,We.opt_len=We.static_len=0,We.last_lit=We.matches=0}function zt(We){8<We.bi_valid?en(We,We.bi_buf):0<We.bi_valid&&(We.pending_buf[We.pending++]=We.bi_buf),We.bi_buf=0,We.bi_valid=0}function an(We,_t,St,Ht){var Mt=2*_t,ee=2*St;return We[Mt]<We[ee]||We[Mt]===We[ee]&&Ht[_t]<=Ht[St]}function On(We,_t,St){for(var Ht=We.heap[St],Mt=St<<1;Mt<=We.heap_len&&(Mt<We.heap_len&&an(_t,We.heap[Mt+1],We.heap[Mt],We.depth)&&Mt++,!an(_t,Ht,We.heap[Mt],We.depth));)We.heap[St]=We.heap[Mt],St=Mt,Mt<<=1;We.heap[St]=Ht}function Dn(We,_t,St){var Ht,Mt,ee,pe,xe=0;if(0!==We.last_lit)for(;Ht=We.pending_buf[We.d_buf+2*xe]<<8|We.pending_buf[We.d_buf+2*xe+1],Mt=We.pending_buf[We.l_buf+xe],xe++,0===Ht?je(We,Mt,_t):(je(We,(ee=ne[Mt])+w+1,_t),0!==(pe=_e[ee])&&Nt(We,Mt-=Pe[ee],pe),je(We,ee=Pt(--Ht),St),0!==(pe=Te[ee])&&Nt(We,Ht-=nt[ee],pe)),xe<We.last_lit;);je(We,ce,_t)}function fi(We,_t){var St,Ht,Mt,ee=_t.dyn_tree,pe=_t.stat_desc.static_tree,xe=_t.stat_desc.has_stree,Ce=_t.stat_desc.elems,Je=-1;for(We.heap_len=0,We.heap_max=N,St=0;St<Ce;St++)0!==ee[2*St]?(We.heap[++We.heap_len]=Je=St,We.depth[St]=0):ee[2*St+1]=0;for(;We.heap_len<2;)ee[2*(Mt=We.heap[++We.heap_len]=Je<2?++Je:0)]=1,We.depth[Mt]=0,We.opt_len--,xe&&(We.static_len-=pe[2*Mt+1]);for(_t.max_code=Je,St=We.heap_len>>1;1<=St;St--)On(We,ee,St);for(Mt=Ce;St=We.heap[1],We.heap[1]=We.heap[We.heap_len--],On(We,ee,1),Ht=We.heap[1],We.heap[--We.heap_max]=St,We.heap[--We.heap_max]=Ht,ee[2*Mt]=ee[2*St]+ee[2*Ht],We.depth[Mt]=(We.depth[St]>=We.depth[Ht]?We.depth[St]:We.depth[Ht])+1,ee[2*St+1]=ee[2*Ht+1]=Mt,We.heap[1]=Mt++,On(We,ee,1),2<=We.heap_len;);We.heap[--We.heap_max]=We.heap[1],function(lt,jt){var Oe,Fe,ut,It,cn,Nn,_n=jt.dyn_tree,Fn=jt.max_code,Hn=jt.stat_desc.static_tree,Tn=jt.stat_desc.has_stree,kn=jt.stat_desc.extra_bits,xn=jt.stat_desc.extra_base,hr=jt.stat_desc.max_length,$i=0;for(It=0;It<=F;It++)lt.bl_count[It]=0;for(_n[2*lt.heap[lt.heap_max]+1]=0,Oe=lt.heap_max+1;Oe<N;Oe++)hr<(It=_n[2*_n[2*(Fe=lt.heap[Oe])+1]+1]+1)&&(It=hr,$i++),_n[2*Fe+1]=It,Fn<Fe||(lt.bl_count[It]++,cn=0,xn<=Fe&&(cn=kn[Fe-xn]),Nn=_n[2*Fe],lt.opt_len+=Nn*(It+cn),Tn&&(lt.static_len+=Nn*(Hn[2*Fe+1]+cn)));if(0!==$i){do{for(It=hr-1;0===lt.bl_count[It];)It--;lt.bl_count[It]--,lt.bl_count[It+1]+=2,lt.bl_count[hr]--,$i-=2}while(0<$i);for(It=hr;0!==It;It--)for(Fe=lt.bl_count[It];0!==Fe;)Fn<(ut=lt.heap[--Oe])||(_n[2*ut+1]!==It&&(lt.opt_len+=(It-_n[2*ut+1])*_n[2*ut],_n[2*ut+1]=It),Fe--)}}(We,_t),sn(ee,Je,We.bl_count)}function ge(We,_t,St){var Ht,Mt,ee=-1,pe=_t[1],xe=0,Ce=7,Je=4;for(0===pe&&(Ce=138,Je=3),_t[2*(St+1)+1]=65535,Ht=0;Ht<=St;Ht++)Mt=pe,pe=_t[2*(Ht+1)+1],++xe<Ce&&Mt===pe||(xe<Je?We.bl_tree[2*Mt]+=xe:0!==Mt?(Mt!==ee&&We.bl_tree[2*Mt]++,We.bl_tree[2*be]++):xe<=10?We.bl_tree[2*te]++:We.bl_tree[2*ae]++,ee=Mt,Je=(xe=0)===pe?(Ce=138,3):Mt===pe?(Ce=6,3):(Ce=7,4))}function $t(We,_t,St){var Ht,Mt,ee=-1,pe=_t[1],xe=0,Ce=7,Je=4;for(0===pe&&(Ce=138,Je=3),Ht=0;Ht<=St;Ht++)if(Mt=pe,pe=_t[2*(Ht+1)+1],!(++xe<Ce&&Mt===pe)){if(xe<Je)for(;je(We,Mt,We.bl_tree),0!=--xe;);else 0!==Mt?(Mt!==ee&&(je(We,Mt,We.bl_tree),xe--),je(We,be,We.bl_tree),Nt(We,xe-3,2)):xe<=10?(je(We,te,We.bl_tree),Nt(We,xe-3,3)):(je(We,ae,We.bl_tree),Nt(We,xe-11,7));ee=Mt,Je=(xe=0)===pe?(Ce=138,3):Mt===pe?(Ce=6,3):(Ce=7,4)}}m(nt);var Dt=!1;function qe(We,_t,St,Ht){var Mt,ee,pe,xe;Nt(We,(b<<1)+(Ht?1:0),3),ee=_t,pe=St,xe=!0,zt(Mt=We),xe&&(en(Mt,pe),en(Mt,~pe)),A.arraySet(Mt.pending_buf,Mt.window,ee,pe,Mt.pending),Mt.pending+=pe}l._tr_init=function(We){Dt||(function(){var _t,St,Ht,Mt,ee,pe=new Array(F+1);for(Mt=Ht=0;Mt<v-1;Mt++)for(Pe[Mt]=Ht,_t=0;_t<1<<_e[Mt];_t++)ne[Ht++]=Mt;for(ne[Ht-1]=Mt,Mt=ee=0;Mt<16;Mt++)for(nt[Mt]=ee,_t=0;_t<1<<Te[Mt];_t++)Le[ee++]=Mt;for(ee>>=7;Mt<x;Mt++)for(nt[Mt]=ee<<7,_t=0;_t<1<<Te[Mt]-7;_t++)Le[256+ee++]=Mt;for(St=0;St<=F;St++)pe[St]=0;for(_t=0;_t<=143;)Ee[2*_t+1]=8,_t++,pe[8]++;for(;_t<=255;)Ee[2*_t+1]=9,_t++,pe[9]++;for(;_t<=279;)Ee[2*_t+1]=7,_t++,pe[7]++;for(;_t<=287;)Ee[2*_t+1]=8,_t++,pe[8]++;for(sn(Ee,T+1,pe),_t=0;_t<x;_t++)Ie[2*_t+1]=5,Ie[2*_t]=Ft(_t,5);He=new kt(Ee,_e,w+1,T,F),ze=new kt(Ie,Te,0,x,F),dt=new kt(new Array(0),Re,0,S,Y)}(),Dt=!0),We.l_desc=new wt(We.dyn_ltree,He),We.d_desc=new wt(We.dyn_dtree,ze),We.bl_desc=new wt(We.bl_tree,dt),We.bi_buf=0,We.bi_valid=0,nn(We)},l._tr_stored_block=qe,l._tr_flush_block=function(We,_t,St,Ht){var Mt,ee,pe=0;0<We.level?(2===We.strm.data_type&&(We.strm.data_type=function(xe){var Ce,Je=4093624447;for(Ce=0;Ce<=31;Ce++,Je>>>=1)if(1&Je&&0!==xe.dyn_ltree[2*Ce])return j;if(0!==xe.dyn_ltree[18]||0!==xe.dyn_ltree[20]||0!==xe.dyn_ltree[26])return I;for(Ce=32;Ce<w;Ce++)if(0!==xe.dyn_ltree[2*Ce])return I;return j}(We)),fi(We,We.l_desc),fi(We,We.d_desc),pe=function(xe){var Ce;for(ge(xe,xe.dyn_ltree,xe.l_desc.max_code),ge(xe,xe.dyn_dtree,xe.d_desc.max_code),fi(xe,xe.bl_desc),Ce=S-1;3<=Ce&&0===xe.bl_tree[2*G[Ce]+1];Ce--);return xe.opt_len+=3*(Ce+1)+5+5+4,Ce}(We),Mt=We.opt_len+3+7>>>3,(ee=We.static_len+3+7>>>3)<=Mt&&(Mt=ee)):Mt=ee=St+5,St+4<=Mt&&-1!==_t?qe(We,_t,St,Ht):4===We.strategy||ee===Mt?(Nt(We,2+(Ht?1:0),3),Dn(We,Ee,Ie)):(Nt(We,4+(Ht?1:0),3),function(xe,Ce,Je,lt){var jt;for(Nt(xe,Ce-257,5),Nt(xe,Je-1,5),Nt(xe,lt-4,4),jt=0;jt<lt;jt++)Nt(xe,xe.bl_tree[2*G[jt]+1],3);$t(xe,xe.dyn_ltree,Ce-1),$t(xe,xe.dyn_dtree,Je-1)}(We,We.l_desc.max_code+1,We.d_desc.max_code+1,pe+1),Dn(We,We.dyn_ltree,We.dyn_dtree)),nn(We),Ht&&zt(We)},l._tr_tally=function(We,_t,St){return We.pending_buf[We.d_buf+2*We.last_lit]=_t>>>8&255,We.pending_buf[We.d_buf+2*We.last_lit+1]=255&_t,We.pending_buf[We.l_buf+We.last_lit]=255&St,We.last_lit++,0===_t?We.dyn_ltree[2*St]++:(We.matches++,_t--,We.dyn_ltree[2*(ne[St]+w+1)]++,We.dyn_dtree[2*Pt(_t)]++),We.last_lit===We.lit_bufsize-1},l._tr_align=function(We){var _t;Nt(We,2,3),je(We,ce,Ee),16===(_t=We).bi_valid?(en(_t,_t.bi_buf),_t.bi_buf=0,_t.bi_valid=0):8<=_t.bi_valid&&(_t.pending_buf[_t.pending++]=255&_t.bi_buf,_t.bi_buf>>=8,_t.bi_valid-=8)}},{"../utils/common":41}],53:[function(k,L,l){"use strict";L.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(k,L,l){"use strict";L.exports="function"==typeof setImmediate?setImmediate:function(){var A=[].slice.apply(arguments);A.splice(1,0,0),setTimeout.apply(null,A)}},{}]},{},[10])(10)},2938:function(V,k,L){var l;V=L.nmd(V),function(){var A,b="Expected a function",w="__lodash_hash_undefined__",x="__lodash_placeholder__",G=128,kt=1/0,wt=9007199254740991,Nt=4294967295,sn=[["ary",G],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],nn="[object Arguments]",zt="[object Array]",On="[object Boolean]",Dn="[object Date]",ge="[object Error]",$t="[object Function]",Dt="[object GeneratorFunction]",qe="[object Map]",We="[object Number]",St="[object Object]",Ht="[object Promise]",ee="[object RegExp]",pe="[object Set]",xe="[object String]",Ce="[object Symbol]",lt="[object WeakMap]",Oe="[object ArrayBuffer]",Fe="[object DataView]",ut="[object Float32Array]",It="[object Float64Array]",cn="[object Int8Array]",Nn="[object Int16Array]",_n="[object Int32Array]",Fn="[object Uint8Array]",Hn="[object Uint8ClampedArray]",Tn="[object Uint16Array]",kn="[object Uint32Array]",xn=/\b__p \+= '';/g,hr=/\b(__p \+=) '' \+/g,$i=/(__e\(.*?\)|\b__t\)) \+\n'';/g,kr=/&(?:amp|lt|gt|quot|#39);/g,yr=/[&<>"']/g,xr=RegExp(kr.source),rr=RegExp(yr.source),Xr=/<%-([\s\S]+?)%>/g,es=/<%([\s\S]+?)%>/g,Yi=/<%=([\s\S]+?)%>/g,Hs=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ps=/^\w*$/,Or=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bn=/[\\^$.*+?()[\]{}|]/g,Qe=RegExp(bn.source),ft=/^\s+/,mn=/\s/,Wt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Di=/\{\n\/\* \[wrapped with (.+)\] \*/,di=/,? & /,zi=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,_r=/[()=,{}\[\]\/\s]/,yo=/\\(\\)?/g,sr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Qr=/\w*$/,Ts=/^[-+]0x[0-9a-f]+$/i,Zr=/^0b[01]+$/i,Us=/^\[object .+?Constructor\]$/,Hi=/^0o[0-7]+$/i,Zn=/^(?:0|[1-9]\d*)$/,Gi=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,pr=/($^)/,ts=/['\n\r\u2028\u2029\\]/g,Jr="\\ud800-\\udfff",lr="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ns="\\u2700-\\u27bf",ai="a-z\\xdf-\\xf6\\xf8-\\xff",ar="A-Z\\xc0-\\xd6\\xd8-\\xde",ki="\\ufe0e\\ufe0f",Rr="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",is="['\u2019]",Et="["+Jr+"]",Rt="["+Rr+"]",Tt="["+lr+"]",wn="\\d+",In="["+ns+"]",Qn="["+ai+"]",$n="[^"+Jr+Rr+wn+ns+ai+ar+"]",mi="\\ud83c[\\udffb-\\udfff]",Ri="[^"+Jr+"]",Mi="(?:\\ud83c[\\udde6-\\uddff]){2}",Wr="[\\ud800-\\udbff][\\udc00-\\udfff]",Is="["+ar+"]",he="(?:"+Qn+"|"+$n+")",ke="(?:"+Is+"|"+$n+")",vt="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Qt="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",yn="(?:"+Tt+"|"+mi+")"+"?",ui="["+ki+"]?",Jt=ui+yn+("(?:\\u200d(?:"+[Ri,Mi,Wr].join("|")+")"+ui+yn+")*"),Pn="(?:"+[In,Mi,Wr].join("|")+")"+Jt,oi="(?:"+[Ri+Tt+"?",Tt,Mi,Wr,Et].join("|")+")",Cr=RegExp(is,"g"),Fs=RegExp(Tt,"g"),Br=RegExp(mi+"(?="+mi+")|"+oi+Jt,"g"),eo=RegExp([Is+"?"+Qn+"+"+vt+"(?="+[Rt,Is,"$"].join("|")+")",ke+"+"+Qt+"(?="+[Rt,Is+he,"$"].join("|")+")",Is+"?"+he+"+"+vt,Is+"+"+Qt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",wn,Pn].join("|"),"g"),gs=RegExp("[\\u200d"+Jr+lr+ki+"]"),ys=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,zr=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ea=-1,Gr={};Gr[ut]=Gr[It]=Gr[cn]=Gr[Nn]=Gr[_n]=Gr[Fn]=Gr[Hn]=Gr[Tn]=Gr[kn]=!0,Gr[nn]=Gr[zt]=Gr[Oe]=Gr[On]=Gr[Fe]=Gr[Dn]=Gr[ge]=Gr[$t]=Gr[qe]=Gr[We]=Gr[St]=Gr[ee]=Gr[pe]=Gr[xe]=Gr[lt]=!1;var ur={};ur[nn]=ur[zt]=ur[Oe]=ur[Fe]=ur[On]=ur[Dn]=ur[ut]=ur[It]=ur[cn]=ur[Nn]=ur[_n]=ur[qe]=ur[We]=ur[St]=ur[ee]=ur[pe]=ur[xe]=ur[Ce]=ur[Fn]=ur[Hn]=ur[Tn]=ur[kn]=!0,ur[ge]=ur[$t]=ur[lt]=!1;var Ho={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},to=parseFloat,rs=parseInt,Eo="object"==typeof global&&global&&global.Object===Object&&global,Ls="object"==typeof self&&self&&self.Object===Object&&self,R=Eo||Ls||Function("return this")(),Q=k&&!k.nodeType&&k,ue=Q&&V&&!V.nodeType&&V,ve=ue&&ue.exports===Q,Ve=ve&&Eo.process,Ge=function(){try{return ue&&ue.require&&ue.require("util").types||Ve&&Ve.binding&&Ve.binding("util")}catch(Rn){}}(),Xe=Ge&&Ge.isArrayBuffer,Bt=Ge&&Ge.isDate,Lt=Ge&&Ge.isMap,de=Ge&&Ge.isRegExp,P=Ge&&Ge.isSet,O=Ge&&Ge.isTypedArray;function Z(on,Rn,Cn){switch(Cn.length){case 0:return on.call(Rn);case 1:return on.call(Rn,Cn[0]);case 2:return on.call(Rn,Cn[0],Cn[1]);case 3:return on.call(Rn,Cn[0],Cn[1],Cn[2])}return on.apply(Rn,Cn)}function Me(on,Rn,Cn,Ii){for(var Mr=-1,Ns=null==on?0:on.length;++Mr<Ns;){var Zs=on[Mr];Rn(Ii,Zs,Cn(Zs),on)}return Ii}function et(on,Rn){for(var Cn=-1,Ii=null==on?0:on.length;++Cn<Ii&&!1!==Rn(on[Cn],Cn,on););return on}function hn(on,Rn){for(var Cn=null==on?0:on.length;Cn--&&!1!==Rn(on[Cn],Cn,on););return on}function En(on,Rn){for(var Cn=-1,Ii=null==on?0:on.length;++Cn<Ii;)if(!Rn(on[Cn],Cn,on))return!1;return!0}function vi(on,Rn){for(var Cn=-1,Ii=null==on?0:on.length,Mr=0,Ns=[];++Cn<Ii;){var Zs=on[Cn];Rn(Zs,Cn,on)&&(Ns[Mr++]=Zs)}return Ns}function Zi(on,Rn){return!!(null==on?0:on.length)&&uo(on,Rn,0)>-1}function Ir(on,Rn,Cn){for(var Ii=-1,Mr=null==on?0:on.length;++Ii<Mr;)if(Cn(Rn,on[Ii]))return!0;return!1}function ci(on,Rn){for(var Cn=-1,Ii=null==on?0:on.length,Mr=Array(Ii);++Cn<Ii;)Mr[Cn]=Rn(on[Cn],Cn,on);return Mr}function _i(on,Rn){for(var Cn=-1,Ii=Rn.length,Mr=on.length;++Cn<Ii;)on[Mr+Cn]=Rn[Cn];return on}function wr(on,Rn,Cn,Ii){var Mr=-1,Ns=null==on?0:on.length;for(Ii&&Ns&&(Cn=on[++Mr]);++Mr<Ns;)Cn=Rn(Cn,on[Mr],Mr,on);return Cn}function Ji(on,Rn,Cn,Ii){var Mr=null==on?0:on.length;for(Ii&&Mr&&(Cn=on[--Mr]);Mr--;)Cn=Rn(Cn,on[Mr],Mr,on);return Cn}function wi(on,Rn){for(var Cn=-1,Ii=null==on?0:on.length;++Cn<Ii;)if(Rn(on[Cn],Cn,on))return!0;return!1}var mo=ha("length");function Co(on,Rn,Cn){var Ii;return Cn(on,function(Mr,Ns,Zs){if(Rn(Mr,Ns,Zs))return Ii=Ns,!1}),Ii}function Oo(on,Rn,Cn,Ii){for(var Mr=on.length,Ns=Cn+(Ii?1:-1);Ii?Ns--:++Ns<Mr;)if(Rn(on[Ns],Ns,on))return Ns;return-1}function uo(on,Rn,Cn){return Rn==Rn?function(on,Rn,Cn){for(var Ii=Cn-1,Mr=on.length;++Ii<Mr;)if(on[Ii]===Rn)return Ii;return-1}(on,Rn,Cn):Oo(on,Un,Cn)}function wo(on,Rn,Cn,Ii){for(var Mr=Cn-1,Ns=on.length;++Mr<Ns;)if(Ii(on[Mr],Rn))return Mr;return-1}function Un(on){return on!=on}function Vr(on,Rn){var Cn=null==on?0:on.length;return Cn?li(on,Rn)/Cn:NaN}function ha(on){return function(Rn){return null==Rn?A:Rn[on]}}function $s(on){return function(Rn){return null==on?A:on[Rn]}}function za(on,Rn,Cn,Ii,Mr){return Mr(on,function(Ns,Zs,ws){Cn=Ii?(Ii=!1,Ns):Rn(Cn,Ns,Zs,ws)}),Cn}function li(on,Rn){for(var Cn,Ii=-1,Mr=on.length;++Ii<Mr;){var Ns=Rn(on[Ii]);Ns!==A&&(Cn=Cn===A?Ns:Cn+Ns)}return Cn}function To(on,Rn){for(var Cn=-1,Ii=Array(on);++Cn<on;)Ii[Cn]=Rn(Cn);return Ii}function ol(on){return on&&on.slice(0,sa(on)+1).replace(ft,"")}function Ki(on){return function(Rn){return on(Rn)}}function Ys(on,Rn){return ci(Rn,function(Cn){return on[Cn]})}function Hr(on,Rn){return on.has(Rn)}function K(on,Rn){for(var Cn=-1,Ii=on.length;++Cn<Ii&&uo(Rn,on[Cn],0)>-1;);return Cn}function fe(on,Rn){for(var Cn=on.length;Cn--&&uo(Rn,on[Cn],0)>-1;);return Cn}function Be(on,Rn){for(var Cn=on.length,Ii=0;Cn--;)on[Cn]===Rn&&++Ii;return Ii}var ot=$s({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Gt=$s({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function yt(on){return"\\"+Ho[on]}function qn(on){return gs.test(on)}function hi(on){var Rn=-1,Cn=Array(on.size);return on.forEach(function(Ii,Mr){Cn[++Rn]=[Mr,Ii]}),Cn}function er(on,Rn){return function(Cn){return on(Rn(Cn))}}function Ui(on,Rn){for(var Cn=-1,Ii=on.length,Mr=0,Ns=[];++Cn<Ii;){var Zs=on[Cn];(Zs===Rn||Zs===x)&&(on[Cn]=x,Ns[Mr++]=Cn)}return Ns}function ms(on){var Rn=-1,Cn=Array(on.size);return on.forEach(function(Ii){Cn[++Rn]=Ii}),Cn}function Io(on){return qn(on)?function(on){for(var Rn=Br.lastIndex=0;Br.test(on);)++Rn;return Rn}(on):mo(on)}function Ur(on){return qn(on)?function(on){return on.match(Br)||[]}(on):function(on){return on.split("")}(on)}function sa(on){for(var Rn=on.length;Rn--&&mn.test(on.charAt(Rn)););return Rn}var al=$s({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var ks=function on(Rn){var f,Cn=(Rn=null==Rn?R:ks.defaults(R.Object(),Rn,ks.pick(R,zr))).Array,Ii=Rn.Date,Mr=Rn.Error,Ns=Rn.Function,Zs=Rn.Math,ws=Rn.Object,Ga=Rn.RegExp,yl=Rn.String,at=Rn.TypeError,Ot=Cn.prototype,qt=Ns.prototype,An=ws.prototype,rn=Rn["__core-js_shared__"],Mn=qt.toString,Sn=An.hasOwnProperty,gi=0,Pi=(f=/[^.]+$/.exec(rn&&rn.keys&&rn.keys.IE_PROTO||""))?"Symbol(src)_1."+f:"",cr=An.toString,gr=Mn.call(ws),br=R._,Pr=Ga("^"+Mn.call(Sn).replace(bn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mr=ve?Rn.Buffer:A,Vi=Rn.Symbol,vs=Rn.Uint8Array,co=mr?mr.allocUnsafe:A,Do=er(ws.getPrototypeOf,ws),bs=ws.create,ho=An.propertyIsEnumerable,vo=Ot.splice,Fo=Vi?Vi.isConcatSpreadable:A,qa=Vi?Vi.iterator:A,El=Vi?Vi.toStringTag:A,uu=function(){try{var f=Zl(ws,"defineProperty");return f({},"",{}),f}catch(E){}}(),Oc=Rn.clearTimeout!==R.clearTimeout&&Rn.clearTimeout,cu=Ii&&Ii.now!==R.Date.now&&Ii.now,Cl=Rn.setTimeout!==R.setTimeout&&Rn.setTimeout,wl=Zs.ceil,Kl=Zs.floor,ll=ws.getOwnPropertySymbols,ql=mr?mr.isBuffer:A,Bl=Rn.isFinite,me=Ot.join,z=er(ws.keys,ws),se=Zs.max,we=Zs.min,$e=Ii.now,ct=Rn.parseInt,pt=Zs.random,un=Ot.reverse,jn=Zl(Rn,"DataView"),qi=Zl(Rn,"Map"),Qi=Zl(Rn,"Promise"),Sr=Zl(Rn,"Set"),jr=Zl(Rn,"WeakMap"),Bs=Zl(ws,"create"),Ao=jr&&new jr,_o={},Po=wu(jn),Da=wu(qi),ko=wu(Qi),Uo=wu(Sr),Uu=wu(jr),Vl=Vi?Vi.prototype:A,Ya=Vl?Vl.valueOf:A,ad=Vl?Vl.toString:A;function rt(f){if(Qo(f)&&!hs(f)&&!(f instanceof Ss)){if(f instanceof Ca)return f;if(Sn.call(f,"__wrapped__"))return tu(f)}return new Ca(f)}var du=function(){function f(){}return function(E){if(!Lo(E))return{};if(bs)return bs(E);f.prototype=E;var q=new f;return f.prototype=A,q}}();function oc(){}function Ca(f,E){this.__wrapped__=f,this.__actions__=[],this.__chain__=!!E,this.__index__=0,this.__values__=A}function Ss(f){this.__wrapped__=f,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Nt,this.__views__=[]}function us(f){var E=-1,q=null==f?0:f.length;for(this.clear();++E<q;){var Se=f[E];this.set(Se[0],Se[1])}}function ja(f){var E=-1,q=null==f?0:f.length;for(this.clear();++E<q;){var Se=f[E];this.set(Se[0],Se[1])}}function Sl(f){var E=-1,q=null==f?0:f.length;for(this.clear();++E<q;){var Se=f[E];this.set(Se[0],Se[1])}}function $o(f){var E=-1,q=null==f?0:f.length;for(this.__data__=new Sl;++E<q;)this.add(f[E])}function Tl(f){var E=this.__data__=new ja(f);this.size=E.size}function W(f,E){var q=hs(f),Se=!q&&Qu(f),Ye=!q&&!Se&&Ou(f),gt=!q&&!Se&&!Ye&&yc(f),Ut=q||Se||Ye||gt,Zt=Ut?To(f.length,yl):[],fn=Zt.length;for(var zn in f)(E||Sn.call(f,zn))&&(!Ut||!("length"==zn||Ye&&("offset"==zn||"parent"==zn)||gt&&("buffer"==zn||"byteLength"==zn||"byteOffset"==zn)||Sa(zn,fn)))&&Zt.push(zn);return Zt}function i(f){var E=f.length;return E?f[xl(0,E-1)]:A}function t(f,E){return Ul(Pa(f),Ne(E,0,f.length))}function u(f){return Ul(Pa(f))}function g(f,E,q){(q!==A&&!tl(f[E],q)||q===A&&!(E in f))&&le(f,E,q)}function C(f,E,q){var Se=f[E];(!Sn.call(f,E)||!tl(Se,q)||q===A&&!(E in f))&&le(f,E,q)}function D(f,E){for(var q=f.length;q--;)if(tl(f[q][0],E))return q;return-1}function B(f,E,q,Se){return dn(f,function(Ye,gt,Ut){E(Se,Ye,q(Ye),Ut)}),Se}function J(f,E){return f&&Ra(E,ca(E),f)}function le(f,E,q){"__proto__"==E&&uu?uu(f,E,{configurable:!0,enumerable:!0,value:q,writable:!0}):f[E]=q}function De(f,E){for(var q=-1,Se=E.length,Ye=Cn(Se),gt=null==f;++q<Se;)Ye[q]=gt?A:bc(f,E[q]);return Ye}function Ne(f,E,q){return f==f&&(q!==A&&(f=f<=q?f:q),E!==A&&(f=f>=E?f:E)),f}function Ze(f,E,q,Se,Ye,gt){var Ut,Zt=1&E,fn=2&E,zn=4&E;if(q&&(Ut=Ye?q(f,Se,Ye,gt):q(f)),Ut!==A)return Ut;if(!Lo(f))return f;var Kn=hs(f);if(Kn){if(Ut=function(f){var E=f.length,q=new f.constructor(E);return E&&"string"==typeof f[0]&&Sn.call(f,"index")&&(q.index=f.index,q.input=f.input),q}(f),!Zt)return Pa(f,Ut)}else{var ei=Mo(f),Ni=ei==$t||ei==Dt;if(Ou(f))return Zd(f,Zt);if(ei==St||ei==nn||Ni&&!Ye){if(Ut=fn||Ni?{}:lh(f),!Zt)return fn?function(f,E){return Ra(f,oh(f),E)}(f,function(f,E){return f&&Ra(E,Va(E),f)}(Ut,f)):function(f,E){return Ra(f,wd(f),E)}(f,J(Ut,f))}else{if(!ur[ei])return Ye?f:{};Ut=function(f,E,q){var Se=f.constructor;switch(E){case Oe:return cc(f);case On:case Dn:return new Se(+f);case Fe:return function(f,E){var q=E?cc(f.buffer):f.buffer;return new f.constructor(q,f.byteOffset,f.byteLength)}(f,q);case ut:case It:case cn:case Nn:case _n:case Fn:case Hn:case Tn:case kn:return Ia(f,q);case qe:return new Se;case We:case xe:return new Se(f);case ee:return function(f){var E=new f.constructor(f.source,Qr.exec(f));return E.lastIndex=f.lastIndex,E}(f);case pe:return new Se;case Ce:return function(f){return Ya?ws(Ya.call(f)):{}}(f)}}(f,ei,Zt)}}gt||(gt=new Tl);var ir=gt.get(f);if(ir)return ir;gt.set(f,Ut),kd(f)?f.forEach(function(Fr){Ut.add(Ze(Fr,E,q,Fr,f,gt))}):Fh(f)&&f.forEach(function(Fr,Rs){Ut.set(Rs,Ze(Fr,E,q,Rs,f,gt))});var fs=Kn?A:(zn?fn?Xo:Ku:fn?Va:ca)(f);return et(fs||f,function(Fr,Rs){fs&&(Fr=f[Rs=Fr]),C(Ut,Rs,Ze(Fr,E,q,Rs,f,gt))}),Ut}function Ct(f,E,q){var Se=q.length;if(null==f)return!Se;for(f=ws(f);Se--;){var Ye=q[Se],gt=E[Ye],Ut=f[Ye];if(Ut===A&&!(Ye in f)||!gt(Ut))return!1}return!0}function Kt(f,E,q){if("function"!=typeof f)throw new at(b);return Sd(function(){f.apply(A,q)},E)}function Xt(f,E,q,Se){var Ye=-1,gt=Zi,Ut=!0,Zt=f.length,fn=[],zn=E.length;if(!Zt)return fn;q&&(E=ci(E,Ki(q))),Se?(gt=Ir,Ut=!1):E.length>=200&&(gt=Hr,Ut=!1,E=new $o(E));e:for(;++Ye<Zt;){var Kn=f[Ye],ei=null==q?Kn:q(Kn);if(Kn=Se||0!==Kn?Kn:0,Ut&&ei==ei){for(var Ni=zn;Ni--;)if(E[Ni]===ei)continue e;fn.push(Kn)}else gt(E,ei,Se)||fn.push(Kn)}return fn}rt.templateSettings={escape:Xr,evaluate:es,interpolate:Yi,variable:"",imports:{_:rt}},rt.prototype=oc.prototype,rt.prototype.constructor=rt,Ca.prototype=du(oc.prototype),Ca.prototype.constructor=Ca,Ss.prototype=du(oc.prototype),Ss.prototype.constructor=Ss,us.prototype.clear=function(){this.__data__=Bs?Bs(null):{},this.size=0},us.prototype.delete=function(f){var E=this.has(f)&&delete this.__data__[f];return this.size-=E?1:0,E},us.prototype.get=function(f){var E=this.__data__;if(Bs){var q=E[f];return q===w?A:q}return Sn.call(E,f)?E[f]:A},us.prototype.has=function(f){var E=this.__data__;return Bs?E[f]!==A:Sn.call(E,f)},us.prototype.set=function(f,E){var q=this.__data__;return this.size+=this.has(f)?0:1,q[f]=Bs&&E===A?w:E,this},ja.prototype.clear=function(){this.__data__=[],this.size=0},ja.prototype.delete=function(f){var E=this.__data__,q=D(E,f);return!(q<0)&&(q==E.length-1?E.pop():vo.call(E,q,1),--this.size,!0)},ja.prototype.get=function(f){var E=this.__data__,q=D(E,f);return q<0?A:E[q][1]},ja.prototype.has=function(f){return D(this.__data__,f)>-1},ja.prototype.set=function(f,E){var q=this.__data__,Se=D(q,f);return Se<0?(++this.size,q.push([f,E])):q[Se][1]=E,this},Sl.prototype.clear=function(){this.size=0,this.__data__={hash:new us,map:new(qi||ja),string:new us}},Sl.prototype.delete=function(f){var E=Hc(this,f).delete(f);return this.size-=E?1:0,E},Sl.prototype.get=function(f){return Hc(this,f).get(f)},Sl.prototype.has=function(f){return Hc(this,f).has(f)},Sl.prototype.set=function(f,E){var q=Hc(this,f),Se=q.size;return q.set(f,E),this.size+=q.size==Se?0:1,this},$o.prototype.add=$o.prototype.push=function(f){return this.__data__.set(f,w),this},$o.prototype.has=function(f){return this.__data__.has(f)},Tl.prototype.clear=function(){this.__data__=new ja,this.size=0},Tl.prototype.delete=function(f){var E=this.__data__,q=E.delete(f);return this.size=E.size,q},Tl.prototype.get=function(f){return this.__data__.get(f)},Tl.prototype.has=function(f){return this.__data__.has(f)},Tl.prototype.set=function(f,E){var q=this.__data__;if(q instanceof ja){var Se=q.__data__;if(!qi||Se.length<199)return Se.push([f,E]),this.size=++q.size,this;q=this.__data__=new Sl(Se)}return q.set(f,E),this.size=q.size,this};var dn=im(Ci),yi=im(As,!0);function ni(f,E){var q=!0;return dn(f,function(Se,Ye,gt){return q=!!E(Se,Ye,gt)}),q}function Jn(f,E,q){for(var Se=-1,Ye=f.length;++Se<Ye;){var gt=f[Se],Ut=E(gt);if(null!=Ut&&(Zt===A?Ut==Ut&&!vl(Ut):q(Ut,Zt)))var Zt=Ut,fn=gt}return fn}function ri(f,E){var q=[];return dn(f,function(Se,Ye,gt){E(Se,Ye,gt)&&q.push(Se)}),q}function Xn(f,E,q,Se,Ye){var gt=-1,Ut=f.length;for(q||(q=Il),Ye||(Ye=[]);++gt<Ut;){var Zt=f[gt];E>0&&q(Zt)?E>1?Xn(Zt,E-1,q,Se,Ye):_i(Ye,Zt):Se||(Ye[Ye.length]=Zt)}return Ye}var Wi=gd(),vr=gd(!0);function Ci(f,E){return f&&Wi(f,E,ca)}function As(f,E){return f&&vr(f,E,ca)}function fo(f,E){return vi(E,function(q){return Wl(f[q])})}function Ws(f,E){for(var q=0,Se=(E=Yo(E,f)).length;null!=f&&q<Se;)f=f[eu(E[q++])];return q&&q==Se?f:A}function wa(f,E,q){var Se=E(f);return hs(f)?Se:_i(Se,q(f))}function ro(f){return null==f?f===A?"[object Undefined]":"[object Null]":El&&El in ws(f)?function(f){var E=Sn.call(f,El),q=f[El];try{f[El]=A;var Se=!0}catch(gt){}var Ye=cr.call(f);return Se&&(E?f[El]=q:delete f[El]),Ye}(f):function(f){return cr.call(f)}(f)}function Aa(f,E){return f>E}function oa(f,E){return null!=f&&Sn.call(f,E)}function po(f,E){return null!=f&&E in ws(f)}function pa(f,E,q){for(var Se=q?Ir:Zi,Ye=f[0].length,gt=f.length,Ut=gt,Zt=Cn(gt),fn=1/0,zn=[];Ut--;){var Kn=f[Ut];Ut&&E&&(Kn=ci(Kn,Ki(E))),fn=we(Kn.length,fn),Zt[Ut]=!q&&(E||Ye>=120&&Kn.length>=120)?new $o(Ut&&Kn):A}Kn=f[0];var ei=-1,Ni=Zt[0];e:for(;++ei<Ye&&zn.length<fn;){var ir=Kn[ei],Nr=E?E(ir):ir;if(ir=q||0!==ir?ir:0,!(Ni?Hr(Ni,Nr):Se(zn,Nr,q))){for(Ut=gt;--Ut;){var fs=Zt[Ut];if(!(fs?Hr(fs,Nr):Se(f[Ut],Nr,q)))continue e}Ni&&Ni.push(Nr),zn.push(ir)}}return zn}function cs(f,E,q){var Se=null==(f=af(f,E=Yo(E,f)))?f:f[eu($l(E))];return null==Se?A:Z(Se,f,q)}function zs(f){return Qo(f)&&ro(f)==nn}function Es(f,E,q,Se,Ye){return f===E||(null==f||null==E||!Qo(f)&&!Qo(E)?f!=f&&E!=E:function(f,E,q,Se,Ye,gt){var Ut=hs(f),Zt=hs(E),fn=Ut?zt:Mo(f),zn=Zt?zt:Mo(E),Kn=(fn=fn==nn?St:fn)==St,ei=(zn=zn==nn?St:zn)==St,Ni=fn==zn;if(Ni&&Ou(f)){if(!Ou(E))return!1;Ut=!0,Kn=!1}if(Ni&&!Kn)return gt||(gt=new Tl),Ut||yc(f)?sh(f,E,q,Se,Ye,gt):function(f,E,q,Se,Ye,gt,Ut){switch(q){case Fe:if(f.byteLength!=E.byteLength||f.byteOffset!=E.byteOffset)return!1;f=f.buffer,E=E.buffer;case Oe:return!(f.byteLength!=E.byteLength||!gt(new vs(f),new vs(E)));case On:case Dn:case We:return tl(+f,+E);case ge:return f.name==E.name&&f.message==E.message;case ee:case xe:return f==E+"";case qe:var Zt=hi;case pe:var fn=1&Se;if(Zt||(Zt=ms),f.size!=E.size&&!fn)return!1;var zn=Ut.get(f);if(zn)return zn==E;Se|=2,Ut.set(f,E);var Kn=sh(Zt(f),Zt(E),Se,Ye,gt,Ut);return Ut.delete(f),Kn;case Ce:if(Ya)return Ya.call(f)==Ya.call(E)}return!1}(f,E,fn,q,Se,Ye,gt);if(!(1&q)){var ir=Kn&&Sn.call(f,"__wrapped__"),Nr=ei&&Sn.call(E,"__wrapped__");if(ir||Nr){var fs=ir?f.value():f,Fr=Nr?E.value():E;return gt||(gt=new Tl),Ye(fs,Fr,q,Se,gt)}}return!!Ni&&(gt||(gt=new Tl),function(f,E,q,Se,Ye,gt){var Ut=1&q,Zt=Ku(f),fn=Zt.length,Kn=Ku(E).length;if(fn!=Kn&&!Ut)return!1;for(var ei=fn;ei--;){var Ni=Zt[ei];if(!(Ut?Ni in E:Sn.call(E,Ni)))return!1}var ir=gt.get(f),Nr=gt.get(E);if(ir&&Nr)return ir==E&&Nr==f;var fs=!0;gt.set(f,E),gt.set(E,f);for(var Fr=Ut;++ei<fn;){var Rs=f[Ni=Zt[ei]],Ms=E[Ni];if(Se)var $a=Ut?Se(Ms,Rs,Ni,E,f,gt):Se(Rs,Ms,Ni,f,E,gt);if(!($a===A?Rs===Ms||Ye(Rs,Ms,q,Se,gt):$a)){fs=!1;break}Fr||(Fr="constructor"==Ni)}if(fs&&!Fr){var Wa=f.constructor,kl=E.constructor;Wa!=kl&&"constructor"in f&&"constructor"in E&&!("function"==typeof Wa&&Wa instanceof Wa&&"function"==typeof kl&&kl instanceof kl)&&(fs=!1)}return gt.delete(f),gt.delete(E),fs}(f,E,q,Se,Ye,gt))}(f,E,q,Se,Es,Ye))}function Xa(f,E,q,Se){var Ye=q.length,gt=Ye,Ut=!Se;if(null==f)return!gt;for(f=ws(f);Ye--;){var Zt=q[Ye];if(Ut&&Zt[2]?Zt[1]!==f[Zt[0]]:!(Zt[0]in f))return!1}for(;++Ye<gt;){var fn=(Zt=q[Ye])[0],zn=f[fn],Kn=Zt[1];if(Ut&&Zt[2]){if(zn===A&&!(fn in f))return!1}else{var ei=new Tl;if(Se)var Ni=Se(zn,Kn,fn,f,E,ei);if(!(Ni===A?Es(Kn,zn,3,Se,ei):Ni))return!1}}return!0}function aa(f){return!(!Lo(f)||function(f){return!!Pi&&Pi in f}(f))&&(Wl(f)?Pr:Us).test(wu(f))}function dl(f){return"function"==typeof f?f:null==f?Ua:"object"==typeof f?hs(f)?cd(f[0],f[1]):Ka(f):Tg(f)}function hl(f){if(!Uc(f))return z(f);var E=[];for(var q in ws(f))Sn.call(f,q)&&"constructor"!=q&&E.push(q);return E}function Qa(f){if(!Lo(f))return function(f){var E=[];if(null!=f)for(var q in ws(f))E.push(q);return E}(f);var E=Uc(f),q=[];for(var Se in f)"constructor"==Se&&(E||!Sn.call(f,Se))||q.push(Se);return q}function fl(f,E){return f<E}function Wu(f,E){var q=-1,Se=nl(f)?Cn(f.length):[];return dn(f,function(Ye,gt,Ut){Se[++q]=E(Ye,gt,Ut)}),Se}function Ka(f){var E=Cd(f);return 1==E.length&&E[0][2]?fc(E[0][0],E[0][1]):function(q){return q===f||Xa(q,f,E)}}function cd(f,E){return Cu(f)&&om(E)?fc(eu(f),E):function(q){var Se=bc(q,f);return Se===A&&Se===E?Vh(q,f):Es(E,Se,3)}}function fu(f,E,q,Se,Ye){f!==E&&Wi(E,function(gt,Ut){if(Ye||(Ye=new Tl),Lo(gt))!function(f,E,q,Se,Ye,gt,Ut){var Zt=Ps(f,q),fn=Ps(E,q),zn=Ut.get(fn);if(zn)return void g(f,q,zn);var Kn=gt?gt(Zt,fn,q+"",f,E,Ut):A,ei=Kn===A;if(ei){var Ni=hs(fn),ir=!Ni&&Ou(fn),Nr=!Ni&&!ir&&yc(fn);Kn=fn,Ni||ir||Nr?hs(Zt)?Kn=Zt:zo(Zt)?Kn=Pa(Zt):ir?(ei=!1,Kn=Zd(fn,!0)):Nr?(ei=!1,Kn=Ia(fn,!0)):Kn=[]:Qc(fn)||Qu(fn)?(Kn=Zt,Qu(Zt)?Kn=Vf(Zt):(!Lo(Zt)||Wl(Zt))&&(Kn=lh(fn))):ei=!1}ei&&(Ut.set(fn,Kn),Ye(Kn,fn,Se,gt,Ut),Ut.delete(fn)),g(f,q,Kn)}(f,E,Ut,q,fu,Se,Ye);else{var Zt=Se?Se(Ps(f,Ut),gt,Ut+"",f,E,Ye):A;Zt===A&&(Zt=gt),g(f,Ut,Zt)}},Va)}function Yl(f,E){var q=f.length;if(q)return Sa(E+=E<0?q:0,q)?f[E]:A}function pu(f,E,q){E=E.length?ci(E,function(gt){return hs(gt)?function(Ut){return Ws(Ut,1===gt.length?gt[0]:gt)}:gt}):[Ua];var Se=-1;return E=ci(E,Ki(Tr())),function(on,Rn){var Cn=on.length;for(on.sort(Rn);Cn--;)on[Cn]=on[Cn].value;return on}(Wu(f,function(gt,Ut,Zt){return{criteria:ci(E,function(zn){return zn(gt)}),index:++Se,value:gt}}),function(gt,Ut){return function(f,E,q){for(var Se=-1,Ye=f.criteria,gt=E.criteria,Ut=Ye.length,Zt=q.length;++Se<Ut;){var fn=Jd(Ye[Se],gt[Se]);if(fn)return Se>=Zt?fn:fn*("desc"==q[Se]?-1:1)}return f.index-E.index}(gt,Ut,q)})}function Oa(f,E,q){for(var Se=-1,Ye=E.length,gt={};++Se<Ye;){var Ut=E[Se],Zt=Ws(f,Ut);q(Zt,Ut)&&Ql(gt,Yo(Ut,f),Zt)}return gt}function Xl(f,E,q,Se){var Ye=Se?wo:uo,gt=-1,Ut=E.length,Zt=f;for(f===E&&(E=Pa(E)),q&&(Zt=ci(f,Ki(q)));++gt<Ut;)for(var fn=0,zn=E[gt],Kn=q?q(zn):zn;(fn=Ye(Zt,Kn,fn,Se))>-1;)Zt!==f&&vo.call(Zt,fn,1),vo.call(f,fn,1);return f}function gu(f,E){for(var q=f?E.length:0,Se=q-1;q--;){var Ye=E[q];if(q==Se||Ye!==gt){var gt=Ye;Sa(Ye)?vo.call(f,Ye,1):nr(f,Ye)}}return f}function xl(f,E){return f+Kl(pt()*(E-f+1))}function go(f,E){var q="";if(!f||E<1||E>wt)return q;do{E%2&&(q+=f),(E=Kl(E/2))&&(f+=f)}while(E);return q}function ss(f,E){return hh(Dp(f,E,Ua),f+"")}function Mc(f){return i(Ta(f))}function zu(f,E){var q=Ta(f);return Ul(q,Ne(E,0,q.length))}function Ql(f,E,q,Se){if(!Lo(f))return f;for(var Ye=-1,gt=(E=Yo(E,f)).length,Ut=gt-1,Zt=f;null!=Zt&&++Ye<gt;){var fn=eu(E[Ye]),zn=q;if("__proto__"===fn||"constructor"===fn||"prototype"===fn)return f;if(Ye!=Ut){var Kn=Zt[fn];(zn=Se?Se(Kn,fn,Zt):A)===A&&(zn=Lo(Kn)?Kn:Sa(E[Ye+1])?[]:{})}C(Zt,fn,zn),Zt=Zt[fn]}return f}var dd=Ao?function(f,E){return Ao.set(f,E),f}:Ua,mu=uu?function(f,E){return uu(f,"toString",{configurable:!0,enumerable:!1,value:nc(E),writable:!0})}:Ua;function Fc(f){return Ul(Ta(f))}function Wo(f,E,q){var Se=-1,Ye=f.length;E<0&&(E=-E>Ye?0:Ye+E),(q=q>Ye?Ye:q)<0&&(q+=Ye),Ye=E>q?0:q-E>>>0,E>>>=0;for(var gt=Cn(Ye);++Se<Ye;)gt[Se]=f[Se+E];return gt}function mt(f,E){var q;return dn(f,function(Se,Ye,gt){return!(q=E(Se,Ye,gt))}),!!q}function xt(f,E,q){var Se=0,Ye=null==f?Se:f.length;if("number"==typeof E&&E==E&&Ye<=2147483647){for(;Se<Ye;){var gt=Se+Ye>>>1,Ut=f[gt];null!==Ut&&!vl(Ut)&&(q?Ut<=E:Ut<E)?Se=gt+1:Ye=gt}return Ye}return gn(f,E,Ua,q)}function gn(f,E,q,Se){var Ye=0,gt=null==f?0:f.length;if(0===gt)return 0;for(var Ut=(E=q(E))!=E,Zt=null===E,fn=vl(E),zn=E===A;Ye<gt;){var Kn=Kl((Ye+gt)/2),ei=q(f[Kn]),Ni=ei!==A,ir=null===ei,Nr=ei==ei,fs=vl(ei);if(Ut)var Fr=Se||Nr;else Fr=zn?Nr&&(Se||Ni):Zt?Nr&&Ni&&(Se||!ir):fn?Nr&&Ni&&!ir&&(Se||!fs):!ir&&!fs&&(Se?ei<=E:ei<E);Fr?Ye=Kn+1:gt=Kn}return we(gt,4294967294)}function Bn(f,E){for(var q=-1,Se=f.length,Ye=0,gt=[];++q<Se;){var Ut=f[q],Zt=E?E(Ut):Ut;if(!q||!tl(Zt,fn)){var fn=Zt;gt[Ye++]=0===Ut?0:Ut}}return gt}function Ai(f){return"number"==typeof f?f:vl(f)?NaN:+f}function Yn(f){if("string"==typeof f)return f;if(hs(f))return ci(f,Yn)+"";if(vl(f))return ad?ad.call(f):"";var E=f+"";return"0"==E&&1/f==-kt?"-0":E}function tr(f,E,q){var Se=-1,Ye=Zi,gt=f.length,Ut=!0,Zt=[],fn=Zt;if(q)Ut=!1,Ye=Ir;else if(gt>=200){var zn=E?null:rh(f);if(zn)return ms(zn);Ut=!1,Ye=Hr,fn=new $o}else fn=E?[]:Zt;e:for(;++Se<gt;){var Kn=f[Se],ei=E?E(Kn):Kn;if(Kn=q||0!==Kn?Kn:0,Ut&&ei==ei){for(var Ni=fn.length;Ni--;)if(fn[Ni]===ei)continue e;E&&fn.push(ei),Zt.push(Kn)}else Ye(fn,ei,q)||(fn!==Zt&&fn.push(ei),Zt.push(Kn))}return Zt}function nr(f,E){return null==(f=af(f,E=Yo(E,f)))||delete f[eu($l(E))]}function ds(f,E,q,Se){return Ql(f,E,q(Ws(f,E)),Se)}function os(f,E,q,Se){for(var Ye=f.length,gt=Se?Ye:-1;(Se?gt--:++gt<Ye)&&E(f[gt],gt,f););return q?Wo(f,Se?0:gt,Se?gt+1:Ye):Wo(f,Se?gt+1:0,Se?Ye:gt)}function oo(f,E){var q=f;return q instanceof Ss&&(q=q.value()),wr(E,function(Se,Ye){return Ye.func.apply(Ye.thisArg,_i([Se],Ye.args))},q)}function la(f,E,q){var Se=f.length;if(Se<2)return Se?tr(f[0]):[];for(var Ye=-1,gt=Cn(Se);++Ye<Se;)for(var Ut=f[Ye],Zt=-1;++Zt<Se;)Zt!=Ye&&(gt[Ye]=Xt(gt[Ye]||Ut,f[Zt],E,q));return tr(Xn(gt,1),E,q)}function na(f,E,q){for(var Se=-1,Ye=f.length,gt=E.length,Ut={};++Se<Ye;){var Zt=Se<gt?E[Se]:A;q(Ut,f[Se],Zt)}return Ut}function vu(f){return zo(f)?f:[]}function ua(f){return"function"==typeof f?f:Ua}function Yo(f,E){return hs(f)?f:Cu(f,E)?[f]:lf(js(f))}var Gu=ss;function No(f,E,q){var Se=f.length;return q=q===A?Se:q,!E&&q>=Se?f:Wo(f,E,q)}var uc=Oc||function(f){return R.clearTimeout(f)};function Zd(f,E){if(E)return f.slice();var q=f.length,Se=co?co(q):new f.constructor(q);return f.copy(Se),Se}function cc(f){var E=new f.constructor(f.byteLength);return new vs(E).set(new vs(f)),E}function Ia(f,E){var q=E?cc(f.buffer):f.buffer;return new f.constructor(q,f.byteOffset,f.length)}function Jd(f,E){if(f!==E){var q=f!==A,Se=null===f,Ye=f==f,gt=vl(f),Ut=E!==A,Zt=null===E,fn=E==E,zn=vl(E);if(!Zt&&!zn&&!gt&&f>E||gt&&Ut&&fn&&!Zt&&!zn||Se&&Ut&&fn||!q&&fn||!Ye)return 1;if(!Se&&!gt&&!zn&&f<E||zn&&q&&Ye&&!Se&&!gt||Zt&&q&&Ye||!Ut&&Ye||!fn)return-1}return 0}function pd(f,E,q,Se){for(var Ye=-1,gt=f.length,Ut=q.length,Zt=-1,fn=E.length,zn=se(gt-Ut,0),Kn=Cn(fn+zn),ei=!Se;++Zt<fn;)Kn[Zt]=E[Zt];for(;++Ye<Ut;)(ei||Ye<gt)&&(Kn[q[Ye]]=f[Ye]);for(;zn--;)Kn[Zt++]=f[Ye++];return Kn}function eh(f,E,q,Se){for(var Ye=-1,gt=f.length,Ut=-1,Zt=q.length,fn=-1,zn=E.length,Kn=se(gt-Zt,0),ei=Cn(Kn+zn),Ni=!Se;++Ye<Kn;)ei[Ye]=f[Ye];for(var ir=Ye;++fn<zn;)ei[ir+fn]=E[fn];for(;++Ut<Zt;)(Ni||Ye<gt)&&(ei[ir+q[Ut]]=f[Ye++]);return ei}function Pa(f,E){var q=-1,Se=f.length;for(E||(E=Cn(Se));++q<Se;)E[q]=f[q];return E}function Ra(f,E,q,Se){var Ye=!q;q||(q={});for(var gt=-1,Ut=E.length;++gt<Ut;){var Zt=E[gt],fn=Se?Se(q[Zt],f[Zt],Zt,q,f):A;fn===A&&(fn=f[Zt]),Ye?le(q,Zt,fn):C(q,Zt,fn)}return q}function Ol(f,E){return function(q,Se){var Ye=hs(q)?Me:B,gt=E?E():{};return Ye(q,f,Tr(Se,2),gt)}}function _u(f){return ss(function(E,q){var Se=-1,Ye=q.length,gt=Ye>1?q[Ye-1]:A,Ut=Ye>2?q[2]:A;for(gt=f.length>3&&"function"==typeof gt?(Ye--,gt):A,Ut&&va(q[0],q[1],Ut)&&(gt=Ye<3?A:gt,Ye=1),E=ws(E);++Se<Ye;){var Zt=q[Se];Zt&&f(E,Zt,Se,gt)}return E})}function im(f,E){return function(q,Se){if(null==q)return q;if(!nl(q))return f(q,Se);for(var Ye=q.length,gt=E?Ye:-1,Ut=ws(q);(E?gt--:++gt<Ye)&&!1!==Se(Ut[gt],gt,Ut););return q}}function gd(f){return function(E,q,Se){for(var Ye=-1,gt=ws(E),Ut=Se(E),Zt=Ut.length;Zt--;){var fn=Ut[f?Zt:++Ye];if(!1===q(gt[fn],fn,gt))break}return E}}function md(f){return function(E){var q=qn(E=js(E))?Ur(E):A,Se=q?q[0]:E.charAt(0),Ye=q?No(q,1).join(""):E.slice(1);return Se[f]()+Ye}}function kc(f){return function(E){return wr(Pu(Vm(E).replace(Cr,"")),f,"")}}function vd(f){return function(){var E=arguments;switch(E.length){case 0:return new f;case 1:return new f(E[0]);case 2:return new f(E[0],E[1]);case 3:return new f(E[0],E[1],E[2]);case 4:return new f(E[0],E[1],E[2],E[3]);case 5:return new f(E[0],E[1],E[2],E[3],E[4]);case 6:return new f(E[0],E[1],E[2],E[3],E[4],E[5]);case 7:return new f(E[0],E[1],E[2],E[3],E[4],E[5],E[6])}var q=du(f.prototype),Se=f.apply(q,E);return Lo(Se)?Se:q}}function Nc(f){return function(E,q,Se){var Ye=ws(E);if(!nl(E)){var gt=Tr(q,3);E=ca(E),q=function(Zt){return gt(Ye[Zt],Zt,Ye)}}var Ut=f(E,q,Se);return Ut>-1?Ye[gt?E[Ut]:Ut]:A}}function yu(f){return Hl(function(E){var q=E.length,Se=q,Ye=Ca.prototype.thru;for(f&&E.reverse();Se--;){var gt=E[Se];if("function"!=typeof gt)throw new at(b);if(Ye&&!Ut&&"wrapper"==Vc(gt))var Ut=new Ca([],!0)}for(Se=Ut?Se:q;++Se<q;){var Zt=Vc(gt=E[Se]),fn="wrapper"==Zt?Bc(gt):A;Ut=fn&&Ja(fn[0])&&424==fn[1]&&!fn[4].length&&1==fn[9]?Ut[Vc(fn[0])].apply(Ut,fn[3]):1==gt.length&&Ja(gt)?Ut[Zt]():Ut.thru(gt)}return function(){var zn=arguments,Kn=zn[0];if(Ut&&1==zn.length&&hs(Kn))return Ut.plant(Kn).value();for(var ei=0,Ni=q?E[ei].apply(this,zn):Kn;++ei<q;)Ni=E[ei].call(this,Ni);return Ni}})}function _d(f,E,q,Se,Ye,gt,Ut,Zt,fn,zn){var Kn=E&G,ei=1&E,Ni=2&E,ir=24&E,Nr=512&E,fs=Ni?A:vd(f);return function Fr(){for(var Rs=arguments.length,Ms=Cn(Rs),$a=Rs;$a--;)Ms[$a]=arguments[$a];if(ir)var Wa=ba(Fr),kl=Be(Ms,Wa);if(Se&&(Ms=pd(Ms,Se,Ye,ir)),gt&&(Ms=eh(Ms,gt,Ut,ir)),Rs-=kl,ir&&Rs<zn){var Zo=Ui(Ms,Wa);return wp(f,E,_d,Fr.placeholder,q,Ms,Zo,Zt,fn,zn-Rs)}var _l=ei?q:this,Gl=Ni?_l[f]:f;return Rs=Ms.length,Zt?Ms=Gs(Ms,Zt):Nr&&Rs>1&&Ms.reverse(),Kn&&fn<Rs&&(Ms.length=fn),this&&this!==R&&this instanceof Fr&&(Gl=fs||vd(Gl)),Gl.apply(_l,Ms)}}function Ep(f,E){return function(q,Se){return function(f,E,q,Se){return Ci(f,function(Ye,gt,Ut){E(Se,q(Ye),gt,Ut)}),Se}(q,f,E(Se),{})}}function ju(f,E){return function(q,Se){var Ye;if(q===A&&Se===A)return E;if(q!==A&&(Ye=q),Se!==A){if(Ye===A)return Se;"string"==typeof q||"string"==typeof Se?(q=Yn(q),Se=Yn(Se)):(q=Ai(q),Se=Ai(Se)),Ye=f(q,Se)}return Ye}}function rf(f){return Hl(function(E){return E=ci(E,Ki(Tr())),ss(function(q){var Se=this;return f(E,function(Ye){return Z(Ye,Se,q)})})})}function yd(f,E){var q=(E=E===A?" ":Yn(E)).length;if(q<2)return q?go(E,f):E;var Se=go(E,wl(f/Io(E)));return qn(E)?No(Ur(Se),0,f).join(""):Se.slice(0,f)}function sf(f){return function(E,q,Se){return Se&&"number"!=typeof Se&&va(E,q,Se)&&(q=Se=A),E=La(E),q===A?(q=E,E=0):q=La(q),function(f,E,q,Se){for(var Ye=-1,gt=se(wl((E-f)/(q||1)),0),Ut=Cn(gt);gt--;)Ut[Se?gt:++Ye]=f,f+=q;return Ut}(E,q,Se=Se===A?E<q?1:-1:La(Se),f)}}function nh(f){return function(E,q){return"string"==typeof E&&"string"==typeof q||(E=il(E),q=il(q)),f(E,q)}}function wp(f,E,q,Se,Ye,gt,Ut,Zt,fn,zn){var Kn=8&E;E|=Kn?32:64,4&(E&=~(Kn?64:32))||(E&=-4);var fs=[f,E,Ye,Kn?gt:A,Kn?Ut:A,Kn?A:gt,Kn?A:Ut,Zt,fn,zn],Fr=q.apply(A,fs);return Ja(f)&&dh(Fr,fs),Fr.placeholder=Se,fh(Fr,f,E)}function ih(f){var E=Zs[f];return function(q,Se){if(q=il(q),(Se=null==Se?0:we(Cs(Se),292))&&Bl(q)){var Ye=(js(q)+"e").split("e");return+((Ye=(js(E(Ye[0]+"e"+(+Ye[1]+Se)))+"e").split("e"))[0]+"e"+(+Ye[1]-Se))}return E(q)}}var rh=Sr&&1/ms(new Sr([,-0]))[1]==kt?function(f){return new Sr(f)}:Gh;function bp(f){return function(E){var q=Mo(E);return q==qe?hi(E):q==pe?function(on){var Rn=-1,Cn=Array(on.size);return on.forEach(function(Ii){Cn[++Rn]=[Ii,Ii]}),Cn}(E):function(on,Rn){return ci(Rn,function(Cn){return[Cn,on[Cn]]})}(E,f(E))}}function Eu(f,E,q,Se,Ye,gt,Ut,Zt){var fn=2&E;if(!fn&&"function"!=typeof f)throw new at(b);var zn=Se?Se.length:0;if(zn||(E&=-97,Se=Ye=A),Ut=Ut===A?Ut:se(Cs(Ut),0),Zt=Zt===A?Zt:Cs(Zt),zn-=Ye?Ye.length:0,64&E){var Kn=Se,ei=Ye;Se=Ye=A}var Ni=fn?A:Bc(f),ir=[f,E,q,Se,Ye,Kn,ei,gt,Ut,Zt];if(Ni&&function(f,E){var q=f[1],Se=E[1],Ye=q|Se,gt=Ye<131,Ut=Se==G&&8==q||Se==G&&256==q&&f[7].length<=E[8]||384==Se&&E[7].length<=E[8]&&8==q;if(!gt&&!Ut)return f;1&Se&&(f[2]=E[2],Ye|=1&q?0:4);var Zt=E[3];if(Zt){var fn=f[3];f[3]=fn?pd(fn,Zt,E[4]):Zt,f[4]=fn?Ui(f[3],x):E[4]}(Zt=E[5])&&(fn=f[5],f[5]=fn?eh(fn,Zt,E[6]):Zt,f[6]=fn?Ui(f[5],x):E[6]),(Zt=E[7])&&(f[7]=Zt),Se&G&&(f[8]=null==f[8]?E[8]:we(f[8],E[8])),null==f[9]&&(f[9]=E[9]),f[0]=E[0],f[1]=Ye}(ir,Ni),f=ir[0],E=ir[1],q=ir[2],Se=ir[3],Ye=ir[4],!(Zt=ir[9]=ir[9]===A?fn?0:f.length:se(ir[9]-zn,0))&&24&E&&(E&=-25),E&&1!=E)Nr=8==E||16==E?function(f,E,q){var Se=vd(f);return function Ye(){for(var gt=arguments.length,Ut=Cn(gt),Zt=gt,fn=ba(Ye);Zt--;)Ut[Zt]=arguments[Zt];var zn=gt<3&&Ut[0]!==fn&&Ut[gt-1]!==fn?[]:Ui(Ut,fn);return(gt-=zn.length)<q?wp(f,E,_d,Ye.placeholder,A,Ut,zn,A,A,q-gt):Z(this&&this!==R&&this instanceof Ye?Se:f,this,Ut)}}(f,E,Zt):32!=E&&33!=E||Ye.length?_d.apply(A,ir):function(f,E,q,Se){var Ye=1&E,gt=vd(f);return function Ut(){for(var Zt=-1,fn=arguments.length,zn=-1,Kn=Se.length,ei=Cn(Kn+fn),Ni=this&&this!==R&&this instanceof Ut?gt:f;++zn<Kn;)ei[zn]=Se[zn];for(;fn--;)ei[zn++]=arguments[++Zt];return Z(Ni,Ye?q:this,ei)}}(f,E,q,Se);else var Nr=function(f,E,q){var Se=1&E,Ye=vd(f);return function gt(){return(this&&this!==R&&this instanceof gt?Ye:f).apply(Se?q:this,arguments)}}(f,E,q);return fh((Ni?dd:dh)(Nr,ir),f,E)}function rm(f,E,q,Se){return f===A||tl(f,An[q])&&!Sn.call(Se,q)?E:f}function Ed(f,E,q,Se,Ye,gt){return Lo(f)&&Lo(E)&&(gt.set(E,f),fu(f,E,A,Ed,gt),gt.delete(E)),f}function sm(f){return Qc(f)?A:f}function sh(f,E,q,Se,Ye,gt){var Ut=1&q,Zt=f.length,fn=E.length;if(Zt!=fn&&!(Ut&&fn>Zt))return!1;var zn=gt.get(f),Kn=gt.get(E);if(zn&&Kn)return zn==E&&Kn==f;var ei=-1,Ni=!0,ir=2&q?new $o:A;for(gt.set(f,E),gt.set(E,f);++ei<Zt;){var Nr=f[ei],fs=E[ei];if(Se)var Fr=Ut?Se(fs,Nr,ei,E,f,gt):Se(Nr,fs,ei,f,E,gt);if(Fr!==A){if(Fr)continue;Ni=!1;break}if(ir){if(!wi(E,function(Rs,Ms){if(!Hr(ir,Ms)&&(Nr===Rs||Ye(Nr,Rs,q,Se,gt)))return ir.push(Ms)})){Ni=!1;break}}else if(Nr!==fs&&!Ye(Nr,fs,q,Se,gt)){Ni=!1;break}}return gt.delete(f),gt.delete(E),Ni}function Hl(f){return hh(Dp(f,A,bu),f+"")}function Ku(f){return wa(f,ca,wd)}function Xo(f){return wa(f,Va,oh)}var Bc=Ao?function(f){return Ao.get(f)}:Gh;function Vc(f){for(var E=f.name+"",q=_o[E],Se=Sn.call(_o,E)?q.length:0;Se--;){var Ye=q[Se],gt=Ye.func;if(null==gt||gt==f)return Ye.name}return E}function ba(f){return(Sn.call(rt,"placeholder")?rt:f).placeholder}function Tr(){var f=rt.iteratee||Ru;return f=f===Ru?dl:f,arguments.length?f(arguments[0],arguments[1]):f}function Hc(f,E){var q=f.__data__;return function(f){var E=typeof f;return"string"==E||"number"==E||"symbol"==E||"boolean"==E?"__proto__"!==f:null===f}(E)?q["string"==typeof E?"string":"hash"]:q.map}function Cd(f){for(var E=ca(f),q=E.length;q--;){var Se=E[q],Ye=f[Se];E[q]=[Se,Ye,om(Ye)]}return E}function Zl(f,E){var q=function(on,Rn){return null==on?A:on[Rn]}(f,E);return aa(q)?q:A}var wd=ll?function(f){return null==f?[]:(f=ws(f),vi(ll(f),function(E){return ho.call(f,E)}))}:ep,oh=ll?function(f){for(var E=[];f;)_i(E,wd(f)),f=Do(f);return E}:ep,Mo=ro;function ah(f,E,q){for(var Se=-1,Ye=(E=Yo(E,f)).length,gt=!1;++Se<Ye;){var Ut=eu(E[Se]);if(!(gt=null!=f&&q(f,Ut)))break;f=f[Ut]}return gt||++Se!=Ye?gt:!!(Ye=null==f?0:f.length)&&_c(Ye)&&Sa(Ut,Ye)&&(hs(f)||Qu(f))}function lh(f){return"function"!=typeof f.constructor||Uc(f)?{}:du(Do(f))}function Il(f){return hs(f)||Qu(f)||!!(Fo&&f&&f[Fo])}function Sa(f,E){var q=typeof f;return!!(E=null==E?wt:E)&&("number"==q||"symbol"!=q&&Zn.test(f))&&f>-1&&f%1==0&&f<E}function va(f,E,q){if(!Lo(q))return!1;var Se=typeof E;return!!("number"==Se?nl(q)&&Sa(E,q.length):"string"==Se&&E in q)&&tl(q[E],f)}function Cu(f,E){if(hs(f))return!1;var q=typeof f;return!("number"!=q&&"symbol"!=q&&"boolean"!=q&&null!=f&&!vl(f))||(ps.test(f)||!Hs.test(f)||null!=E&&f in ws(E))}function Ja(f){var E=Vc(f),q=rt[E];if("function"!=typeof q||!(E in Ss.prototype))return!1;if(f===q)return!0;var Se=Bc(q);return!!Se&&f===Se[0]}(jn&&Mo(new jn(new ArrayBuffer(1)))!=Fe||qi&&Mo(new qi)!=qe||Qi&&Mo(Qi.resolve())!=Ht||Sr&&Mo(new Sr)!=pe||jr&&Mo(new jr)!=lt)&&(Mo=function(f){var E=ro(f),q=E==St?f.constructor:A,Se=q?wu(q):"";if(Se)switch(Se){case Po:return Fe;case Da:return qe;case ko:return Ht;case Uo:return pe;case Uu:return lt}return E});var bd=rn?Wl:tp;function Uc(f){var E=f&&f.constructor;return f===("function"==typeof E&&E.prototype||An)}function om(f){return f==f&&!Lo(f)}function fc(f,E){return function(q){return null!=q&&(q[f]===E&&(E!==A||f in ws(q)))}}function Dp(f,E,q){return E=se(E===A?f.length-1:E,0),function(){for(var Se=arguments,Ye=-1,gt=se(Se.length-E,0),Ut=Cn(gt);++Ye<gt;)Ut[Ye]=Se[E+Ye];Ye=-1;for(var Zt=Cn(E+1);++Ye<E;)Zt[Ye]=Se[Ye];return Zt[E]=q(Ut),Z(f,this,Zt)}}function af(f,E){return E.length<2?f:Ws(f,Wo(E,0,-1))}function Gs(f,E){for(var q=f.length,Se=we(E.length,q),Ye=Pa(f);Se--;){var gt=E[Se];f[Se]=Sa(gt,q)?Ye[gt]:A}return f}function Ps(f,E){if(("constructor"!==E||"function"!=typeof f[E])&&"__proto__"!=E)return f[E]}var dh=Td(dd),Sd=Cl||function(f,E){return R.setTimeout(f,E)},hh=Td(mu);function fh(f,E,q){var Se=E+"";return hh(f,function(f,E){var q=E.length;if(!q)return f;var Se=q-1;return E[Se]=(q>1?"& ":"")+E[Se],E=E.join(q>2?", ":" "),f.replace(Wt,"{\n/* [wrapped with "+E+"] */\n")}(Se,function(f,E){return et(sn,function(q){var Se="_."+q[0];E&q[1]&&!Zi(f,Se)&&f.push(Se)}),f.sort()}(function(f){var E=f.match(Di);return E?E[1].split(di):[]}(Se),q)))}function Td(f){var E=0,q=0;return function(){var Se=$e(),Ye=16-(Se-q);if(q=Se,Ye>0){if(++E>=800)return arguments[0]}else E=0;return f.apply(A,arguments)}}function Ul(f,E){var q=-1,Se=f.length,Ye=Se-1;for(E=E===A?Se:E;++q<E;){var gt=xl(q,Ye),Ut=f[gt];f[gt]=f[q],f[q]=Ut}return f.length=E,f}var lf=function(f){var E=xu(f,function(Se){return 500===q.size&&q.clear(),Se}),q=E.cache;return E}(function(f){var E=[];return 46===f.charCodeAt(0)&&E.push(""),f.replace(Or,function(q,Se,Ye,gt){E.push(Ye?gt.replace(yo,"$1"):Se||q)}),E});function eu(f){if("string"==typeof f||vl(f))return f;var E=f+"";return"0"==E&&1/f==-kt?"-0":E}function wu(f){if(null!=f){try{return Mn.call(f)}catch(E){}try{return f+""}catch(E){}}return""}function tu(f){if(f instanceof Ss)return f.clone();var E=new Ca(f.__wrapped__,f.__chain__);return E.__actions__=Pa(f.__actions__),E.__index__=f.__index__,E.__values__=f.__values__,E}var gh=ss(function(f,E){return zo(f)?Xt(f,Xn(E,1,zo,!0)):[]}),Op=ss(function(f,E){var q=$l(E);return zo(q)&&(q=A),zo(f)?Xt(f,Xn(E,1,zo,!0),Tr(q,2)):[]}),ka=ss(function(f,E){var q=$l(E);return zo(q)&&(q=A),zo(f)?Xt(f,Xn(E,1,zo,!0),A,q):[]});function Dd(f,E,q){var Se=null==f?0:f.length;if(!Se)return-1;var Ye=null==q?0:Cs(q);return Ye<0&&(Ye=se(Se+Ye,0)),Oo(f,Tr(E,3),Ye)}function df(f,E,q){var Se=null==f?0:f.length;if(!Se)return-1;var Ye=Se-1;return q!==A&&(Ye=Cs(q),Ye=q<0?se(Se+Ye,0):we(Ye,Se-1)),Oo(f,Tr(E,3),Ye,!0)}function bu(f){return(null==f?0:f.length)?Xn(f,1):[]}function Rp(f){return f&&f.length?f[0]:A}var pf=ss(function(f){var E=ci(f,vu);return E.length&&E[0]===f[0]?pa(E):[]}),Eh=ss(function(f){var E=$l(f),q=ci(f,vu);return E===$l(q)?E=A:q.pop(),q.length&&q[0]===f[0]?pa(q,Tr(E,2)):[]}),gf=ss(function(f){var E=$l(f),q=ci(f,vu);return(E="function"==typeof E?E:A)&&q.pop(),q.length&&q[0]===f[0]?pa(q,A,E):[]});function $l(f){var E=null==f?0:f.length;return E?f[E-1]:A}var kp=ss(mf);function mf(f,E){return f&&f.length&&E&&E.length?Xl(f,E):f}var lm=Hl(function(f,E){var q=null==f?0:f.length,Se=De(f,E);return gu(f,ci(E,function(Ye){return Sa(Ye,q)?+Ye:Ye}).sort(Jd)),Se});function vf(f){return null==f?f:un.call(f)}var gm=ss(function(f){return tr(Xn(f,1,zo,!0))}),yf=ss(function(f){var E=$l(f);return zo(E)&&(E=A),tr(Xn(f,1,zo,!0),Tr(E,2))}),nu=ss(function(f){var E=$l(f);return E="function"==typeof E?E:A,tr(Xn(f,1,zo,!0),A,E)});function Ef(f){if(!f||!f.length)return[];var E=0;return f=vi(f,function(q){if(zo(q))return E=se(q.length,E),!0}),To(E,function(q){return ci(f,ha(q))})}function Th(f,E){if(!f||!f.length)return[];var q=Ef(f);return null==E?q:ci(q,function(Se){return Z(E,A,Se)})}var mm=ss(function(f,E){return zo(f)?Xt(f,E):[]}),Dh=ss(function(f){return la(vi(f,zo))}),Ah=ss(function(f){var E=$l(f);return zo(E)&&(E=A),la(vi(f,zo),Tr(E,2))}),Cf=ss(function(f){var E=$l(f);return E="function"==typeof E?E:A,la(vi(f,zo),A,E)}),wf=ss(Ef);var vm=ss(function(f){var E=f.length,q=E>1?f[E-1]:A;return q="function"==typeof q?(f.pop(),q):A,Th(f,q)});function bf(f){var E=rt(f);return E.__chain__=!0,E}function xd(f,E){return E(f)}var Hp=Hl(function(f){var E=f.length,q=E?f[0]:0,Se=this.__wrapped__,Ye=function(gt){return De(gt,f)};return!(E>1||this.__actions__.length)&&Se instanceof Ss&&Sa(q)?((Se=Se.slice(q,+q+(E?1:0))).__actions__.push({func:xd,args:[Ye],thisArg:A}),new Ca(Se,this.__chain__).thru(function(gt){return E&&!gt.length&&gt.push(A),gt})):this.thru(Ye)});var Em=Ol(function(f,E,q){Sn.call(f,q)?++f[q]:le(f,q,1)});var Gp=Nc(Dd),Nv=Nc(df);function Cm(f,E){return(hs(f)?et:dn)(f,Tr(E,3))}function wm(f,E){return(hs(f)?hn:yi)(f,Tr(E,3))}var Tu=Ol(function(f,E,q){Sn.call(f,q)?f[q].push(E):le(f,q,[E])});var Wc=ss(function(f,E,q){var Se=-1,Ye="function"==typeof E,gt=nl(f)?Cn(f.length):[];return dn(f,function(Ut){gt[++Se]=Ye?Z(E,Ut,q):cs(Ut,E,q)}),gt}),zc=Ol(function(f,E,q){le(f,q,E)});function Gc(f,E){return(hs(f)?ci:Wu)(f,Tr(E,3))}var Tf=Ol(function(f,E,q){f[q?0:1].push(E)},function(){return[[],[]]});var bm=ss(function(f,E){if(null==f)return[];var q=E.length;return q>1&&va(f,E[0],E[1])?E=[]:q>2&&va(E[0],E[1],E[2])&&(E=[E[0]]),pu(f,Xn(E,1),[])}),Du=cu||function(){return R.Date.now()};function gc(f,E,q){return E=q?A:E,E=f&&null==E?f.length:E,Eu(f,G,A,A,A,A,E)}function Xu(f,E){var q;if("function"!=typeof E)throw new at(b);return f=Cs(f),function(){return--f>0&&(q=E.apply(this,arguments)),f<=1&&(E=A),q}}var Au=ss(function(f,E,q){var Se=1;if(q.length){var Ye=Ui(q,ba(Au));Se|=32}return Eu(f,Se,E,q,Ye)}),mc=ss(function(f,E,q){var Se=3;if(q.length){var Ye=Ui(q,ba(mc));Se|=32}return Eu(E,Se,f,q,Ye)});function vc(f,E,q){var Se,Ye,gt,Ut,Zt,fn,zn=0,Kn=!1,ei=!1,Ni=!0;if("function"!=typeof f)throw new at(b);function ir(Zo){var _l=Se,Gl=Ye;return Se=Ye=A,zn=Zo,Ut=f.apply(Gl,_l)}function Nr(Zo){return zn=Zo,Zt=Sd(Rs,E),Kn?ir(Zo):Ut}function Fr(Zo){var _l=Zo-fn;return fn===A||_l>=E||_l<0||ei&&Zo-zn>=gt}function Rs(){var Zo=Du();if(Fr(Zo))return Ms(Zo);Zt=Sd(Rs,function(Zo){var Kh=E-(Zo-fn);return ei?we(Kh,gt-(Zo-zn)):Kh}(Zo))}function Ms(Zo){return Zt=A,Ni&&Se?ir(Zo):(Se=Ye=A,Ut)}function kl(){var Zo=Du(),_l=Fr(Zo);if(Se=arguments,Ye=this,fn=Zo,_l){if(Zt===A)return Nr(fn);if(ei)return uc(Zt),Zt=Sd(Rs,E),ir(fn)}return Zt===A&&(Zt=Sd(Rs,E)),Ut}return E=il(E)||0,Lo(q)&&(Kn=!!q.leading,gt=(ei="maxWait"in q)?se(il(q.maxWait)||0,E):gt,Ni="trailing"in q?!!q.trailing:Ni),kl.cancel=function(){Zt!==A&&uc(Zt),zn=0,Se=fn=Ye=Zt=A},kl.flush=function(){return Zt===A?Ut:Ms(Du())},kl}var Oh=ss(function(f,E){return Kt(f,1,E)}),Af=ss(function(f,E,q){return Kt(f,il(E)||0,q)});function xu(f,E){if("function"!=typeof f||null!=E&&"function"!=typeof E)throw new at(b);var q=function(){var Se=arguments,Ye=E?E.apply(this,Se):Se[0],gt=q.cache;if(gt.has(Ye))return gt.get(Ye);var Ut=f.apply(this,Se);return q.cache=gt.set(Ye,Ut)||gt,Ut};return q.cache=new(xu.Cache||Sl),q}function Ih(f){if("function"!=typeof f)throw new at(b);return function(){var E=arguments;switch(E.length){case 0:return!f.call(this);case 1:return!f.call(this,E[0]);case 2:return!f.call(this,E[0],E[1]);case 3:return!f.call(this,E[0],E[1],E[2])}return!f.apply(this,E)}}xu.Cache=Sl;var Sm=Gu(function(f,E){var q=(E=1==E.length&&hs(E[0])?ci(E[0],Ki(Tr())):ci(Xn(E,1),Ki(Tr()))).length;return ss(function(Se){for(var Ye=-1,gt=we(Se.length,q);++Ye<gt;)Se[Ye]=E[Ye].call(this,Se[Ye]);return Z(f,this,Se)})}),Ph=ss(function(f,E){var q=Ui(E,ba(Ph));return Eu(f,32,A,E,q)}),xf=ss(function(f,E){var q=Ui(E,ba(xf));return Eu(f,64,A,E,q)}),Tm=Hl(function(f,E){return Eu(f,256,A,A,A,E)});function tl(f,E){return f===E||f!=f&&E!=E}var If=nh(Aa),Zp=nh(function(f,E){return f>=E}),Qu=zs(function(){return arguments}())?zs:function(f){return Qo(f)&&Sn.call(f,"callee")&&!ho.call(f,"callee")},hs=Cn.isArray,Pf=Xe?Ki(Xe):function(f){return Qo(f)&&ro(f)==Oe};function nl(f){return null!=f&&_c(f.length)&&!Wl(f)}function zo(f){return Qo(f)&&nl(f)}var Ou=ql||tp,Rf=Bt?Ki(Bt):function(f){return Qo(f)&&ro(f)==Dn};function tg(f){if(!Qo(f))return!1;var E=ro(f);return E==ge||"[object DOMException]"==E||"string"==typeof f.message&&"string"==typeof f.name&&!Qc(f)}function Wl(f){if(!Lo(f))return!1;var E=ro(f);return E==$t||E==Dt||"[object AsyncFunction]"==E||"[object Proxy]"==E}function Mh(f){return"number"==typeof f&&f==Cs(f)}function _c(f){return"number"==typeof f&&f>-1&&f%1==0&&f<=wt}function Lo(f){var E=typeof f;return null!=f&&("object"==E||"function"==E)}function Qo(f){return null!=f&&"object"==typeof f}var Fh=Lt?Ki(Lt):function(f){return Qo(f)&&Mo(f)==qe};function Fd(f){return"number"==typeof f||Qo(f)&&ro(f)==We}function Qc(f){if(!Qo(f)||ro(f)!=St)return!1;var E=Do(f);if(null===E)return!0;var q=Sn.call(E,"constructor")&&E.constructor;return"function"==typeof q&&q instanceof q&&Mn.call(q)==gr}var Nh=de?Ki(de):function(f){return Qo(f)&&ro(f)==ee};var kd=P?Ki(P):function(f){return Qo(f)&&Mo(f)==pe};function Bf(f){return"string"==typeof f||!hs(f)&&Qo(f)&&ro(f)==xe}function vl(f){return"symbol"==typeof f||Qo(f)&&ro(f)==Ce}var yc=O?Ki(O):function(f){return Qo(f)&&_c(f.length)&&!!Gr[ro(f)]};var Im=nh(fl),zl=nh(function(f,E){return f<=E});function Ec(f){if(!f)return[];if(nl(f))return Bf(f)?Ur(f):Pa(f);if(qa&&f[qa])return function(on){for(var Rn,Cn=[];!(Rn=on.next()).done;)Cn.push(Rn.value);return Cn}(f[qa]());var E=Mo(f);return(E==qe?hi:E==pe?ms:Ta)(f)}function La(f){return f?(f=il(f))===kt||f===-kt?17976931348623157e292*(f<0?-1:1):f==f?f:0:0===f?f:0}function Cs(f){var E=La(f),q=E%1;return E==E?q?E-q:E:0}function Pm(f){return f?Ne(Cs(f),0,Nt):0}function il(f){if("number"==typeof f)return f;if(vl(f))return NaN;if(Lo(f)){var E="function"==typeof f.valueOf?f.valueOf():f;f=Lo(E)?E+"":E}if("string"!=typeof f)return 0===f?f:+f;f=ol(f);var q=Zr.test(f);return q||Hi.test(f)?rs(f.slice(2),q?2:8):Ts.test(f)?NaN:+f}function Vf(f){return Ra(f,Va(f))}function js(f){return null==f?"":Yn(f)}var Rm=_u(function(f,E){if(Uc(E)||nl(E))Ra(E,ca(E),f);else for(var q in E)Sn.call(E,q)&&C(f,q,E[q])}),Bh=_u(function(f,E){Ra(E,Va(E),f)}),Nd=_u(function(f,E,q,Se){Ra(E,Va(E),f,Se)}),sg=_u(function(f,E,q,Se){Ra(E,ca(E),f,Se)}),og=Hl(De);var Ba=ss(function(f,E){f=ws(f);var q=-1,Se=E.length,Ye=Se>2?E[2]:A;for(Ye&&va(E[0],E[1],Ye)&&(Se=1);++q<Se;)for(var gt=E[q],Ut=Va(gt),Zt=-1,fn=Ut.length;++Zt<fn;){var zn=Ut[Zt],Kn=f[zn];(Kn===A||tl(Kn,An[zn])&&!Sn.call(f,zn))&&(f[zn]=gt[zn])}return f}),Mm=ss(function(f){return f.push(A,Ed),Z(hg,A,f)});function bc(f,E,q){var Se=null==f?A:Ws(f,E);return Se===A?q:Se}function Vh(f,E){return null!=f&&ah(f,E,po)}var _a=Ep(function(f,E,q){null!=E&&"function"!=typeof E.toString&&(E=cr.call(E)),f[E]=q},nc(Ua)),$f=Ep(function(f,E,q){null!=E&&"function"!=typeof E.toString&&(E=cr.call(E)),Sn.call(f,E)?f[E].push(q):f[E]=[q]},Tr),dg=ss(cs);function ca(f){return nl(f)?W(f):hl(f)}function Va(f){return nl(f)?W(f,!0):Qa(f)}var Lm=_u(function(f,E,q){fu(f,E,q)}),hg=_u(function(f,E,q,Se){fu(f,E,q,Se)}),ru=Hl(function(f,E){var q={};if(null==f)return q;var Se=!1;E=ci(E,function(gt){return gt=Yo(gt,f),Se||(Se=gt.length>1),gt}),Ra(f,Xo(f),q),Se&&(q=Ze(q,7,sm));for(var Ye=E.length;Ye--;)nr(q,E[Ye]);return q});var pg=Hl(function(f,E){return null==f?{}:function(f,E){return Oa(f,E,function(q,Se){return Vh(f,Se)})}(f,E)});function Ld(f,E){if(null==f)return{};var q=ci(Xo(f),function(Se){return[Se]});return E=Tr(E),Oa(f,q,function(Se,Ye){return E(Se,Ye[0])})}var Bm=bp(ca),Uh=bp(Va);function Ta(f){return null==f?[]:Ys(f,ca(f))}var Eg=kc(function(f,E,q){return E=E.toLowerCase(),f+(q?Cg(E):E)});function Cg(f){return ec(js(f).toLowerCase())}function Vm(f){return(f=js(f))&&f.replace(Gi,ot).replace(Fs,"")}var jf=kc(function(f,E,q){return f+(q?"-":"")+E.toLowerCase()}),Hm=kc(function(f,E,q){return f+(q?" ":"")+E.toLowerCase()}),Um=md("toLowerCase");var jm=kc(function(f,E,q){return f+(q?"_":"")+E.toLowerCase()});var Km=kc(function(f,E,q){return f+(q?" ":"")+ec(E)});var Sc=kc(function(f,E,q){return f+(q?" ":"")+E.toUpperCase()}),ec=md("toUpperCase");function Pu(f,E,q){return f=js(f),(E=q?A:E)===A?function(on){return ys.test(on)}(f)?function(on){return on.match(eo)||[]}(f):function(on){return on.match(zi)||[]}(f):f.match(E)||[]}var tc=ss(function(f,E){try{return Z(f,A,E)}catch(q){return tg(q)?q:new Mr(q)}}),ed=Hl(function(f,E){return et(E,function(q){q=eu(q),le(f,q,Au(f[q],f))}),f});function nc(f){return function(){return f}}var Wh=yu(),qf=yu(!0);function Ua(f){return f}function Ru(f){return dl("function"==typeof f?f:Ze(f,1))}var bg=ss(function(f,E){return function(q){return cs(q,f,E)}}),Xf=ss(function(f,E){return function(q){return cs(f,q,E)}});function zh(f,E,q){var Se=ca(E),Ye=fo(E,Se);null==q&&(!Lo(E)||!Ye.length&&Se.length)&&(q=E,E=f,f=this,Ye=fo(E,ca(E)));var gt=!(Lo(q)&&"chain"in q&&!q.chain),Ut=Wl(f);return et(Ye,function(Zt){var fn=E[Zt];f[Zt]=fn,Ut&&(f.prototype[Zt]=function(){var zn=this.__chain__;if(gt||zn){var Kn=f(this.__wrapped__),ei=Kn.__actions__=Pa(this.__actions__);return ei.push({func:fn,args:arguments,thisArg:f}),Kn.__chain__=zn,Kn}return fn.apply(f,_i([this.value()],arguments))})}),f}function Gh(){}var Ud=rf(ci),Qf=rf(En),Xm=rf(wi);function Tg(f){return Cu(f)?ha(eu(f)):function(f){return function(E){return Ws(E,f)}}(f)}var Zf=sf(),Jf=sf(!0);function ep(){return[]}function tp(){return!1}var Og=ju(function(f,E){return f+E},0),Jm=ih("ceil"),ev=ju(function(f,E){return f/E},1),ip=ih("floor");var rp=ju(function(f,E){return f*E},1),id=ih("round"),Mg=ju(function(f,E){return f-E},0);return rt.after=function(f,E){if("function"!=typeof E)throw new at(b);return f=Cs(f),function(){if(--f<1)return E.apply(this,arguments)}},rt.ary=gc,rt.assign=Rm,rt.assignIn=Bh,rt.assignInWith=Nd,rt.assignWith=sg,rt.at=og,rt.before=Xu,rt.bind=Au,rt.bindAll=ed,rt.bindKey=mc,rt.castArray=function(){if(!arguments.length)return[];var f=arguments[0];return hs(f)?f:[f]},rt.chain=bf,rt.chunk=function(f,E,q){E=(q?va(f,E,q):E===A)?1:se(Cs(E),0);var Se=null==f?0:f.length;if(!Se||E<1)return[];for(var Ye=0,gt=0,Ut=Cn(wl(Se/E));Ye<Se;)Ut[gt++]=Wo(f,Ye,Ye+=E);return Ut},rt.compact=function(f){for(var E=-1,q=null==f?0:f.length,Se=0,Ye=[];++E<q;){var gt=f[E];gt&&(Ye[Se++]=gt)}return Ye},rt.concat=function(){var f=arguments.length;if(!f)return[];for(var E=Cn(f-1),q=arguments[0],Se=f;Se--;)E[Se-1]=arguments[Se];return _i(hs(q)?Pa(q):[q],Xn(E,1))},rt.cond=function(f){var E=null==f?0:f.length,q=Tr();return f=E?ci(f,function(Se){if("function"!=typeof Se[1])throw new at(b);return[q(Se[0]),Se[1]]}):[],ss(function(Se){for(var Ye=-1;++Ye<E;){var gt=f[Ye];if(Z(gt[0],this,Se))return Z(gt[1],this,Se)}})},rt.conforms=function(f){return function(f){var E=ca(f);return function(q){return Ct(q,f,E)}}(Ze(f,1))},rt.constant=nc,rt.countBy=Em,rt.create=function(f,E){var q=du(f);return null==E?q:J(q,E)},rt.curry=function qp(f,E,q){var Se=Eu(f,8,A,A,A,A,A,E=q?A:E);return Se.placeholder=qp.placeholder,Se},rt.curryRight=function Df(f,E,q){var Se=Eu(f,16,A,A,A,A,A,E=q?A:E);return Se.placeholder=Df.placeholder,Se},rt.debounce=vc,rt.defaults=Ba,rt.defaultsDeep=Mm,rt.defer=Oh,rt.delay=Af,rt.difference=gh,rt.differenceBy=Op,rt.differenceWith=ka,rt.drop=function(f,E,q){var Se=null==f?0:f.length;return Se?Wo(f,(E=q||E===A?1:Cs(E))<0?0:E,Se):[]},rt.dropRight=function(f,E,q){var Se=null==f?0:f.length;return Se?Wo(f,0,(E=Se-(E=q||E===A?1:Cs(E)))<0?0:E):[]},rt.dropRightWhile=function(f,E){return f&&f.length?os(f,Tr(E,3),!0,!0):[]},rt.dropWhile=function(f,E){return f&&f.length?os(f,Tr(E,3),!0):[]},rt.fill=function(f,E,q,Se){var Ye=null==f?0:f.length;return Ye?(q&&"number"!=typeof q&&va(f,E,q)&&(q=0,Se=Ye),function(f,E,q,Se){var Ye=f.length;for((q=Cs(q))<0&&(q=-q>Ye?0:Ye+q),(Se=Se===A||Se>Ye?Ye:Cs(Se))<0&&(Se+=Ye),Se=q>Se?0:Pm(Se);q<Se;)f[q++]=E;return f}(f,E,q,Se)):[]},rt.filter=function(f,E){return(hs(f)?vi:ri)(f,Tr(E,3))},rt.flatMap=function(f,E){return Xn(Gc(f,E),1)},rt.flatMapDeep=function(f,E){return Xn(Gc(f,E),kt)},rt.flatMapDepth=function(f,E,q){return q=q===A?1:Cs(q),Xn(Gc(f,E),q)},rt.flatten=bu,rt.flattenDeep=function(f){return(null==f?0:f.length)?Xn(f,kt):[]},rt.flattenDepth=function(f,E){return(null==f?0:f.length)?Xn(f,E=E===A?1:Cs(E)):[]},rt.flip=function(f){return Eu(f,512)},rt.flow=Wh,rt.flowRight=qf,rt.fromPairs=function(f){for(var E=-1,q=null==f?0:f.length,Se={};++E<q;){var Ye=f[E];Se[Ye[0]]=Ye[1]}return Se},rt.functions=function(f){return null==f?[]:fo(f,ca(f))},rt.functionsIn=function(f){return null==f?[]:fo(f,Va(f))},rt.groupBy=Tu,rt.initial=function(f){return(null==f?0:f.length)?Wo(f,0,-1):[]},rt.intersection=pf,rt.intersectionBy=Eh,rt.intersectionWith=gf,rt.invert=_a,rt.invertBy=$f,rt.invokeMap=Wc,rt.iteratee=Ru,rt.keyBy=zc,rt.keys=ca,rt.keysIn=Va,rt.map=Gc,rt.mapKeys=function(f,E){var q={};return E=Tr(E,3),Ci(f,function(Se,Ye,gt){le(q,E(Se,Ye,gt),Se)}),q},rt.mapValues=function(f,E){var q={};return E=Tr(E,3),Ci(f,function(Se,Ye,gt){le(q,Ye,E(Se,Ye,gt))}),q},rt.matches=function(f){return Ka(Ze(f,1))},rt.matchesProperty=function(f,E){return cd(f,Ze(E,1))},rt.memoize=xu,rt.merge=Lm,rt.mergeWith=hg,rt.method=bg,rt.methodOf=Xf,rt.mixin=zh,rt.negate=Ih,rt.nthArg=function(f){return f=Cs(f),ss(function(E){return Yl(E,f)})},rt.omit=ru,rt.omitBy=function(f,E){return Ld(f,Ih(Tr(E)))},rt.once=function(f){return Xu(2,f)},rt.orderBy=function(f,E,q,Se){return null==f?[]:(hs(E)||(E=null==E?[]:[E]),hs(q=Se?A:q)||(q=null==q?[]:[q]),pu(f,E,q))},rt.over=Ud,rt.overArgs=Sm,rt.overEvery=Qf,rt.overSome=Xm,rt.partial=Ph,rt.partialRight=xf,rt.partition=Tf,rt.pick=pg,rt.pickBy=Ld,rt.property=Tg,rt.propertyOf=function(f){return function(E){return null==f?A:Ws(f,E)}},rt.pull=kp,rt.pullAll=mf,rt.pullAllBy=function(f,E,q){return f&&f.length&&E&&E.length?Xl(f,E,Tr(q,2)):f},rt.pullAllWith=function(f,E,q){return f&&f.length&&E&&E.length?Xl(f,E,A,q):f},rt.pullAt=lm,rt.range=Zf,rt.rangeRight=Jf,rt.rearg=Tm,rt.reject=function(f,E){return(hs(f)?vi:ri)(f,Ih(Tr(E,3)))},rt.remove=function(f,E){var q=[];if(!f||!f.length)return q;var Se=-1,Ye=[],gt=f.length;for(E=Tr(E,3);++Se<gt;){var Ut=f[Se];E(Ut,Se,f)&&(q.push(Ut),Ye.push(Se))}return gu(f,Ye),q},rt.rest=function(f,E){if("function"!=typeof f)throw new at(b);return ss(f,E=E===A?E:Cs(E))},rt.reverse=vf,rt.sampleSize=function(f,E,q){return E=(q?va(f,E,q):E===A)?1:Cs(E),(hs(f)?t:zu)(f,E)},rt.set=function(f,E,q){return null==f?f:Ql(f,E,q)},rt.setWith=function(f,E,q,Se){return Se="function"==typeof Se?Se:A,null==f?f:Ql(f,E,q,Se)},rt.shuffle=function(f){return(hs(f)?u:Fc)(f)},rt.slice=function(f,E,q){var Se=null==f?0:f.length;return Se?(q&&"number"!=typeof q&&va(f,E,q)?(E=0,q=Se):(E=null==E?0:Cs(E),q=q===A?Se:Cs(q)),Wo(f,E,q)):[]},rt.sortBy=bm,rt.sortedUniq=function(f){return f&&f.length?Bn(f):[]},rt.sortedUniqBy=function(f,E){return f&&f.length?Bn(f,Tr(E,2)):[]},rt.split=function(f,E,q){return q&&"number"!=typeof q&&va(f,E,q)&&(E=q=A),(q=q===A?Nt:q>>>0)?(f=js(f))&&("string"==typeof E||null!=E&&!Nh(E))&&(!(E=Yn(E))&&qn(f))?No(Ur(f),0,q):f.split(E,q):[]},rt.spread=function(f,E){if("function"!=typeof f)throw new at(b);return E=null==E?0:se(Cs(E),0),ss(function(q){var Se=q[E],Ye=No(q,0,E);return Se&&_i(Ye,Se),Z(f,this,Ye)})},rt.tail=function(f){var E=null==f?0:f.length;return E?Wo(f,1,E):[]},rt.take=function(f,E,q){return f&&f.length?Wo(f,0,(E=q||E===A?1:Cs(E))<0?0:E):[]},rt.takeRight=function(f,E,q){var Se=null==f?0:f.length;return Se?Wo(f,(E=Se-(E=q||E===A?1:Cs(E)))<0?0:E,Se):[]},rt.takeRightWhile=function(f,E){return f&&f.length?os(f,Tr(E,3),!1,!0):[]},rt.takeWhile=function(f,E){return f&&f.length?os(f,Tr(E,3)):[]},rt.tap=function(f,E){return E(f),f},rt.throttle=function(f,E,q){var Se=!0,Ye=!0;if("function"!=typeof f)throw new at(b);return Lo(q)&&(Se="leading"in q?!!q.leading:Se,Ye="trailing"in q?!!q.trailing:Ye),vc(f,E,{leading:Se,maxWait:E,trailing:Ye})},rt.thru=xd,rt.toArray=Ec,rt.toPairs=Bm,rt.toPairsIn=Uh,rt.toPath=function(f){return hs(f)?ci(f,eu):vl(f)?[f]:Pa(lf(js(f)))},rt.toPlainObject=Vf,rt.transform=function(f,E,q){var Se=hs(f),Ye=Se||Ou(f)||yc(f);if(E=Tr(E,4),null==q){var gt=f&&f.constructor;q=Ye?Se?new gt:[]:Lo(f)&&Wl(gt)?du(Do(f)):{}}return(Ye?et:Ci)(f,function(Ut,Zt,fn){return E(q,Ut,Zt,fn)}),q},rt.unary=function(f){return gc(f,1)},rt.union=gm,rt.unionBy=yf,rt.unionWith=nu,rt.uniq=function(f){return f&&f.length?tr(f):[]},rt.uniqBy=function(f,E){return f&&f.length?tr(f,Tr(E,2)):[]},rt.uniqWith=function(f,E){return E="function"==typeof E?E:A,f&&f.length?tr(f,A,E):[]},rt.unset=function(f,E){return null==f||nr(f,E)},rt.unzip=Ef,rt.unzipWith=Th,rt.update=function(f,E,q){return null==f?f:ds(f,E,ua(q))},rt.updateWith=function(f,E,q,Se){return Se="function"==typeof Se?Se:A,null==f?f:ds(f,E,ua(q),Se)},rt.values=Ta,rt.valuesIn=function(f){return null==f?[]:Ys(f,Va(f))},rt.without=mm,rt.words=Pu,rt.wrap=function(f,E){return Ph(ua(E),f)},rt.xor=Dh,rt.xorBy=Ah,rt.xorWith=Cf,rt.zip=wf,rt.zipObject=function(f,E){return na(f||[],E||[],C)},rt.zipObjectDeep=function(f,E){return na(f||[],E||[],Ql)},rt.zipWith=vm,rt.entries=Bm,rt.entriesIn=Uh,rt.extend=Bh,rt.extendWith=Nd,zh(rt,rt),rt.add=Og,rt.attempt=tc,rt.camelCase=Eg,rt.capitalize=Cg,rt.ceil=Jm,rt.clamp=function(f,E,q){return q===A&&(q=E,E=A),q!==A&&(q=(q=il(q))==q?q:0),E!==A&&(E=(E=il(E))==E?E:0),Ne(il(f),E,q)},rt.clone=function(f){return Ze(f,4)},rt.cloneDeep=function(f){return Ze(f,5)},rt.cloneDeepWith=function(f,E){return Ze(f,5,E="function"==typeof E?E:A)},rt.cloneWith=function(f,E){return Ze(f,4,E="function"==typeof E?E:A)},rt.conformsTo=function(f,E){return null==E||Ct(f,E,ca(E))},rt.deburr=Vm,rt.defaultTo=function(f,E){return null==f||f!=f?E:f},rt.divide=ev,rt.endsWith=function(f,E,q){f=js(f),E=Yn(E);var Se=f.length,Ye=q=q===A?Se:Ne(Cs(q),0,Se);return(q-=E.length)>=0&&f.slice(q,Ye)==E},rt.eq=tl,rt.escape=function(f){return(f=js(f))&&rr.test(f)?f.replace(yr,Gt):f},rt.escapeRegExp=function(f){return(f=js(f))&&Qe.test(f)?f.replace(bn,"\\$&"):f},rt.every=function(f,E,q){var Se=hs(f)?En:ni;return q&&va(f,E,q)&&(E=A),Se(f,Tr(E,3))},rt.find=Gp,rt.findIndex=Dd,rt.findKey=function(f,E){return Co(f,Tr(E,3),Ci)},rt.findLast=Nv,rt.findLastIndex=df,rt.findLastKey=function(f,E){return Co(f,Tr(E,3),As)},rt.floor=ip,rt.forEach=Cm,rt.forEachRight=wm,rt.forIn=function(f,E){return null==f?f:Wi(f,Tr(E,3),Va)},rt.forInRight=function(f,E){return null==f?f:vr(f,Tr(E,3),Va)},rt.forOwn=function(f,E){return f&&Ci(f,Tr(E,3))},rt.forOwnRight=function(f,E){return f&&As(f,Tr(E,3))},rt.get=bc,rt.gt=If,rt.gte=Zp,rt.has=function(f,E){return null!=f&&ah(f,E,oa)},rt.hasIn=Vh,rt.head=Rp,rt.identity=Ua,rt.includes=function(f,E,q,Se){f=nl(f)?f:Ta(f),q=q&&!Se?Cs(q):0;var Ye=f.length;return q<0&&(q=se(Ye+q,0)),Bf(f)?q<=Ye&&f.indexOf(E,q)>-1:!!Ye&&uo(f,E,q)>-1},rt.indexOf=function(f,E,q){var Se=null==f?0:f.length;if(!Se)return-1;var Ye=null==q?0:Cs(q);return Ye<0&&(Ye=se(Se+Ye,0)),uo(f,E,Ye)},rt.inRange=function(f,E,q){return E=La(E),q===A?(q=E,E=0):q=La(q),function(f,E,q){return f>=we(E,q)&&f<se(E,q)}(f=il(f),E,q)},rt.invoke=dg,rt.isArguments=Qu,rt.isArray=hs,rt.isArrayBuffer=Pf,rt.isArrayLike=nl,rt.isArrayLikeObject=zo,rt.isBoolean=function(f){return!0===f||!1===f||Qo(f)&&ro(f)==On},rt.isBuffer=Ou,rt.isDate=Rf,rt.isElement=function(f){return Qo(f)&&1===f.nodeType&&!Qc(f)},rt.isEmpty=function(f){if(null==f)return!0;if(nl(f)&&(hs(f)||"string"==typeof f||"function"==typeof f.splice||Ou(f)||yc(f)||Qu(f)))return!f.length;var E=Mo(f);if(E==qe||E==pe)return!f.size;if(Uc(f))return!hl(f).length;for(var q in f)if(Sn.call(f,q))return!1;return!0},rt.isEqual=function(f,E){return Es(f,E)},rt.isEqualWith=function(f,E,q){var Se=(q="function"==typeof q?q:A)?q(f,E):A;return Se===A?Es(f,E,A,q):!!Se},rt.isError=tg,rt.isFinite=function(f){return"number"==typeof f&&Bl(f)},rt.isFunction=Wl,rt.isInteger=Mh,rt.isLength=_c,rt.isMap=Fh,rt.isMatch=function(f,E){return f===E||Xa(f,E,Cd(E))},rt.isMatchWith=function(f,E,q){return q="function"==typeof q?q:A,Xa(f,E,Cd(E),q)},rt.isNaN=function(f){return Fd(f)&&f!=+f},rt.isNative=function(f){if(bd(f))throw new Mr("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return aa(f)},rt.isNil=function(f){return null==f},rt.isNull=function(f){return null===f},rt.isNumber=Fd,rt.isObject=Lo,rt.isObjectLike=Qo,rt.isPlainObject=Qc,rt.isRegExp=Nh,rt.isSafeInteger=function(f){return Mh(f)&&f>=-wt&&f<=wt},rt.isSet=kd,rt.isString=Bf,rt.isSymbol=vl,rt.isTypedArray=yc,rt.isUndefined=function(f){return f===A},rt.isWeakMap=function(f){return Qo(f)&&Mo(f)==lt},rt.isWeakSet=function(f){return Qo(f)&&"[object WeakSet]"==ro(f)},rt.join=function(f,E){return null==f?"":me.call(f,E)},rt.kebabCase=jf,rt.last=$l,rt.lastIndexOf=function(f,E,q){var Se=null==f?0:f.length;if(!Se)return-1;var Ye=Se;return q!==A&&(Ye=(Ye=Cs(q))<0?se(Se+Ye,0):we(Ye,Se-1)),E==E?function(on,Rn,Cn){for(var Ii=Cn+1;Ii--;)if(on[Ii]===Rn)return Ii;return Ii}(f,E,Ye):Oo(f,Un,Ye,!0)},rt.lowerCase=Hm,rt.lowerFirst=Um,rt.lt=Im,rt.lte=zl,rt.max=function(f){return f&&f.length?Jn(f,Ua,Aa):A},rt.maxBy=function(f,E){return f&&f.length?Jn(f,Tr(E,2),Aa):A},rt.mean=function(f){return Vr(f,Ua)},rt.meanBy=function(f,E){return Vr(f,Tr(E,2))},rt.min=function(f){return f&&f.length?Jn(f,Ua,fl):A},rt.minBy=function(f,E){return f&&f.length?Jn(f,Tr(E,2),fl):A},rt.stubArray=ep,rt.stubFalse=tp,rt.stubObject=function(){return{}},rt.stubString=function(){return""},rt.stubTrue=function(){return!0},rt.multiply=rp,rt.nth=function(f,E){return f&&f.length?Yl(f,Cs(E)):A},rt.noConflict=function(){return R._===this&&(R._=br),this},rt.noop=Gh,rt.now=Du,rt.pad=function(f,E,q){f=js(f);var Se=(E=Cs(E))?Io(f):0;if(!E||Se>=E)return f;var Ye=(E-Se)/2;return yd(Kl(Ye),q)+f+yd(wl(Ye),q)},rt.padEnd=function(f,E,q){f=js(f);var Se=(E=Cs(E))?Io(f):0;return E&&Se<E?f+yd(E-Se,q):f},rt.padStart=function(f,E,q){f=js(f);var Se=(E=Cs(E))?Io(f):0;return E&&Se<E?yd(E-Se,q)+f:f},rt.parseInt=function(f,E,q){return q||null==E?E=0:E&&(E=+E),ct(js(f).replace(ft,""),E||0)},rt.random=function(f,E,q){if(q&&"boolean"!=typeof q&&va(f,E,q)&&(E=q=A),q===A&&("boolean"==typeof E?(q=E,E=A):"boolean"==typeof f&&(q=f,f=A)),f===A&&E===A?(f=0,E=1):(f=La(f),E===A?(E=f,f=0):E=La(E)),f>E){var Se=f;f=E,E=Se}if(q||f%1||E%1){var Ye=pt();return we(f+Ye*(E-f+to("1e-"+((Ye+"").length-1))),E)}return xl(f,E)},rt.reduce=function(f,E,q){var Se=hs(f)?wr:za,Ye=arguments.length<3;return Se(f,Tr(E,4),q,Ye,dn)},rt.reduceRight=function(f,E,q){var Se=hs(f)?Ji:za,Ye=arguments.length<3;return Se(f,Tr(E,4),q,Ye,yi)},rt.repeat=function(f,E,q){return E=(q?va(f,E,q):E===A)?1:Cs(E),go(js(f),E)},rt.replace=function(){var f=arguments,E=js(f[0]);return f.length<3?E:E.replace(f[1],f[2])},rt.result=function(f,E,q){var Se=-1,Ye=(E=Yo(E,f)).length;for(Ye||(Ye=1,f=A);++Se<Ye;){var gt=null==f?A:f[eu(E[Se])];gt===A&&(Se=Ye,gt=q),f=Wl(gt)?gt.call(f):gt}return f},rt.round=id,rt.runInContext=on,rt.sample=function(f){return(hs(f)?i:Mc)(f)},rt.size=function(f){if(null==f)return 0;if(nl(f))return Bf(f)?Io(f):f.length;var E=Mo(f);return E==qe||E==pe?f.size:hl(f).length},rt.snakeCase=jm,rt.some=function(f,E,q){var Se=hs(f)?wi:mt;return q&&va(f,E,q)&&(E=A),Se(f,Tr(E,3))},rt.sortedIndex=function(f,E){return xt(f,E)},rt.sortedIndexBy=function(f,E,q){return gn(f,E,Tr(q,2))},rt.sortedIndexOf=function(f,E){var q=null==f?0:f.length;if(q){var Se=xt(f,E);if(Se<q&&tl(f[Se],E))return Se}return-1},rt.sortedLastIndex=function(f,E){return xt(f,E,!0)},rt.sortedLastIndexBy=function(f,E,q){return gn(f,E,Tr(q,2),!0)},rt.sortedLastIndexOf=function(f,E){if(null==f?0:f.length){var Se=xt(f,E,!0)-1;if(tl(f[Se],E))return Se}return-1},rt.startCase=Km,rt.startsWith=function(f,E,q){return f=js(f),q=null==q?0:Ne(Cs(q),0,f.length),E=Yn(E),f.slice(q,q+E.length)==E},rt.subtract=Mg,rt.sum=function(f){return f&&f.length?li(f,Ua):0},rt.sumBy=function(f,E){return f&&f.length?li(f,Tr(E,2)):0},rt.template=function(f,E,q){var Se=rt.templateSettings;q&&va(f,E,q)&&(E=A),f=js(f),E=Nd({},E,Se,rm);var Zt,fn,Ye=Nd({},E.imports,Se.imports,rm),gt=ca(Ye),Ut=Ys(Ye,gt),zn=0,Kn=E.interpolate||pr,ei="__p += '",Ni=Ga((E.escape||pr).source+"|"+Kn.source+"|"+(Kn===Yi?sr:pr).source+"|"+(E.evaluate||pr).source+"|$","g"),ir="//# sourceURL="+(Sn.call(E,"sourceURL")?(E.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ea+"]")+"\n";f.replace(Ni,function(Fr,Rs,Ms,$a,Wa,kl){return Ms||(Ms=$a),ei+=f.slice(zn,kl).replace(ts,yt),Rs&&(Zt=!0,ei+="' +\n__e("+Rs+") +\n'"),Wa&&(fn=!0,ei+="';\n"+Wa+";\n__p += '"),Ms&&(ei+="' +\n((__t = ("+Ms+")) == null ? '' : __t) +\n'"),zn=kl+Fr.length,Fr}),ei+="';\n";var Nr=Sn.call(E,"variable")&&E.variable;if(Nr){if(_r.test(Nr))throw new Mr("Invalid `variable` option passed into `_.template`")}else ei="with (obj) {\n"+ei+"\n}\n";ei=(fn?ei.replace(xn,""):ei).replace(hr,"$1").replace($i,"$1;"),ei="function("+(Nr||"obj")+") {\n"+(Nr?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(Zt?", __e = _.escape":"")+(fn?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+ei+"return __p\n}";var fs=tc(function(){return Ns(gt,ir+"return "+ei).apply(A,Ut)});if(fs.source=ei,tg(fs))throw fs;return fs},rt.times=function(f,E){if((f=Cs(f))<1||f>wt)return[];var q=Nt,Se=we(f,Nt);E=Tr(E),f-=Nt;for(var Ye=To(Se,E);++q<f;)E(q);return Ye},rt.toFinite=La,rt.toInteger=Cs,rt.toLength=Pm,rt.toLower=function(f){return js(f).toLowerCase()},rt.toNumber=il,rt.toSafeInteger=function(f){return f?Ne(Cs(f),-wt,wt):0===f?f:0},rt.toString=js,rt.toUpper=function(f){return js(f).toUpperCase()},rt.trim=function(f,E,q){if((f=js(f))&&(q||E===A))return ol(f);if(!f||!(E=Yn(E)))return f;var Se=Ur(f),Ye=Ur(E);return No(Se,K(Se,Ye),fe(Se,Ye)+1).join("")},rt.trimEnd=function(f,E,q){if((f=js(f))&&(q||E===A))return f.slice(0,sa(f)+1);if(!f||!(E=Yn(E)))return f;var Se=Ur(f);return No(Se,0,fe(Se,Ur(E))+1).join("")},rt.trimStart=function(f,E,q){if((f=js(f))&&(q||E===A))return f.replace(ft,"");if(!f||!(E=Yn(E)))return f;var Se=Ur(f);return No(Se,K(Se,Ur(E))).join("")},rt.truncate=function(f,E){var q=30,Se="...";if(Lo(E)){var Ye="separator"in E?E.separator:Ye;q="length"in E?Cs(E.length):q,Se="omission"in E?Yn(E.omission):Se}var gt=(f=js(f)).length;if(qn(f)){var Ut=Ur(f);gt=Ut.length}if(q>=gt)return f;var Zt=q-Io(Se);if(Zt<1)return Se;var fn=Ut?No(Ut,0,Zt).join(""):f.slice(0,Zt);if(Ye===A)return fn+Se;if(Ut&&(Zt+=fn.length-Zt),Nh(Ye)){if(f.slice(Zt).search(Ye)){var zn,Kn=fn;for(Ye.global||(Ye=Ga(Ye.source,js(Qr.exec(Ye))+"g")),Ye.lastIndex=0;zn=Ye.exec(Kn);)var ei=zn.index;fn=fn.slice(0,ei===A?Zt:ei)}}else if(f.indexOf(Yn(Ye),Zt)!=Zt){var Ni=fn.lastIndexOf(Ye);Ni>-1&&(fn=fn.slice(0,Ni))}return fn+Se},rt.unescape=function(f){return(f=js(f))&&xr.test(f)?f.replace(kr,al):f},rt.uniqueId=function(f){var E=++gi;return js(f)+E},rt.upperCase=Sc,rt.upperFirst=ec,rt.each=Cm,rt.eachRight=wm,rt.first=Rp,zh(rt,function(){var f={};return Ci(rt,function(E,q){Sn.call(rt.prototype,q)||(f[q]=E)}),f}(),{chain:!1}),rt.VERSION="4.17.21",et(["bind","bindKey","curry","curryRight","partial","partialRight"],function(f){rt[f].placeholder=rt}),et(["drop","take"],function(f,E){Ss.prototype[f]=function(q){q=q===A?1:se(Cs(q),0);var Se=this.__filtered__&&!E?new Ss(this):this.clone();return Se.__filtered__?Se.__takeCount__=we(q,Se.__takeCount__):Se.__views__.push({size:we(q,Nt),type:f+(Se.__dir__<0?"Right":"")}),Se},Ss.prototype[f+"Right"]=function(q){return this.reverse()[f](q).reverse()}}),et(["filter","map","takeWhile"],function(f,E){var q=E+1,Se=1==q||3==q;Ss.prototype[f]=function(Ye){var gt=this.clone();return gt.__iteratees__.push({iteratee:Tr(Ye,3),type:q}),gt.__filtered__=gt.__filtered__||Se,gt}}),et(["head","last"],function(f,E){var q="take"+(E?"Right":"");Ss.prototype[f]=function(){return this[q](1).value()[0]}}),et(["initial","tail"],function(f,E){var q="drop"+(E?"":"Right");Ss.prototype[f]=function(){return this.__filtered__?new Ss(this):this[q](1)}}),Ss.prototype.compact=function(){return this.filter(Ua)},Ss.prototype.find=function(f){return this.filter(f).head()},Ss.prototype.findLast=function(f){return this.reverse().find(f)},Ss.prototype.invokeMap=ss(function(f,E){return"function"==typeof f?new Ss(this):this.map(function(q){return cs(q,f,E)})}),Ss.prototype.reject=function(f){return this.filter(Ih(Tr(f)))},Ss.prototype.slice=function(f,E){f=Cs(f);var q=this;return q.__filtered__&&(f>0||E<0)?new Ss(q):(f<0?q=q.takeRight(-f):f&&(q=q.drop(f)),E!==A&&(q=(E=Cs(E))<0?q.dropRight(-E):q.take(E-f)),q)},Ss.prototype.takeRightWhile=function(f){return this.reverse().takeWhile(f).reverse()},Ss.prototype.toArray=function(){return this.take(Nt)},Ci(Ss.prototype,function(f,E){var q=/^(?:filter|find|map|reject)|While$/.test(E),Se=/^(?:head|last)$/.test(E),Ye=rt[Se?"take"+("last"==E?"Right":""):E],gt=Se||/^find/.test(E);!Ye||(rt.prototype[E]=function(){var Ut=this.__wrapped__,Zt=Se?[1]:arguments,fn=Ut instanceof Ss,zn=Zt[0],Kn=fn||hs(Ut),ei=function(Rs){var Ms=Ye.apply(rt,_i([Rs],Zt));return Se&&Ni?Ms[0]:Ms};Kn&&q&&"function"==typeof zn&&1!=zn.length&&(fn=Kn=!1);var Ni=this.__chain__,ir=!!this.__actions__.length,Nr=gt&&!Ni,fs=fn&&!ir;if(!gt&&Kn){Ut=fs?Ut:new Ss(this);var Fr=f.apply(Ut,Zt);return Fr.__actions__.push({func:xd,args:[ei],thisArg:A}),new Ca(Fr,Ni)}return Nr&&fs?f.apply(this,Zt):(Fr=this.thru(ei),Nr?Se?Fr.value()[0]:Fr.value():Fr)})}),et(["pop","push","shift","sort","splice","unshift"],function(f){var E=Ot[f],q=/^(?:push|sort|unshift)$/.test(f)?"tap":"thru",Se=/^(?:pop|shift)$/.test(f);rt.prototype[f]=function(){var Ye=arguments;if(Se&&!this.__chain__){var gt=this.value();return E.apply(hs(gt)?gt:[],Ye)}return this[q](function(Ut){return E.apply(hs(Ut)?Ut:[],Ye)})}}),Ci(Ss.prototype,function(f,E){var q=rt[E];if(q){var Se=q.name+"";Sn.call(_o,Se)||(_o[Se]=[]),_o[Se].push({name:E,func:q})}}),_o[_d(A,2).name]=[{name:"wrapper",func:A}],Ss.prototype.clone=function(){var f=new Ss(this.__wrapped__);return f.__actions__=Pa(this.__actions__),f.__dir__=this.__dir__,f.__filtered__=this.__filtered__,f.__iteratees__=Pa(this.__iteratees__),f.__takeCount__=this.__takeCount__,f.__views__=Pa(this.__views__),f},Ss.prototype.reverse=function(){if(this.__filtered__){var f=new Ss(this);f.__dir__=-1,f.__filtered__=!0}else(f=this.clone()).__dir__*=-1;return f},Ss.prototype.value=function(){var f=this.__wrapped__.value(),E=this.__dir__,q=hs(f),Se=E<0,Ye=q?f.length:0,gt=function(f,E,q){for(var Se=-1,Ye=q.length;++Se<Ye;){var gt=q[Se],Ut=gt.size;switch(gt.type){case"drop":f+=Ut;break;case"dropRight":E-=Ut;break;case"take":E=we(E,f+Ut);break;case"takeRight":f=se(f,E-Ut)}}return{start:f,end:E}}(0,Ye,this.__views__),Ut=gt.start,Zt=gt.end,fn=Zt-Ut,zn=Se?Zt:Ut-1,Kn=this.__iteratees__,ei=Kn.length,Ni=0,ir=we(fn,this.__takeCount__);if(!q||!Se&&Ye==fn&&ir==fn)return oo(f,this.__actions__);var Nr=[];e:for(;fn--&&Ni<ir;){for(var fs=-1,Fr=f[zn+=E];++fs<ei;){var Rs=Kn[fs],Ms=Rs.iteratee,$a=Rs.type,Wa=Ms(Fr);if(2==$a)Fr=Wa;else if(!Wa){if(1==$a)continue e;break e}}Nr[Ni++]=Fr}return Nr},rt.prototype.at=Hp,rt.prototype.chain=function(){return bf(this)},rt.prototype.commit=function(){return new Ca(this.value(),this.__chain__)},rt.prototype.next=function(){this.__values__===A&&(this.__values__=Ec(this.value()));var f=this.__index__>=this.__values__.length;return{done:f,value:f?A:this.__values__[this.__index__++]}},rt.prototype.plant=function(f){for(var E,q=this;q instanceof oc;){var Se=tu(q);Se.__index__=0,Se.__values__=A,E?Ye.__wrapped__=Se:E=Se;var Ye=Se;q=q.__wrapped__}return Ye.__wrapped__=f,E},rt.prototype.reverse=function(){var f=this.__wrapped__;if(f instanceof Ss){var E=f;return this.__actions__.length&&(E=new Ss(this)),(E=E.reverse()).__actions__.push({func:xd,args:[vf],thisArg:A}),new Ca(E,this.__chain__)}return this.thru(vf)},rt.prototype.toJSON=rt.prototype.valueOf=rt.prototype.value=function(){return oo(this.__wrapped__,this.__actions__)},rt.prototype.first=rt.prototype.head,qa&&(rt.prototype[qa]=function(){return this}),rt}();R._=ks,(l=function(){return ks}.call(k,L,k,V))!==A&&(V.exports=l)}.call(this)},6333:()=>{},4291:function(V,k,L){(V=L.nmd(V)).exports=function(){"use strict";var l,A;function j(){return l.apply(null,arguments)}function I(K){return K instanceof Array||"[object Array]"===Object.prototype.toString.call(K)}function m(K){return null!=K&&"[object Object]"===Object.prototype.toString.call(K)}function b(K){return void 0===K}function v(K){return"number"==typeof K||"[object Number]"===Object.prototype.toString.call(K)}function w(K){return K instanceof Date||"[object Date]"===Object.prototype.toString.call(K)}function T(K,fe){var Be,ot=[];for(Be=0;Be<K.length;++Be)ot.push(fe(K[Be],Be));return ot}function x(K,fe){return Object.prototype.hasOwnProperty.call(K,fe)}function S(K,fe){for(var Be in fe)x(fe,Be)&&(K[Be]=fe[Be]);return x(fe,"toString")&&(K.toString=fe.toString),x(fe,"valueOf")&&(K.valueOf=fe.valueOf),K}function N(K,fe,Be,ot){return he(K,fe,Be,ot,!0).utc()}function F(K){return null==K._pf&&(K._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),K._pf}function U(K){if(null==K._isValid){var fe=F(K),Be=A.call(fe.parsedDateParts,function(Gt){return null!=Gt}),ot=!isNaN(K._d.getTime())&&fe.overflow<0&&!fe.empty&&!fe.invalidMonth&&!fe.invalidWeekday&&!fe.weekdayMismatch&&!fe.nullInput&&!fe.invalidFormat&&!fe.userInvalidated&&(!fe.meridiem||fe.meridiem&&Be);if(K._strict&&(ot=ot&&0===fe.charsLeftOver&&0===fe.unusedTokens.length&&void 0===fe.bigHour),null!=Object.isFrozen&&Object.isFrozen(K))return ot;K._isValid=ot}return K._isValid}function Y(K){var fe=N(NaN);return null!=K?S(F(fe),K):F(fe).userInvalidated=!0,fe}A=Array.prototype.some?Array.prototype.some:function(K){for(var fe=Object(this),Be=fe.length>>>0,ot=0;ot<Be;ot++)if(ot in fe&&K.call(this,fe[ot],ot,fe))return!0;return!1};var ce=j.momentProperties=[];function be(K,fe){var Be,ot,Gt;if(b(fe._isAMomentObject)||(K._isAMomentObject=fe._isAMomentObject),b(fe._i)||(K._i=fe._i),b(fe._f)||(K._f=fe._f),b(fe._l)||(K._l=fe._l),b(fe._strict)||(K._strict=fe._strict),b(fe._tzm)||(K._tzm=fe._tzm),b(fe._isUTC)||(K._isUTC=fe._isUTC),b(fe._offset)||(K._offset=fe._offset),b(fe._pf)||(K._pf=F(fe)),b(fe._locale)||(K._locale=fe._locale),0<ce.length)for(Be=0;Be<ce.length;Be++)b(Gt=fe[ot=ce[Be]])||(K[ot]=Gt);return K}var te=!1;function ae(K){be(this,K),this._d=new Date(null!=K._d?K._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===te&&(te=!0,j.updateOffset(this),te=!1)}function _e(K){return K instanceof ae||null!=K&&null!=K._isAMomentObject}function Te(K){return K<0?Math.ceil(K)||0:Math.floor(K)}function Re(K){var fe=+K,Be=0;return 0!==fe&&isFinite(fe)&&(Be=Te(fe)),Be}function G(K,fe,Be){var ot,Gt=Math.min(K.length,fe.length),yt=Math.abs(K.length-fe.length),Ln=0;for(ot=0;ot<Gt;ot++)(Be&&K[ot]!==fe[ot]||!Be&&Re(K[ot])!==Re(fe[ot]))&&Ln++;return Ln+yt}function Ee(K){!1===j.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+K)}function Ie(K,fe){var Be=!0;return S(function(){if(null!=j.deprecationHandler&&j.deprecationHandler(null,K),Be){for(var ot,Gt=[],yt=0;yt<arguments.length;yt++){if(ot="","object"==typeof arguments[yt]){for(var Ln in ot+="\n["+yt+"] ",arguments[0])ot+=Ln+": "+arguments[0][Ln]+", ";ot=ot.slice(0,-2)}else ot=arguments[yt];Gt.push(ot)}Ee(K+"\nArguments: "+Array.prototype.slice.call(Gt).join("")+"\n"+(new Error).stack),Be=!1}return fe.apply(this,arguments)},fe)}var Le,ne={};function Pe(K,fe){null!=j.deprecationHandler&&j.deprecationHandler(K,fe),ne[K]||(Ee(fe),ne[K]=!0)}function He(K){return K instanceof Function||"[object Function]"===Object.prototype.toString.call(K)}function ze(K,fe){var Be,ot=S({},K);for(Be in fe)x(fe,Be)&&(m(K[Be])&&m(fe[Be])?(ot[Be]={},S(ot[Be],K[Be]),S(ot[Be],fe[Be])):null!=fe[Be]?ot[Be]=fe[Be]:delete ot[Be]);for(Be in K)x(K,Be)&&!x(fe,Be)&&m(K[Be])&&(ot[Be]=S({},ot[Be]));return ot}function dt(K){null!=K&&this.set(K)}j.suppressDeprecationWarnings=!1,j.deprecationHandler=null,Le=Object.keys?Object.keys:function(K){var fe,Be=[];for(fe in K)x(K,fe)&&Be.push(fe);return Be};var nt={};function kt(K,fe){var Be=K.toLowerCase();nt[Be]=nt[Be+"s"]=nt[fe]=K}function wt(K){return"string"==typeof K?nt[K]||nt[K.toLowerCase()]:void 0}function Pt(K){var fe,Be,ot={};for(Be in K)x(K,Be)&&(fe=wt(Be))&&(ot[fe]=K[Be]);return ot}var en={};function Nt(K,fe){en[K]=fe}function je(K,fe,Be){var ot=""+Math.abs(K),Gt=fe-ot.length;return(0<=K?Be?"+":"":"-")+Math.pow(10,Math.max(0,Gt)).toString().substr(1)+ot}var Ft=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,sn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,nn={},zt={};function an(K,fe,Be,ot){var Gt=ot;"string"==typeof ot&&(Gt=function(){return this[ot]()}),K&&(zt[K]=Gt),fe&&(zt[fe[0]]=function(){return je(Gt.apply(this,arguments),fe[1],fe[2])}),Be&&(zt[Be]=function(){return this.localeData().ordinal(Gt.apply(this,arguments),K)})}function On(K,fe){return K.isValid()?(fe=Dn(fe,K.localeData()),nn[fe]=nn[fe]||function(Be){var ot,Gt,yt,Ln=Be.match(Ft);for(ot=0,Gt=Ln.length;ot<Gt;ot++)zt[Ln[ot]]?Ln[ot]=zt[Ln[ot]]:Ln[ot]=(yt=Ln[ot]).match(/\[[\s\S]/)?yt.replace(/^\[|\]$/g,""):yt.replace(/\\/g,"");return function(qn){var ii,Ei="";for(ii=0;ii<Gt;ii++)Ei+=He(Ln[ii])?Ln[ii].call(qn,Be):Ln[ii];return Ei}}(fe),nn[fe](K)):K.localeData().invalidDate()}function Dn(K,fe){var Be=5;function ot(Gt){return fe.longDateFormat(Gt)||Gt}for(sn.lastIndex=0;0<=Be&&sn.test(K);)K=K.replace(sn,ot),sn.lastIndex=0,Be-=1;return K}var fi=/\d/,ge=/\d\d/,$t=/\d{3}/,Dt=/\d{4}/,qe=/[+-]?\d{6}/,We=/\d\d?/,_t=/\d\d\d\d?/,St=/\d\d\d\d\d\d?/,Ht=/\d{1,3}/,Mt=/\d{1,4}/,ee=/[+-]?\d{1,6}/,pe=/\d+/,xe=/[+-]?\d+/,Ce=/Z|[+-]\d\d:?\d\d/gi,Je=/Z|[+-]\d\d(?::?\d\d)?/gi,lt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,jt={};function Oe(K,fe,Be){jt[K]=He(fe)?fe:function(ot,Gt){return ot&&Be?Be:fe}}function Fe(K,fe){return x(jt,K)?jt[K](fe._strict,fe._locale):new RegExp(ut(K.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(Be,ot,Gt,yt,Ln){return ot||Gt||yt||Ln})))}function ut(K){return K.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var It={};function cn(K,fe){var Be,ot=fe;for("string"==typeof K&&(K=[K]),v(fe)&&(ot=function(Gt,yt){yt[fe]=Re(Gt)}),Be=0;Be<K.length;Be++)It[K[Be]]=ot}function Nn(K,fe){cn(K,function(Be,ot,Gt,yt){Gt._w=Gt._w||{},fe(Be,Gt._w,Gt,yt)})}var _n=0,Fn=1,Hn=2,Tn=3,kn=4,xn=5,hr=6,$i=7,kr=8;function yr(K){return xr(K)?366:365}function xr(K){return K%4==0&&K%100!=0||K%400==0}an("Y",0,0,function(){var K=this.year();return K<=9999?""+K:"+"+K}),an(0,["YY",2],0,function(){return this.year()%100}),an(0,["YYYY",4],0,"year"),an(0,["YYYYY",5],0,"year"),an(0,["YYYYYY",6,!0],0,"year"),kt("year","y"),Nt("year",1),Oe("Y",xe),Oe("YY",We,ge),Oe("YYYY",Mt,Dt),Oe("YYYYY",ee,qe),Oe("YYYYYY",ee,qe),cn(["YYYYY","YYYYYY"],_n),cn("YYYY",function(K,fe){fe[_n]=2===K.length?j.parseTwoDigitYear(K):Re(K)}),cn("YY",function(K,fe){fe[_n]=j.parseTwoDigitYear(K)}),cn("Y",function(K,fe){fe[_n]=parseInt(K,10)}),j.parseTwoDigitYear=function(K){return Re(K)+(68<Re(K)?1900:2e3)};var rr,Xr=es("FullYear",!0);function es(K,fe){return function(Be){return null!=Be?(Hs(this,K,Be),j.updateOffset(this,fe),this):Yi(this,K)}}function Yi(K,fe){return K.isValid()?K._d["get"+(K._isUTC?"UTC":"")+fe]():NaN}function Hs(K,fe,Be){K.isValid()&&!isNaN(Be)&&("FullYear"===fe&&xr(K.year())&&1===K.month()&&29===K.date()?K._d["set"+(K._isUTC?"UTC":"")+fe](Be,K.month(),ps(Be,K.month())):K._d["set"+(K._isUTC?"UTC":"")+fe](Be))}function ps(K,fe){if(isNaN(K)||isNaN(fe))return NaN;var Be,ot=(fe%(Be=12)+Be)%Be;return K+=(fe-ot)/12,1===ot?xr(K)?29:28:31-ot%7%2}rr=Array.prototype.indexOf?Array.prototype.indexOf:function(K){var fe;for(fe=0;fe<this.length;++fe)if(this[fe]===K)return fe;return-1},an("M",["MM",2],"Mo",function(){return this.month()+1}),an("MMM",0,0,function(K){return this.localeData().monthsShort(this,K)}),an("MMMM",0,0,function(K){return this.localeData().months(this,K)}),kt("month","M"),Nt("month",8),Oe("M",We),Oe("MM",We,ge),Oe("MMM",function(K,fe){return fe.monthsShortRegex(K)}),Oe("MMMM",function(K,fe){return fe.monthsRegex(K)}),cn(["M","MM"],function(K,fe){fe[Fn]=Re(K)-1}),cn(["MMM","MMMM"],function(K,fe,Be,ot){var Gt=Be._locale.monthsParse(K,ot,Be._strict);null!=Gt?fe[Fn]=Gt:F(Be).invalidMonth=K});var Or=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,bn="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Qe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function ft(K,fe){var Be;if(!K.isValid())return K;if("string"==typeof fe)if(/^\d+$/.test(fe))fe=Re(fe);else if(!v(fe=K.localeData().monthsParse(fe)))return K;return Be=Math.min(K.date(),ps(K.year(),fe)),K._d["set"+(K._isUTC?"UTC":"")+"Month"](fe,Be),K}function mn(K){return null!=K?(ft(this,K),j.updateOffset(this,!0),this):Yi(this,"Month")}var Wt=lt,Di=lt;function di(){function K(Ln,qn){return qn.length-Ln.length}var fe,Be,ot=[],Gt=[],yt=[];for(fe=0;fe<12;fe++)Be=N([2e3,fe]),ot.push(this.monthsShort(Be,"")),Gt.push(this.months(Be,"")),yt.push(this.months(Be,"")),yt.push(this.monthsShort(Be,""));for(ot.sort(K),Gt.sort(K),yt.sort(K),fe=0;fe<12;fe++)ot[fe]=ut(ot[fe]),Gt[fe]=ut(Gt[fe]);for(fe=0;fe<24;fe++)yt[fe]=ut(yt[fe]);this._monthsRegex=new RegExp("^("+yt.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+Gt.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+ot.join("|")+")","i")}function zi(K){var fe;if(K<100&&0<=K){var Be=Array.prototype.slice.call(arguments);Be[0]=K+400,fe=new Date(Date.UTC.apply(null,Be)),isFinite(fe.getUTCFullYear())&&fe.setUTCFullYear(K)}else fe=new Date(Date.UTC.apply(null,arguments));return fe}function _r(K,fe,Be){var ot=7+fe-Be;return-(7+zi(K,0,ot).getUTCDay()-fe)%7+ot-1}function yo(K,fe,Be,ot,Gt){var yt,Ln,qn=1+7*(fe-1)+(7+Be-ot)%7+_r(K,ot,Gt);return Ln=qn<=0?yr(yt=K-1)+qn:qn>yr(K)?(yt=K+1,qn-yr(K)):(yt=K,qn),{year:yt,dayOfYear:Ln}}function sr(K,fe,Be){var ot,Gt,yt=_r(K.year(),fe,Be),Ln=Math.floor((K.dayOfYear()-yt-1)/7)+1;return Ln<1?ot=Ln+Qr(Gt=K.year()-1,fe,Be):Ln>Qr(K.year(),fe,Be)?(ot=Ln-Qr(K.year(),fe,Be),Gt=K.year()+1):(Gt=K.year(),ot=Ln),{week:ot,year:Gt}}function Qr(K,fe,Be){var ot=_r(K,fe,Be),Gt=_r(K+1,fe,Be);return(yr(K)-ot+Gt)/7}function Ts(K,fe){return K.slice(fe,7).concat(K.slice(0,fe))}an("w",["ww",2],"wo","week"),an("W",["WW",2],"Wo","isoWeek"),kt("week","w"),kt("isoWeek","W"),Nt("week",5),Nt("isoWeek",5),Oe("w",We),Oe("ww",We,ge),Oe("W",We),Oe("WW",We,ge),Nn(["w","ww","W","WW"],function(K,fe,Be,ot){fe[ot.substr(0,1)]=Re(K)}),an("d",0,"do","day"),an("dd",0,0,function(K){return this.localeData().weekdaysMin(this,K)}),an("ddd",0,0,function(K){return this.localeData().weekdaysShort(this,K)}),an("dddd",0,0,function(K){return this.localeData().weekdays(this,K)}),an("e",0,0,"weekday"),an("E",0,0,"isoWeekday"),kt("day","d"),kt("weekday","e"),kt("isoWeekday","E"),Nt("day",11),Nt("weekday",11),Nt("isoWeekday",11),Oe("d",We),Oe("e",We),Oe("E",We),Oe("dd",function(K,fe){return fe.weekdaysMinRegex(K)}),Oe("ddd",function(K,fe){return fe.weekdaysShortRegex(K)}),Oe("dddd",function(K,fe){return fe.weekdaysRegex(K)}),Nn(["dd","ddd","dddd"],function(K,fe,Be,ot){var Gt=Be._locale.weekdaysParse(K,ot,Be._strict);null!=Gt?fe.d=Gt:F(Be).invalidWeekday=K}),Nn(["d","e","E"],function(K,fe,Be,ot){fe[ot]=Re(K)});var Zr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Us="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Hi="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Zn=lt,Gi=lt,pr=lt;function ts(){function K(hi,er){return er.length-hi.length}var fe,Be,ot,Gt,yt,Ln=[],qn=[],ii=[],Ei=[];for(fe=0;fe<7;fe++)Be=N([2e3,1]).day(fe),ot=this.weekdaysMin(Be,""),Gt=this.weekdaysShort(Be,""),yt=this.weekdays(Be,""),Ln.push(ot),qn.push(Gt),ii.push(yt),Ei.push(ot),Ei.push(Gt),Ei.push(yt);for(Ln.sort(K),qn.sort(K),ii.sort(K),Ei.sort(K),fe=0;fe<7;fe++)qn[fe]=ut(qn[fe]),ii[fe]=ut(ii[fe]),Ei[fe]=ut(Ei[fe]);this._weekdaysRegex=new RegExp("^("+Ei.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+ii.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+qn.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+Ln.join("|")+")","i")}function Jr(){return this.hours()%12||12}function Lr(K,fe){an(K,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),fe)})}function ls(K,fe){return fe._meridiemParse}an("H",["HH",2],0,"hour"),an("h",["hh",2],0,Jr),an("k",["kk",2],0,function(){return this.hours()||24}),an("hmm",0,0,function(){return""+Jr.apply(this)+je(this.minutes(),2)}),an("hmmss",0,0,function(){return""+Jr.apply(this)+je(this.minutes(),2)+je(this.seconds(),2)}),an("Hmm",0,0,function(){return""+this.hours()+je(this.minutes(),2)}),an("Hmmss",0,0,function(){return""+this.hours()+je(this.minutes(),2)+je(this.seconds(),2)}),Lr("a",!0),Lr("A",!1),kt("hour","h"),Nt("hour",13),Oe("a",ls),Oe("A",ls),Oe("H",We),Oe("h",We),Oe("k",We),Oe("HH",We,ge),Oe("hh",We,ge),Oe("kk",We,ge),Oe("hmm",_t),Oe("hmmss",St),Oe("Hmm",_t),Oe("Hmmss",St),cn(["H","HH"],Tn),cn(["k","kk"],function(K,fe,Be){var ot=Re(K);fe[Tn]=24===ot?0:ot}),cn(["a","A"],function(K,fe,Be){Be._isPm=Be._locale.isPM(K),Be._meridiem=K}),cn(["h","hh"],function(K,fe,Be){fe[Tn]=Re(K),F(Be).bigHour=!0}),cn("hmm",function(K,fe,Be){var ot=K.length-2;fe[Tn]=Re(K.substr(0,ot)),fe[kn]=Re(K.substr(ot)),F(Be).bigHour=!0}),cn("hmmss",function(K,fe,Be){var ot=K.length-4,Gt=K.length-2;fe[Tn]=Re(K.substr(0,ot)),fe[kn]=Re(K.substr(ot,2)),fe[xn]=Re(K.substr(Gt)),F(Be).bigHour=!0}),cn("Hmm",function(K,fe,Be){var ot=K.length-2;fe[Tn]=Re(K.substr(0,ot)),fe[kn]=Re(K.substr(ot))}),cn("Hmmss",function(K,fe,Be){var ot=K.length-4,Gt=K.length-2;fe[Tn]=Re(K.substr(0,ot)),fe[kn]=Re(K.substr(ot,2)),fe[xn]=Re(K.substr(Gt))});var or,lr=es("Hours",!0),ns={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:bn,monthsShort:Qe,week:{dow:0,doy:6},weekdays:Zr,weekdaysMin:Hi,weekdaysShort:Us,meridiemParse:/[ap]\.?m?\.?/i},ai={},Xi={};function ji(K){return K&&K.toLowerCase().replace("_","-")}function Er(K){var fe=null;if(!ai[K]&&V&&V.exports)try{fe=or._abbr,L(1748)("./"+K),Bi(fe)}catch(Be){}return ai[K]}function Bi(K,fe){var Be;return K&&((Be=b(fe)?ki(K):ar(K,fe))?or=Be:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+K+" not found. Did you forget to load it?")),or._abbr}function ar(K,fe){if(null===fe)return delete ai[K],null;var Be,ot=ns;if(fe.abbr=K,null!=ai[K])Pe("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),ot=ai[K]._config;else if(null!=fe.parentLocale)if(null!=ai[fe.parentLocale])ot=ai[fe.parentLocale]._config;else{if(null==(Be=Er(fe.parentLocale)))return Xi[fe.parentLocale]||(Xi[fe.parentLocale]=[]),Xi[fe.parentLocale].push({name:K,config:fe}),null;ot=Be._config}return ai[K]=new dt(ze(ot,fe)),Xi[K]&&Xi[K].forEach(function(Gt){ar(Gt.name,Gt.config)}),Bi(K),ai[K]}function ki(K){var fe;if(K&&K._locale&&K._locale._abbr&&(K=K._locale._abbr),!K)return or;if(!I(K)){if(fe=Er(K))return fe;K=[K]}return function(Be){for(var ot,Gt,yt,Ln,qn=0;qn<Be.length;){for(ot=(Ln=ji(Be[qn]).split("-")).length,Gt=(Gt=ji(Be[qn+1]))?Gt.split("-"):null;0<ot;){if(yt=Er(Ln.slice(0,ot).join("-")))return yt;if(Gt&&Gt.length>=ot&&G(Ln,Gt,!0)>=ot-1)break;ot--}qn++}return or}(K)}function Rr(K){var fe,Be=K._a;return Be&&-2===F(K).overflow&&(fe=Be[Fn]<0||11<Be[Fn]?Fn:Be[Hn]<1||Be[Hn]>ps(Be[_n],Be[Fn])?Hn:Be[Tn]<0||24<Be[Tn]||24===Be[Tn]&&(0!==Be[kn]||0!==Be[xn]||0!==Be[hr])?Tn:Be[kn]<0||59<Be[kn]?kn:Be[xn]<0||59<Be[xn]?xn:Be[hr]<0||999<Be[hr]?hr:-1,F(K)._overflowDayOfYear&&(fe<_n||Hn<fe)&&(fe=Hn),F(K)._overflowWeeks&&-1===fe&&(fe=$i),F(K)._overflowWeekday&&-1===fe&&(fe=kr),F(K).overflow=fe),K}function is(K,fe,Be){return null!=K?K:null!=fe?fe:Be}function Et(K){var fe,Be,ot,Gt,yt,Ln=[];if(!K._d){var qn,ii;for(qn=K,ii=new Date(j.now()),ot=qn._useUTC?[ii.getUTCFullYear(),ii.getUTCMonth(),ii.getUTCDate()]:[ii.getFullYear(),ii.getMonth(),ii.getDate()],K._w&&null==K._a[Hn]&&null==K._a[Fn]&&function(Ei){var hi,er,Ui,ms,Xs,Qs,Yr,Io;if(null!=(hi=Ei._w).GG||null!=hi.W||null!=hi.E)Xs=1,Qs=4,er=is(hi.GG,Ei._a[_n],sr(ke(),1,4).year),Ui=is(hi.W,1),((ms=is(hi.E,1))<1||7<ms)&&(Io=!0);else{Xs=Ei._locale._week.dow,Qs=Ei._locale._week.doy;var Ur=sr(ke(),Xs,Qs);er=is(hi.gg,Ei._a[_n],Ur.year),Ui=is(hi.w,Ur.week),null!=hi.d?((ms=hi.d)<0||6<ms)&&(Io=!0):null!=hi.e?(ms=hi.e+Xs,(hi.e<0||6<hi.e)&&(Io=!0)):ms=Xs}Ui<1||Ui>Qr(er,Xs,Qs)?F(Ei)._overflowWeeks=!0:null!=Io?F(Ei)._overflowWeekday=!0:(Yr=yo(er,Ui,ms,Xs,Qs),Ei._a[_n]=Yr.year,Ei._dayOfYear=Yr.dayOfYear)}(K),null!=K._dayOfYear&&(yt=is(K._a[_n],ot[_n]),(K._dayOfYear>yr(yt)||0===K._dayOfYear)&&(F(K)._overflowDayOfYear=!0),Be=zi(yt,0,K._dayOfYear),K._a[Fn]=Be.getUTCMonth(),K._a[Hn]=Be.getUTCDate()),fe=0;fe<3&&null==K._a[fe];++fe)K._a[fe]=Ln[fe]=ot[fe];for(;fe<7;fe++)K._a[fe]=Ln[fe]=null==K._a[fe]?2===fe?1:0:K._a[fe];24===K._a[Tn]&&0===K._a[kn]&&0===K._a[xn]&&0===K._a[hr]&&(K._nextDay=!0,K._a[Tn]=0),K._d=(K._useUTC?zi:function(Ei,hi,er,Ui,ms,Xs,Qs){var Yr;return Ei<100&&0<=Ei?(Yr=new Date(Ei+400,hi,er,Ui,ms,Xs,Qs),isFinite(Yr.getFullYear())&&Yr.setFullYear(Ei)):Yr=new Date(Ei,hi,er,Ui,ms,Xs,Qs),Yr}).apply(null,Ln),Gt=K._useUTC?K._d.getUTCDay():K._d.getDay(),null!=K._tzm&&K._d.setUTCMinutes(K._d.getUTCMinutes()-K._tzm),K._nextDay&&(K._a[Tn]=24),K._w&&void 0!==K._w.d&&K._w.d!==Gt&&(F(K).weekdayMismatch=!0)}}var Rt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Tt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wn=/Z|[+-]\d\d(?::?\d\d)?/,In=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Qn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],$n=/^\/?Date\((\-?\d+)/i;function mi(K){var fe,Be,ot,Gt,yt,Ln,qn=K._i,ii=Rt.exec(qn)||Tt.exec(qn);if(ii){for(F(K).iso=!0,fe=0,Be=In.length;fe<Be;fe++)if(In[fe][1].exec(ii[1])){Gt=In[fe][0],ot=!1!==In[fe][2];break}if(null==Gt)return void(K._isValid=!1);if(ii[3]){for(fe=0,Be=Qn.length;fe<Be;fe++)if(Qn[fe][1].exec(ii[3])){yt=(ii[2]||" ")+Qn[fe][0];break}if(null==yt)return void(K._isValid=!1)}if(!ot&&null!=yt)return void(K._isValid=!1);if(ii[4]){if(!wn.exec(ii[4]))return void(K._isValid=!1);Ln="Z"}K._f=Gt+(yt||"")+(Ln||""),Is(K)}else K._isValid=!1}var xi=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function Ri(K,fe,Be,ot,Gt,yt){var qn,ii,Ln=[(qn=K,ii=parseInt(qn,10),ii<=49?2e3+ii:ii<=999?1900+ii:ii),Qe.indexOf(fe),parseInt(Be,10),parseInt(ot,10),parseInt(Gt,10)];return yt&&Ln.push(parseInt(yt,10)),Ln}var Mi={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Wr(K){var fe,Be,ot,Gt=xi.exec(K._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(Gt){var yt=Ri(Gt[4],Gt[3],Gt[2],Gt[5],Gt[6],Gt[7]);if(Be=yt,ot=K,(fe=Gt[1])&&Us.indexOf(fe)!==new Date(Be[0],Be[1],Be[2]).getDay()&&(F(ot).weekdayMismatch=!0,!(ot._isValid=!1)))return;K._a=yt,K._tzm=function(Ln,qn,ii){if(Ln)return Mi[Ln];if(qn)return 0;var Ei=parseInt(ii,10),hi=Ei%100;return(Ei-hi)/100*60+hi}(Gt[8],Gt[9],Gt[10]),K._d=zi.apply(null,K._a),K._d.setUTCMinutes(K._d.getUTCMinutes()-K._tzm),F(K).rfc2822=!0}else K._isValid=!1}function Is(K){if(K._f!==j.ISO_8601)if(K._f!==j.RFC_2822){K._a=[],F(K).empty=!0;var fe,Be,ot,Gt,yt,Ln,qn,ii,Ei=""+K._i,hi=Ei.length,er=0;for(ot=Dn(K._f,K._locale).match(Ft)||[],fe=0;fe<ot.length;fe++)Gt=ot[fe],(Be=(Ei.match(Fe(Gt,K))||[])[0])&&(0<(yt=Ei.substr(0,Ei.indexOf(Be))).length&&F(K).unusedInput.push(yt),Ei=Ei.slice(Ei.indexOf(Be)+Be.length),er+=Be.length),zt[Gt]?(Be?F(K).empty=!1:F(K).unusedTokens.push(Gt),Ln=Gt,ii=K,null!=(qn=Be)&&x(It,Ln)&&It[Ln](qn,ii._a,ii,Ln)):K._strict&&!Be&&F(K).unusedTokens.push(Gt);F(K).charsLeftOver=hi-er,0<Ei.length&&F(K).unusedInput.push(Ei),K._a[Tn]<=12&&!0===F(K).bigHour&&0<K._a[Tn]&&(F(K).bigHour=void 0),F(K).parsedDateParts=K._a.slice(0),F(K).meridiem=K._meridiem,K._a[Tn]=(Ui=K._locale,ms=K._a[Tn],null==(Xs=K._meridiem)?ms:null!=Ui.meridiemHour?Ui.meridiemHour(ms,Xs):(null!=Ui.isPM&&((Qs=Ui.isPM(Xs))&&ms<12&&(ms+=12),Qs||12!==ms||(ms=0)),ms)),Et(K),Rr(K)}else Wr(K);else mi(K);var Ui,ms,Xs,Qs}function Vt(K){var fe,Be,ot,Gt,yt=K._i,Ln=K._f;return K._locale=K._locale||ki(K._l),null===yt||void 0===Ln&&""===yt?Y({nullInput:!0}):("string"==typeof yt&&(K._i=yt=K._locale.preparse(yt)),_e(yt)?new ae(Rr(yt)):(w(yt)?K._d=yt:I(Ln)?function(qn){var ii,Ei,hi,er,Ui;if(0===qn._f.length)return F(qn).invalidFormat=!0,qn._d=new Date(NaN);for(er=0;er<qn._f.length;er++)Ui=0,ii=be({},qn),null!=qn._useUTC&&(ii._useUTC=qn._useUTC),ii._f=qn._f[er],Is(ii),U(ii)&&(Ui+=F(ii).charsLeftOver,Ui+=10*F(ii).unusedTokens.length,F(ii).score=Ui,(null==hi||Ui<hi)&&(hi=Ui,Ei=ii));S(qn,Ei||ii)}(K):Ln?Is(K):b(Be=(fe=K)._i)?fe._d=new Date(j.now()):w(Be)?fe._d=new Date(Be.valueOf()):"string"==typeof Be?(ot=fe,null===(Gt=$n.exec(ot._i))?(mi(ot),!1===ot._isValid&&(delete ot._isValid,Wr(ot),!1===ot._isValid&&(delete ot._isValid,j.createFromInputFallback(ot)))):ot._d=new Date(+Gt[1])):I(Be)?(fe._a=T(Be.slice(0),function(qn){return parseInt(qn,10)}),Et(fe)):m(Be)?function(qn){if(!qn._d){var ii=Pt(qn._i);qn._a=T([ii.year,ii.month,ii.day||ii.date,ii.hour,ii.minute,ii.second,ii.millisecond],function(Ei){return Ei&&parseInt(Ei,10)}),Et(qn)}}(fe):v(Be)?fe._d=new Date(Be):j.createFromInputFallback(fe),U(K)||(K._d=null),K))}function he(K,fe,Be,ot,Gt){var yt,Ln={};return!0!==Be&&!1!==Be||(ot=Be,Be=void 0),(m(K)&&function(qn){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(qn).length;var ii;for(ii in qn)if(qn.hasOwnProperty(ii))return!1;return!0}(K)||I(K)&&0===K.length)&&(K=void 0),Ln._isAMomentObject=!0,Ln._useUTC=Ln._isUTC=Gt,Ln._l=Be,Ln._i=K,Ln._f=fe,Ln._strict=ot,(yt=new ae(Rr(Vt(Ln))))._nextDay&&(yt.add(1,"d"),yt._nextDay=void 0),yt}function ke(K,fe,Be,ot){return he(K,fe,Be,ot,!1)}j.createFromInputFallback=Ie("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(K){K._d=new Date(K._i+(K._useUTC?" UTC":""))}),j.ISO_8601=function(){},j.RFC_2822=function(){};var vt=Ie("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var K=ke.apply(null,arguments);return this.isValid()&&K.isValid()?K<this?this:K:Y()}),Qt=Ie("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var K=ke.apply(null,arguments);return this.isValid()&&K.isValid()?this<K?this:K:Y()});function yn(K,fe){var Be,ot;if(1===fe.length&&I(fe[0])&&(fe=fe[0]),!fe.length)return ke();for(Be=fe[0],ot=1;ot<fe.length;++ot)fe[ot].isValid()&&!fe[ot][K](Be)||(Be=fe[ot]);return Be}var ui=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Oi(K){var fe=Pt(K),Be=fe.year||0,ot=fe.quarter||0,Gt=fe.month||0,yt=fe.week||fe.isoWeek||0,Ln=fe.day||0,qn=fe.hour||0,ii=fe.minute||0,Ei=fe.second||0,hi=fe.millisecond||0;this._isValid=function(er){for(var Ui in er)if(-1===rr.call(ui,Ui)||null!=er[Ui]&&isNaN(er[Ui]))return!1;for(var ms=!1,Xs=0;Xs<ui.length;++Xs)if(er[ui[Xs]]){if(ms)return!1;parseFloat(er[ui[Xs]])!==Re(er[ui[Xs]])&&(ms=!0)}return!0}(fe),this._milliseconds=+hi+1e3*Ei+6e4*ii+1e3*qn*60*60,this._days=+Ln+7*yt,this._months=+Gt+3*ot+12*Be,this._data={},this._locale=ki(),this._bubble()}function Dr(K){return K instanceof Oi}function si(K){return K<0?-1*Math.round(-1*K):Math.round(K)}function Jt(K,fe){an(K,0,0,function(){var Be=this.utcOffset(),ot="+";return Be<0&&(Be=-Be,ot="-"),ot+je(~~(Be/60),2)+fe+je(~~Be%60,2)})}Jt("Z",":"),Jt("ZZ",""),Oe("Z",Je),Oe("ZZ",Je),cn(["Z","ZZ"],function(K,fe,Be){Be._useUTC=!0,Be._tzm=oi(Je,K)});var Pn=/([\+\-]|\d\d)/gi;function oi(K,fe){var Be=(fe||"").match(K);if(null===Be)return null;var ot=((Be[Be.length-1]||[])+"").match(Pn)||["-",0,0],Gt=60*ot[1]+Re(ot[2]);return 0===Gt?0:"+"===ot[0]?Gt:-Gt}function Cr(K,fe){var Be,ot;return fe._isUTC?(Be=fe.clone(),ot=(_e(K)||w(K)?K.valueOf():ke(K).valueOf())-Be.valueOf(),Be._d.setTime(Be._d.valueOf()+ot),j.updateOffset(Be,!1),Be):ke(K).local()}function Fs(K){return 15*-Math.round(K._d.getTimezoneOffset()/15)}function Br(){return!!this.isValid()&&this._isUTC&&0===this._offset}j.updateOffset=function(){};var eo=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,gs=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ys(K,fe){var Be,ot,Gt,qn,ii,Ei,yt=K,Ln=null;return Dr(K)?yt={ms:K._milliseconds,d:K._days,M:K._months}:v(K)?(yt={},fe?yt[fe]=K:yt.milliseconds=K):(Ln=eo.exec(K))?(Be="-"===Ln[1]?-1:1,yt={y:0,d:Re(Ln[Hn])*Be,h:Re(Ln[Tn])*Be,m:Re(Ln[kn])*Be,s:Re(Ln[xn])*Be,ms:Re(si(1e3*Ln[hr]))*Be}):(Ln=gs.exec(K))?(Be="-"===Ln[1]?-1:1,yt={y:zr(Ln[2],Be),M:zr(Ln[3],Be),w:zr(Ln[4],Be),d:zr(Ln[5],Be),h:zr(Ln[6],Be),m:zr(Ln[7],Be),s:zr(Ln[8],Be)}):null==yt?yt={}:"object"==typeof yt&&("from"in yt||"to"in yt)&&(qn=ke(yt.from),ii=ke(yt.to),Gt=qn.isValid()&&ii.isValid()?(ii=Cr(ii,qn),qn.isBefore(ii)?Ei=ea(qn,ii):((Ei=ea(ii,qn)).milliseconds=-Ei.milliseconds,Ei.months=-Ei.months),Ei):{milliseconds:0,months:0},(yt={}).ms=Gt.milliseconds,yt.M=Gt.months),ot=new Oi(yt),Dr(K)&&x(K,"_locale")&&(ot._locale=K._locale),ot}function zr(K,fe){var Be=K&&parseFloat(K.replace(",","."));return(isNaN(Be)?0:Be)*fe}function ea(K,fe){var Be={};return Be.months=fe.month()-K.month()+12*(fe.year()-K.year()),K.clone().add(Be.months,"M").isAfter(fe)&&--Be.months,Be.milliseconds=+fe-+K.clone().add(Be.months,"M"),Be}function Gr(K,fe){return function(Be,ot){var Gt;return null===ot||isNaN(+ot)||(Pe(fe,"moment()."+fe+"(period, number) is deprecated. Please use moment()."+fe+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),Gt=Be,Be=ot,ot=Gt),ur(this,ys(Be="string"==typeof Be?+Be:Be,ot),K),this}}function ur(K,fe,Be,ot){var Gt=fe._milliseconds,yt=si(fe._days),Ln=si(fe._months);K.isValid()&&(ot=null==ot||ot,Ln&&ft(K,Yi(K,"Month")+Ln*Be),yt&&Hs(K,"Date",Yi(K,"Date")+yt*Be),Gt&&K._d.setTime(K._d.valueOf()+Gt*Be),ot&&j.updateOffset(K,yt||Ln))}ys.fn=Oi.prototype,ys.invalid=function(){return ys(NaN)};var io=Gr(1,"add"),Vo=Gr(-1,"subtract");function qr(K,fe){var Be=12*(fe.year()-K.year())+(fe.month()-K.month()),ot=K.clone().add(Be,"months");return-(Be+(fe-ot<0?(fe-ot)/(ot-K.clone().add(Be-1,"months")):(fe-ot)/(K.clone().add(Be+1,"months")-ot)))||0}function Ho(K){var fe;return void 0===K?this._locale._abbr:(null!=(fe=ki(K))&&(this._locale=fe),this)}j.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",j.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var to=Ie("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(K){return void 0===K?this.localeData():this.locale(K)});function rs(){return this._locale}var Eo=126227808e5;function Ls(K,fe){return(K%fe+fe)%fe}function R(K,fe,Be){return K<100&&0<=K?new Date(K+400,fe,Be)-Eo:new Date(K,fe,Be).valueOf()}function Q(K,fe,Be){return K<100&&0<=K?Date.UTC(K+400,fe,Be)-Eo:Date.UTC(K,fe,Be)}function ue(K,fe){an(0,[K,K.length],0,fe)}function ve(K,fe,Be,ot,Gt){var yt;return null==K?sr(this,ot,Gt).year:((yt=Qr(K,ot,Gt))<fe&&(fe=yt),function(Ln,qn,ii,Ei,hi){var er=yo(Ln,qn,ii,Ei,hi),Ui=zi(er.year,0,er.dayOfYear);return this.year(Ui.getUTCFullYear()),this.month(Ui.getUTCMonth()),this.date(Ui.getUTCDate()),this}.call(this,K,fe,Be,ot,Gt))}an(0,["gg",2],0,function(){return this.weekYear()%100}),an(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ue("gggg","weekYear"),ue("ggggg","weekYear"),ue("GGGG","isoWeekYear"),ue("GGGGG","isoWeekYear"),kt("weekYear","gg"),kt("isoWeekYear","GG"),Nt("weekYear",1),Nt("isoWeekYear",1),Oe("G",xe),Oe("g",xe),Oe("GG",We,ge),Oe("gg",We,ge),Oe("GGGG",Mt,Dt),Oe("gggg",Mt,Dt),Oe("GGGGG",ee,qe),Oe("ggggg",ee,qe),Nn(["gggg","ggggg","GGGG","GGGGG"],function(K,fe,Be,ot){fe[ot.substr(0,2)]=Re(K)}),Nn(["gg","GG"],function(K,fe,Be,ot){fe[ot]=j.parseTwoDigitYear(K)}),an("Q",0,"Qo","quarter"),kt("quarter","Q"),Nt("quarter",7),Oe("Q",fi),cn("Q",function(K,fe){fe[Fn]=3*(Re(K)-1)}),an("D",["DD",2],"Do","date"),kt("date","D"),Nt("date",9),Oe("D",We),Oe("DD",We,ge),Oe("Do",function(K,fe){return K?fe._dayOfMonthOrdinalParse||fe._ordinalParse:fe._dayOfMonthOrdinalParseLenient}),cn(["D","DD"],Hn),cn("Do",function(K,fe){fe[Hn]=Re(K.match(We)[0])});var Ve=es("Date",!0);an("DDD",["DDDD",3],"DDDo","dayOfYear"),kt("dayOfYear","DDD"),Nt("dayOfYear",4),Oe("DDD",Ht),Oe("DDDD",$t),cn(["DDD","DDDD"],function(K,fe,Be){Be._dayOfYear=Re(K)}),an("m",["mm",2],0,"minute"),kt("minute","m"),Nt("minute",14),Oe("m",We),Oe("mm",We,ge),cn(["m","mm"],kn);var Ge=es("Minutes",!1);an("s",["ss",2],0,"second"),kt("second","s"),Nt("second",15),Oe("s",We),Oe("ss",We,ge),cn(["s","ss"],xn);var Xe,Bt=es("Seconds",!1);for(an("S",0,0,function(){return~~(this.millisecond()/100)}),an(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),an(0,["SSS",3],0,"millisecond"),an(0,["SSSS",4],0,function(){return 10*this.millisecond()}),an(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),an(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),an(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),an(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),an(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),kt("millisecond","ms"),Nt("millisecond",16),Oe("S",Ht,fi),Oe("SS",Ht,ge),Oe("SSS",Ht,$t),Xe="SSSS";Xe.length<=9;Xe+="S")Oe(Xe,pe);function Lt(K,fe){fe[hr]=Re(1e3*("0."+K))}for(Xe="S";Xe.length<=9;Xe+="S")cn(Xe,Lt);var de=es("Milliseconds",!1);an("z",0,0,"zoneAbbr"),an("zz",0,0,"zoneName");var P=ae.prototype;function O(K){return K}P.add=io,P.calendar=function(K,fe){var Be=K||ke(),ot=Cr(Be,this).startOf("day"),Gt=j.calendarFormat(this,ot)||"sameElse",yt=fe&&(He(fe[Gt])?fe[Gt].call(this,Be):fe[Gt]);return this.format(yt||this.localeData().calendar(Gt,this,ke(Be)))},P.clone=function(){return new ae(this)},P.diff=function(K,fe,Be){var ot,Gt,yt;if(!this.isValid())return NaN;if(!(ot=Cr(K,this)).isValid())return NaN;switch(Gt=6e4*(ot.utcOffset()-this.utcOffset()),fe=wt(fe)){case"year":yt=qr(this,ot)/12;break;case"month":yt=qr(this,ot);break;case"quarter":yt=qr(this,ot)/3;break;case"second":yt=(this-ot)/1e3;break;case"minute":yt=(this-ot)/6e4;break;case"hour":yt=(this-ot)/36e5;break;case"day":yt=(this-ot-Gt)/864e5;break;case"week":yt=(this-ot-Gt)/6048e5;break;default:yt=this-ot}return Be?yt:Te(yt)},P.endOf=function(K){var fe;if(void 0===(K=wt(K))||"millisecond"===K||!this.isValid())return this;var Be=this._isUTC?Q:R;switch(K){case"year":fe=Be(this.year()+1,0,1)-1;break;case"quarter":fe=Be(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":fe=Be(this.year(),this.month()+1,1)-1;break;case"week":fe=Be(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":fe=Be(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":fe=Be(this.year(),this.month(),this.date()+1)-1;break;case"hour":fe=this._d.valueOf(),fe+=36e5-Ls(fe+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":fe=this._d.valueOf(),fe+=6e4-Ls(fe,6e4)-1;break;case"second":fe=this._d.valueOf(),fe+=1e3-Ls(fe,1e3)-1}return this._d.setTime(fe),j.updateOffset(this,!0),this},P.format=function(K){K||(K=this.isUtc()?j.defaultFormatUtc:j.defaultFormat);var fe=On(this,K);return this.localeData().postformat(fe)},P.from=function(K,fe){return this.isValid()&&(_e(K)&&K.isValid()||ke(K).isValid())?ys({to:this,from:K}).locale(this.locale()).humanize(!fe):this.localeData().invalidDate()},P.fromNow=function(K){return this.from(ke(),K)},P.to=function(K,fe){return this.isValid()&&(_e(K)&&K.isValid()||ke(K).isValid())?ys({from:this,to:K}).locale(this.locale()).humanize(!fe):this.localeData().invalidDate()},P.toNow=function(K){return this.to(ke(),K)},P.get=function(K){return He(this[K=wt(K)])?this[K]():this},P.invalidAt=function(){return F(this).overflow},P.isAfter=function(K,fe){var Be=_e(K)?K:ke(K);return!(!this.isValid()||!Be.isValid())&&("millisecond"===(fe=wt(fe)||"millisecond")?this.valueOf()>Be.valueOf():Be.valueOf()<this.clone().startOf(fe).valueOf())},P.isBefore=function(K,fe){var Be=_e(K)?K:ke(K);return!(!this.isValid()||!Be.isValid())&&("millisecond"===(fe=wt(fe)||"millisecond")?this.valueOf()<Be.valueOf():this.clone().endOf(fe).valueOf()<Be.valueOf())},P.isBetween=function(K,fe,Be,ot){var Gt=_e(K)?K:ke(K),yt=_e(fe)?fe:ke(fe);return!!(this.isValid()&&Gt.isValid()&&yt.isValid())&&("("===(ot=ot||"()")[0]?this.isAfter(Gt,Be):!this.isBefore(Gt,Be))&&(")"===ot[1]?this.isBefore(yt,Be):!this.isAfter(yt,Be))},P.isSame=function(K,fe){var Be,ot=_e(K)?K:ke(K);return!(!this.isValid()||!ot.isValid())&&("millisecond"===(fe=wt(fe)||"millisecond")?this.valueOf()===ot.valueOf():(Be=ot.valueOf(),this.clone().startOf(fe).valueOf()<=Be&&Be<=this.clone().endOf(fe).valueOf()))},P.isSameOrAfter=function(K,fe){return this.isSame(K,fe)||this.isAfter(K,fe)},P.isSameOrBefore=function(K,fe){return this.isSame(K,fe)||this.isBefore(K,fe)},P.isValid=function(){return U(this)},P.lang=to,P.locale=Ho,P.localeData=rs,P.max=Qt,P.min=vt,P.parsingFlags=function(){return S({},F(this))},P.set=function(K,fe){if("object"==typeof K)for(var Be=function(Gt){var yt=[];for(var Ln in Gt)yt.push({unit:Ln,priority:en[Ln]});return yt.sort(function(qn,ii){return qn.priority-ii.priority}),yt}(K=Pt(K)),ot=0;ot<Be.length;ot++)this[Be[ot].unit](K[Be[ot].unit]);else if(He(this[K=wt(K)]))return this[K](fe);return this},P.startOf=function(K){var fe;if(void 0===(K=wt(K))||"millisecond"===K||!this.isValid())return this;var Be=this._isUTC?Q:R;switch(K){case"year":fe=Be(this.year(),0,1);break;case"quarter":fe=Be(this.year(),this.month()-this.month()%3,1);break;case"month":fe=Be(this.year(),this.month(),1);break;case"week":fe=Be(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":fe=Be(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":fe=Be(this.year(),this.month(),this.date());break;case"hour":fe=this._d.valueOf(),fe-=Ls(fe+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":fe=this._d.valueOf(),fe-=Ls(fe,6e4);break;case"second":fe=this._d.valueOf(),fe-=Ls(fe,1e3)}return this._d.setTime(fe),j.updateOffset(this,!0),this},P.subtract=Vo,P.toArray=function(){var K=this;return[K.year(),K.month(),K.date(),K.hour(),K.minute(),K.second(),K.millisecond()]},P.toObject=function(){var K=this;return{years:K.year(),months:K.month(),date:K.date(),hours:K.hours(),minutes:K.minutes(),seconds:K.seconds(),milliseconds:K.milliseconds()}},P.toDate=function(){return new Date(this.valueOf())},P.toISOString=function(K){if(!this.isValid())return null;var fe=!0!==K,Be=fe?this.clone().utc():this;return Be.year()<0||9999<Be.year()?On(Be,fe?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):He(Date.prototype.toISOString)?fe?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",On(Be,"Z")):On(Be,fe?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},P.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var K="moment",fe="";this.isLocal()||(K=0===this.utcOffset()?"moment.utc":"moment.parseZone",fe="Z");var Be="["+K+'("]',ot=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",Gt=fe+'[")]';return this.format(Be+ot+"-MM-DD[T]HH:mm:ss.SSS"+Gt)},P.toJSON=function(){return this.isValid()?this.toISOString():null},P.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},P.unix=function(){return Math.floor(this.valueOf()/1e3)},P.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},P.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},P.year=Xr,P.isLeapYear=function(){return xr(this.year())},P.weekYear=function(K){return ve.call(this,K,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},P.isoWeekYear=function(K){return ve.call(this,K,this.isoWeek(),this.isoWeekday(),1,4)},P.quarter=P.quarters=function(K){return null==K?Math.ceil((this.month()+1)/3):this.month(3*(K-1)+this.month()%3)},P.month=mn,P.daysInMonth=function(){return ps(this.year(),this.month())},P.week=P.weeks=function(K){var fe=this.localeData().week(this);return null==K?fe:this.add(7*(K-fe),"d")},P.isoWeek=P.isoWeeks=function(K){var fe=sr(this,1,4).week;return null==K?fe:this.add(7*(K-fe),"d")},P.weeksInYear=function(){var K=this.localeData()._week;return Qr(this.year(),K.dow,K.doy)},P.isoWeeksInYear=function(){return Qr(this.year(),1,4)},P.date=Ve,P.day=P.days=function(K){if(!this.isValid())return null!=K?this:NaN;var fe,Be,ot=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=K?(fe=K,Be=this.localeData(),K="string"!=typeof fe?fe:isNaN(fe)?"number"==typeof(fe=Be.weekdaysParse(fe))?fe:null:parseInt(fe,10),this.add(K-ot,"d")):ot},P.weekday=function(K){if(!this.isValid())return null!=K?this:NaN;var fe=(this.day()+7-this.localeData()._week.dow)%7;return null==K?fe:this.add(K-fe,"d")},P.isoWeekday=function(K){if(!this.isValid())return null!=K?this:NaN;if(null==K)return this.day()||7;var fe,Be,ot=(fe=K,Be=this.localeData(),"string"==typeof fe?Be.weekdaysParse(fe)%7||7:isNaN(fe)?null:fe);return this.day(this.day()%7?ot:ot-7)},P.dayOfYear=function(K){var fe=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==K?fe:this.add(K-fe,"d")},P.hour=P.hours=lr,P.minute=P.minutes=Ge,P.second=P.seconds=Bt,P.millisecond=P.milliseconds=de,P.utcOffset=function(K,fe,Be){var ot,Gt=this._offset||0;if(!this.isValid())return null!=K?this:NaN;if(null==K)return this._isUTC?Gt:Fs(this);if("string"==typeof K){if(null===(K=oi(Je,K)))return this}else Math.abs(K)<16&&!Be&&(K*=60);return!this._isUTC&&fe&&(ot=Fs(this)),this._offset=K,this._isUTC=!0,null!=ot&&this.add(ot,"m"),Gt!==K&&(!fe||this._changeInProgress?ur(this,ys(K-Gt,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,j.updateOffset(this,!0),this._changeInProgress=null)),this},P.utc=function(K){return this.utcOffset(0,K)},P.local=function(K){return this._isUTC&&(this.utcOffset(0,K),this._isUTC=!1,K&&this.subtract(Fs(this),"m")),this},P.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var K=oi(Ce,this._i);null!=K?this.utcOffset(K):this.utcOffset(0,!0)}return this},P.hasAlignedHourOffset=function(K){return!!this.isValid()&&(K=K?ke(K).utcOffset():0,(this.utcOffset()-K)%60==0)},P.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},P.isLocal=function(){return!!this.isValid()&&!this._isUTC},P.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},P.isUtc=Br,P.isUTC=Br,P.zoneAbbr=function(){return this._isUTC?"UTC":""},P.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},P.dates=Ie("dates accessor is deprecated. Use date instead.",Ve),P.months=Ie("months accessor is deprecated. Use month instead",mn),P.years=Ie("years accessor is deprecated. Use year instead",Xr),P.zone=Ie("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(K,fe){return null!=K?("string"!=typeof K&&(K=-K),this.utcOffset(K,fe),this):-this.utcOffset()}),P.isDSTShifted=Ie("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!b(this._isDSTShifted))return this._isDSTShifted;var K={};if(be(K,this),(K=Vt(K))._a){var fe=K._isUTC?N(K._a):ke(K._a);this._isDSTShifted=this.isValid()&&0<G(K._a,fe.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var Z=dt.prototype;function Me(K,fe,Be,ot){var Gt=ki(),yt=N().set(ot,fe);return Gt[Be](yt,K)}function et(K,fe,Be){if(v(K)&&(fe=K,K=void 0),K=K||"",null!=fe)return Me(K,fe,Be,"month");var ot,Gt=[];for(ot=0;ot<12;ot++)Gt[ot]=Me(K,ot,Be,"month");return Gt}function hn(K,fe,Be,ot){"boolean"==typeof K?v(fe)&&(Be=fe,fe=void 0):(fe=K,K=!1,v(Be=fe)&&(Be=fe,fe=void 0)),fe=fe||"";var Gt,yt=ki(),Ln=K?yt._week.dow:0;if(null!=Be)return Me(fe,(Be+Ln)%7,ot,"day");var qn=[];for(Gt=0;Gt<7;Gt++)qn[Gt]=Me(fe,(Gt+Ln)%7,ot,"day");return qn}Z.calendar=function(K,fe,Be){var ot=this._calendar[K]||this._calendar.sameElse;return He(ot)?ot.call(fe,Be):ot},Z.longDateFormat=function(K){var fe=this._longDateFormat[K],Be=this._longDateFormat[K.toUpperCase()];return fe||!Be?fe:(this._longDateFormat[K]=Be.replace(/MMMM|MM|DD|dddd/g,function(ot){return ot.slice(1)}),this._longDateFormat[K])},Z.invalidDate=function(){return this._invalidDate},Z.ordinal=function(K){return this._ordinal.replace("%d",K)},Z.preparse=O,Z.postformat=O,Z.relativeTime=function(K,fe,Be,ot){var Gt=this._relativeTime[Be];return He(Gt)?Gt(K,fe,Be,ot):Gt.replace(/%d/i,K)},Z.pastFuture=function(K,fe){var Be=this._relativeTime[0<K?"future":"past"];return He(Be)?Be(fe):Be.replace(/%s/i,fe)},Z.set=function(K){var fe,Be;for(Be in K)He(fe=K[Be])?this[Be]=fe:this["_"+Be]=fe;this._config=K,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Z.months=function(K,fe){return K?I(this._months)?this._months[K.month()]:this._months[(this._months.isFormat||Or).test(fe)?"format":"standalone"][K.month()]:I(this._months)?this._months:this._months.standalone},Z.monthsShort=function(K,fe){return K?I(this._monthsShort)?this._monthsShort[K.month()]:this._monthsShort[Or.test(fe)?"format":"standalone"][K.month()]:I(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Z.monthsParse=function(K,fe,Be){var ot,Gt,yt;if(this._monthsParseExact)return function(Ln,qn,ii){var Ei,hi,er,Ui=Ln.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],Ei=0;Ei<12;++Ei)er=N([2e3,Ei]),this._shortMonthsParse[Ei]=this.monthsShort(er,"").toLocaleLowerCase(),this._longMonthsParse[Ei]=this.months(er,"").toLocaleLowerCase();return ii?"MMM"===qn?-1!==(hi=rr.call(this._shortMonthsParse,Ui))?hi:null:-1!==(hi=rr.call(this._longMonthsParse,Ui))?hi:null:"MMM"===qn?-1!==(hi=rr.call(this._shortMonthsParse,Ui))||-1!==(hi=rr.call(this._longMonthsParse,Ui))?hi:null:-1!==(hi=rr.call(this._longMonthsParse,Ui))||-1!==(hi=rr.call(this._shortMonthsParse,Ui))?hi:null}.call(this,K,fe,Be);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),ot=0;ot<12;ot++)if(Gt=N([2e3,ot]),Be&&!this._longMonthsParse[ot]&&(this._longMonthsParse[ot]=new RegExp("^"+this.months(Gt,"").replace(".","")+"$","i"),this._shortMonthsParse[ot]=new RegExp("^"+this.monthsShort(Gt,"").replace(".","")+"$","i")),Be||this._monthsParse[ot]||(yt="^"+this.months(Gt,"")+"|^"+this.monthsShort(Gt,""),this._monthsParse[ot]=new RegExp(yt.replace(".",""),"i")),Be&&"MMMM"===fe&&this._longMonthsParse[ot].test(K)||Be&&"MMM"===fe&&this._shortMonthsParse[ot].test(K)||!Be&&this._monthsParse[ot].test(K))return ot},Z.monthsRegex=function(K){return this._monthsParseExact?(x(this,"_monthsRegex")||di.call(this),K?this._monthsStrictRegex:this._monthsRegex):(x(this,"_monthsRegex")||(this._monthsRegex=Di),this._monthsStrictRegex&&K?this._monthsStrictRegex:this._monthsRegex)},Z.monthsShortRegex=function(K){return this._monthsParseExact?(x(this,"_monthsRegex")||di.call(this),K?this._monthsShortStrictRegex:this._monthsShortRegex):(x(this,"_monthsShortRegex")||(this._monthsShortRegex=Wt),this._monthsShortStrictRegex&&K?this._monthsShortStrictRegex:this._monthsShortRegex)},Z.week=function(K){return sr(K,this._week.dow,this._week.doy).week},Z.firstDayOfYear=function(){return this._week.doy},Z.firstDayOfWeek=function(){return this._week.dow},Z.weekdays=function(K,fe){var Be=I(this._weekdays)?this._weekdays:this._weekdays[K&&!0!==K&&this._weekdays.isFormat.test(fe)?"format":"standalone"];return!0===K?Ts(Be,this._week.dow):K?Be[K.day()]:Be},Z.weekdaysMin=function(K){return!0===K?Ts(this._weekdaysMin,this._week.dow):K?this._weekdaysMin[K.day()]:this._weekdaysMin},Z.weekdaysShort=function(K){return!0===K?Ts(this._weekdaysShort,this._week.dow):K?this._weekdaysShort[K.day()]:this._weekdaysShort},Z.weekdaysParse=function(K,fe,Be){var ot,Gt,yt;if(this._weekdaysParseExact)return function(Ln,qn,ii){var Ei,hi,er,Ui=Ln.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],Ei=0;Ei<7;++Ei)er=N([2e3,1]).day(Ei),this._minWeekdaysParse[Ei]=this.weekdaysMin(er,"").toLocaleLowerCase(),this._shortWeekdaysParse[Ei]=this.weekdaysShort(er,"").toLocaleLowerCase(),this._weekdaysParse[Ei]=this.weekdays(er,"").toLocaleLowerCase();return ii?"dddd"===qn?-1!==(hi=rr.call(this._weekdaysParse,Ui))?hi:null:"ddd"===qn?-1!==(hi=rr.call(this._shortWeekdaysParse,Ui))?hi:null:-1!==(hi=rr.call(this._minWeekdaysParse,Ui))?hi:null:"dddd"===qn?-1!==(hi=rr.call(this._weekdaysParse,Ui))||-1!==(hi=rr.call(this._shortWeekdaysParse,Ui))||-1!==(hi=rr.call(this._minWeekdaysParse,Ui))?hi:null:"ddd"===qn?-1!==(hi=rr.call(this._shortWeekdaysParse,Ui))||-1!==(hi=rr.call(this._weekdaysParse,Ui))||-1!==(hi=rr.call(this._minWeekdaysParse,Ui))?hi:null:-1!==(hi=rr.call(this._minWeekdaysParse,Ui))||-1!==(hi=rr.call(this._weekdaysParse,Ui))||-1!==(hi=rr.call(this._shortWeekdaysParse,Ui))?hi:null}.call(this,K,fe,Be);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),ot=0;ot<7;ot++)if(Gt=N([2e3,1]).day(ot),Be&&!this._fullWeekdaysParse[ot]&&(this._fullWeekdaysParse[ot]=new RegExp("^"+this.weekdays(Gt,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[ot]=new RegExp("^"+this.weekdaysShort(Gt,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[ot]=new RegExp("^"+this.weekdaysMin(Gt,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[ot]||(yt="^"+this.weekdays(Gt,"")+"|^"+this.weekdaysShort(Gt,"")+"|^"+this.weekdaysMin(Gt,""),this._weekdaysParse[ot]=new RegExp(yt.replace(".",""),"i")),Be&&"dddd"===fe&&this._fullWeekdaysParse[ot].test(K)||Be&&"ddd"===fe&&this._shortWeekdaysParse[ot].test(K)||Be&&"dd"===fe&&this._minWeekdaysParse[ot].test(K)||!Be&&this._weekdaysParse[ot].test(K))return ot},Z.weekdaysRegex=function(K){return this._weekdaysParseExact?(x(this,"_weekdaysRegex")||ts.call(this),K?this._weekdaysStrictRegex:this._weekdaysRegex):(x(this,"_weekdaysRegex")||(this._weekdaysRegex=Zn),this._weekdaysStrictRegex&&K?this._weekdaysStrictRegex:this._weekdaysRegex)},Z.weekdaysShortRegex=function(K){return this._weekdaysParseExact?(x(this,"_weekdaysRegex")||ts.call(this),K?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(x(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Gi),this._weekdaysShortStrictRegex&&K?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Z.weekdaysMinRegex=function(K){return this._weekdaysParseExact?(x(this,"_weekdaysRegex")||ts.call(this),K?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(x(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=pr),this._weekdaysMinStrictRegex&&K?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Z.isPM=function(K){return"p"===(K+"").toLowerCase().charAt(0)},Z.meridiem=function(K,fe,Be){return 11<K?Be?"pm":"PM":Be?"am":"AM"},Bi("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(K){var fe=K%10;return K+(1===Re(K%100/10)?"th":1===fe?"st":2===fe?"nd":3===fe?"rd":"th")}}),j.lang=Ie("moment.lang is deprecated. Use moment.locale instead.",Bi),j.langData=Ie("moment.langData is deprecated. Use moment.localeData instead.",ki);var En=Math.abs;function vi(K,fe,Be,ot){var Gt=ys(fe,Be);return K._milliseconds+=ot*Gt._milliseconds,K._days+=ot*Gt._days,K._months+=ot*Gt._months,K._bubble()}function Zi(K){return K<0?Math.floor(K):Math.ceil(K)}function Ir(K){return 4800*K/146097}function ci(K){return 146097*K/4800}function _i(K){return function(){return this.as(K)}}var wr=_i("ms"),Ji=_i("s"),wi=_i("m"),mo=_i("h"),ra=_i("d"),lo=_i("w"),Co=_i("M"),Oo=_i("Q"),uo=_i("y");function wo(K){return function(){return this.isValid()?this._data[K]:NaN}}var Un=wo("milliseconds"),Vr=wo("seconds"),ha=wo("minutes"),$s=wo("hours"),za=wo("days"),bi=wo("months"),li=wo("years"),To=Math.round,qs={ss:44,s:45,m:45,h:22,d:26,M:11},ol=Math.abs;function Ki(K){return(0<K)-(K<0)||+K}function Ys(){if(!this.isValid())return this.localeData().invalidDate();var K,fe,Be=ol(this._milliseconds)/1e3,ot=ol(this._days),Gt=ol(this._months);fe=Te((K=Te(Be/60))/60),Be%=60,K%=60;var yt=Te(Gt/12),Ln=Gt%=12,qn=ot,ii=fe,Ei=K,hi=Be?Be.toFixed(3).replace(/\.?0+$/,""):"",er=this.asSeconds();if(!er)return"P0D";var Ui=er<0?"-":"",ms=Ki(this._months)!==Ki(er)?"-":"",Xs=Ki(this._days)!==Ki(er)?"-":"",Qs=Ki(this._milliseconds)!==Ki(er)?"-":"";return Ui+"P"+(yt?ms+yt+"Y":"")+(Ln?ms+Ln+"M":"")+(qn?Xs+qn+"D":"")+(ii||Ei||hi?"T":"")+(ii?Qs+ii+"H":"")+(Ei?Qs+Ei+"M":"")+(hi?Qs+hi+"S":"")}var Hr=Oi.prototype;return Hr.isValid=function(){return this._isValid},Hr.abs=function(){var K=this._data;return this._milliseconds=En(this._milliseconds),this._days=En(this._days),this._months=En(this._months),K.milliseconds=En(K.milliseconds),K.seconds=En(K.seconds),K.minutes=En(K.minutes),K.hours=En(K.hours),K.months=En(K.months),K.years=En(K.years),this},Hr.add=function(K,fe){return vi(this,K,fe,1)},Hr.subtract=function(K,fe){return vi(this,K,fe,-1)},Hr.as=function(K){if(!this.isValid())return NaN;var fe,Be,ot=this._milliseconds;if("month"===(K=wt(K))||"quarter"===K||"year"===K)switch(fe=this._days+ot/864e5,Be=this._months+Ir(fe),K){case"month":return Be;case"quarter":return Be/3;case"year":return Be/12}else switch(fe=this._days+Math.round(ci(this._months)),K){case"week":return fe/7+ot/6048e5;case"day":return fe+ot/864e5;case"hour":return 24*fe+ot/36e5;case"minute":return 1440*fe+ot/6e4;case"second":return 86400*fe+ot/1e3;case"millisecond":return Math.floor(864e5*fe)+ot;default:throw new Error("Unknown unit "+K)}},Hr.asMilliseconds=wr,Hr.asSeconds=Ji,Hr.asMinutes=wi,Hr.asHours=mo,Hr.asDays=ra,Hr.asWeeks=lo,Hr.asMonths=Co,Hr.asQuarters=Oo,Hr.asYears=uo,Hr.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*Re(this._months/12):NaN},Hr._bubble=function(){var K,fe,Be,ot,Gt,yt=this._milliseconds,Ln=this._days,qn=this._months,ii=this._data;return 0<=yt&&0<=Ln&&0<=qn||yt<=0&&Ln<=0&&qn<=0||(yt+=864e5*Zi(ci(qn)+Ln),qn=Ln=0),ii.milliseconds=yt%1e3,K=Te(yt/1e3),ii.seconds=K%60,fe=Te(K/60),ii.minutes=fe%60,Be=Te(fe/60),ii.hours=Be%24,qn+=Gt=Te(Ir(Ln+=Te(Be/24))),Ln-=Zi(ci(Gt)),ot=Te(qn/12),qn%=12,ii.days=Ln,ii.months=qn,ii.years=ot,this},Hr.clone=function(){return ys(this)},Hr.get=function(K){return K=wt(K),this.isValid()?this[K+"s"]():NaN},Hr.milliseconds=Un,Hr.seconds=Vr,Hr.minutes=ha,Hr.hours=$s,Hr.days=za,Hr.weeks=function(){return Te(this.days()/7)},Hr.months=bi,Hr.years=li,Hr.humanize=function(K){if(!this.isValid())return this.localeData().invalidDate();var fe,Be,ot,Gt,yt,Ln,qn,ii,Ei,hi,er,Ui=this.localeData(),ms=(Be=!K,ot=Ui,Gt=ys(fe=this).abs(),yt=To(Gt.as("s")),Ln=To(Gt.as("m")),qn=To(Gt.as("h")),ii=To(Gt.as("d")),Ei=To(Gt.as("M")),hi=To(Gt.as("y")),(er=yt<=qs.ss&&["s",yt]||yt<qs.s&&["ss",yt]||Ln<=1&&["m"]||Ln<qs.m&&["mm",Ln]||qn<=1&&["h"]||qn<qs.h&&["hh",qn]||ii<=1&&["d"]||ii<qs.d&&["dd",ii]||Ei<=1&&["M"]||Ei<qs.M&&["MM",Ei]||hi<=1&&["y"]||["yy",hi])[2]=Be,er[3]=0<+fe,er[4]=ot,function(Xs,Qs,Yr,Io,Ur){return Ur.relativeTime(Qs||1,!!Yr,Xs,Io)}.apply(null,er));return K&&(ms=Ui.pastFuture(+this,ms)),Ui.postformat(ms)},Hr.toISOString=Ys,Hr.toString=Ys,Hr.toJSON=Ys,Hr.locale=Ho,Hr.localeData=rs,Hr.toIsoString=Ie("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ys),Hr.lang=to,an("X",0,0,"unix"),an("x",0,0,"valueOf"),Oe("x",xe),Oe("X",/[+-]?\d+(\.\d{1,3})?/),cn("X",function(K,fe,Be){Be._d=new Date(1e3*parseFloat(K,10))}),cn("x",function(K,fe,Be){Be._d=new Date(Re(K))}),j.version="2.24.0",l=ke,j.fn=P,j.min=function(){return yn("isBefore",[].slice.call(arguments,0))},j.max=function(){return yn("isAfter",[].slice.call(arguments,0))},j.now=function(){return Date.now?Date.now():+new Date},j.utc=N,j.unix=function(K){return ke(1e3*K)},j.months=function(K,fe){return et(K,fe,"months")},j.isDate=w,j.locale=Bi,j.invalid=Y,j.duration=ys,j.isMoment=_e,j.weekdays=function(K,fe,Be){return hn(K,fe,Be,"weekdays")},j.parseZone=function(){return ke.apply(null,arguments).parseZone()},j.localeData=ki,j.isDuration=Dr,j.monthsShort=function(K,fe){return et(K,fe,"monthsShort")},j.weekdaysMin=function(K,fe,Be){return hn(K,fe,Be,"weekdaysMin")},j.defineLocale=ar,j.updateLocale=function(K,fe){if(null!=fe){var Be,ot,Gt=ns;null!=(ot=Er(K))&&(Gt=ot._config),(Be=new dt(fe=ze(Gt,fe))).parentLocale=ai[K],ai[K]=Be,Bi(K)}else null!=ai[K]&&(null!=ai[K].parentLocale?ai[K]=ai[K].parentLocale:null!=ai[K]&&delete ai[K]);return ai[K]},j.locales=function(){return Le(ai)},j.weekdaysShort=function(K,fe,Be){return hn(K,fe,Be,"weekdaysShort")},j.normalizeUnits=wt,j.relativeTimeRounding=function(K){return void 0===K?To:"function"==typeof K&&(To=K,!0)},j.relativeTimeThreshold=function(K,fe){return void 0!==qs[K]&&(void 0===fe?qs[K]:(qs[K]=fe,"s"===K&&(qs.ss=fe-1),!0))},j.calendarFormat=function(K,fe){var Be=K.diff(fe,"days",!0);return Be<-6?"sameElse":Be<-1?"lastWeek":Be<0?"lastDay":Be<1?"sameDay":Be<2?"nextDay":Be<7?"nextWeek":"sameElse"},j.prototype=P,j.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},j}()},4611:()=>{!function(V){"use strict";var k=function(m){var b=arguments,v=!0,w=1;return m=m.replace(/%s/g,function(){var T=b[w++];return void 0===T?(v=!1,""):T}),v?m:""},l=function(m){for(var b=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],v=0;v<b.length;v++)m=m.replace(b[v].letters,b[v].base);return m};function j(m,b){var w=m.attr("name")||b.name||"";this.options=b,this.$el=m.hide(),this.$label=this.$el.closest("label"),0===this.$label.length&&this.$el.attr("id")&&(this.$label=V(k('label[for="%s"]',this.$el.attr("id").replace(/:/g,"\\:")))),this.$parent=V(k('<div class="ms-parent %s" %s/>',m.attr("class")||"",k('title="%s"',m.attr("title")))),this.$choice=V(k(['<button type="button" class="ms-choice">','<span class="placeholder">%s</span>',"<div></div>","</button>"].join(""),this.options.placeholder)),this.$drop=V(k('<div name="%s" class="ms-drop %s"%s></div>',m.attr("name")||b.name||"",this.options.position,k(' style="width: %s"',this.options.dropWidth))),this.$el.after(this.$parent),this.$parent.append(this.$choice),this.$parent.append(this.$drop),this.$el.prop("disabled")&&this.$choice.addClass("disabled"),this.$parent.css("width",this.options.width||this.$el.css("width")||this.$el.outerWidth()+20),this.selectAllName='data-name="selectAll'+w+'"',this.selectGroupName='data-name="selectGroup'+w+'"',this.selectItemName='data-name="selectItem'+w+'"',this.options.keepOpen||V("body").on("click",I.bind(this,m)),this.options.onAfterCreate()}function I(m,b){var v=V(b.target),w=v&&v[0],T=this.$choice&&this.$choice[0],x=this.$drop&&this.$drop[0],S=v.parents(".ms-choice"),N=S&&S[0],F=v.parents(".ms-drop"),U=F&&F[0],Y=m&&m[0];w===T||N===T||(w===x||U!==x&&b.target!==Y)&&this.options&&this.options.isOpen&&this.close()}j.prototype={constructor:j,init:function(){var m=this,b=V("<ul></ul>");this.$drop.html(""),this.options.filter&&this.$drop.append(['<div class="ms-search">','<input type="text" autocomplete="off" autocorrect="off" autocapitilize="off" spellcheck="false">',"</div>"].join("")),this.options.selectAll&&!this.options.single&&this.$drop.append(['<div class="ms-select-all" style="width: 100%">','<label style="width: 100%">',k('<input type="checkbox" %s />',this.selectAllName),k("<span>%s%s%s</span>",this.options.selectAllDelimiter[0],this.options.selectAllText,this.options.selectAllDelimiter[1]),"</label>","</div>"].join("")),V.each(this.$el.children(),function(w,T){b.append(m.optionToHtml(w,T))}),b.append(k('<li class="ms-no-results">%s</li>',this.options.noMatchesFound)),this.$drop.append(b),this.options.okButton&&(this.$okButton=V('<button type="button" class="ms-ok-button">'+this.options.okButtonText+"</button>"),this.$drop.append(this.$okButton));var v=isNaN(this.options.width)?this.options.width:this.options.width+"px";this.$drop.css("width",v),this.$drop.find("ul").css("max-height",this.options.maxHeight+"px"),this.$drop.find(".multiple").css("width",this.options.multipleWidth+"px"),this.$searchInput=this.$drop.find(".ms-search input"),this.$selectAll=this.$drop.find("input["+this.selectAllName+"]"),this.$selectGroups=this.$drop.find("input["+this.selectGroupName+"]"),this.$selectItems=this.$drop.find("input["+this.selectItemName+"]:enabled"),this.$disableItems=this.$drop.find("input["+this.selectItemName+"]:disabled"),this.$noResults=this.$drop.find(".ms-no-results"),this.events(),this.updateSelectAll(!0),this.update(!0),this.options.isOpen&&this.open(),this.options.openOnHover&&V(".ms-parent").hover(function(w){m.open()})},optionToHtml:function(m,b,v,w){var Y,T=this,x=V(b),S=x.attr("class")||"",N=k('label="%s"',x.attr("label")||""),F=k('title="%s"',x.attr("title")),U=this.options.multiple?"multiple":"",ce=this.options.single?"radio":"checkbox";if(x.is("option")){var Re,be=x.val(),te=this.options.styler(be),ae=te?`style="${te}"`:"",_e=T.options.textTemplate(x),Te=x.prop("selected");return Y=w||x.prop("disabled"),(Re=V([k('<li class="%s %s" %s %s %s>',U,S,F,ae,N),k('<label class="%s">',Y?"disabled":""),k('<input type="%s" %s%s%s%s>',ce,this.selectItemName,Te?' checked="checked"':"",Y?' disabled="disabled"':"",k(' data-group="%s"',v)),k("<span>%s</span>",_e),"</label>","</li>"].join(""))).find("input").val(be),Re}if(x.is("optgroup")){N=T.options.labelTemplate(x);var G=V("<div/>");return v="group_"+m,Y=x.prop("disabled"),G.append(['<li class="group">',k('<label class="optgroup %s" data-group="%s">',Y?"disabled":"",v),this.options.hideOptgroupCheckboxes||this.options.single?"":k('<input type="checkbox" %s %s>',this.selectGroupName,Y?'disabled="disabled"':""),N,"</label>","</li>"].join("")),V.each(x.children(),function(Ie,Le){G.append(T.optionToHtml(Ie,Le,v,Y))}),G.html()}},events:function(){var m=this,b=function(v){v.preventDefault(),m[m.options.isOpen?"close":"open"]()};this.$label&&this.$label.off("click").on("click",function(v){"label"!==v.target.nodeName.toLowerCase()||v.target!==this||(b(v),(!m.options.filter||!m.options.isOpen)&&m.focus(),v.stopPropagation())}),this.options.okButton&&this.$okButton.off("click").on("click",function(v){b(v),v.stopPropagation()}),this.$choice.off("click").on("click",b).off("focus").on("focus",this.options.onFocus).off("blur").on("blur",this.options.onBlur),this.$parent.off("keydown").on("keydown",function(v){if(27===v.which)m.close(),m.$choice.focus()}),this.$searchInput.off("keydown").on("keydown",function(v){9===v.keyCode&&v.shiftKey&&m.close()}).off("keyup").on("keyup",function(v){if(m.options.filterAcceptOnEnter&&(13===v.which||32===v.which)&&m.$searchInput.val())return m.$selectAll.click(),m.close(),void m.focus();m.filter()}),this.$selectAll.off("click").on("click",function(){var v=V(this).prop("checked"),w=m.$selectItems.filter(":visible");w.length===m.$selectItems.length?m[v?"checkAll":"uncheckAll"]():(m.$selectGroups&&m.$selectGroups.prop("checked",v),w&&w.prop("checked",v),m.options[v?"onCheckAll":"onUncheckAll"](),m.update())}),this.$selectGroups.off("click").on("click",function(){var v=V(this).parent().attr("data-group"),T=m.$selectItems.filter(":visible").filter(k('[data-group="%s"]',v)),x=T.length!==T.filter(":checked").length;T&&T.prop("checked",x),m.updateSelectAll(),m.update(),m.options.onOptgroupClick({label:V(this).parent().text(),checked:x,children:T.get(),instance:m})}),this.$selectItems.off("click").on("click",function(){if(m.updateSelectAll(),m.update(),m.updateOptGroupSelect(),m.options.onClick({label:V(this).parent().text(),value:V(this).val(),checked:V(this).prop("checked"),instance:m}),m.options.single){var v=V(this).val();m.$selectItems.filter(function(){return V(this).val()!==v}).each(function(){V(this).prop("checked",!1)}),m.update()}m.options.single&&m.options.isOpen&&!m.options.keepOpen&&m.close()})},open:function(){if(!this.$choice.hasClass("disabled")){if(this.options.isOpen=!0,this.$parent.addClass("ms-parent-open"),this.$choice.find(">div").addClass("open"),this.$drop[this.animateMethod("show")](),this.$selectAll&&this.$selectAll.parent().show(),this.$noResults&&this.$noResults.hide(),this.$el.children().length||(this.$selectAll&&this.$selectAll.parent().hide(),this.$noResults&&this.$noResults.show()),this.options.offsetLeft){var b=(m=this.$drop.offset()).left-this.options.offsetLeft;this.$drop.offset({top:m.top,left:b})}if(this.options.container){var m=this.$drop.offset();b=this.options.offsetLeft?m.left-this.options.offsetLeft:m.left;this.$drop.appendTo(V(this.options.container)),this.$drop.offset({top:m.top,left:b})}this.options.filter&&(this.$searchInput.val(""),this.$searchInput.focus(),this.filter()),this.options.autoAdjustDropWidthByTextSize?this.adjustDropWidthByText():!this.options.width&&this.options.autoDropWidth&&this.$drop.css("width",this.$parent.width());var v=this.options.position;if(this.options.autoAdjustDropHeight){if(this.options.autoAdjustDropPosition){var w=this.availableSpaceBottom(),T=this.availableSpaceTop();v=w<(this.$drop.outerHeight()||0)&&T>w?"top":"bottom"}this.adjustDropHeight(v)}this.options.autoAdjustDropPosition&&this.adjustDropPosition(this.options.autoAdjustDropHeight),this.options.onOpen()}},close:function(){this.options.isOpen=!1,this.$parent.removeClass("ms-parent-open"),this.$choice.find(">div").removeClass("open"),this.$drop[this.animateMethod("hide")](),this.options.container&&(this.$parent.append(this.$drop),this.$drop.css({top:"auto",left:"auto"})),this.options.onClose()},animateMethod:function(m){return{show:{fade:"fadeIn",slide:"slideDown"},hide:{fade:"fadeOut",slide:"slideUp"}}[m][this.options.animate]||m},adjustDropHeight:function(m){var b="top"!==m,x=(this.options.filter?this.options.domElmFilterHeight:0)+(this.options.single?0:this.options.domElmOkButtonHeight)+(this.options.single?0:this.options.domElmSelectAllHeight)+5,S=this.availableSpaceBottom(),N=this.availableSpaceTop(),F=this.options.maxHeight;return F=b?S-x-this.options.adjustHeightPadding:N-x-this.options.adjustHeightPadding,!(this.options.maxHeight&&!(this.options.maxHeight&&F<this.options.maxHeight))&&(this.$drop.find("ul").css("max-height",F+"px"),!0)},adjustDropPosition:function(m){var b="bottom",v=this.$drop.outerHeight()||0,w=this.$drop.outerWidth()||0,T=this.$parent.offset().top,x=this.$parent.offset().left,S=this.$parent.width(),N=this.availableSpaceBottom(),F=this.availableSpaceTop(),U=V(window).width();if(N>v)b="bottom";else if(v>N&&F>N){if(this.options.container){var Y=T-v;Y<0&&(Y=0),(Y>0||m)&&(b="top",this.$drop.offset({top:Y<0?0:Y}))}else b="top",this.$drop.addClass(b);this.$drop.removeClass("bottom")}if(U-w<x){var ce=x-(w-S);this.$drop.offset({left:ce})}return b},adjustDropWidthByText:function(){var m=this.$parent.width();(this.options.dropWidth||this.options.width)&&(m=this.options.dropWidth||this.options.width);var b=this.$parent.width(),v=V("span",this.$drop).width()+this.options.domElmSelectSidePadding,T=V("ul",this.$drop).hasScrollBar()?this.getScrollbarWidth():0,x=0;V("li span",this.$drop).each(function(S,N){var F=V(N).width();F>x&&(x=F)}),(x+=this.options.domElmSelectSidePadding+T)<v&&(x=v),this.options.maxWidth&&x>this.options.maxWidth&&(x=this.options.maxWidth),this.options.minWidth&&x<this.options.minWidth&&(x=this.options.minWidth),x<b&&(x=b),(m>x||this.$drop.width()>x||"100%"===m)&&this.$drop.css({width:x,"max-width":x})},availableSpaceBottom:function(){var m=V(window).innerHeight()||this.options.maxHeight,b=V(window).scrollTop()||0;return m-(this.$drop.offset().top-b)},availableSpaceTop:function(){var m=V(window).scrollTop()||0;return this.$parent.offset().top-m},update:function(m){var b=this.options.displayValues?this.getSelects():this.getSelects("text"),v=this.$choice.find(">span"),w=b.length;if(0===w)v.addClass("placeholder").html(this.options.placeholder);else if(this.options.allSelected&&w===this.$selectItems.length+this.$disableItems.length)v.removeClass("placeholder").html(this.options.allSelected);else if(this.options.ellipsis&&w>this.options.minimumCountSelected)v.removeClass("placeholder").text(b.slice(0,this.options.minimumCountSelected).join(this.options.delimiter)+"...");else if(this.options.countSelected&&w>this.options.minimumCountSelected)v.removeClass("placeholder").html(this.options.countSelected.replace("#",b.length).replace("%",this.$selectItems.length+this.$disableItems.length));else if(this.options.useSelectOptionLabel||this.options.useSelectOptionLabelToHtml){var T=this.getSelects("label").join(this.options.delimiter);if(this.options.useSelectOptionLabelToHtml){var x=function(m){var b=document.createElement("div");b.innerHTML=m;for(var v=b.getElementsByTagName("script"),w=v.length;w--;)v[w].parentNode.removeChild(v[w]);return b.innerHTML}(T);v.removeClass("placeholder").html(x)}else v.removeClass("placeholder").text(T)}else v.removeClass("placeholder").text(b.join(this.options.delimiter));if(this.options.addTitle){var S=this.options.useSelectOptionLabel||this.options.useSelectOptionLabelToHtml?"label":"text";v&&v.prop("title",this.getSelects(S).join(this.options.delimiter))}this.$el.val(this.getSelects()),this.$drop.find("li").removeClass("selected"),this.$drop.find("input:checked").each(function(){V(this).parents("li").first().addClass("selected")}),m||this.$el.trigger("change")},updateSelectAll:function(m){var b=this.$selectItems;m||(b=b.filter(":visible")),this.$selectAll&&(this.$selectAll.prop("checked",b.length&&b.length===b.filter(":checked").length),!m&&this.$selectAll.prop("checked")&&this.options.onCheckAll())},updateOptGroupSelect:function(){var m=this.$selectItems.filter(":visible");V.each(this.$selectGroups,function(b,v){var w=V(v).parent().attr("data-group"),T=m.filter(k('[data-group="%s"]',w));V(v).prop("checked",T.length&&T.length===T.filter(":checked").length)})},getOptions:function(){const m=V.extend({},this.options);return delete m.data,V.extend(!0,{},m)},refreshOptions:function(m){(function(m,b,v){var w=Object.keys(m),T=Object.keys(b);if(v&&w.length!==T.length)return!1;for(var x=0;x<w.length;x++){var S=w[x];if(T.indexOf(S)>=0&&m[S]!==b[S])return!1}return!0})(this.options,m,!0)||(this.options=V.extend(this.options,m),this.init())},getSelects:function(m){var b=this,v=[],w=[],T=[];switch(this.$drop.find(k("input[%s]:checked",this.selectItemName)).each(function(){v.push(V(this).parents("li").first().text()),w.push(V(this).parents("li").attr("label")||""),T.push(V(this).val())}),"text"===m&&this.$selectGroups&&this.$selectGroups.length?(v=[],this.$selectGroups.each(function(){var x=[],S=V.trim(V(this).parent().text()),N=V(this).parent().data("group"),F=b.$drop.find(k('[%s][data-group="%s"]',b.selectItemName,N)),U=F.filter(":checked");if(U&&U.length){if(x.push("["),x.push(S),(F&&F.length)>(U&&U.length)){var Y=[];U.each(function(){Y.push(V(this).parent().text())}),x.push(": "+Y.join(", "))}x.push("]"),v.push(x.join(""))}})):"label"===m&&this.$selectGroups&&this.$selectGroups.length&&(w=[],this.$selectGroups.each(function(){var x=[],S=V.trim(V(this).attr("label")||""),N=V(this).parent().data("group"),F=b.$drop.find(k('[%s][data-group="%s"]',b.selectItemName,N)),U=F.filter(":checked");if(U&&U.length){if(x.push("["),x.push(S),(F&&F.length)>(U&&U.length)){var Y=[];U.each(function(){Y.push(V(this).attr("label")||"")}),x.push(": "+Y.join(", "))}x.push("]"),w.push(x.join(""))}})),m){case"text":return v;case"label":return w;default:return T}},getScrollbarWidth:function(){var m=document.createElement("div");m.style.visibility="hidden",m.style.width="100px",m.style.msOverflowStyle="scrollbar",document.body.appendChild(m);var b=m.offsetWidth;m.style.overflow="scroll";var v=document.createElement("div");v.style.width="100%",m.appendChild(v);var w=v.offsetWidth;return m.parentNode.removeChild(m),b-w},setSelects:function(m){var b=this;this.$selectItems&&this.$disableItems&&(this.$selectItems.prop("checked",!1),this.$disableItems.prop("checked",!1),V.each(m,function(v,w){var T=b.$selectItems.filter(k('[value="%s"]',w)),x=b.$disableItems.filter(k('[value="%s"]',w));T&&T.prop("checked",!0),x&&x.prop("checked",!0)}),this.$selectItems&&this.$selectAll&&this.$selectAll.prop("checked",this.$selectItems.length===this.$selectItems.filter(":checked").length+this.$disableItems.filter(":checked").length),V.each(b.$selectGroups,function(v,w){var T=V(w).parent().attr("data-group"),x=b.$selectItems.filter('[data-group="'+T+'"]');V(w).prop("checked",x.length&&x.length===x.filter(":checked").length)})),this.update(!1)},enable:function(){this.$choice.removeClass("disabled")},disable:function(){this.$choice.addClass("disabled")},destroy:function(){V("body").off("click"),this.$el.before(this.$parent).show(),this.$parent.remove(),this.$choice=null,this.$el=null,this.$selectItems=null,this.$selectGroups=null,this.$noResults=null,this.options=null,this.$parent=null},checkAll:function(){this.$selectItems&&this.$selectItems.prop("checked",!0),this.$selectGroups&&this.$selectGroups.prop("checked",!0),this.$selectAll&&this.$selectAll.prop("checked",!0),this.update(),this.options.onCheckAll()},uncheckAll:function(){this.$selectItems&&this.$selectItems.prop("checked",!1),this.$selectGroups&&this.$selectGroups.prop("checked",!1),this.$selectAll&&this.$selectAll.prop("checked",!1),this.update(),this.options.onUncheckAll()},focus:function(){this.$choice&&this.$choice.focus(),this.options.onFocus()},blur:function(){this.$choice&&this.$choice.blur(),this.options.onBlur()},refresh:function(){this.init()},filter:function(){var m=this,b=V.trim(this.$searchInput.val()).toLowerCase();0===b.length?(this.$selectAll&&this.$selectAll.parent().show(),this.$selectItems&&this.$selectItems.parent().show(),this.$disableItems&&this.$disableItems.parent().show(),this.$selectGroups&&this.$selectGroups.parent().show(),this.$noResults.hide()):(this.$selectItems.each(function(){var v=V(this).parent();v[l(v.text().toLowerCase()).indexOf(l(b))<0?"hide":"show"]()}),this.$disableItems&&this.$disableItems.parent().hide(),this.$selectGroups.each(function(){var v=V(this).parent(),w=v.attr("data-group");v[m.$selectItems.filter(":visible").filter(k('[data-group="%s"]',w)).length?"show":"hide"]()}),this.$selectItems&&this.$selectItems.parent().filter(":visible").length?(this.$selectAll.parent().show(),this.$noResults.hide()):(this.$selectAll&&this.$selectAll.parent().hide(),this.$noResults.show())),this.updateOptGroupSelect(),this.updateSelectAll(),this.options.onFilter(b)}},V.fn.hasScrollBar=function(){return this.get(0)&&this.get(0).scrollHeight&&this.get(0).scrollHeight>this.height()},V.fn.multipleSelect=function(){var v,m=arguments[0],b=arguments,w=["getSelects","setSelects","getOptions","refreshOptions","enable","disable","open","close","checkAll","uncheckAll","focus","blur","refresh","destroy"];return this.each(function(){var T=V(this),x=T.data("multipleSelect"),S=V.extend({},V.fn.multipleSelect.defaults,T.data(),"object"==typeof m&&m);if(x||(x=new j(T,S),T.data("multipleSelect",x)),"string"==typeof m){if(V.inArray(m,w)<0)throw"Unknown method: "+m;v=x[m](b[1])}else x.init(),b[1]&&(v=x[b[1]].apply(x,[].slice.call(b,2)))}),void 0!==v?v:this},V.fn.multipleSelect.defaults={domElmFilterHeight:32,domElmSelectSidePadding:26,domElmOkButtonHeight:26,domElmSelectAllHeight:39,adjustHeightPadding:10,name:"",isOpen:!1,placeholder:"",selectAll:!0,selectAllDelimiter:["[","]"],minimumCountSelected:3,ellipsis:!1,multiple:!1,multipleWidth:80,single:!1,filter:!1,offsetLeft:0,autoAdjustDropHeight:!1,autoAdjustDropPosition:!1,autoDropWidth:!1,autoAdjustDropWidthByTextSize:!1,width:void 0,dropWidth:void 0,maxHeight:250,maxWidth:500,minWidth:void 0,container:null,position:"bottom",keepOpen:!1,animate:"none",displayValues:!1,delimiter:", ",addTitle:!1,filterAcceptOnEnter:!1,hideOptgroupCheckboxes:!1,openOnHover:!1,okButton:!1,okButtonText:"OK",selectAllText:"Select all",allSelected:"All selected",countSelected:"# of % selected",noMatchesFound:"No matches found",styler:function(){return!1},textTemplate:function(m){return m.html()},labelTemplate:function(m){return m.attr("label")},onOpen:function(){return!1},onClose:function(){return!1},onCheckAll:function(){return!1},onUncheckAll:function(){return!1},onFocus:function(){return!1},onBlur:function(){return!1},onOptgroupClick:function(){return!1},onClick:function(){return!1},onFilter:function(){return!1},onAfterCreate:function(){return!1}}}(jQuery)},5734:(V,k,L)=>{"use strict";L.d(k,{P4:()=>N});var l=L(3184),A=L(6362);function j(F,U){if(1&F){const Y=l.EpF();l.TgZ(0,"span",7),l.NdJ("click",function(be){l.CHM(Y);const te=l.oxw().$implicit,ae=l.oxw();return be.preventDefault(),ae.removeTab(te)}),l._uU(1," \u274c"),l.qZA()}}const I=function(F){return["nav-item",F]};function m(F,U){if(1&F){const Y=l.EpF();l.TgZ(0,"li",3),l.NdJ("keydown",function(be){const ae=l.CHM(Y).index;return l.oxw().keyNavActions(be,ae)}),l._uU(1,"\n    "),l.TgZ(2,"a",4),l.NdJ("click",function(){return l.CHM(Y).$implicit.active=!0}),l._uU(3,"\n      "),l.TgZ(4,"span",5),l._uU(5),l.qZA(),l._uU(6,"\n      "),l.YNc(7,j,2,0,"span",6),l._uU(8,"\n    "),l.qZA(),l._uU(9,"\n  "),l.qZA()}if(2&F){const Y=U.$implicit;l.ekj("active",Y.active)("disabled",Y.disabled),l.Q6J("ngClass",l.VKq(15,I,Y.customClass||"")),l.xp6(2),l.ekj("active",Y.active)("disabled",Y.disabled),l.uIk("aria-controls",Y.id?Y.id:"")("aria-selected",!!Y.active)("id",Y.id?Y.id+"-link":""),l.xp6(2),l.Q6J("ngTransclude",Y.headingRef),l.xp6(1),l.Oqu(Y.heading),l.xp6(2),l.Q6J("ngIf",Y.removable)}}class v{constructor(U){this.viewRef=U}set ngTransclude(U){this._ngTransclude=U,U&&this.viewRef.createEmbeddedView(U)}get ngTransclude(){return this._ngTransclude}}v.\u0275fac=function(U){return new(U||v)(l.Y36(l.s_b))},v.\u0275dir=l.lG2({type:v,selectors:[["","ngTransclude",""]],inputs:{ngTransclude:"ngTransclude"}}),v.ctorParameters=()=>[{type:l.s_b}],v.propDecorators={ngTransclude:[{type:l.IIB}]};class w{constructor(){this.type="tabs",this.isKeysAllowed=!0,this.ariaLabel="Tabs"}}w.\u0275fac=function(U){return new(U||w)},w.\u0275prov=(0,l.Yz7)({factory:function(){return new w},token:w,providedIn:"root"});class T{constructor(U,Y,ce){this.renderer=Y,this.elementRef=ce,this.clazz=!0,this.tabs=[],this.classMap={},this.ariaLabel="Tabs",this.isDestroyed=!1,this._vertical=!1,this._justified=!1,this._type="tabs",this._isKeysAllowed=!0,Object.assign(this,U)}get vertical(){return this._vertical}set vertical(U){this._vertical=U,this.setClassMap()}get justified(){return this._justified}set justified(U){this._justified=U,this.setClassMap()}get type(){return this._type}set type(U){this._type=U,this.setClassMap()}get isKeysAllowed(){return this._isKeysAllowed}set isKeysAllowed(U){this._isKeysAllowed=U}ngOnDestroy(){this.isDestroyed=!0}addTab(U){this.tabs.push(U),U.active=1===this.tabs.length&&!U.active}removeTab(U,Y={reselect:!0,emit:!0}){const ce=this.tabs.indexOf(U);if(-1!==ce&&!this.isDestroyed){if(Y.reselect&&U.active&&this.hasAvailableTabs(ce)){const be=this.getClosestTabIndex(ce);this.tabs[be].active=!0}Y.emit&&U.removed.emit(U),this.tabs.splice(ce,1),U.elementRef.nativeElement.parentNode&&this.renderer.removeChild(U.elementRef.nativeElement.parentNode,U.elementRef.nativeElement)}}keyNavActions(U,Y){if(!this.isKeysAllowed)return;const ce=Array.from(this.elementRef.nativeElement.querySelectorAll(".nav-link"));if(13===U.keyCode||"Enter"===U.key||32===U.keyCode||"Space"===U.key)return U.preventDefault(),void ce[Y%ce.length].click();if(39!==U.keyCode&&"RightArrow"!==U.key)if(37!==U.keyCode&&"LeftArrow"!==U.key)if(36!==U.keyCode&&"Home"!==U.key)if(35!==U.keyCode&&"End"!==U.key){if((46===U.keyCode||"Delete"===U.key)&&this.tabs[Y].removable){if(this.removeTab(this.tabs[Y]),ce[Y+1])return void ce[(Y+1)%ce.length].focus();ce[ce.length-1]&&ce[0].focus()}}else{U.preventDefault();let be,te=1,ae=Y;do{ae-te<0?(ae=ce.length-1,be=ce[ae],te=0):be=ce[ae-te],te++}while(be.classList.contains("disabled"));be.focus()}else{U.preventDefault();let be,te=0;do{be=ce[te%ce.length],te++}while(be.classList.contains("disabled"));be.focus()}else{let be,te=1,ae=Y;do{ae-te<0?(ae=ce.length-1,be=ce[ae],te=0):be=ce[ae-te],te++}while(be.classList.contains("disabled"));be.focus()}else{let be,te=1;do{be=ce[(Y+te)%ce.length],te++}while(be.classList.contains("disabled"));be.focus()}}getClosestTabIndex(U){const Y=this.tabs.length;if(!Y)return-1;for(let ce=1;ce<=Y;ce+=1){const be=U-ce,te=U+ce;if(this.tabs[be]&&!this.tabs[be].disabled)return be;if(this.tabs[te]&&!this.tabs[te].disabled)return te}return-1}hasAvailableTabs(U){const Y=this.tabs.length;if(!Y)return!1;for(let ce=0;ce<Y;ce+=1)if(!this.tabs[ce].disabled&&ce!==U)return!0;return!1}setClassMap(){this.classMap={"nav-stacked":this.vertical,"flex-column":this.vertical,"nav-justified":this.justified,[`nav-${this.type}`]:!0}}}T.\u0275fac=function(U){return new(U||T)(l.Y36(w),l.Y36(l.Qsj),l.Y36(l.SBq))},T.\u0275cmp=l.Xpm({type:T,selectors:[["tabset"]],hostVars:2,hostBindings:function(U,Y){2&U&&l.ekj("tab-container",Y.clazz)},inputs:{vertical:"vertical",justified:"justified",type:"type"},ngContentSelectors:["*"],decls:10,vars:3,consts:[["role","tablist",1,"nav",3,"ngClass","click"],[3,"ngClass","active","disabled","keydown",4,"ngFor","ngForOf"],[1,"tab-content"],[3,"ngClass","keydown"],["href","javascript:void(0);","role","tab",1,"nav-link",3,"click"],[3,"ngTransclude"],["class","bs-remove-tab",3,"click",4,"ngIf"],[1,"bs-remove-tab",3,"click"]],template:function(U,Y){1&U&&(l.F$t(),l.TgZ(0,"ul",0),l.NdJ("click",function(be){return be.preventDefault()}),l._uU(1,"\n  "),l.YNc(2,m,10,17,"li",1),l._uU(3,"\n"),l.qZA(),l._uU(4,"\n"),l.TgZ(5,"div",2),l._uU(6,"\n  "),l.Hsn(7),l._uU(8,"\n"),l.qZA(),l._uU(9,"\n")),2&U&&(l.Q6J("ngClass",Y.classMap),l.uIk("aria-label",Y.ariaLabel),l.xp6(2),l.Q6J("ngForOf",Y.tabs))},directives:[A.mk,A.sg,v,A.O5],styles:["[_nghost-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item.disabled[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{cursor:default}"]}),T.ctorParameters=()=>[{type:w},{type:l.Qsj},{type:l.SBq}],T.propDecorators={vertical:[{type:l.IIB}],justified:[{type:l.IIB}],type:[{type:l.IIB}],clazz:[{type:l.pfw,args:["class.tab-container"]}]};class x{constructor(U,Y,ce){this.elementRef=Y,this.renderer=ce,this.disabled=!1,this.removable=!1,this.selectTab=new l.vpe,this.deselect=new l.vpe,this.removed=new l.vpe,this.addClass=!0,this.role="tabpanel",this._active=!1,this._customClass="",this.tabset=U,this.tabset.addTab(this)}get customClass(){return this._customClass}set customClass(U){this.customClass&&this.customClass.split(" ").forEach(Y=>{this.renderer.removeClass(this.elementRef.nativeElement,Y)}),this._customClass=U?U.trim():"",this.customClass&&this.customClass.split(" ").forEach(Y=>{this.renderer.addClass(this.elementRef.nativeElement,Y)})}get active(){return this._active}set active(U){if(this._active!==U){if(this.disabled&&U||!U)return void(this._active&&!U&&(this.deselect.emit(this),this._active=U));this._active=U,this.selectTab.emit(this),this.tabset.tabs.forEach(Y=>{Y!==this&&(Y.active=!1)})}}get ariaLabelledby(){return this.id?`${this.id}-link`:""}ngOnInit(){this.removable=!!this.removable}ngOnDestroy(){this.tabset.removeTab(this,{reselect:!1,emit:!1})}}x.\u0275fac=function(U){return new(U||x)(l.Y36(T),l.Y36(l.SBq),l.Y36(l.Qsj))},x.\u0275dir=l.lG2({type:x,selectors:[["tab"],["","tab",""]],hostVars:7,hostBindings:function(U,Y){2&U&&(l.uIk("role",Y.role)("aria-labelledby",Y.ariaLabelledby)("id",Y.id),l.ekj("tab-pane",Y.addClass)("active",Y.active))},inputs:{disabled:"disabled",removable:"removable",customClass:"customClass",active:"active",heading:"heading",id:"id"},outputs:{selectTab:"selectTab",deselect:"deselect",removed:"removed"},exportAs:["tab"]}),x.ctorParameters=()=>[{type:T},{type:l.SBq},{type:l.Qsj}],x.propDecorators={heading:[{type:l.IIB}],id:[{type:l.pfw,args:["attr.id"]},{type:l.IIB}],disabled:[{type:l.IIB}],removable:[{type:l.IIB}],customClass:[{type:l.IIB}],active:[{type:l.pfw,args:["class.active"]},{type:l.IIB}],selectTab:[{type:l.r_U}],deselect:[{type:l.r_U}],removed:[{type:l.r_U}],addClass:[{type:l.pfw,args:["class.tab-pane"]}],role:[{type:l.pfw,args:["attr.role"]}],ariaLabelledby:[{type:l.pfw,args:["attr.aria-labelledby"]}]};class S{constructor(U,Y){Y.headingRef=U}}S.\u0275fac=function(U){return new(U||S)(l.Y36(l.Rgc),l.Y36(x))},S.\u0275dir=l.lG2({type:S,selectors:[["","tabHeading",""]]}),S.ctorParameters=()=>[{type:l.Rgc},{type:x}];class N{static forRoot(){return{ngModule:N,providers:[]}}}N.\u0275fac=function(U){return new(U||N)},N.\u0275mod=l.oAB({type:N}),N.\u0275inj=l.cJS({imports:[[A.ez]]}),("undefined"==typeof ngJitMode||ngJitMode)&&l.kYT(N,{declarations:function(){return[v,x,T,S]},imports:function(){return[A.ez]},exports:function(){return[x,T,S,v]}})},3118:V=>{!function(k){"use strict";"function"==typeof bootstrap?bootstrap("promise",k):V.exports=k()}(function(){"use strict";var k=!1;try{throw new Error}catch(Oe){k=!!Oe.stack}var l,L=Ee(),A=function(){},j=function(){var Oe={task:void 0,next:null},Fe=Oe,ut=!1,It=void 0,cn=!1,Nn=[];function _n(){for(var kn,xn;Oe.next;)kn=(Oe=Oe.next).task,Oe.task=void 0,(xn=Oe.domain)&&(Oe.domain=void 0,xn.enter()),Fn(kn,xn);for(;Nn.length;)Fn(kn=Nn.pop());ut=!1}function Fn(kn,xn){try{kn()}catch(hr){if(cn)throw xn&&xn.exit(),setTimeout(_n,0),xn&&xn.enter(),hr;setTimeout(function(){throw hr},0)}xn&&xn.exit()}if(j=function(kn){Fe=Fe.next={task:kn,domain:cn&&process.domain,next:null},ut||(ut=!0,It())},"object"==typeof process&&"[object process]"===process.toString()&&process.nextTick)cn=!0,It=function(){process.nextTick(_n)};else if("function"==typeof setImmediate)It="undefined"!=typeof window?setImmediate.bind(window,_n):function(){setImmediate(_n)};else if("undefined"!=typeof MessageChannel){var Hn=new MessageChannel;Hn.port1.onmessage=function(){It=Tn,Hn.port1.onmessage=_n,_n()};var Tn=function(){Hn.port2.postMessage(0)};It=function(){setTimeout(_n,0),Tn()}}else It=function(){setTimeout(_n,0)};return j.runAfter=function(kn){Nn.push(kn),ut||(ut=!0,It())},j}(),I=Function.call;function m(Oe){return function(){return I.apply(Oe,arguments)}}var be,b=m(Array.prototype.slice),v=m(Array.prototype.reduce||function(Oe,Fe){var ut=0,It=this.length;if(1===arguments.length)for(;;){if(ut in this){Fe=this[ut++];break}if(++ut>=It)throw new TypeError}for(;ut<It;ut++)ut in this&&(Fe=Oe(Fe,this[ut],ut));return Fe}),w=m(Array.prototype.indexOf||function(Oe){for(var Fe=0;Fe<this.length;Fe++)if(this[Fe]===Oe)return Fe;return-1}),T=m(Array.prototype.map||function(Oe,Fe){var ut=this,It=[];return v(ut,function(cn,Nn,_n){It.push(Oe.call(Fe,Nn,_n,ut))},void 0),It}),x=Object.create||function(Oe){function Fe(){}return Fe.prototype=Oe,new Fe},S=Object.defineProperty||function(Oe,Fe,ut){return Oe[Fe]=ut.value,Oe},N=m(Object.prototype.hasOwnProperty),F=Object.keys||function(Oe){var Fe=[];for(var ut in Oe)N(Oe,ut)&&Fe.push(ut);return Fe},U=m(Object.prototype.toString);function ce(Oe){return"[object StopIteration]"===U(Oe)||Oe instanceof be}be="undefined"!=typeof ReturnValue?ReturnValue:function(Oe){this.value=Oe};function ae(Oe,Fe){if(k&&Fe.stack&&"object"==typeof Oe&&null!==Oe&&Oe.stack){for(var ut=[],It=Fe;It;It=It.source)It.stack&&(!Oe.__minimumStackCounter__||Oe.__minimumStackCounter__>It.stackCounter)&&(S(Oe,"__minimumStackCounter__",{value:It.stackCounter,configurable:!0}),ut.unshift(It.stack));ut.unshift(Oe.stack);var Nn=function(Oe){for(var Fe=Oe.split("\n"),ut=[],It=0;It<Fe.length;++It){var cn=Fe[It];!G(cn)&&!Te(cn)&&cn&&ut.push(cn)}return ut.join("\n")}(ut.join("\nFrom previous event:\n"));S(Oe,"stack",{value:Nn,configurable:!0})}}function Te(Oe){return-1!==Oe.indexOf("(module.js:")||-1!==Oe.indexOf("(node.js:")}function Re(Oe){var Fe=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(Oe);if(Fe)return[Fe[1],Number(Fe[2])];var ut=/at ([^ ]+):(\d+):(?:\d+)$/.exec(Oe);if(ut)return[ut[1],Number(ut[2])];var It=/.*@(.+):(\d+)$/.exec(Oe);return It?[It[1],Number(It[2])]:void 0}function G(Oe){var Fe=Re(Oe);if(!Fe)return!1;var ut=Fe[0],It=Fe[1];return ut===l&&It>=L&&It<=jt}function Ee(){if(k)try{throw new Error}catch(It){var Oe=It.stack.split("\n"),ut=Re(Oe[0].indexOf("@")>0?Oe[1]:Oe[2]);return ut?(l=ut[0],ut[1]):void 0}}function Le(Oe){return Oe instanceof dt?Oe:Pt(Oe)?function(Oe){var Fe=Pe();return Le.nextTick(function(){try{Oe.then(Fe.resolve,Fe.reject,Fe.notify)}catch(ut){Fe.reject(ut)}}),Fe.promise}(Oe):ge(Oe)}Le.resolve=Le,Le.nextTick=j,Le.longStackSupport=!1;var ne=1;function Pe(){var ut,Oe=[],Fe=[],It=x(Pe.prototype),cn=x(dt.prototype);if(cn.promiseDispatch=function(_n,Fn,Hn){var Tn=b(arguments);Oe?(Oe.push(Tn),"when"===Fn&&Hn[1]&&Fe.push(Hn[1])):Le.nextTick(function(){ut.promiseDispatch.apply(ut,Tn)})},cn.valueOf=function(){if(Oe)return cn;var _n=kt(ut);return wt(_n)&&(ut=_n),_n},cn.inspect=function(){return ut?ut.inspect():{state:"pending"}},Le.longStackSupport&&k)try{throw new Error}catch(_n){cn.stack=_n.stack.substring(_n.stack.indexOf("\n")+1),cn.stackCounter=ne++}function Nn(_n){ut=_n,Le.longStackSupport&&k&&(cn.source=_n),v(Oe,function(Fn,Hn){Le.nextTick(function(){_n.promiseDispatch.apply(_n,Hn)})},void 0),Oe=void 0,Fe=void 0}return It.promise=cn,It.resolve=function(_n){ut||Nn(Le(_n))},It.fulfill=function(_n){ut||Nn(ge(_n))},It.reject=function(_n){ut||Nn(fi(_n))},It.notify=function(_n){ut||v(Fe,function(Fn,Hn){Le.nextTick(function(){Hn(_n)})},void 0)},It}function He(Oe){if("function"!=typeof Oe)throw new TypeError("resolver must be a function.");var Fe=Pe();try{Oe(Fe.resolve,Fe.reject,Fe.notify)}catch(ut){Fe.reject(ut)}return Fe.promise}function ze(Oe){return He(function(Fe,ut){for(var It=0,cn=Oe.length;It<cn;It++)Le(Oe[It]).then(Fe,ut)})}function dt(Oe,Fe,ut){void 0===Fe&&(Fe=function(Nn){return fi(new Error("Promise does not support operation: "+Nn))}),void 0===ut&&(ut=function(){return{state:"unknown"}});var It=x(dt.prototype);if(It.promiseDispatch=function(Nn,_n,Fn){var Hn;try{Hn=Oe[_n]?Oe[_n].apply(It,Fn):Fe.call(It,_n,Fn)}catch(Tn){Hn=fi(Tn)}Nn&&Nn(Hn)},It.inspect=ut,ut){var cn=ut();"rejected"===cn.state&&(It.exception=cn.reason),It.valueOf=function(){var Nn=ut();return"pending"===Nn.state||"rejected"===Nn.state?It:Nn.value}}return It}function nt(Oe,Fe,ut,It){return Le(Oe).then(Fe,ut,It)}function kt(Oe){if(wt(Oe)){var Fe=Oe.inspect();if("fulfilled"===Fe.state)return Fe.value}return Oe}function wt(Oe){return Oe instanceof dt}function Pt(Oe){return function(Oe){return Oe===Object(Oe)}(Oe)&&"function"==typeof Oe.then}"object"==typeof process&&process&&process.env&&process.env.Q_DEBUG&&(Le.longStackSupport=!0),Le.defer=Pe,Pe.prototype.makeNodeResolver=function(){var Oe=this;return function(Fe,ut){Fe?Oe.reject(Fe):arguments.length>2?Oe.resolve(b(arguments,1)):Oe.resolve(ut)}},Le.Promise=He,Le.promise=He,He.race=ze,He.all=ee,He.reject=fi,He.resolve=Le,Le.passByCopy=function(Oe){return Oe},dt.prototype.passByCopy=function(){return this},Le.join=function(Oe,Fe){return Le(Oe).join(Fe)},dt.prototype.join=function(Oe){return Le([this,Oe]).spread(function(Fe,ut){if(Fe===ut)return Fe;throw new Error("Q can't join: not the same: "+Fe+" "+ut)})},Le.race=ze,dt.prototype.race=function(){return this.then(Le.race)},Le.makePromise=dt,dt.prototype.toString=function(){return"[object Promise]"},dt.prototype.then=function(Oe,Fe,ut){var It=this,cn=Pe(),Nn=!1;return Le.nextTick(function(){It.promiseDispatch(function(Tn){Nn||(Nn=!0,cn.resolve(function(Tn){try{return"function"==typeof Oe?Oe(Tn):Tn}catch(kn){return fi(kn)}}(Tn)))},"when",[function(Tn){Nn||(Nn=!0,cn.resolve(function(Tn){if("function"==typeof Fe){ae(Tn,It);try{return Fe(Tn)}catch(kn){return fi(kn)}}return fi(Tn)}(Tn)))}])}),It.promiseDispatch(void 0,"when",[void 0,function(Tn){var kn,xn=!1;try{kn=function(Tn){return"function"==typeof ut?ut(Tn):Tn}(Tn)}catch(hr){if(xn=!0,!Le.onerror)throw hr;Le.onerror(hr)}xn||cn.notify(kn)}]),cn.promise},Le.tap=function(Oe,Fe){return Le(Oe).tap(Fe)},dt.prototype.tap=function(Oe){return Oe=Le(Oe),this.then(function(Fe){return Oe.fcall(Fe).thenResolve(Fe)})},Le.when=nt,dt.prototype.thenResolve=function(Oe){return this.then(function(){return Oe})},Le.thenResolve=function(Oe,Fe){return Le(Oe).thenResolve(Fe)},dt.prototype.thenReject=function(Oe){return this.then(function(){throw Oe})},Le.thenReject=function(Oe,Fe){return Le(Oe).thenReject(Fe)},Le.nearer=kt,Le.isPromise=wt,Le.isPromiseAlike=Pt,Le.isPending=function(Oe){return wt(Oe)&&"pending"===Oe.inspect().state},dt.prototype.isPending=function(){return"pending"===this.inspect().state},Le.isFulfilled=function(Oe){return!wt(Oe)||"fulfilled"===Oe.inspect().state},dt.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},Le.isRejected=function(Oe){return wt(Oe)&&"rejected"===Oe.inspect().state},dt.prototype.isRejected=function(){return"rejected"===this.inspect().state};var Oe,Fe,ut,Ft=[],sn=[],nn=[],zt=!0;function an(){Ft.length=0,sn.length=0,zt||(zt=!0)}function fi(Oe){var Fe=dt({when:function(ut){return ut&&function(Oe){if(zt){var Fe=w(sn,Oe);-1!==Fe&&("object"==typeof process&&"function"==typeof process.emit&&Le.nextTick.runAfter(function(){var ut=w(nn,Oe);-1!==ut&&(process.emit("rejectionHandled",Ft[Fe],Oe),nn.splice(ut,1))}),sn.splice(Fe,1),Ft.splice(Fe,1))}}(this),ut?ut(Oe):this}},function(){return this},function(){return{state:"rejected",reason:Oe}});return function(Oe,Fe){!zt||("object"==typeof process&&"function"==typeof process.emit&&Le.nextTick.runAfter(function(){-1!==w(sn,Oe)&&(process.emit("unhandledRejection",Fe,Oe),nn.push(Oe))}),sn.push(Oe),Fe&&void 0!==Fe.stack?Ft.push(Fe.stack):Ft.push("(no stack) "+Fe))}(Fe,Oe),Fe}function ge(Oe){return dt({when:function(){return Oe},get:function(Fe){return Oe[Fe]},set:function(Fe,ut){Oe[Fe]=ut},delete:function(Fe){delete Oe[Fe]},post:function(Fe,ut){return null==Fe?Oe.apply(void 0,ut):Oe[Fe].apply(Oe,ut)},apply:function(Fe,ut){return Oe.apply(Fe,ut)},keys:function(){return F(Oe)}},void 0,function(){return{state:"fulfilled",value:Oe}})}function qe(Oe,Fe,ut){return Le(Oe).spread(Fe,ut)}function Mt(Oe,Fe,ut){return Le(Oe).dispatch(Fe,ut)}function ee(Oe){return nt(Oe,function(Fe){var ut=0,It=Pe();return v(Fe,function(cn,Nn,_n){var Fn;wt(Nn)&&"fulfilled"===(Fn=Nn.inspect()).state?Fe[_n]=Fn.value:(++ut,nt(Nn,function(Hn){Fe[_n]=Hn,0==--ut&&It.resolve(Fe)},It.reject,function(Hn){It.notify({index:_n,value:Hn})}))},void 0),0===ut&&It.resolve(Fe),It.promise})}function pe(Oe){if(0===Oe.length)return Le.resolve();var Fe=Le.defer(),ut=0;return v(Oe,function(It,cn,Nn){var _n=Oe[Nn];ut++,nt(_n,function(kn){Fe.resolve(kn)},function(kn){if(0==--ut){var xn=kn||new Error(""+kn);xn.message="Q can't get fulfillment value from any promise, all promises were rejected. Last error message: "+xn.message,Fe.reject(xn)}},function(kn){Fe.notify({index:Nn,value:kn})})},void 0),Fe.promise}function xe(Oe){return nt(Oe,function(Fe){return Fe=T(Fe,Le),nt(ee(T(Fe,function(ut){return nt(ut,A,A)})),function(){return Fe})})}Le.resetUnhandledRejections=an,Le.getUnhandledReasons=function(){return Ft.slice()},Le.stopUnhandledRejectionTracking=function(){an(),zt=!1},an(),Le.reject=fi,Le.fulfill=ge,Le.master=function(Oe){return dt({isDef:function(){}},function(ut,It){return Mt(Oe,ut,It)},function(){return Le(Oe).inspect()})},Le.spread=qe,dt.prototype.spread=function(Oe,Fe){return this.all().then(function(ut){return Oe.apply(void 0,ut)},Fe)},Le.async=function(Oe){return function(){function Fe(Nn,_n){var Fn;if("undefined"==typeof StopIteration){try{Fn=ut[Nn](_n)}catch(Hn){return fi(Hn)}return Fn.done?Le(Fn.value):nt(Fn.value,It,cn)}try{Fn=ut[Nn](_n)}catch(Hn){return ce(Hn)?Le(Hn.value):fi(Hn)}return nt(Fn,It,cn)}var ut=Oe.apply(this,arguments),It=Fe.bind(Fe,"next"),cn=Fe.bind(Fe,"throw");return It()}},Le.spawn=function(Oe){Le.done(Le.async(Oe)())},Le.return=function(Oe){throw new be(Oe)},Le.promised=function(Oe){return function(){return qe([this,ee(arguments)],function(Fe,ut){return Oe.apply(Fe,ut)})}},Le.dispatch=Mt,dt.prototype.dispatch=function(Oe,Fe){var ut=this,It=Pe();return Le.nextTick(function(){ut.promiseDispatch(It.resolve,Oe,Fe)}),It.promise},Le.get=function(Oe,Fe){return Le(Oe).dispatch("get",[Fe])},dt.prototype.get=function(Oe){return this.dispatch("get",[Oe])},Le.set=function(Oe,Fe,ut){return Le(Oe).dispatch("set",[Fe,ut])},dt.prototype.set=function(Oe,Fe){return this.dispatch("set",[Oe,Fe])},Le.del=Le.delete=function(Oe,Fe){return Le(Oe).dispatch("delete",[Fe])},dt.prototype.del=dt.prototype.delete=function(Oe){return this.dispatch("delete",[Oe])},Le.mapply=Le.post=function(Oe,Fe,ut){return Le(Oe).dispatch("post",[Fe,ut])},dt.prototype.mapply=dt.prototype.post=function(Oe,Fe){return this.dispatch("post",[Oe,Fe])},Le.send=Le.mcall=Le.invoke=function(Oe,Fe){return Le(Oe).dispatch("post",[Fe,b(arguments,2)])},dt.prototype.send=dt.prototype.mcall=dt.prototype.invoke=function(Oe){return this.dispatch("post",[Oe,b(arguments,1)])},Le.fapply=function(Oe,Fe){return Le(Oe).dispatch("apply",[void 0,Fe])},dt.prototype.fapply=function(Oe){return this.dispatch("apply",[void 0,Oe])},Le.try=Le.fcall=function(Oe){return Le(Oe).dispatch("apply",[void 0,b(arguments,1)])},dt.prototype.fcall=function(){return this.dispatch("apply",[void 0,b(arguments)])},Le.fbind=function(Oe){var Fe=Le(Oe),ut=b(arguments,1);return function(){return Fe.dispatch("apply",[this,ut.concat(b(arguments))])}},dt.prototype.fbind=function(){var Oe=this,Fe=b(arguments);return function(){return Oe.dispatch("apply",[this,Fe.concat(b(arguments))])}},Le.keys=function(Oe){return Le(Oe).dispatch("keys",[])},dt.prototype.keys=function(){return this.dispatch("keys",[])},Le.all=ee,dt.prototype.all=function(){return ee(this)},Le.any=pe,dt.prototype.any=function(){return pe(this)},Le.allResolved=(Oe=xe,Fe="allResolved",ut="allSettled",function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(Fe+" is deprecated, use "+ut+" instead.",new Error("").stack),Oe.apply(Oe,arguments)}),dt.prototype.allResolved=function(){return xe(this)},Le.allSettled=function(Oe){return Le(Oe).allSettled()},dt.prototype.allSettled=function(){return this.then(function(Oe){return ee(T(Oe,function(Fe){function ut(){return Fe.inspect()}return(Fe=Le(Fe)).then(ut,ut)}))})},Le.fail=Le.catch=function(Oe,Fe){return Le(Oe).then(void 0,Fe)},dt.prototype.fail=dt.prototype.catch=function(Oe){return this.then(void 0,Oe)},Le.progress=function(Oe,Fe){return Le(Oe).then(void 0,void 0,Fe)},dt.prototype.progress=function(Oe){return this.then(void 0,void 0,Oe)},Le.fin=Le.finally=function(Oe,Fe){return Le(Oe).finally(Fe)},dt.prototype.fin=dt.prototype.finally=function(Oe){if(!Oe||"function"!=typeof Oe.apply)throw new Error("Q can't apply finally callback");return Oe=Le(Oe),this.then(function(Fe){return Oe.fcall().then(function(){return Fe})},function(Fe){return Oe.fcall().then(function(){throw Fe})})},Le.done=function(Oe,Fe,ut,It){return Le(Oe).done(Fe,ut,It)},dt.prototype.done=function(Oe,Fe,ut){var It=function(Nn){Le.nextTick(function(){if(ae(Nn,cn),!Le.onerror)throw Nn;Le.onerror(Nn)})},cn=Oe||Fe||ut?this.then(Oe,Fe,ut):this;"object"==typeof process&&process&&process.domain&&(It=process.domain.bind(It)),cn.then(void 0,It)},Le.timeout=function(Oe,Fe,ut){return Le(Oe).timeout(Fe,ut)},dt.prototype.timeout=function(Oe,Fe){var ut=Pe(),It=setTimeout(function(){(!Fe||"string"==typeof Fe)&&((Fe=new Error(Fe||"Timed out after "+Oe+" ms")).code="ETIMEDOUT"),ut.reject(Fe)},Oe);return this.then(function(cn){clearTimeout(It),ut.resolve(cn)},function(cn){clearTimeout(It),ut.reject(cn)},ut.notify),ut.promise},Le.delay=function(Oe,Fe){return void 0===Fe&&(Fe=Oe,Oe=void 0),Le(Oe).delay(Fe)},dt.prototype.delay=function(Oe){return this.then(function(Fe){var ut=Pe();return setTimeout(function(){ut.resolve(Fe)},Oe),ut.promise})},Le.nfapply=function(Oe,Fe){return Le(Oe).nfapply(Fe)},dt.prototype.nfapply=function(Oe){var Fe=Pe(),ut=b(Oe);return ut.push(Fe.makeNodeResolver()),this.fapply(ut).fail(Fe.reject),Fe.promise},Le.nfcall=function(Oe){var Fe=b(arguments,1);return Le(Oe).nfapply(Fe)},dt.prototype.nfcall=function(){var Oe=b(arguments),Fe=Pe();return Oe.push(Fe.makeNodeResolver()),this.fapply(Oe).fail(Fe.reject),Fe.promise},Le.nfbind=Le.denodeify=function(Oe){if(void 0===Oe)throw new Error("Q can't wrap an undefined function");var Fe=b(arguments,1);return function(){var ut=Fe.concat(b(arguments)),It=Pe();return ut.push(It.makeNodeResolver()),Le(Oe).fapply(ut).fail(It.reject),It.promise}},dt.prototype.nfbind=dt.prototype.denodeify=function(){var Oe=b(arguments);return Oe.unshift(this),Le.denodeify.apply(void 0,Oe)},Le.nbind=function(Oe,Fe){var ut=b(arguments,2);return function(){var It=ut.concat(b(arguments)),cn=Pe();function Nn(){return Oe.apply(Fe,arguments)}return It.push(cn.makeNodeResolver()),Le(Nn).fapply(It).fail(cn.reject),cn.promise}},dt.prototype.nbind=function(){var Oe=b(arguments,0);return Oe.unshift(this),Le.nbind.apply(void 0,Oe)},Le.nmapply=Le.npost=function(Oe,Fe,ut){return Le(Oe).npost(Fe,ut)},dt.prototype.nmapply=dt.prototype.npost=function(Oe,Fe){var ut=b(Fe||[]),It=Pe();return ut.push(It.makeNodeResolver()),this.dispatch("post",[Oe,ut]).fail(It.reject),It.promise},Le.nsend=Le.nmcall=Le.ninvoke=function(Oe,Fe){var ut=b(arguments,2),It=Pe();return ut.push(It.makeNodeResolver()),Le(Oe).dispatch("post",[Fe,ut]).fail(It.reject),It.promise},dt.prototype.nsend=dt.prototype.nmcall=dt.prototype.ninvoke=function(Oe){var Fe=b(arguments,1),ut=Pe();return Fe.push(ut.makeNodeResolver()),this.dispatch("post",[Oe,Fe]).fail(ut.reject),ut.promise},Le.nodeify=function(Oe,Fe){return Le(Oe).nodeify(Fe)},dt.prototype.nodeify=function(Oe){if(!Oe)return this;this.then(function(Fe){Le.nextTick(function(){Oe(null,Fe)})},function(Fe){Le.nextTick(function(){Oe(Fe)})})},Le.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var jt=Ee();return Le})},3336:(V,k,L)=>{"use strict";L.d(k,{y:()=>x});var l=L(5463),A=L(7714),j=L(4585),I=L(9173);function b(U){return 0===U.length?I.y:1===U.length?U[0]:function(ce){return U.reduce((be,te)=>te(be),ce)}}var v=L(9057),w=L(2971),T=L(2309);class x{constructor(Y){Y&&(this._subscribe=Y)}lift(Y){const ce=new x;return ce.source=this,ce.operator=Y,ce}subscribe(Y,ce,be){const te=(U=Y)&&U instanceof l.Lv||function(U){return U&&(0,w.m)(U.next)&&(0,w.m)(U.error)&&(0,w.m)(U.complete)}(U)&&(0,A.Nn)(U)?Y:new l.Hp(Y,ce,be);var U;return(0,T.x)(()=>{const{operator:ae,source:_e}=this;te.add(ae?ae.call(te,_e):_e?this._subscribe(te):this._trySubscribe(te))}),te}_trySubscribe(Y){try{return this._subscribe(Y)}catch(ce){Y.error(ce)}}forEach(Y,ce){return new(ce=S(ce))((be,te)=>{let ae;ae=this.subscribe(_e=>{try{Y(_e)}catch(Te){te(Te),null==ae||ae.unsubscribe()}},te,be)})}_subscribe(Y){var ce;return null===(ce=this.source)||void 0===ce?void 0:ce.subscribe(Y)}[j.L](){return this}pipe(...Y){return b(Y)(this)}toPromise(Y){return new(Y=S(Y))((ce,be)=>{let te;this.subscribe(ae=>te=ae,ae=>be(ae),()=>ce(te))})}}function S(U){var Y;return null!==(Y=null!=U?U:v.v.Promise)&&void 0!==Y?Y:Promise}x.create=U=>new x(U)},253:(V,k,L)=>{"use strict";L.d(k,{x:()=>v});var l=L(3336),A=L(7714);const I=(0,L(7543).d)(T=>function(){T(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var m=L(9663),b=L(2309);class v extends l.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(x){const S=new w(this,this);return S.operator=x,S}_throwIfClosed(){if(this.closed)throw new I}next(x){(0,b.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const S=this.observers.slice();for(const N of S)N.next(x)}})}error(x){(0,b.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=x;const{observers:S}=this;for(;S.length;)S.shift().error(x)}})}complete(){(0,b.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:x}=this;for(;x.length;)x.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var x;return(null===(x=this.observers)||void 0===x?void 0:x.length)>0}_trySubscribe(x){return this._throwIfClosed(),super._trySubscribe(x)}_subscribe(x){return this._throwIfClosed(),this._checkFinalizedStatuses(x),this._innerSubscribe(x)}_innerSubscribe(x){const{hasError:S,isStopped:N,observers:F}=this;return S||N?A.Lc:(F.push(x),new A.w0(()=>(0,m.P)(F,x)))}_checkFinalizedStatuses(x){const{hasError:S,thrownError:N,isStopped:F}=this;S?x.error(N):F&&x.complete()}asObservable(){const x=new l.y;return x.source=this,x}}v.create=(T,x)=>new w(T,x);class w extends v{constructor(x,S){super(),this.destination=x,this.source=S}next(x){var S,N;null===(N=null===(S=this.destination)||void 0===S?void 0:S.next)||void 0===N||N.call(S,x)}error(x){var S,N;null===(N=null===(S=this.destination)||void 0===S?void 0:S.error)||void 0===N||N.call(S,x)}complete(){var x,S;null===(S=null===(x=this.destination)||void 0===x?void 0:x.complete)||void 0===S||S.call(x)}_subscribe(x){var S,N;return null!==(N=null===(S=this.source)||void 0===S?void 0:S.subscribe(x))&&void 0!==N?N:A.Lc}}},5463:(V,k,L)=>{"use strict";L.d(k,{Hp:()=>F,Lv:()=>N});var l=L(2971),A=L(7714),j=L(9057),I=L(4709),m=L(9635);const b=T("C",void 0,void 0);function T(te,ae,_e){return{kind:te,value:ae,error:_e}}var x=L(3542),S=L(2309);class N extends A.w0{constructor(ae){super(),this.isStopped=!1,ae?(this.destination=ae,(0,A.Nn)(ae)&&ae.add(this)):this.destination=be}static create(ae,_e,Te){return new F(ae,_e,Te)}next(ae){this.isStopped?ce(T("N",ae,void 0),this):this._next(ae)}error(ae){this.isStopped?ce(T("E",void 0,ae),this):(this.isStopped=!0,this._error(ae))}complete(){this.isStopped?ce(b,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ae){this.destination.next(ae)}_error(ae){try{this.destination.error(ae)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class F extends N{constructor(ae,_e,Te){let Re;if(super(),(0,l.m)(ae))Re=ae;else if(ae){let G;({next:Re,error:_e,complete:Te}=ae),this&&j.v.useDeprecatedNextContext?(G=Object.create(ae),G.unsubscribe=()=>this.unsubscribe()):G=ae,Re=null==Re?void 0:Re.bind(G),_e=null==_e?void 0:_e.bind(G),Te=null==Te?void 0:Te.bind(G)}this.destination={next:Re?U(Re,this):m.Z,error:U(null!=_e?_e:Y,this),complete:Te?U(Te,this):m.Z}}}function U(te,ae){return(..._e)=>{try{te(..._e)}catch(Te){j.v.useDeprecatedSynchronousErrorHandling?(0,S.O)(Te):(0,I.h)(Te)}}}function Y(te){throw te}function ce(te,ae){const{onStoppedNotification:_e}=j.v;_e&&x.z.setTimeout(()=>_e(te,ae))}const be={closed:!0,next:m.Z,error:Y,complete:m.Z}},7714:(V,k,L)=>{"use strict";L.d(k,{Lc:()=>b,w0:()=>m,Nn:()=>v});var l=L(2971);const j=(0,L(7543).d)(T=>function(S){T(this),this.message=S?`${S.length} errors occurred during unsubscription:\n${S.map((N,F)=>`${F+1}) ${N.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=S});var I=L(9663);class m{constructor(x){this.initialTeardown=x,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let x;if(!this.closed){this.closed=!0;const{_parentage:S}=this;if(S)if(this._parentage=null,Array.isArray(S))for(const U of S)U.remove(this);else S.remove(this);const{initialTeardown:N}=this;if((0,l.m)(N))try{N()}catch(U){x=U instanceof j?U.errors:[U]}const{_teardowns:F}=this;if(F){this._teardowns=null;for(const U of F)try{w(U)}catch(Y){x=null!=x?x:[],Y instanceof j?x=[...x,...Y.errors]:x.push(Y)}}if(x)throw new j(x)}}add(x){var S;if(x&&x!==this)if(this.closed)w(x);else{if(x instanceof m){if(x.closed||x._hasParent(this))return;x._addParent(this)}(this._teardowns=null!==(S=this._teardowns)&&void 0!==S?S:[]).push(x)}}_hasParent(x){const{_parentage:S}=this;return S===x||Array.isArray(S)&&S.includes(x)}_addParent(x){const{_parentage:S}=this;this._parentage=Array.isArray(S)?(S.push(x),S):S?[S,x]:x}_removeParent(x){const{_parentage:S}=this;S===x?this._parentage=null:Array.isArray(S)&&(0,I.P)(S,x)}remove(x){const{_teardowns:S}=this;S&&(0,I.P)(S,x),x instanceof m&&x._removeParent(this)}}m.EMPTY=(()=>{const T=new m;return T.closed=!0,T})();const b=m.EMPTY;function v(T){return T instanceof m||T&&"closed"in T&&(0,l.m)(T.remove)&&(0,l.m)(T.add)&&(0,l.m)(T.unsubscribe)}function w(T){(0,l.m)(T)?T():T.unsubscribe()}},9057:(V,k,L)=>{"use strict";L.d(k,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9319:(V,k,L)=>{"use strict";L.d(k,{z:()=>m});var l=L(1308);var j=L(420),I=L(2957);function m(...b){return(0,l.J)(1)((0,I.D)(b,(0,j.yG)(b)))}},1954:(V,k,L)=>{"use strict";L.d(k,{P:()=>j});var l=L(3336),A=L(4987);function j(I){return new l.y(m=>{(0,A.Xf)(I()).subscribe(m)})}},591:(V,k,L)=>{"use strict";L.d(k,{E:()=>A});const A=new(L(3336).y)(m=>m.complete())},1640:(V,k,L)=>{"use strict";L.d(k,{D:()=>w});var l=L(3336),A=L(5756),j=L(4987),I=L(420),m=L(3945),b=L(8385),v=L(1054);function w(...T){const x=(0,I.jO)(T),{args:S,keys:N}=(0,A.D)(T),F=new l.y(U=>{const{length:Y}=S;if(!Y)return void U.complete();const ce=new Array(Y);let be=Y,te=Y;for(let ae=0;ae<Y;ae++){let _e=!1;(0,j.Xf)(S[ae]).subscribe(new m.Q(U,Te=>{_e||(_e=!0,te--),ce[ae]=Te},()=>be--,void 0,()=>{(!be||!_e)&&(te||U.next(N?(0,v.n)(N,ce):ce),U.complete())}))}});return x?F.pipe((0,b.Z)(x)):F}},2957:(V,k,L)=>{"use strict";L.d(k,{D:()=>Ee});var l=L(4987),A=L(1817),j=L(1944),I=L(3945);function m(Ie,Le=0){return(0,j.e)((ne,Pe)=>{ne.subscribe(new I.Q(Pe,He=>(0,A.f)(Pe,Ie,()=>Pe.next(He),Le),()=>(0,A.f)(Pe,Ie,()=>Pe.complete(),Le),He=>(0,A.f)(Pe,Ie,()=>Pe.error(He),Le)))})}function b(Ie,Le=0){return(0,j.e)((ne,Pe)=>{Pe.add(Ie.schedule(()=>ne.subscribe(Pe),Le))})}var T=L(3336);var S=L(7321),N=L(2971);function U(Ie,Le){if(!Ie)throw new Error("Iterable cannot be null");return new T.y(ne=>{(0,A.f)(ne,Le,()=>{const Pe=Ie[Symbol.asyncIterator]();(0,A.f)(ne,Le,()=>{Pe.next().then(He=>{He.done?ne.complete():ne.next(He.value)})},0,!0)})})}var Y=L(1331),ce=L(9548),be=L(9806),te=L(3433),ae=L(470),_e=L(7785),Te=L(181);function G(Ie,Le){if(null!=Ie){if((0,Y.c)(Ie))return function(Ie,Le){return(0,l.Xf)(Ie).pipe(b(Le),m(Le))}(Ie,Le);if((0,be.z)(Ie))return function(Ie,Le){return new T.y(ne=>{let Pe=0;return Le.schedule(function(){Pe===Ie.length?ne.complete():(ne.next(Ie[Pe++]),ne.closed||this.schedule())})})}(Ie,Le);if((0,ce.t)(Ie))return function(Ie,Le){return(0,l.Xf)(Ie).pipe(b(Le),m(Le))}(Ie,Le);if((0,ae.D)(Ie))return U(Ie,Le);if((0,te.T)(Ie))return function(Ie,Le){return new T.y(ne=>{let Pe;return(0,A.f)(ne,Le,()=>{Pe=Ie[S.h](),(0,A.f)(ne,Le,()=>{let He,ze;try{({value:He,done:ze}=Pe.next())}catch(dt){return void ne.error(dt)}ze?ne.complete():ne.next(He)},0,!0)}),()=>(0,N.m)(null==Pe?void 0:Pe.return)&&Pe.return()})}(Ie,Le);if((0,Te.L)(Ie))return function(Ie,Le){return U((0,Te.Q)(Ie),Le)}(Ie,Le)}throw(0,_e.z)(Ie)}function Ee(Ie,Le){return Le?G(Ie,Le):(0,l.Xf)(Ie)}},4987:(V,k,L)=>{"use strict";L.d(k,{Xf:()=>F});var l=L(9126),A=L(9806),j=L(9548),I=L(3336),m=L(1331),b=L(470),v=L(7785),w=L(3433),T=L(181),x=L(2971),S=L(4709),N=L(4585);function F(Te){if(Te instanceof I.y)return Te;if(null!=Te){if((0,m.c)(Te))return function(Te){return new I.y(Re=>{const G=Te[N.L]();if((0,x.m)(G.subscribe))return G.subscribe(Re);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Te);if((0,A.z)(Te))return function(Te){return new I.y(Re=>{for(let G=0;G<Te.length&&!Re.closed;G++)Re.next(Te[G]);Re.complete()})}(Te);if((0,j.t)(Te))return function(Te){return new I.y(Re=>{Te.then(G=>{Re.closed||(Re.next(G),Re.complete())},G=>Re.error(G)).then(null,S.h)})}(Te);if((0,b.D)(Te))return te(Te);if((0,w.T)(Te))return function(Te){return new I.y(Re=>{for(const G of Te)if(Re.next(G),Re.closed)return;Re.complete()})}(Te);if((0,T.L)(Te))return function(Te){return te((0,T.Q)(Te))}(Te)}throw(0,v.z)(Te)}function te(Te){return new I.y(Re=>{(function(Te,Re){var G,Ee,Ie,Le;return(0,l.mG)(this,void 0,void 0,function*(){try{for(G=(0,l.KL)(Te);!(Ee=yield G.next()).done;){const ne=Ee.value;if(Re.next(ne),Re.closed)return}}catch(ne){Ie={error:ne}}finally{try{Ee&&!Ee.done&&(Le=G.return)&&(yield Le.call(G))}finally{if(Ie)throw Ie.error}}Re.complete()})})(Te,Re).catch(G=>Re.error(G))})}},6646:(V,k,L)=>{"use strict";L.d(k,{T:()=>b});var l=L(1308),A=L(4987),j=L(591),I=L(420),m=L(2957);function b(...v){const w=(0,I.yG)(v),T=(0,I._6)(v,1/0),x=v;return x.length?1===x.length?(0,A.Xf)(x[0]):(0,l.J)(T)((0,m.D)(x,w)):j.E}},745:(V,k,L)=>{"use strict";L.d(k,{of:()=>j});var l=L(420),A=L(2957);function j(...I){const m=(0,l.yG)(I);return(0,A.D)(I,m)}},3945:(V,k,L)=>{"use strict";L.d(k,{Q:()=>A});var l=L(5463);class A extends l.Lv{constructor(I,m,b,v,w){super(I),this.onFinalize=w,this._next=m?function(T){try{m(T)}catch(x){I.error(x)}}:super._next,this._error=v?function(T){try{v(T)}catch(x){I.error(x)}finally{this.unsubscribe()}}:super._error,this._complete=b?function(){try{b()}catch(T){I.error(T)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var I;const{closed:m}=this;super.unsubscribe(),!m&&(null===(I=this.onFinalize)||void 0===I||I.call(this))}}},3853:(V,k,L)=>{"use strict";L.d(k,{b:()=>j});var l=L(9525),A=L(2971);function j(I,m){return(0,A.m)(m)?(0,l.z)(I,m,1):(0,l.z)(I,1)}},116:(V,k,L)=>{"use strict";L.d(k,{h:()=>j});var l=L(1944),A=L(3945);function j(I,m){return(0,l.e)((b,v)=>{let w=0;b.subscribe(new A.Q(v,T=>I.call(m,T,w++)&&v.next(T)))})}},635:(V,k,L)=>{"use strict";L.d(k,{U:()=>j});var l=L(1944),A=L(3945);function j(I,m){return(0,l.e)((b,v)=>{let w=0;b.subscribe(new A.Q(v,T=>{v.next(I.call(m,T,w++))}))})}},1308:(V,k,L)=>{"use strict";L.d(k,{J:()=>j});var l=L(9525),A=L(9173);function j(I=1/0){return(0,l.z)(A.y,I)}},9525:(V,k,L)=>{"use strict";L.d(k,{z:()=>w});var l=L(635),A=L(4987),j=L(1944),I=L(1817),m=L(3945);var v=L(2971);function w(T,x,S=1/0){return(0,v.m)(x)?w((N,F)=>(0,l.U)((U,Y)=>x(N,U,F,Y))((0,A.Xf)(T(N,F))),S):("number"==typeof x&&(S=x),(0,j.e)((N,F)=>function(T,x,S,N,F,U,Y,ce){const be=[];let te=0,ae=0,_e=!1;const Te=()=>{_e&&!be.length&&!te&&x.complete()},Re=Ee=>te<N?G(Ee):be.push(Ee),G=Ee=>{U&&x.next(Ee),te++;let Ie=!1;(0,A.Xf)(S(Ee,ae++)).subscribe(new m.Q(x,Le=>{null==F||F(Le),U?Re(Le):x.next(Le)},()=>{Ie=!0},void 0,()=>{if(Ie)try{for(te--;be.length&&te<N;){const Le=be.shift();Y?(0,I.f)(x,Y,()=>G(Le)):G(Le)}Te()}catch(Le){x.error(Le)}}))};return T.subscribe(new m.Q(x,Re,()=>{_e=!0,Te()})),()=>{null==ce||ce()}}(N,F,T,S)))}},1203:(V,k,L)=>{"use strict";L.d(k,{B:()=>b});var l=L(2957),A=L(9295),j=L(253),I=L(5463),m=L(1944);function b(w={}){const{connector:T=(()=>new j.x),resetOnError:x=!0,resetOnComplete:S=!0,resetOnRefCountZero:N=!0}=w;return F=>{let U=null,Y=null,ce=null,be=0,te=!1,ae=!1;const _e=()=>{null==Y||Y.unsubscribe(),Y=null},Te=()=>{_e(),U=ce=null,te=ae=!1},Re=()=>{const G=U;Te(),null==G||G.unsubscribe()};return(0,m.e)((G,Ee)=>{be++,!ae&&!te&&_e();const Ie=ce=null!=ce?ce:T();Ee.add(()=>{be--,0===be&&!ae&&!te&&(Y=v(Re,N))}),Ie.subscribe(Ee),U||(U=new I.Hp({next:Le=>Ie.next(Le),error:Le=>{ae=!0,_e(),Y=v(Te,x,Le),Ie.error(Le)},complete:()=>{te=!0,_e(),Y=v(Te,S),Ie.complete()}}),(0,l.D)(G).subscribe(U))})(F)}}function v(w,T,...x){return!0===T?(w(),null):!1===T?null:T(...x).pipe((0,A.q)(1)).subscribe(()=>w())}},4874:(V,k,L)=>{"use strict";L.d(k,{O:()=>I});var l=L(9319),A=L(420),j=L(1944);function I(...m){const b=(0,A.yG)(m);return(0,j.e)((v,w)=>{(b?(0,l.z)(m,v,b):(0,l.z)(m,v)).subscribe(w)})}},2673:(V,k,L)=>{"use strict";L.d(k,{w:()=>I});var l=L(4987),A=L(1944),j=L(3945);function I(m,b){return(0,A.e)((v,w)=>{let T=null,x=0,S=!1;const N=()=>S&&!T&&w.complete();v.subscribe(new j.Q(w,F=>{null==T||T.unsubscribe();let U=0;const Y=x++;(0,l.Xf)(m(F,Y)).subscribe(T=new j.Q(w,ce=>w.next(b?b(F,ce,Y,U++):ce),()=>{T=null,N()}))},()=>{S=!0,N()}))})}},9295:(V,k,L)=>{"use strict";L.d(k,{q:()=>I});var l=L(591),A=L(1944),j=L(3945);function I(m){return m<=0?()=>l.E:(0,A.e)((b,v)=>{let w=0;b.subscribe(new j.Q(v,T=>{++w<=m&&(v.next(T),m<=w&&v.complete())}))})}},8951:(V,k,L)=>{"use strict";L.d(k,{R:()=>m});var l=L(1944),A=L(3945),j=L(4987),I=L(9635);function m(b){return(0,l.e)((v,w)=>{(0,j.Xf)(b).subscribe(new A.Q(w,()=>w.complete(),I.Z)),!w.closed&&v.subscribe(w)})}},9337:(V,k,L)=>{"use strict";L.d(k,{b:()=>m});var l=L(2971),A=L(1944),j=L(3945),I=L(9173);function m(b,v,w){const T=(0,l.m)(b)||v||w?{next:b,error:v,complete:w}:b;return T?(0,A.e)((x,S)=>{var N;null===(N=T.subscribe)||void 0===N||N.call(T);let F=!0;x.subscribe(new j.Q(S,U=>{var Y;null===(Y=T.next)||void 0===Y||Y.call(T,U),S.next(U)},()=>{var U;F=!1,null===(U=T.complete)||void 0===U||U.call(T),S.complete()},U=>{var Y;F=!1,null===(Y=T.error)||void 0===Y||Y.call(T,U),S.error(U)},()=>{var U,Y;F&&(null===(U=T.unsubscribe)||void 0===U||U.call(T)),null===(Y=T.finalize)||void 0===Y||Y.call(T)}))}):I.y}},7654:(V,k,L)=>{"use strict";L.d(k,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3542:(V,k,L)=>{"use strict";L.d(k,{z:()=>l});const l={setTimeout(...A){const{delegate:j}=l;return((null==j?void 0:j.setTimeout)||setTimeout)(...A)},clearTimeout(A){const{delegate:j}=l;return((null==j?void 0:j.clearTimeout)||clearTimeout)(A)},delegate:void 0}},7321:(V,k,L)=>{"use strict";L.d(k,{h:()=>A});const A="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},4585:(V,k,L)=>{"use strict";L.d(k,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},4423:(V,k,L)=>{"use strict";L.d(k,{K:()=>A});const A=(0,L(7543).d)(j=>function(){j(this),this.name="EmptyError",this.message="no elements in sequence"})},420:(V,k,L)=>{"use strict";L.d(k,{jO:()=>I,yG:()=>m,_6:()=>b});var l=L(2971),A=L(9867);function j(v){return v[v.length-1]}function I(v){return(0,l.m)(j(v))?v.pop():void 0}function m(v){return(0,A.K)(j(v))?v.pop():void 0}function b(v,w){return"number"==typeof j(v)?v.pop():w}},5756:(V,k,L)=>{"use strict";L.d(k,{D:()=>m});const{isArray:l}=Array,{getPrototypeOf:A,prototype:j,keys:I}=Object;function m(v){if(1===v.length){const w=v[0];if(l(w))return{args:w,keys:null};if(function(v){return v&&"object"==typeof v&&A(v)===j}(w)){const T=I(w);return{args:T.map(x=>w[x]),keys:T}}}return{args:v,keys:null}}},9663:(V,k,L)=>{"use strict";function l(A,j){if(A){const I=A.indexOf(j);0<=I&&A.splice(I,1)}}L.d(k,{P:()=>l})},7543:(V,k,L)=>{"use strict";function l(A){const I=A(m=>{Error.call(m),m.stack=(new Error).stack});return I.prototype=Object.create(Error.prototype),I.prototype.constructor=I,I}L.d(k,{d:()=>l})},1054:(V,k,L)=>{"use strict";function l(A,j){return A.reduce((I,m,b)=>(I[m]=j[b],I),{})}L.d(k,{n:()=>l})},2309:(V,k,L)=>{"use strict";L.d(k,{x:()=>j,O:()=>I});var l=L(9057);let A=null;function j(m){if(l.v.useDeprecatedSynchronousErrorHandling){const b=!A;if(b&&(A={errorThrown:!1,error:null}),m(),b){const{errorThrown:v,error:w}=A;if(A=null,v)throw w}}else m()}function I(m){l.v.useDeprecatedSynchronousErrorHandling&&A&&(A.errorThrown=!0,A.error=m)}},1817:(V,k,L)=>{"use strict";function l(A,j,I,m=0,b=!1){const v=j.schedule(function(){I(),b?A.add(this.schedule(null,m)):this.unsubscribe()},m);if(A.add(v),!b)return v}L.d(k,{f:()=>l})},9173:(V,k,L)=>{"use strict";function l(A){return A}L.d(k,{y:()=>l})},9806:(V,k,L)=>{"use strict";L.d(k,{z:()=>l});const l=A=>A&&"number"==typeof A.length&&"function"!=typeof A},470:(V,k,L)=>{"use strict";L.d(k,{D:()=>A});var l=L(2971);function A(j){return Symbol.asyncIterator&&(0,l.m)(null==j?void 0:j[Symbol.asyncIterator])}},2971:(V,k,L)=>{"use strict";function l(A){return"function"==typeof A}L.d(k,{m:()=>l})},1331:(V,k,L)=>{"use strict";L.d(k,{c:()=>j});var l=L(4585),A=L(2971);function j(I){return(0,A.m)(I[l.L])}},3433:(V,k,L)=>{"use strict";L.d(k,{T:()=>j});var l=L(7321),A=L(2971);function j(I){return(0,A.m)(null==I?void 0:I[l.h])}},4437:(V,k,L)=>{"use strict";L.d(k,{b:()=>j});var l=L(3336),A=L(2971);function j(I){return!!I&&(I instanceof l.y||(0,A.m)(I.lift)&&(0,A.m)(I.subscribe))}},9548:(V,k,L)=>{"use strict";L.d(k,{t:()=>A});var l=L(2971);function A(j){return(0,l.m)(null==j?void 0:j.then)}},181:(V,k,L)=>{"use strict";L.d(k,{Q:()=>j,L:()=>I});var l=L(9126),A=L(2971);function j(m){return(0,l.FC)(this,arguments,function*(){const v=m.getReader();try{for(;;){const{value:w,done:T}=yield(0,l.qq)(v.read());if(T)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(w)}}finally{v.releaseLock()}})}function I(m){return(0,A.m)(null==m?void 0:m.getReader)}},9867:(V,k,L)=>{"use strict";L.d(k,{K:()=>A});var l=L(2971);function A(j){return j&&(0,l.m)(j.schedule)}},1944:(V,k,L)=>{"use strict";L.d(k,{A:()=>A,e:()=>j});var l=L(2971);function A(I){return(0,l.m)(null==I?void 0:I.lift)}function j(I){return m=>{if(A(m))return m.lift(function(b){try{return I(b,this)}catch(v){this.error(v)}});throw new TypeError("Unable to lift unknown Observable type")}}},8385:(V,k,L)=>{"use strict";L.d(k,{Z:()=>I});var l=L(635);const{isArray:A}=Array;function I(m){return(0,l.U)(b=>function(m,b){return A(b)?m(...b):m(b)}(m,b))}},9635:(V,k,L)=>{"use strict";function l(){}L.d(k,{Z:()=>l})},4709:(V,k,L)=>{"use strict";L.d(k,{h:()=>j});var l=L(9057),A=L(3542);function j(I){A.z.setTimeout(()=>{const{onUnhandledError:m}=l.v;if(!m)throw I;m(I)})}},7785:(V,k,L)=>{"use strict";function l(A){return new TypeError(`You provided ${null!==A&&"object"==typeof A?"an invalid object":`'${A}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(k,{z:()=>l})},6568:()=>{!function(V){V.fn.drag=function(j,I,m){var b="string"==typeof j?j:"",v=V.isFunction(j)?j:V.isFunction(I)?I:null;return 0!==b.indexOf("drag")&&(b="drag"+b),m=(j==v?I:m)||{},v?this.on(b,m,v):this.trigger(b)};var k=V.event,L=k.special,l=L.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",noBubble:!0,add:function(j){var I=V.data(this,l.datakey),m=j.data||{};I.related+=1,V.each(l.defaults,function(b,v){void 0!==m[b]&&(I[b]=m[b])})},remove:function(){var j=V.data(this,l.datakey);j&&(j.related-=1)},setup:function(){if(!V.data(this,l.datakey)){var j=V.extend({related:0},l.defaults);V.data(this,l.datakey,j),k.add(this,"touchstart mousedown",l.init,j),this.attachEvent&&this.attachEvent("ondragstart",l.dontstart)}},teardown:function(){(V.data(this,l.datakey)||{}).related||(V.removeData(this,l.datakey),k.remove(this,"touchstart mousedown",l.init),l.textselect(!0),this.detachEvent&&this.detachEvent("ondragstart",l.dontstart))},init:function(j){if(!l.touched){var m,I=j.data;if(!(0!=j.which&&I.which>0&&j.which!=I.which)){var b=V(j.target).attr("class")||"";if(!V(j.target).is(I.not)&&b&&-1!==b.toString().indexOf("slick")&&(!I.handle||V(j.target).closest(I.handle,j.currentTarget).length)&&(l.touched="touchstart"==j.type?this:null,I.propagates=1,I.mousedown=this,I.interactions=[l.interaction(this,I)],I.target=j.target,I.pageX=j.pageX,I.pageY=j.pageY,I.dragging=null,m=l.hijack(j,"draginit",I),I.propagates&&((m=l.flatten(m))&&m.length&&(I.interactions=[],V.each(m,function(){I.interactions.push(l.interaction(this,I))})),I.propagates=I.interactions.length,!1!==I.drop&&L.drop&&L.drop.handler(j,I),l.textselect(!1),l.touched?k.add(l.touched,"touchmove touchend",l.handler,I):k.add(document,"mousemove mouseup",l.handler,I),!l.touched||I.live)))return!1}}},interaction:function(j,I){var m=j&&j.ownerDocument&&V(j)[I.relative?"position":"offset"]()||{top:0,left:0};return{drag:j,callback:new l.callback,droppable:[],offset:m}},handler:function(j){var I=j.data;switch(j.type){case!I.dragging&&"touchmove":j.preventDefault();case!I.dragging&&"mousemove":if(Math.pow(j.pageX-I.pageX,2)+Math.pow(j.pageY-I.pageY,2)<Math.pow(I.distance,2))break;j.target=I.target,l.hijack(j,"dragstart",I),I.propagates&&(I.dragging=!0);case"touchmove":j.preventDefault();case"mousemove":if(I.dragging){if(l.hijack(j,"drag",I),I.propagates){!1!==I.drop&&L.drop&&L.drop.handler(j,I);break}j.type="mouseup"}default:l.touched?k.remove(l.touched,"touchmove touchend",l.handler):k.remove(document,"mousemove mouseup",l.handler),I.dragging&&(!1!==I.drop&&L.drop&&L.drop.handler(j,I),l.hijack(j,"dragend",I)),l.textselect(!0),!1===I.click&&I.dragging&&V.data(I.mousedown,"suppress.click",(new Date).getTime()+5),I.dragging=l.touched=!1}},hijack:function(j,I,m,b,v){if(m){var x,N,U,w={event:j.originalEvent,type:j.type},T=I.indexOf("drop")?"drag":"drop",S=b||0,Y=isNaN(b)?m.interactions.length:b;j.type=I;var ce=function(){};j.originalEvent=new jQuery.Event(w.event,{preventDefault:ce,stopPropagation:ce,stopImmediatePropagation:ce}),m.results=[];do{if(N=m.interactions[S]){if("dragend"!==I&&N.cancelled)continue;U=l.properties(j,m,N),N.results=[],V(v||N[T]||m.droppable).each(function(be,te){if(U.target=te,j.isPropagationStopped=function(){return!1},!1===(x=te?k.dispatch.call(te,j,U):null)?("drag"==T&&(N.cancelled=!0,m.propagates-=1),"drop"==I&&(N[T][be]=null)):"dropinit"==I&&N.droppable.push(l.element(x)||te),"dragstart"==I&&(N.proxy=V(l.element(x)||N.drag)[0]),N.results.push(x),delete j.result,"dropinit"!==I)return x}),m.results[S]=l.flatten(N.results),"dropinit"==I&&(N.droppable=l.flatten(N.droppable)),"dragstart"==I&&!N.cancelled&&U.update()}}while(++S<Y);return j.type=w.type,j.originalEvent=w.event,l.flatten(m.results)}},properties:function(j,I,m){var b=m.callback;return b.drag=m.drag,b.proxy=m.proxy||m.drag,b.startX=I.pageX,b.startY=I.pageY,b.deltaX=j.pageX-I.pageX,b.deltaY=j.pageY-I.pageY,b.originalX=m.offset.left,b.originalY=m.offset.top,b.offsetX=b.originalX+b.deltaX,b.offsetY=b.originalY+b.deltaY,b.drop=l.flatten((m.drop||[]).slice()),b.available=l.flatten((m.droppable||[]).slice()),b},element:function(j){if(j&&(j.jquery||1==j.nodeType))return j},flatten:function(j){return V.map(j,function(I){return I&&I.jquery?V.makeArray(I):I&&I.length?l.flatten(I):I})},textselect:function(j){V(document)[j?"off":"on"]("selectstart",l.dontstart).css("MozUserSelect",j?"":"none"),document.unselectable=j?"off":"on"},dontstart:function(){return!1},callback:function(){}};l.callback.prototype={update:function(){L.drop&&this.available.length&&V.each(this.available,function(j){L.drop.locate(this,j)})}};var A=k.dispatch;k.dispatch=function(j){if(!(V.data(this,"suppress."+j.type)-(new Date).getTime()>0))return A.apply(this,arguments);V.removeData(this,"suppress."+j.type)},L.draginit=L.dragstart=L.dragend=l}(jQuery)},8463:()=>{!function(V){function k(){}function L(He){Ie=[He]}function l(He,ze,dt){return He&&He.apply&&He.apply(ze.context||ze,dt)}function A(He){return/\?/.test(He)?"&":"?"}function j(He){function ze(St){Dn++||(fi(),Ft&&(G[nn]={s:[St]}),Pt&&(St=Pt.apply(He,[St])),l(nt,He,[St,te,He]),l(wt,He,[He,te]))}function dt(St){Dn++||(fi(),Ft&&St!=ae&&(G[nn]=St),l(kt,He,[He,St]),l(wt,He,[He,St]))}var On,Dt,qe,We,_t,nt=(He=V.extend({},Le,He)).success,kt=He.error,wt=He.complete,Pt=He.dataFilter,en=He.callbackParameter,Nt=He.callback,je=He.cache,Ft=He.pageCache,sn=He.charset,nn=He.url,zt=He.data,an=He.timeout,Dn=0,fi=k;return Te&&Te(function(St){St.done(nt).fail(kt),nt=St.resolve,kt=St.reject}).promise(He),He.abort=function(){!Dn++&&fi()},!1===l(He.beforeSend,He,[He])||Dn||(nn=nn||b,zt=zt?"string"==typeof zt?zt:V.param(zt,He.traditional):b,nn+=zt?A(nn)+zt:b,en&&(nn+=A(nn)+encodeURIComponent(en)+"=?"),!je&&!Ft&&(nn+=A(nn)+"_"+(new Date).getTime()+"="),nn=nn.replace(/=\?(&|$)/,"="+Nt+"$1"),Ft&&(On=G[nn])?On.s?ze(On.s[0]):dt(On):(_e[Nt]=L,(qe=V(be)[0]).id=T+Ee++,sn&&(qe[m]=sn),ne&&ne.version()<11.6?(We=V(be)[0]).text="document.getElementById('"+qe.id+"')."+N+"()":qe[I]=I,Pe&&(qe.htmlFor=qe.id,qe.event=S),qe[F]=qe[N]=qe[U]=function(St){if(!qe[Y]||!/i/.test(qe[Y])){try{qe[S]&&qe[S]()}catch(Ht){}St=Ie,Ie=0,St?ze(St[0]):dt(v)}},qe.src=nn,fi=function(St){_t&&clearTimeout(_t),qe[U]=qe[F]=qe[N]=null,Re[ce](qe),We&&Re[ce](We)},Re[w](qe,Dt=Re.firstChild),We&&Re[w](We,Dt),_t=an>0&&setTimeout(function(){dt(ae)},an))),He}var Ie,I="async",m="charset",b="",v="error",w="insertBefore",T="_jqjsp",x="on",S="onclick",N=x+v,F="onload",U="onreadystatechange",Y="readyState",ce="removeChild",be="<script>",te="success",ae="timeout",_e=window,Te=V.Deferred,Re=V("head")[0]||document.documentElement,G={},Ee=0,Le={callback:T,url:location.href},ne=_e.opera,Pe=!!V("<div>").html("\x3c!--[if IE]><i><![endif]--\x3e").find("i").length;j.setup=function(He){V.extend(Le,He)},V.jsonp=j}(jQuery)},9348:()=>{!function(V){var k=["DOMMouseScroll","mousewheel"];if(V.event.fixHooks)for(var L=k.length;L;)V.event.fixHooks[k[--L]]=V.event.mouseHooks;function l(A){var j=A||window.event,I=[].slice.call(arguments,1),m=0,v=0,w=0;return(A=V.event.fix(j)).type="mousewheel",j.wheelDelta&&(m=j.wheelDelta/120),j.detail&&(m=-j.detail/3),w=m,void 0!==j.axis&&j.axis===j.HORIZONTAL_AXIS&&(w=0,v=-1*m),void 0!==j.wheelDeltaY&&(w=j.wheelDeltaY/120),void 0!==j.wheelDeltaX&&(v=-1*j.wheelDeltaX/120),I.unshift(A,m,v,w),(V.event.dispatch||V.event.handle).apply(this,I)}V.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var A=k.length;A;)this.addEventListener(k[--A],l,!1);else this.onmousewheel=l},teardown:function(){if(this.removeEventListener)for(var A=k.length;A;)this.removeEventListener(k[--A],l,!1);else this.onmousewheel=null}},V.fn.extend({mousewheel:function(A){return A?this.bind("mousewheel",A):this.trigger("mousewheel")},unmousewheel:function(A){return this.unbind("mousewheel",A)}})}(jQuery)},8706:()=>{var V;(V=jQuery).extend(!0,window,{Slick:{Plugins:{RowDetailView:function(L){var l,A,j,I,m="id",b=null,v=this,w=null,T=[],x=new Slick.EventHandler,N=0,F={columnId:"_detail_selector",cssClass:"detailView-toggle",expandedClass:null,collapsedClass:null,keyPrefix:"_",loadOnce:!1,collapseAllOnSort:!0,saveDetailViewOnScroll:!0,singleRowExpand:!1,useSimpleViewportCalc:!1,alwaysRenderColumn:!0,toolTip:"",width:30,maxRows:null},U=F.keyPrefix,Y=0,ce=[],be=V.extend(!0,{},F,L);function Re(ge,$t){if(ge)for(var Dt=0;Dt<ge.length;Dt++)if(ge[Dt]===$t)return Dt;return-1}function G(ge,$t){var Dt=l.getDataItem($t.row);if(Dn($t.row,Dt,l)&&(be.useRowClick||l.getColumns()[$t.cell].id===be.columnId&&V(ge.target).hasClass(be.cssClass))){if(l.getEditorLock().isActive()&&!l.getEditorLock().commitCurrentEdit())return ge.preventDefault(),void ge.stopImmediatePropagation();v.onBeforeRowDetailToggle.notify({grid:l,item:Dt},ge,v),function(ge,$t){!Dn(ge,$t,l)||(I.beginUpdate(),function(ge){ge&&(ge[U+"collapsed"]?wt(ge):kt(ge))}($t),I.endUpdate())}($t.row,Dt),v.onAfterRowDetailToggle.notify({grid:l,item:Dt,expandedRows:T},ge,v),ge.stopPropagation(),ge.stopImmediatePropagation()}}function Ee(ge,$t){be.useSimpleViewportCalc?function(){if(l){var ge=l.getRenderedRange();T.forEach(function($t){var qe=function(ge,$t){return Math.abs($t.bottom-Y-ge)>2*N}(I.getRowById($t[m]),ge);!qe&&Re(ce,$t[m])>=0?He($t,$t[m]):qe&&Pe($t,$t[m])})}}():function(){if(l){var ge=l.getRenderedRange();if(T.length>0){var $t="DOWN";if(w){if(w.top===ge.top&&w.bottom===ge.bottom)return;(w.top>ge.top||0===w.top&&0===ge.top&&w.bottom>ge.bottom)&&($t="UP")}}T.forEach(function(Dt){var qe=I.getRowById(Dt[m]),We=Dt[U+"sizePadding"],_t=Re(ce,Dt[m])>=0;"UP"===$t?(be.saveDetailViewOnScroll&&qe>=ge.bottom-Y&&Pt(Dt),_t&&qe-5<ge.top&&qe>=ge.top?He(Dt,Dt[m]):!_t&&qe+We>ge.bottom&&Pe(Dt,Dt[m])):"DOWN"===$t&&(be.saveDetailViewOnScroll&&qe<=ge.top+Y&&Pt(Dt),_t&&qe+We+5>ge.bottom&&qe<qe+We?He(Dt,Dt[m]):!_t&&qe<ge.top&&Pe(Dt,Dt[m]))}),w=ge}}()}function Pe(ge,$t){var Dt=ge.rowIndex||I.getRowById(ge[m]);v.onRowOutOfViewportRange.notify({grid:l,item:ge,rowId:$t,rowIndex:Dt,expandedRows:T,rowIdsOutOfViewport:ze($t,!0)},null,v)}function He(ge,$t){var Dt=ge.rowIndex||I.getRowById(ge[m]);setTimeout(function(){V(".cellDetailView_"+ge[m]).length&&v.onRowBackToViewportRange.notify({grid:l,item:ge,rowId:$t,rowIndex:Dt,expandedRows:T,rowIdsOutOfViewport:ze($t,!1)},null,v)},100)}function ze(ge,$t){var Dt=Re(ce,ge);return $t&&Dt<0?ce.push(ge):!$t&&Dt>=0&&ce.splice(Dt,1),ce}function nt(){I.beginUpdate();for(var ge=T.length-1;ge>=0;ge--)kt(T[ge],!0);I.endUpdate()}function kt(ge,$t){$t||I.beginUpdate(),be.loadOnce&&Pt(ge),ge[U+"collapsed"]=!0;for(var Dt=1;Dt<=ge[U+"sizePadding"];Dt++)I.deleteItem(ge[m]+"."+Dt);ge[U+"sizePadding"]=0,I.updateItem(ge[m],ge),T=T.filter(function(qe){return qe[m]!==ge[m]}),$t||I.endUpdate()}function wt(ge){if(be&&be.singleRowExpand&&nt(),ge[U+"collapsed"]=!1,T.push(ge),ge[U+"detailContent"]||(ge[U+"detailViewLoaded"]=!1),ge[U+"detailViewLoaded"]&&!0===be.loadOnce)return v.onAsyncResponse.notify({item:ge,itemDetail:ge,detailView:ge[U+"detailContent"]},void 0,this),Ft(ge),void I.updateItem(ge[m],ge);ge[U+"detailContent"]=be.preTemplate(ge),Ft(ge),I.updateItem(ge[m],ge),be.process(ge)}function Pt(ge){if(V("."+j+" .innerDetailView_"+ge[m])){var Dt=V("."+j+" .innerDetailView_"+ge[m]).html();void 0!==Dt&&(ge[U+"detailContent"]=Dt)}}"function"==typeof be.expandableOverride&&fi(be.expandableOverride);var je=function(ge,$t){var Dt={};for(var qe in l.getData())Dt[qe]=null;return Dt[m]=ge[m]+"."+$t,Dt[U+"collapsed"]=!0,Dt[U+"isPadding"]=!0,Dt[U+"parent"]=ge,Dt[U+"offset"]=$t,Dt};function Ft(ge){var $t=be.panelRows;ge[U+"sizePadding"]=Math.ceil(2*$t*13/A.rowHeight),ge[U+"height"]=ge[U+"sizePadding"]*A.rowHeight;for(var qe=I.getIdxById(ge[m]),We=1;We<=ge[U+"sizePadding"];We++)I.insertItem(qe+We,je(ge,We))}function zt(ge,$t,Dt,qe,We,_t){if(!Dn(ge,We,_t))return null;if(null==We[U+"collapsed"]&&(We[U+"collapsed"]=!0,We[U+"sizePadding"]=0,We[U+"height"]=0,We[U+"isPadding"]=!1,We[U+"parent"]=void 0,We[U+"offset"]=0),!We[U+"isPadding"]){if(We[U+"collapsed"]){var St=be.cssClass+" expand ";return be.collapsedClass&&(St+=be.collapsedClass),'<div class="'+St+'"></div>'}var Ht=[],Mt=A.rowHeight,ee=We[U+"sizePadding"]*A.rowHeight;null!==be.maxRows&&We[U+"sizePadding"]>be.maxRows&&(ee=be.maxRows*Mt,We[U+"sizePadding"]=be.maxRows);var pe=be.cssClass+" collapse ";return be.expandedClass&&(pe+=be.expandedClass),Ht.push('<div class="'+pe+'"></div></div>'),Ht.push('<div class="dynamic-cell-detail cellDetailView_',We[m],'" '),Ht.push('style="height:',ee,"px;"),Ht.push("top:",Mt,'px">'),Ht.push('<div class="detail-container detailViewContainer_',We[m],'">'),Ht.push('<div class="innerDetailView_',We[m],'">',We[U+"detailContent"],"</div></div>"),Ht.join("")}return null}function Dn(ge,$t,Dt){return"function"!=typeof b||b(ge,$t,Dt)}function fi(ge){b=ge}V.extend(this,{init:function(ge){if(!ge)throw new Error('RowDetailView Plugin requires the Grid instance to be passed as argument to the "init()" method');l=ge,j=ge.getUID(),A=ge.getOptions()||{},I=l.getData(),U=be&&be.keyPrefix||"_",Y=l.getOptions().minRowBuffer,l.getOptions().minRowBuffer=be.panelRows+3,x.subscribe(l.onClick,G).subscribe(l.onScroll,Ee),be.collapseAllOnSort&&(x.subscribe(l.onSort,nt),T=[],ce=[]),x.subscribe(l.getData().onRowCountChanged,function(){l.updateRowCount(),l.render()}),x.subscribe(l.getData().onRowsChanged,function($t,Dt){l.invalidateRows(Dt.rows),l.render()}),v.onAsyncResponse.subscribe(function(ge,$t){if(!$t||!$t.item&&!$t.itemDetail)throw'Slick.RowDetailView plugin requires the onAsyncResponse() to supply "args.item" property.';var Dt=$t.item||$t.itemDetail;$t.detailView?Dt[U+"detailContent"]=$t.detailView:Dt[U+"detailContent"]=be.postTemplate(Dt),Dt[U+"detailViewLoaded"]=!0,I.updateItem(Dt[m],Dt),v.onAsyncEndUpdate.notify({grid:l,item:Dt,itemDetail:Dt},ge,v)}),x.subscribe(I.onSetItemsCalled,function($t,Dt){m=I&&I.getIdPropertyName()||"id"}),be.useSimpleViewportCalc&&x.subscribe(l.onRendered,function($t,Dt){Dt&&Dt.endRow&&(N=Dt.endRow-Dt.startRow)})},destroy:function(){x.unsubscribeAll(),v.onAsyncResponse.unsubscribe(),v.onAsyncEndUpdate.unsubscribe(),v.onAfterRowDetailToggle.unsubscribe(),v.onBeforeRowDetailToggle.unsubscribe(),v.onRowOutOfViewportRange.unsubscribe(),v.onRowBackToViewportRange.unsubscribe()},pluginName:"RowDetailView",collapseAll:nt,collapseDetailView:kt,expandDetailView:wt,expandableOverride:fi,getColumnDefinition:function(){return{id:be.columnId,name:"",toolTip:be.toolTip,field:"sel",width:be.width,resizable:!1,sortable:!1,alwaysRenderColumn:be.alwaysRenderColumn,cssClass:be.cssClass,formatter:zt}},getExpandedRows:function(){return T},getFilterItem:function(ge){return ge[U+"isPadding"]&&ge[U+"parent"]&&(ge=ge[U+"parent"]),ge},getOptions:function(){return be},resizeDetailView:function(ge){if(ge){var $t=document.querySelector("."+j+" .detailViewContainer_"+ge[m]),Dt=document.querySelector("."+j+" .cellDetailView_"+ge[m]),qe=document.querySelector("."+j+" .innerDetailView_"+ge[m]);if($t&&Dt&&qe){for(var We=1;We<=ge[U+"sizePadding"];We++)I.deleteItem(ge[m]+"."+We);var _t=A.rowHeight;$t.style.minHeight=null;var Ht=$t.scrollHeight,Mt=Math.ceil(Ht/_t);ge[U+"sizePadding"]=Math.ceil(2*Mt*13/_t),ge[U+"height"]=Ht;var ee=ge[U+"sizePadding"]*_t;null!==be.maxRows&&ge[U+"sizePadding"]>be.maxRows&&(ee=be.maxRows*_t,ge[U+"sizePadding"]=be.maxRows),l.getOptions().minRowBuffer<ge[U+"sizePadding"]&&(l.getOptions().minRowBuffer=ge[U+"sizePadding"]+3),$t.setAttribute("style","min-height: "+ge[U+"height"]+"px"),Dt&&Dt.setAttribute("style","height: "+ee+"px; top:"+_t+"px");var pe=I.getIdxById(ge[m]);for(We=1;We<=ge[U+"sizePadding"];We++)I.insertItem(pe+We,je(ge,We));Pt(ge)}}},saveDetailView:Pt,setOptions:function(ge){(be=V.extend(!0,{},be,ge))&&be.singleRowExpand&&nt()},onAsyncResponse:new Slick.Event,onAsyncEndUpdate:new Slick.Event,onAfterRowDetailToggle:new Slick.Event,onBeforeRowDetailToggle:new Slick.Event,onRowOutOfViewportRange:new Slick.Event,onRowBackToViewportRange:new Slick.Event})}}}})},8409:()=>{var V;(V=jQuery).extend(!0,window,{Slick:{RowSelectionModel:function(L){var l,m,b,v,A=[],j=this,I=new Slick.EventHandler,w={selectActiveRow:!0,cellRangeSelector:void 0};function S(Ee){return function(){m||(m=!0,Ee.apply(this,arguments),m=!1)}}function N(Ee){for(var Ie=[],Le=0;Le<Ee.length;Le++)for(var ne=Ee[Le].fromRow;ne<=Ee[Le].toRow;ne++)Ie.push(ne);return Ie}function F(Ee){for(var Ie=[],Le=l.getColumns().length-1,ne=0;ne<Ee.length;ne++)Ie.push(new Slick.Range(Ee[ne],0,Ee[ne],Le));return Ie}function Y(){return N(A)}function be(Ee,Ie){if(A&&0!==A.length||Ee&&0!==Ee.length){A=Ee;var Le=new Slick.EventData;Object.defineProperty(Le,"detail",{writable:!0,configurable:!0,value:{caller:Ie||"SlickRowSelectionModel.setSelectedRanges"}}),j.onSelectedRangesChanged.notify(A,Le)}}function ae(Ee,Ie){b.selectActiveRow&&null!=Ie.row&&be([new Slick.Range(Ie.row,0,Ie.row,l.getColumns().length-1)])}function _e(Ee){var Ie=l.getActiveCell();if(l.getOptions().multiSelect&&Ie&&Ee.shiftKey&&!Ee.ctrlKey&&!Ee.altKey&&!Ee.metaKey&&(Ee.which==Slick.keyCode.UP||Ee.which==Slick.keyCode.DOWN)){var Le=Y();Le.sort(function(dt,nt){return dt-nt}),Le.length||(Le=[Ie.row]);var He,ne=Le[0],Pe=Le[Le.length-1];if((He=Ee.which==Slick.keyCode.DOWN?Ie.row<Pe||ne==Pe?++Pe:++ne:Ie.row<Pe?--Pe:--ne)>=0&&He<l.getDataLength()){l.scrollRowIntoView(He);var ze=F(function(Ee,Ie){var Le,ne=[];for(Le=Ee;Le<=Ie;Le++)ne.push(Le);for(Le=Ie;Le<Ee;Le++)ne.push(Le);return ne}(ne,Pe));be(ze)}Ee.preventDefault(),Ee.stopPropagation()}}function Te(Ee){var Ie=l.getCellFromEvent(Ee);if(!(Ie&&l.canCellBeActive(Ie.row,Ie.cell)&&l.getOptions().multiSelect&&(Ee.ctrlKey||Ee.shiftKey||Ee.metaKey)))return!1;var Le=N(A),ne=V.inArray(Ie.row,Le);if(-1===ne&&(Ee.ctrlKey||Ee.metaKey))Le.push(Ie.row),l.setActiveCell(Ie.row,Ie.cell);else if(-1!==ne&&(Ee.ctrlKey||Ee.metaKey))Le=V.grep(Le,function(kt,wt){return kt!==Ie.row}),l.setActiveCell(Ie.row,Ie.cell);else if(Le.length&&Ee.shiftKey){var Pe=Le.pop(),He=Math.min(Ie.row,Pe),ze=Math.max(Ie.row,Pe);Le=[];for(var dt=He;dt<=ze;dt++)dt!==Pe&&Le.push(dt);Le.push(Pe),l.setActiveCell(Ie.row,Ie.cell)}return be(F(Le)),Ee.stopImmediatePropagation(),!0}function Re(Ee,Ie){if(l.getEditorLock().isActive())return Ee.stopPropagation(),!1;l.setActiveCell(Ie.row,Ie.cell)}function G(Ee,Ie){if(!l.getOptions().multiSelect||!b.selectActiveRow)return!1;be([new Slick.Range(Ie.range.fromRow,0,Ie.range.toRow,l.getColumns().length-1)])}V.extend(this,{getSelectedRows:Y,setSelectedRows:function(Ee){be(F(Ee),"SlickRowSelectionModel.setSelectedRows")},getSelectedRanges:function(){return A},setSelectedRanges:be,init:function(Ee){b=V.extend(!0,{},w,L),v=b.cellRangeSelector,l=Ee,I.subscribe(l.onActiveCellChanged,S(ae)),I.subscribe(l.onKeyDown,S(_e)),I.subscribe(l.onClick,S(Te)),v&&(Ee.registerPlugin(v),v.onCellRangeSelecting.subscribe(G),v.onCellRangeSelected.subscribe(G),v.onBeforeCellRangeSelected.subscribe(Re))},destroy:function(){I.unsubscribeAll(),v&&(v.onCellRangeSelecting.unsubscribe(G),v.onCellRangeSelected.unsubscribe(G),v.onBeforeCellRangeSelected.unsubscribe(Re),l.unregisterPlugin(v),v.destroy&&v.destroy())},pluginName:"RowSelectionModel",onSelectedRangesChanged:new Slick.Event})}}})},5913:()=>{!function(V){function k(){var T=!1,x=!1;this.stopPropagation=function(){T=!0},this.isPropagationStopped=function(){return T},this.stopImmediatePropagation=function(){x=!0},this.isImmediatePropagationStopped=function(){return x}}function j(){this.__nonDataRow=!0}function I(){this.__group=!0,this.level=0,this.count=0,this.value=null,this.title=null,this.collapsed=!1,this.selectChecked=!1,this.totals=null,this.rows=[],this.groups=null,this.groupingKey=null}function m(){this.__groupTotals=!0,this.group=null,this.initialized=!1}function b(){var T=null;this.isActive=function(x){return x?T===x:null!==T},this.activate=function(x){if(x!==T){if(null!==T)throw new Error("SlickGrid.EditorLock.activate: an editController is still active, can't activate another editController");if(!x.commitCurrentEdit)throw new Error("SlickGrid.EditorLock.activate: editController must implement .commitCurrentEdit()");if(!x.cancelCurrentEdit)throw new Error("SlickGrid.EditorLock.activate: editController must implement .cancelCurrentEdit()");T=x}},this.deactivate=function(x){if(T){if(T!==x)throw new Error("SlickGrid.EditorLock.deactivate: specified editController is not the currently active one");T=null}},this.commitCurrentEdit=function(){return!T||T.commitCurrentEdit()},this.cancelCurrentEdit=function(){return!T||T.cancelCurrentEdit()}}I.prototype=new j,I.prototype.equals=function(T){return this.value===T.value&&this.count===T.count&&this.collapsed===T.collapsed&&this.title===T.title},m.prototype=new j;var w="Map"in window?window.Map:function(){var x={};this.get=function(S){return x[S]},this.set=function(S,N){x[S]=N},this.has=function(S){return S in x},this.delete=function(S){delete x[S]}};V.extend(!0,window,{Slick:{Event:function(){var T=[];this.subscribe=function(x){T.push(x)},this.unsubscribe=function(x){for(var S=T.length-1;S>=0;S--)T[S]===x&&T.splice(S,1)},this.notify=function(x,S,N){S=S||new k,N=N||this;for(var F,U=0;U<T.length&&!S.isPropagationStopped()&&!S.isImmediatePropagationStopped();U++)F=T[U].call(N,S,x);return F}},EventData:k,EventHandler:function(){var T=[];this.subscribe=function(x,S){return T.push({event:x,handler:S}),x.subscribe(S),this},this.unsubscribe=function(x,S){for(var N=T.length;N--;)if(T[N].event===x&&T[N].handler===S)return T.splice(N,1),void x.unsubscribe(S);return this},this.unsubscribeAll=function(){for(var x=T.length;x--;)T[x].event.unsubscribe(T[x].handler);return T=[],this}},Range:function(T,x,S,N){void 0===S&&void 0===N&&(S=T,N=x),this.fromRow=Math.min(T,S),this.fromCell=Math.min(x,N),this.toRow=Math.max(T,S),this.toCell=Math.max(x,N),this.isSingleRow=function(){return this.fromRow==this.toRow},this.isSingleCell=function(){return this.fromRow==this.toRow&&this.fromCell==this.toCell},this.contains=function(F,U){return F>=this.fromRow&&F<=this.toRow&&U>=this.fromCell&&U<=this.toCell},this.toString=function(){return this.isSingleCell()?"("+this.fromRow+":"+this.fromCell+")":"("+this.fromRow+":"+this.fromCell+" - "+this.toRow+":"+this.toCell+")"}},Map:w,NonDataRow:j,Group:I,GroupTotals:m,EditorLock:b,GlobalEditorLock:new b,TreeColumns:function(T){var x={};function N(_e){_e.forEach(function(Te){x[Te.id]=Te,Te.columns&&N(Te.columns)})}function F(_e,Te){return _e.filter(function(Re){var G=Te.call(Re);return G&&Re.columns&&(Re.columns=F(Re.columns,Te)),G&&(!Re.columns||Re.columns.length)})}function U(_e,Te){_e.sort(function(Re,G){return Y(Te.getColumnIndex(Re.id))-Y(Te.getColumnIndex(G.id))}).forEach(function(Re){Re.columns&&U(Re.columns,Te)})}function Y(_e){return void 0===_e?-1:_e}function ce(_e){if(!_e.length)return _e.columns?1+ce(_e.columns):1;for(var Te in _e)return ce(_e[Te])}function be(_e,Te,Re){var G=[];if(Te==(Re=Re||0))return _e.length&&_e.forEach(function(Ie){Ie.columns&&(Ie.extractColumns=function(){return te(Ie)})}),_e;for(var Ee in _e)_e[Ee].columns&&(G=G.concat(be(_e[Ee].columns,Te,Re+1)));return G}function te(_e){var Te=[];if(_e.hasOwnProperty("length"))for(var Re=0;Re<_e.length;Re++)Te=Te.concat(te(_e[Re]));else{if(!_e.hasOwnProperty("columns"))return _e;Te=Te.concat(te(_e.columns))}return Te}function ae(){return V.extend(!0,[],T)}N(T),this.hasDepth=function(){for(var _e in T)if(T[_e].hasOwnProperty("columns"))return!0;return!1},this.getTreeColumns=function(){return T},this.extractColumns=function(){return this.hasDepth()?te(T):T},this.getDepth=function(){return ce(T)},this.getColumnsInDepth=function(_e){return be(T,_e)},this.getColumnsInGroup=function(_e){return te(_e)},this.visibleColumns=function(){return F(ae(),function(){return this.visible})},this.filter=function(_e){return F(ae(),_e)},this.reOrder=function(_e){return U(T,_e)},this.getById=function(_e){return x[_e]},this.getInIds=function(_e){return _e.map(function(Te){return x[Te]})}},keyCode:{SPACE:8,BACKSPACE:8,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,RIGHT:39,TAB:9,UP:38,A:65},preClickClassName:"slick-edit-preclick",GridAutosizeColsMode:{None:"NOA",LegacyOff:"LOF",LegacyForceFit:"LFF",IgnoreViewport:"IGV",FitColsToViewport:"FCV",FitViewportToCols:"FVC"},ColAutosizeMode:{Locked:"LCK",Guide:"GUI",Content:"CON",ContentIntelligent:"CTI"},RowSelectionMode:{FirstRow:"FS1",FirstNRows:"FSN",AllRows:"ALL",LastRow:"LS1"},ValueFilterMode:{None:"NONE",DeDuplicate:"DEDP",GetGreatestAndSub:"GR8T",GetLongestTextAndSub:"LNSB",GetLongestText:"LNSC"},WidthEvalMode:{CanvasTextSize:"CANV",HTML:"HTML"}}})}(jQuery)},4287:()=>{var V;(V=jQuery).extend(!0,window,{Slick:{Data:{DataView:function(m){var ae,_e,G,Ie,Le,b=this,w="id",T=[],x=[],S=new Slick.Map,N=null,F=null,U=null,Y=!1,ce=!1,be=new Slick.Map,te=!0,Te={},Re={},Ee=[],ne=[],Pe=null,He={getter:null,formatter:null,comparer:function(Et,Rt){return Et.value===Rt.value?0:Et.value>Rt.value?1:-1},predefinedValues:[],aggregators:[],aggregateEmpty:!1,aggregateCollapsed:!1,aggregateChildGroups:!1,collapsed:!1,displayTotalsRow:!0,lazyTotalsCalculation:!1},ze=[],dt=[],nt=[],kt=":|:",wt=null,Pt=0,en=0,Nt=0,je=new Slick.Event,Ft=new Slick.Event,sn=new Slick.Event,nn=new Slick.Event,zt=new Slick.Event,an=new Slick.Event,On=new Slick.Event,Dn=new Slick.Event;function _t(Et){if(!ce)for(var Rt,Tt=Et=Et||0,wn=T.length;Tt<wn;Tt++){if(void 0===(Rt=T[Tt][w]))throw new Error("[SlickGrid DataView] Each data element must implement a unique 'id' property");S.set(Rt,Tt)}}function St(){if(!ce)for(var Et,Rt=0,Tt=T.length;Rt<Tt;Rt++)if(void 0===(Et=T[Rt][w])||S.get(Et)!==Rt)throw new Error("[SlickGrid DataView] Each data element must implement a unique 'id' property")}function xe(){var Et=Pt?Math.max(1,Math.ceil(Nt/Pt)):1;return{pageSize:Pt,pageNum:en,totalRows:Nt,totalPages:Et,dataView:b}}function Ce(Et,Rt){te=Rt,_e=Et,ae=null,!1===Rt&&T.reverse(),T.sort(Et),!1===Rt&&T.reverse(),S=new Slick.Map,_t(),Bi()}function Je(Et,Rt){te=Rt,ae=Et,_e=null;var Tt=Object.prototype.toString;Object.prototype.toString="function"==typeof Et?Et:function(){return this[Et]},!1===Rt&&T.reverse(),T.sort(),Object.prototype.toString=Tt,!1===Rt&&T.reverse(),S=new Slick.Map,_t(),Bi()}function cn(Et){m.groupItemMetadataProvider||(m.groupItemMetadataProvider=new Slick.Data.GroupItemMetadataProvider),dt=[],nt=[],ze=(Et=Et||[])instanceof Array?Et:[Et];for(var Rt=0;Rt<ze.length;Rt++){var Tt=ze[Rt]=V.extend(!0,{},He,ze[Rt]);Tt.getterIsAFn="function"==typeof Tt.getter,Tt.compiledAccumulators=[];for(var wn=Tt.aggregators.length;wn--;)Tt.compiledAccumulators[wn]=Lr(Tt.aggregators[wn]);nt[Rt]={}}Bi()}function Tn(){if(!N){N={};for(var Et=0,Rt=x.length;Et<Rt;Et++)N[x[Et][w]]=Et}}function hr(Et){return T[S.get(Et)]}function xr(Et,Rt){if(!S.has(Et))throw new Error("[SlickGrid DataView] Invalid id");if(Et!==Rt[w]){var Tt=Rt[w];if(null==Tt)throw new Error("[SlickGrid DataView] Cannot update item to associate with a null id");if(S.has(Tt))throw new Error("[SlickGrid DataView] Cannot update item to associate with a non-unique id");S.set(Tt,S.get(Et)),S.delete(Et),U&&U[Et]&&delete U[Et],Et=Tt}T[S.get(Et)]=Rt,U||(U={}),U[Et]=!0}function rr(Et,Rt){xr(Et,Rt),Bi()}function es(Et,Rt){T.splice(Et,0,Rt),_t(Et),Bi()}function Or(Et){if(ce)be.set(Et,!0);else{var Rt=S.get(Et);if(void 0===Rt)throw new Error("[SlickGrid DataView] Invalid id");S.delete(Et),T.splice(Rt,1),_t(Rt),Bi()}}function Qe(Et){if(!_e)throw new Error("[SlickGrid DataView] sortedAddItem() requires a sort comparer, use sort()");es(function(Et){for(var Rt=0,Tt=T.length;Rt<Tt;){var wn=Rt+Tt>>>1;-1===_e(T[wn],Et)?Rt=wn+1:Tt=wn}return Rt}(Et),Et)}function _r(Et,Rt){if(null==Et)for(var Tt=0;Tt<ze.length;Tt++)nt[Tt]={},ze[Tt].collapsed=Rt,!0===Rt?Dn.notify({level:Tt,groupingKey:null}):On.notify({level:Tt,groupingKey:null});else nt[Et]={},ze[Et].collapsed=Rt,!0===Rt?Dn.notify({level:Et,groupingKey:null}):On.notify({level:Et,groupingKey:null});Bi()}function Qr(Et,Rt,Tt){nt[Et][Rt]=ze[Et].collapsed^Tt,Bi()}function Hi(Et,Rt){for(var Tt,wn,$n,In=[],Qn={},mi=Rt?Rt.level+1:0,xi=ze[mi],Ri=0,Mi=xi.predefinedValues.length;Ri<Mi;Ri++)(Tt=Qn[wn=xi.predefinedValues[Ri]])||((Tt=new Slick.Group).value=wn,Tt.level=mi,Tt.groupingKey=(Rt?Rt.groupingKey+kt:"")+wn,In[In.length]=Tt,Qn[wn]=Tt);for(Ri=0,Mi=Et.length;Ri<Mi;Ri++)$n=Et[Ri],(Tt=Qn[wn=xi.getterIsAFn?xi.getter($n):$n[xi.getter]])||((Tt=new Slick.Group).value=wn,Tt.level=mi,Tt.groupingKey=(Rt?Rt.groupingKey+kt:"")+wn,In[In.length]=Tt,Qn[wn]=Tt),Tt.rows[Tt.count++]=$n;if(mi<ze.length-1)for(Ri=0;Ri<In.length;Ri++)(Tt=In[Ri]).groups=Hi(Tt.rows,Tt);return In.length&&pr(In,mi),In.sort(ze[mi].comparer),In}function Zn(Et){var In,Rt=Et.group,Tt=ze[Rt.level],wn=Rt.level==ze.length,Qn=Tt.aggregators.length;if(!wn&&Tt.aggregateChildGroups)for(var $n=Rt.groups.length;$n--;)Rt.groups[$n].totals.initialized||Zn(Rt.groups[$n].totals);for(;Qn--;)(In=Tt.aggregators[Qn]).init(),!wn&&Tt.aggregateChildGroups?Tt.compiledAccumulators[Qn].call(In,Rt.groups):Tt.compiledAccumulators[Qn].call(In,Rt.rows),In.storeResult(Et);Et.initialized=!0}function Gi(Et){var Rt=ze[Et.level],Tt=new Slick.GroupTotals;Tt.group=Et,Et.totals=Tt,Rt.lazyTotalsCalculation||Zn(Tt)}function pr(Et,Rt){for(var $n,Tt=ze[Rt=Rt||0],wn=Tt.collapsed,In=nt[Rt],Qn=Et.length;Qn--;)(!($n=Et[Qn]).collapsed||Tt.aggregateCollapsed)&&($n.groups&&pr($n.groups,Rt+1),Tt.aggregators.length&&(Tt.aggregateEmpty||$n.rows.length||$n.groups&&$n.groups.length)&&Gi($n),$n.collapsed=wn^In[$n.groupingKey],$n.title=Tt.formatter?Tt.formatter($n):$n.value)}function ts(Et,Rt){for(var In,$n,Tt=ze[Rt=Rt||0],wn=[],Qn=0,mi=0,xi=Et.length;mi<xi;mi++){if($n=Et[mi],wn[Qn++]=$n,!$n.collapsed)for(var Ri=0,Mi=(In=$n.groups?ts($n.groups,Rt+1):$n.rows).length;Ri<Mi;Ri++)wn[Qn++]=In[Ri];$n.totals&&Tt.displayTotalsRow&&(!$n.collapsed||Tt.aggregateCollapsed)&&(wn[Qn++]=$n.totals)}return wn}function Jr(Et){var wn=Et.toString().indexOf("function")>=0?/^function[^(]*\(([^)]*)\)\s*{([\s\S]*)}$/:/^[^(]*\(([^)]*)\)\s*{([\s\S]*)}$/,In=Et.toString().match(wn);return{params:In[1].split(","),body:In[2]}}function Lr(Et){if(Et.accumulate){var Rt=Jr(Et.accumulate),Tt=new Function("_items","for (var "+Rt.params[0]+", _i=0, _il=_items.length; _i<_il; _i++) {"+Rt.params[0]+" = _items[_i]; "+Rt.body+"}"),wn="compiledAccumulatorLoop";return Tt.displayName=wn,Tt.name=lr(Tt,wn),Tt}return function(){}}function lr(Et,Rt){try{Object.defineProperty(Et,"name",{writable:!0,value:Rt})}catch(Tt){Et.name=Rt}}function ns(Et,Rt){for(var Tt=[],wn=0,In=0,Qn=Et.length;In<Qn;In++)F(Et[In],Rt)&&(Tt[wn++]=Et[In]);return Tt}function ai(Et,Rt,Tt){for(var Qn,wn=[],In=0,$n=0,mi=Et.length;$n<mi;$n++)Qn=Et[$n],Tt[$n]?wn[In++]=Qn:F(Qn,Rt)&&(wn[In++]=Qn,Tt[$n]=!0);return wn}function Er(Et){N=null,(Te.isFilterNarrowing!=Re.isFilterNarrowing||Te.isFilterExpanding!=Re.isFilterExpanding)&&(ne=[]);var Rt=function(Et){if(F){var Rt=m.inlineFilters?Ie:ns,Tt=m.inlineFilters?Le:ai;Te.isFilterNarrowing?Ee=Rt(Ee,G):Te.isFilterExpanding?Ee=Tt(Et,G,ne):Te.isFilterUnchanged||(Ee=Rt(Et,G))}else Ee=Pt?Et:Et.concat();var wn;return Pt?(Ee.length<=en*Pt&&(en=0===Ee.length?0:Math.floor((Ee.length-1)/Pt)),wn=Ee.slice(Pt*en,Pt*en+Pt)):wn=Ee,{totalRows:Ee.length,rows:wn}}(Et);Nt=Rt.totalRows;var Tt=Rt.rows;dt=[],ze.length&&(dt=Hi(Tt)).length&&(Tt=ts(dt));var wn=function(Et,Rt){var Tt,wn,In,Qn=[],$n=0,mi=Math.max(Rt.length,Et.length);Te&&Te.ignoreDiffsBefore&&($n=Math.max(0,Math.min(Rt.length,Te.ignoreDiffsBefore))),Te&&Te.ignoreDiffsAfter&&(mi=Math.min(Rt.length,Math.max(0,Te.ignoreDiffsAfter)));for(var xi=$n,Ri=Et.length;xi<mi;xi++)xi>=Ri?Qn[Qn.length]=xi:(Tt=Rt[xi],wn=Et[xi],(!Tt||ze.length&&(In=Tt.__nonDataRow||wn.__nonDataRow)&&Tt.__group!==wn.__group||Tt.__group&&!Tt.equals(wn)||In&&(Tt.__groupTotals||wn.__groupTotals)||Tt[w]!=wn[w]||U&&U[Tt[w]])&&(Qn[Qn.length]=xi));return Qn}(x,Tt);return x=Tt,wn}function Bi(){if(!Y){var Et=V.extend(!0,{},xe()),Rt=x.length,Tt=Nt,wn=Er(T);Pt&&Nt<en*Pt&&(en=Math.max(0,Math.ceil(Nt/Pt)-1),wn=Er(T)),U=null,Re=Te,Te={},Tt!==Nt&&!1!==zt.notify(Et,null,b)&&an.notify(xe(),null,b),Rt!==x.length&&Ft.notify({previous:Rt,current:x.length,itemCount:T.length,dataView:b,callingOnRowsChanged:wn.length>0},null,b),wn.length>0&&sn.notify({rows:wn,itemCount:T.length,dataView:b,calledOnRowCountChanged:Rt!==x.length},null,b),(Rt!==x.length||wn.length>0)&&nn.notify({rowsDiff:wn,previousRowCount:Rt,currentRowCount:x.length,itemCount:T.length,rowCountChanged:Rt!==x.length,rowsChanged:wn.length>0,dataView:b},null,b)}}function ki(){return wt}m=V.extend(!0,{},{groupItemMetadataProvider:null,inlineFilters:!1},m),V.extend(this,{beginUpdate:function(Et){Y=!0,ce=!0===Et},endUpdate:function(){var Et=ce;ce=!1,Y=!1,Et&&(function(){for(var Et,Rt,Tt=0,wn=0,In=T.length;wn<In;wn++){if(void 0===(Et=(Rt=T[wn])[w]))throw new Error("[SlickGrid DataView] Each data element must implement a unique 'id' property");be.has(Et)?S.delete(Et):(T[Tt]=Rt,S.set(Et,Tt),++Tt)}T.length=Tt,be=new Slick.Map}(),St()),Bi()},destroy:function(){T=[],S=null,N=null,F=null,U=null,_e=null,ne=[],Ee=[],Ie=null,Le=null,Pe&&Pe.onSelectedRowsChanged&&Pe.onCellCssStylesChanged&&(Pe.onSelectedRowsChanged.unsubscribe(),Pe.onCellCssStylesChanged.unsubscribe()),b.onRowsOrCountChanged&&b.onRowsOrCountChanged.unsubscribe()},setPagingOptions:function(Et){!1!==zt.notify(xe(),null,b)&&(null!=Et.pageSize&&(Pt=Et.pageSize,en=Pt?Math.min(en,Math.max(0,Math.ceil(Nt/Pt)-1)):0),null!=Et.pageNum&&(en=Math.min(Et.pageNum,Math.max(0,Math.ceil(Nt/Pt)-1))),an.notify(xe(),null,b),Bi())},getPagingInfo:xe,getIdPropertyName:function(){return w},getItems:function(){return T},setItems:function(Et,Rt){void 0!==Rt&&(w=Rt),T=Ee=Et,je.notify({idProperty:Rt,itemCount:T.length},null,b),S=new Slick.Map,_t(),St(),Bi()},setFilter:function(Et){F=Et,m.inlineFilters&&(Ie=function(){var Et=Jr(F),Rt="{ continue _coreloop; }$1",Tt="{ _retval[_idx++] = $item$; continue _coreloop; }$1",wn=Et.body.replace(/return false\s*([;}]|\}|$)/gi,Rt).replace(/return!1([;}]|\}|$)/gi,Rt).replace(/return true\s*([;}]|\}|$)/gi,Tt).replace(/return!0([;}]|\}|$)/gi,Tt).replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ($1) { _retval[_idx++] = $item$; }; continue _coreloop; }$2"),In=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","$filter$; ","} ","return _retval; "].join("");In=(In=(In=In.replace(/\$filter\$/gi,wn)).replace(/\$item\$/gi,Et.params[0])).replace(/\$args\$/gi,Et.params[1]);var Qn=new Function("_items,_args",In),$n="compiledFilter";return Qn.displayName=$n,Qn.name=lr(Qn,$n),Qn}(),Le=function(){var Et=Jr(F),Rt="{ continue _coreloop; }$1",Tt="{ _cache[_i] = true;_retval[_idx++] = $item$; continue _coreloop; }$1",wn=Et.body.replace(/return false\s*([;}]|\}|$)/gi,Rt).replace(/return!1([;}]|\}|$)/gi,Rt).replace(/return true\s*([;}]|\}|$)/gi,Tt).replace(/return!0([;}]|\}|$)/gi,Tt).replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ((_cache[_i] = $1)) { _retval[_idx++] = $item$; }; continue _coreloop; }$2"),In=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","if (_cache[_i]) { ","_retval[_idx++] = $item$; ","continue _coreloop; ","} ","$filter$; ","} ","return _retval; "].join("");In=(In=(In=In.replace(/\$filter\$/gi,wn)).replace(/\$item\$/gi,Et.params[0])).replace(/\$args\$/gi,Et.params[1]);var Qn=new Function("_items,_args,_cache",In),$n="compiledFilterWithCaching";return Qn.displayName=$n,Qn.name=lr(Qn,$n),Qn}()),Bi()},getFilter:function(){return F},getFilteredItems:function(){return Ee},getFilteredItemCount:function(){return Ee.length},sort:Ce,fastSort:Je,reSort:function(){_e?Ce(_e,te):ae&&Je(ae,te)},setGrouping:cn,getGrouping:function(){return ze},groupBy:function(Et,Rt,Tt){cn(null!=Et?{getter:Et,formatter:Rt,comparer:Tt}:[])},setAggregators:function(Et,Rt){if(!ze.length)throw new Error("[SlickGrid DataView] At least one grouping must be specified before calling setAggregators().");ze[0].aggregators=Et,ze[0].aggregateCollapsed=Rt,cn(ze)},collapseAllGroups:function(Et){_r(Et,!0)},expandAllGroups:function(Et){_r(Et,!1)},collapseGroup:function(Et){var wn,In,Rt=Array.prototype.slice.call(arguments),Tt=Rt[0];1===Rt.length&&-1!==Tt.indexOf(kt)?(wn=Tt,In=Tt.split(kt).length-1):(wn=Rt.join(kt),In=Rt.length-1),Qr(In,wn,!0),Dn.notify({level:In,groupingKey:wn})},expandGroup:function(Et){var wn,In,Rt=Array.prototype.slice.call(arguments),Tt=Rt[0];1===Rt.length&&-1!==Tt.indexOf(kt)?(In=Tt.split(kt).length-1,wn=Tt):(In=Rt.length-1,wn=Rt.join(kt)),Qr(In,wn,!1),On.notify({level:In,groupingKey:wn})},getGroups:function(){return dt},getAllSelectedIds:ki,getAllSelectedItems:function(){var Et=[];return ki().forEach(function(Tt){Et.push(b.getItemById(Tt))}),Et},getIdxById:function(Et){return S.get(Et)},getRowByItem:function(Et){return Tn(),N[Et[w]]},getRowById:function(Et){return Tn(),N[Et]},getItemById:hr,getItemByIdx:function(Et){return T[Et]},mapItemsToRows:function(Et){var Rt=[];Tn();for(var Tt=0,wn=Et.length;Tt<wn;Tt++){var In=N[Et[Tt][w]];null!=In&&(Rt[Rt.length]=In)}return Rt},mapRowsToIds:function(Et){for(var Rt=[],Tt=0,wn=Et.length;Tt<wn;Tt++)Et[Tt]<x.length&&(Rt[Rt.length]=x[Et[Tt]][w]);return Rt},mapIdsToRows:function(Et){var Rt=[];Tn();for(var Tt=0,wn=Et.length;Tt<wn;Tt++){var In=N[Et[Tt]];null!=In&&(Rt[Rt.length]=In)}return Rt},setRefreshHints:function(Et){Te=Et},setFilterArgs:function(Et){G=Et},refresh:Bi,updateItem:rr,updateItems:function(Et,Rt){if(Et.length!==Rt.length)throw new Error("[SlickGrid DataView] Mismatch on the length of ids and items provided to update");for(var Tt=0,wn=Rt.length;Tt<wn;Tt++)xr(Et[Tt],Rt[Tt]);Bi()},insertItem:es,insertItems:function(Et,Rt){Array.prototype.splice.apply(T,[Et,0].concat(Rt)),_t(Et),Bi()},addItem:function(Et){T.push(Et),_t(T.length-1),Bi()},addItems:function(Et){_t((T=T.concat(Et)).length-Et.length),Bi()},deleteItem:Or,deleteItems:function(Et){if(0!==Et.length)if(ce)for(var Rt=0,Tt=Et.length;Rt<Tt;Rt++){var wn=Et[Rt];if(void 0===(In=S.get(wn)))throw new Error("[SlickGrid DataView] Invalid id");be.set(wn,!0)}else{var Qn=[];for(Rt=0,Tt=Et.length;Rt<Tt;Rt++){var In;if(wn=Et[Rt],void 0===(In=S.get(wn)))throw new Error("[SlickGrid DataView] Invalid id");S.delete(wn),Qn.push(In)}for(Qn.sort(),Rt=Qn.length-1;Rt>=0;--Rt)T.splice(Qn[Rt],1);_t(Qn[0]),Bi()}},sortedAddItem:Qe,sortedUpdateItem:function(Et,Rt){if(!S.has(Et)||Et!==Rt[w])throw new Error("[SlickGrid DataView] Invalid or non-matching id "+S.get(Et));if(!_e)throw new Error("[SlickGrid DataView] sortedUpdateItem() requires a sort comparer, use sort()");var Tt=hr(Et);0!==_e(Tt,Rt)?(Or(Et),Qe(Rt)):rr(Et,Rt)},syncGridSelection:function(Et,Rt,Tt){var In,wn=this;Pe=Et,wt=wn.mapRowsToIds(Et.getSelectedRows());var Qn=new Slick.Event;function $n(xi){wt.join(",")!=xi.join(",")&&(wt=xi,Qn.notify({grid:Et,ids:wt,dataView:wn},new Slick.EventData,wn))}return Et.onSelectedRowsChanged.subscribe(function(xi,Ri){if(!In){var Mi=wn.mapRowsToIds(Et.getSelectedRows());Tt&&Et.getOptions().multiSelect?$n(V.grep(wt,function(Is){return void 0===wn.getRowById(Is)}).concat(Mi)):$n(Mi)}}),this.onRowsOrCountChanged.subscribe(function(){if(wt.length>0){In=!0;var xi=wn.mapIdsToRows(wt);Rt||$n(wn.mapRowsToIds(xi)),Et.setSelectedRows(xi),In=!1}}),Qn},syncGridCellCssStyles:function(Et,Rt){var Tt,wn;function In($n){for(var mi in Tt={},$n){var xi=x[mi][w];Tt[xi]=$n[mi]}}function Qn(){if(Tt){wn=!0,Tn();var $n={};for(var mi in Tt){var xi=N[mi];null!=xi&&($n[xi]=Tt[mi])}Et.setCellCssStyles(Rt,$n),wn=!1}}In(Et.getCellCssStyles(Rt)),Et.onCellCssStylesChanged.subscribe(function($n,mi){wn||Rt==mi.key&&(mi.hash?In(mi.hash):(Et.onCellCssStylesChanged.unsubscribe(),b.onRowsOrCountChanged.unsubscribe(Qn)))}),this.onRowsOrCountChanged.subscribe(Qn)},getItemCount:function(){return T.length},getLength:function(){return x.length},getItem:function(Et){var Rt=x[Et];if(Rt&&Rt.__group&&Rt.totals&&!Rt.totals.initialized){var Tt=ze[Rt.level];Tt.displayTotalsRow||(Zn(Rt.totals),Rt.title=Tt.formatter?Tt.formatter(Rt):Rt.value)}else Rt&&Rt.__groupTotals&&!Rt.initialized&&Zn(Rt);return Rt},getItemMetadata:function(Et){var Rt=x[Et];return void 0===Rt?null:Rt.__group?m.groupItemMetadataProvider.getGroupRowMetadata(Rt):Rt.__groupTotals?m.groupItemMetadataProvider.getTotalsRowMetadata(Rt):null},onSetItemsCalled:je,onRowCountChanged:Ft,onRowsChanged:sn,onRowsOrCountChanged:nn,onBeforePagingInfoChanged:zt,onPagingInfoChanged:an,onGroupExpanded:On,onGroupCollapsed:Dn})},Aggregators:{Avg:function(m){this.field_=m,this.init=function(){this.count_=0,this.nonNullCount_=0,this.sum_=0},this.accumulate=function(b){var v=b[this.field_];this.count_++,null!=v&&""!==v&&!isNaN(v)&&(this.nonNullCount_++,this.sum_+=parseFloat(v))},this.storeResult=function(b){b.avg||(b.avg={}),0!==this.nonNullCount_&&(b.avg[this.field_]=this.sum_/this.nonNullCount_)}},Min:function(m){this.field_=m,this.init=function(){this.min_=null},this.accumulate=function(b){var v=b[this.field_];null!=v&&""!==v&&!isNaN(v)&&(null==this.min_||v<this.min_)&&(this.min_=v)},this.storeResult=function(b){b.min||(b.min={}),b.min[this.field_]=this.min_}},Max:function(m){this.field_=m,this.init=function(){this.max_=null},this.accumulate=function(b){var v=b[this.field_];null!=v&&""!==v&&!isNaN(v)&&(null==this.max_||v>this.max_)&&(this.max_=v)},this.storeResult=function(b){b.max||(b.max={}),b.max[this.field_]=this.max_}},Sum:function(m){this.field_=m,this.init=function(){this.sum_=null},this.accumulate=function(b){var v=b[this.field_];null!=v&&""!==v&&!isNaN(v)&&(this.sum_+=parseFloat(v))},this.storeResult=function(b){b.sum||(b.sum={}),b.sum[this.field_]=this.sum_}},Count:function(m){this.field_=m,this.init=function(){},this.storeResult=function(b){b.count||(b.count={}),b.count[this.field_]=b.group.rows.length}}}}}})},9575:()=>{if("undefined"==typeof jQuery)throw new Error("SlickGrid requires jquery module to be loaded");if(!jQuery.fn.drag)throw new Error("SlickGrid requires jquery.event.drag module to be loaded");if("undefined"==typeof Slick)throw new Error("slick.core.js not loaded");(function($){"use strict";var scrollbarDimensions,maxSupportedCssHeight;function SlickGrid(container,data,columns,options){var defaults={alwaysShowVerticalScroll:!1,alwaysAllowHorizontalScroll:!1,explicitInitialization:!1,rowHeight:25,defaultColumnWidth:80,enableAddRow:!1,leaveSpaceForNewRows:!1,editable:!1,autoEdit:!0,suppressActiveCellChangeOnEdit:!1,enableCellNavigation:!0,enableColumnReorder:!0,asyncEditorLoading:!1,asyncEditorLoadDelay:100,forceFitColumns:!1,enableAsyncPostRender:!1,asyncPostRenderDelay:50,enableAsyncPostRenderCleanup:!1,asyncPostRenderCleanupDelay:40,autoHeight:!1,editorLock:Slick.GlobalEditorLock,showColumnHeader:!0,showHeaderRow:!1,headerRowHeight:25,createFooterRow:!1,showFooterRow:!1,footerRowHeight:25,createPreHeaderPanel:!1,showPreHeaderPanel:!1,preHeaderPanelHeight:25,showTopPanel:!1,topPanelHeight:25,formatterFactory:null,editorFactory:null,cellFlashingCssClass:"flashing",selectedCellCssClass:"selected",multiSelect:!0,enableTextSelectionOnCells:!1,dataItemColumnValueExtractor:null,frozenBottom:!1,frozenColumn:-1,frozenRow:-1,frozenRightViewportMinWidth:100,fullWidthRows:!1,multiColumnSort:!1,numberedMultiColumnSort:!1,tristateMultiColumnSort:!1,sortColNumberInSeparateSpan:!1,defaultFormatter,forceSyncScrolling:!1,addNewRowCssClass:"new-row",preserveCopiedSelectionOnPaste:!1,showCellSelection:!0,viewportClass:null,minRowBuffer:3,emulatePagingWhenScrolling:!0,editorCellNavOnLRKeys:!1,enableMouseWheelScrollHandler:!0,doPaging:!0,autosizeColsMode:Slick.GridAutosizeColsMode.LegacyOff,autosizeColPaddingPx:4,autosizeTextAvgToMWidthRatio:.75,viewportSwitchToScrollModeWidthPercent:void 0,viewportMinWidthPx:void 0,viewportMaxWidthPx:void 0,suppressCssChangesOnHiddenInit:!1},columnDefaults={name:"",resizable:!0,sortable:!1,minWidth:30,maxWidth:void 0,rerenderOnResize:!1,headerCssClass:null,defaultSortAsc:!0,focusable:!0,selectable:!0},columnAutosizeDefaults={ignoreHeaderText:!1,colValueArray:void 0,allowAddlPercent:void 0,formatterOverride:void 0,autosizeMode:Slick.ColAutosizeMode.ContentIntelligent,rowSelectionModeOnInit:void 0,rowSelectionMode:Slick.RowSelectionMode.FirstNRows,rowSelectionCount:100,valueFilterMode:Slick.ValueFilterMode.None,widthEvalMode:Slick.WidthEvalMode.CanvasTextSize,sizeToRemaining:void 0,widthPx:void 0,colDataTypeOf:void 0},th,h,ph,n,cj,page=0,offset=0,vScrollDir=1,initialized=!1,$container,uid="slickgrid_"+Math.round(1e6*Math.random()),self=this,$focusSink,$focusSink2,$groupHeaders=$(),$headerScroller,$headers,$headerRow,$headerRowScroller,$headerRowSpacerL,$headerRowSpacerR,$footerRow,$footerRowScroller,$footerRowSpacerL,$footerRowSpacerR,$preHeaderPanel,$preHeaderPanelScroller,$preHeaderPanelSpacer,$preHeaderPanelR,$preHeaderPanelScrollerR,$preHeaderPanelSpacerR,$topPanelScroller,$topPanel,$viewport,$canvas,$style,$boundAncestors,treeColumns,stylesheet,columnCssRulesL,columnCssRulesR,viewportH,viewportW,canvasWidth,canvasWidthL,canvasWidthR,headersWidth,headersWidthL,headersWidthR,viewportHasHScroll,viewportHasVScroll,headerColumnWidthDiff=0,headerColumnHeightDiff=0,cellWidthDiff=0,cellHeightDiff=0,jQueryNewWidthBehaviour=!1,absoluteColumnMinWidth,hasFrozenRows=!1,frozenRowsHeight=0,actualFrozenRow=-1,paneTopH=0,paneBottomH=0,viewportTopH=0,viewportBottomH=0,topPanelH=0,headerRowH=0,footerRowH=0,tabbingDirection=1,$activeCanvasNode,$activeViewportNode,activePosX,activeRow,activeCell,activeCellNode=null,currentEditor=null,serializedEditorValue,editController,rowsCache={},renderedRows=0,numVisibleRows=0,prevScrollTop=0,scrollTop=0,lastRenderedScrollTop=0,lastRenderedScrollLeft=0,prevScrollLeft=0,scrollLeft=0,selectionModel,selectedRows=[],plugins=[],cellCssClasses={},columnsById={},sortColumns=[],columnPosLeft=[],columnPosRight=[],pagingActive=!1,pagingIsLastPage=!1,scrollThrottle=ActionThrottle(render,50),h_editorLoader=null,h_render=null,h_postrender=null,h_postrenderCleanup=null,postProcessedRows={},postProcessToRow=null,postProcessFromRow=null,postProcessedCleanupQueue=[],postProcessgroupId=0,counter_rows_rendered=0,counter_rows_removed=0,$paneHeaderL,$paneHeaderR,$paneTopL,$paneTopR,$paneBottomL,$paneBottomR,$headerScrollerL,$headerScrollerR,$headerL,$headerR,$groupHeadersL,$groupHeadersR,$headerRowScrollerL,$headerRowScrollerR,$footerRowScrollerL,$footerRowScrollerR,$headerRowL,$headerRowR,$footerRowL,$footerRowR,$topPanelScrollerL,$topPanelScrollerR,$topPanelL,$topPanelR,$viewportTopL,$viewportTopR,$viewportBottomL,$viewportBottomR,$canvasTopL,$canvasTopR,$canvasBottomL,$canvasBottomR,$viewportScrollContainerX,$viewportScrollContainerY,$headerScrollContainer,$headerRowScrollContainer,$footerRowScrollContainer,cssShow={position:"absolute",visibility:"hidden",display:"block"},$hiddenParents,oldProps=[],columnResizeDragging=!1;function init(){if(($container=container instanceof jQuery?container:$(container)).length<1)throw new Error("SlickGrid requires a valid container, "+container+" does not exist in the DOM.");if(maxSupportedCssHeight=maxSupportedCssHeight||getMaxSupportedCssHeight(),options=$.extend({},defaults,options),validateAndEnforceOptions(),columnDefaults.width=options.defaultColumnWidth,options.suppressCssChangesOnHiddenInit||cacheCssForHiddenInit(),treeColumns=new Slick.TreeColumns(columns),columns=treeColumns.extractColumns(),updateColumnProps(),options.enableColumnReorder&&!$.fn.sortable)throw new Error("SlickGrid's 'enableColumnReorder = true' option requires jquery-ui.sortable module to be loaded");if(editController={commitCurrentEdit,cancelCurrentEdit},$container.empty().css("overflow","hidden").css("outline",0).addClass(uid).addClass("ui-widget"),/relative|absolute|fixed/.test($container.css("position"))||$container.css("position","relative"),$focusSink=$("<div tabIndex='0' hideFocus style='position:fixed;width:0;height:0;top:0;left:0;outline:0;'></div>").appendTo($container),$paneHeaderL=$("<div class='slick-pane slick-pane-header slick-pane-left' tabIndex='0' />").appendTo($container),$paneHeaderR=$("<div class='slick-pane slick-pane-header slick-pane-right' tabIndex='0' />").appendTo($container),$paneTopL=$("<div class='slick-pane slick-pane-top slick-pane-left' tabIndex='0' />").appendTo($container),$paneTopR=$("<div class='slick-pane slick-pane-top slick-pane-right' tabIndex='0' />").appendTo($container),$paneBottomL=$("<div class='slick-pane slick-pane-bottom slick-pane-left' tabIndex='0' />").appendTo($container),$paneBottomR=$("<div class='slick-pane slick-pane-bottom slick-pane-right' tabIndex='0' />").appendTo($container),options.createPreHeaderPanel&&($preHeaderPanelScroller=$("<div class='slick-preheader-panel ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($paneHeaderL),$preHeaderPanel=$("<div />").appendTo($preHeaderPanelScroller),$preHeaderPanelSpacer=$("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").appendTo($preHeaderPanelScroller),$preHeaderPanelScrollerR=$("<div class='slick-preheader-panel ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($paneHeaderR),$preHeaderPanelR=$("<div />").appendTo($preHeaderPanelScrollerR),$preHeaderPanelSpacerR=$("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").appendTo($preHeaderPanelScrollerR),options.showPreHeaderPanel||($preHeaderPanelScroller.hide(),$preHeaderPanelScrollerR.hide())),$headerScrollerL=$("<div class='slick-header ui-state-default slick-header-left' />").appendTo($paneHeaderL),$headerScrollerR=$("<div class='slick-header ui-state-default slick-header-right' />").appendTo($paneHeaderR),$headerScroller=$().add($headerScrollerL).add($headerScrollerR),treeColumns.hasDepth()){$groupHeadersL=[],$groupHeadersR=[];for(var V=0;V<treeColumns.getDepth()-1;V++)$groupHeadersL[V]=$("<div class='slick-group-header-columns slick-group-header-columns-left' style='left:-1000px' />").appendTo($headerScrollerL),$groupHeadersR[V]=$("<div class='slick-group-header-columns slick-group-header-columns-right' style='left:-1000px' />").appendTo($headerScrollerR);$groupHeaders=$().add($groupHeadersL).add($groupHeadersR)}$headerL=$("<div class='slick-header-columns slick-header-columns-left' style='left:-1000px' />").appendTo($headerScrollerL),$headerR=$("<div class='slick-header-columns slick-header-columns-right' style='left:-1000px' />").appendTo($headerScrollerR),$headers=$().add($headerL).add($headerR),$headerRowScrollerL=$("<div class='slick-headerrow ui-state-default' />").appendTo($paneTopL),$headerRowScrollerR=$("<div class='slick-headerrow ui-state-default' />").appendTo($paneTopR),$headerRowScroller=$().add($headerRowScrollerL).add($headerRowScrollerR),$headerRowSpacerL=$("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").appendTo($headerRowScrollerL),$headerRowSpacerR=$("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").appendTo($headerRowScrollerR),$headerRowL=$("<div class='slick-headerrow-columns slick-headerrow-columns-left' />").appendTo($headerRowScrollerL),$headerRowR=$("<div class='slick-headerrow-columns slick-headerrow-columns-right' />").appendTo($headerRowScrollerR),$headerRow=$().add($headerRowL).add($headerRowR),$topPanelScrollerL=$("<div class='slick-top-panel-scroller ui-state-default' />").appendTo($paneTopL),$topPanelScrollerR=$("<div class='slick-top-panel-scroller ui-state-default' />").appendTo($paneTopR),$topPanelScroller=$().add($topPanelScrollerL).add($topPanelScrollerR),$topPanelL=$("<div class='slick-top-panel' style='width:10000px' />").appendTo($topPanelScrollerL),$topPanelR=$("<div class='slick-top-panel' style='width:10000px' />").appendTo($topPanelScrollerR),$topPanel=$().add($topPanelL).add($topPanelR),options.showColumnHeader||$headerScroller.hide(),options.showTopPanel||$topPanelScroller.hide(),options.showHeaderRow||$headerRowScroller.hide(),$viewportTopL=$("<div class='slick-viewport slick-viewport-top slick-viewport-left' tabIndex='0' hideFocus />").appendTo($paneTopL),$viewportTopR=$("<div class='slick-viewport slick-viewport-top slick-viewport-right' tabIndex='0' hideFocus />").appendTo($paneTopR),$viewportBottomL=$("<div class='slick-viewport slick-viewport-bottom slick-viewport-left' tabIndex='0' hideFocus />").appendTo($paneBottomL),$viewportBottomR=$("<div class='slick-viewport slick-viewport-bottom slick-viewport-right' tabIndex='0' hideFocus />").appendTo($paneBottomR),$viewport=$().add($viewportTopL).add($viewportTopR).add($viewportBottomL).add($viewportBottomR),$activeViewportNode=$viewportTopL,$canvasTopL=$("<div class='grid-canvas grid-canvas-top grid-canvas-left' tabIndex='0' hideFocus />").appendTo($viewportTopL),$canvasTopR=$("<div class='grid-canvas grid-canvas-top grid-canvas-right' tabIndex='0' hideFocus />").appendTo($viewportTopR),$canvasBottomL=$("<div class='grid-canvas grid-canvas-bottom grid-canvas-left' tabIndex='0' hideFocus />").appendTo($viewportBottomL),$canvasBottomR=$("<div class='grid-canvas grid-canvas-bottom grid-canvas-right' tabIndex='0' hideFocus />").appendTo($viewportBottomR),options.viewportClass&&$viewport.toggleClass(options.viewportClass,!0),$canvas=$().add($canvasTopL).add($canvasTopR).add($canvasBottomL).add($canvasBottomR),scrollbarDimensions=scrollbarDimensions||measureScrollbar(),$activeCanvasNode=$canvasTopL,$preHeaderPanelSpacer&&$preHeaderPanelSpacer.css("width",getCanvasWidth()+scrollbarDimensions.width+"px"),$headers.width(getHeadersWidth()),$headerRowSpacerL.css("width",getCanvasWidth()+scrollbarDimensions.width+"px"),$headerRowSpacerR.css("width",getCanvasWidth()+scrollbarDimensions.width+"px"),options.createFooterRow&&($footerRowScrollerR=$("<div class='slick-footerrow ui-state-default' />").appendTo($paneTopR),$footerRowScrollerL=$("<div class='slick-footerrow ui-state-default' />").appendTo($paneTopL),$footerRowScroller=$().add($footerRowScrollerL).add($footerRowScrollerR),$footerRowSpacerL=$("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").css("width",getCanvasWidth()+scrollbarDimensions.width+"px").appendTo($footerRowScrollerL),$footerRowSpacerR=$("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").css("width",getCanvasWidth()+scrollbarDimensions.width+"px").appendTo($footerRowScrollerR),$footerRowL=$("<div class='slick-footerrow-columns slick-footerrow-columns-left' />").appendTo($footerRowScrollerL),$footerRowR=$("<div class='slick-footerrow-columns slick-footerrow-columns-right' />").appendTo($footerRowScrollerR),$footerRow=$().add($footerRowL).add($footerRowR),options.showFooterRow||$footerRowScroller.hide()),$focusSink2=$focusSink.clone().appendTo($container),options.explicitInitialization||finishInitialization()}function finishInitialization(){initialized||(initialized=!0,getViewportWidth(),getViewportHeight(),measureCellPaddingAndBorder(),disableSelection($headers),options.enableTextSelectionOnCells||$viewport.on("selectstart.ui",function(V){return $(V.target).is("input,textarea")}),setFrozenOptions(),setPaneVisibility(),setScroller(),setOverflow(),updateColumnCaches(),createColumnHeaders(),createColumnGroupHeaders(),createColumnFooter(),setupColumnSort(),createCssRules(),resizeCanvas(),bindAncestorScrollEvents(),$container.on("resize.slickgrid",resizeCanvas),$viewport.on("scroll",handleScroll),jQuery.fn.mousewheel&&options.enableMouseWheelScrollHandler&&$viewport.on("mousewheel",handleMouseWheel),$headerScroller.on("contextmenu",handleHeaderContextMenu).on("click",handleHeaderClick).on("mouseenter",".slick-header-column",handleHeaderMouseEnter).on("mouseleave",".slick-header-column",handleHeaderMouseLeave),$headerRowScroller.on("scroll",handleHeaderRowScroll),options.showHeaderRow&&$headerRow.on("mouseenter",".slick-headerrow-column",handleHeaderRowMouseEnter).on("mouseleave",".slick-headerrow-column",handleHeaderRowMouseLeave),options.createFooterRow&&($footerRow.on("contextmenu",handleFooterContextMenu).on("click",handleFooterClick),$footerRowScroller.on("scroll",handleFooterRowScroll)),options.createPreHeaderPanel&&$preHeaderPanelScroller.on("scroll",handlePreHeaderPanelScroll),$focusSink.add($focusSink2).on("keydown",handleKeyDown),$canvas.on("keydown",handleKeyDown).on("click",handleClick).on("dblclick",handleDblClick).on("contextmenu",handleContextMenu).on("draginit",handleDragInit).on("dragstart",{distance:3},handleDragStart).on("drag",handleDrag).on("dragend",handleDragEnd).on("mouseenter",".slick-cell",handleMouseEnter).on("mouseleave",".slick-cell",handleMouseLeave),options.suppressCssChangesOnHiddenInit||restoreCssFromHiddenInit())}function cacheCssForHiddenInit(){($hiddenParents=$container.parents().addBack().not(":visible")).each(function(){var V={};for(var k in cssShow)V[k]=this.style[k],this.style[k]=cssShow[k];oldProps.push(V)})}function restoreCssFromHiddenInit(){$hiddenParents.each(function(V){var k=oldProps[V];for(var L in cssShow)this.style[L]=k[L]})}function hasFrozenColumns(){return options.frozenColumn>-1}function registerPlugin(V){plugins.unshift(V),V.init(self)}function unregisterPlugin(V){for(var k=plugins.length;k>=0;k--)if(plugins[k]===V){plugins[k].destroy&&plugins[k].destroy(),plugins.splice(k,1);break}}function getPluginByName(V){for(var k=plugins.length-1;k>=0;k--)if(plugins[k].pluginName===V)return plugins[k]}function setSelectionModel(V){selectionModel&&(selectionModel.onSelectedRangesChanged.unsubscribe(handleSelectedRangesChanged),selectionModel.destroy&&selectionModel.destroy()),(selectionModel=V)&&(selectionModel.init(self),selectionModel.onSelectedRangesChanged.subscribe(handleSelectedRangesChanged))}function getSelectionModel(){return selectionModel}function getCanvasNode(V,k){return _getContainerElement(getCanvases(),V,k)}function getActiveCanvasNode(V){return setActiveCanvasNode(V),$activeCanvasNode[0]}function getCanvases(){return $canvas}function setActiveCanvasNode(V){V&&($activeCanvasNode=$(V.target).closest(".grid-canvas"))}function getViewportNode(V,k){return _getContainerElement(getViewports(),V,k)}function getViewports(){return $viewport}function getActiveViewportNode(V){return setActiveViewportNode(V),$activeViewportNode[0]}function setActiveViewportNode(V){V&&($activeViewportNode=$(V.target).closest(".slick-viewport"))}function _getContainerElement(V,k,L){if(V){k||(k=0),L||(L=0);var l="number"==typeof k?k:getColumnIndex(k);return V[(hasFrozenRows&&L>=actualFrozenRow+(options.frozenBottom?0:1)?2:0)+(hasFrozenColumns()&&l>options.frozenColumn?1:0)]}}function measureScrollbar(){var V=$('<div class="'+$viewport.className+'" style="position:absolute; top:-10000px; left:-10000px; overflow:auto; width:100px; height:100px;"></div>').appendTo("body"),k=$('<div style="width:200px; height:200px; overflow:auto;"></div>').appendTo(V),L={width:V[0].offsetWidth-V[0].clientWidth,height:V[0].offsetHeight-V[0].clientHeight};return k.remove(),V.remove(),L}function getHeadersWidth(){headersWidth=headersWidthL=headersWidthR=0;for(var V=!options.autoHeight,k=0,L=columns.length;k<L;k++){var l=columns[k].width;options.frozenColumn>-1&&k>options.frozenColumn?headersWidthR+=l:headersWidthL+=l}return V&&(options.frozenColumn>-1&&k>options.frozenColumn?headersWidthR+=scrollbarDimensions.width:headersWidthL+=scrollbarDimensions.width),hasFrozenColumns()?(headersWidthL+=1e3,headersWidthR=Math.max(headersWidthR,viewportW)+headersWidthL,headersWidthR+=scrollbarDimensions.width):(headersWidthL+=scrollbarDimensions.width,headersWidthL=Math.max(headersWidthL,viewportW)+1e3),headersWidth=headersWidthL+headersWidthR,Math.max(headersWidth,viewportW)+1e3}function getHeadersWidthL(){return headersWidthL=0,columns.forEach(function(V,k){options.frozenColumn>-1&&k>options.frozenColumn||(headersWidthL+=V.width)}),hasFrozenColumns()?headersWidthL+=1e3:(headersWidthL+=scrollbarDimensions.width,headersWidthL=Math.max(headersWidthL,viewportW)+1e3),headersWidthL}function getHeadersWidthR(){return headersWidthR=0,columns.forEach(function(V,k){options.frozenColumn>-1&&k>options.frozenColumn&&(headersWidthR+=V.width)}),hasFrozenColumns()&&(headersWidthR=Math.max(headersWidthR,viewportW)+getHeadersWidthL(),headersWidthR+=scrollbarDimensions.width),headersWidthR}function getCanvasWidth(){var V=viewportHasVScroll?viewportW-scrollbarDimensions.width:viewportW,k=columns.length;for(canvasWidthL=canvasWidthR=0;k--;)hasFrozenColumns()&&k>options.frozenColumn?canvasWidthR+=columns[k].width:canvasWidthL+=columns[k].width;var L=canvasWidthL+canvasWidthR;return options.fullWidthRows?Math.max(L,V):L}function updateCanvasWidth(V){var A,k=canvasWidth,L=canvasWidthL,l=canvasWidthR;((A=(canvasWidth=getCanvasWidth())!==k||canvasWidthL!==L||canvasWidthR!==l)||hasFrozenColumns()||hasFrozenRows)&&($canvasTopL.width(canvasWidthL),getHeadersWidth(),$headerL.width(headersWidthL),$headerR.width(headersWidthR),hasFrozenColumns()?($canvasTopR.width(canvasWidthR),$paneHeaderL.width(canvasWidthL),$paneHeaderR.css("left",canvasWidthL),$paneHeaderR.css("width",viewportW-canvasWidthL),$paneTopL.width(canvasWidthL),$paneTopR.css("left",canvasWidthL),$paneTopR.css("width",viewportW-canvasWidthL),$headerRowScrollerL.width(canvasWidthL),$headerRowScrollerR.width(viewportW-canvasWidthL),$headerRowL.width(canvasWidthL),$headerRowR.width(canvasWidthR),options.createFooterRow&&($footerRowScrollerL.width(canvasWidthL),$footerRowScrollerR.width(viewportW-canvasWidthL),$footerRowL.width(canvasWidthL),$footerRowR.width(canvasWidthR)),options.createPreHeaderPanel&&$preHeaderPanel.width(canvasWidth),$viewportTopL.width(canvasWidthL),$viewportTopR.width(viewportW-canvasWidthL),hasFrozenRows&&($paneBottomL.width(canvasWidthL),$paneBottomR.css("left",canvasWidthL),$viewportBottomL.width(canvasWidthL),$viewportBottomR.width(viewportW-canvasWidthL),$canvasBottomL.width(canvasWidthL),$canvasBottomR.width(canvasWidthR))):($paneHeaderL.width("100%"),$paneTopL.width("100%"),$headerRowScrollerL.width("100%"),$headerRowL.width(canvasWidth),options.createFooterRow&&($footerRowScrollerL.width("100%"),$footerRowL.width(canvasWidth)),options.createPreHeaderPanel&&($preHeaderPanel.width("100%"),$preHeaderPanel.width(canvasWidth)),$viewportTopL.width("100%"),hasFrozenRows&&($viewportBottomL.width("100%"),$canvasBottomL.width(canvasWidthL))),viewportHasHScroll=canvasWidth>=viewportW-scrollbarDimensions.width),$headerRowSpacerL.width(canvasWidth+(viewportHasVScroll?scrollbarDimensions.width:0)),$headerRowSpacerR.width(canvasWidth+(viewportHasVScroll?scrollbarDimensions.width:0)),options.createFooterRow&&($footerRowSpacerL.width(canvasWidth+(viewportHasVScroll?scrollbarDimensions.width:0)),$footerRowSpacerR.width(canvasWidth+(viewportHasVScroll?scrollbarDimensions.width:0))),(A||V)&&applyColumnWidths()}function disableSelection(V){V&&V.jquery&&V.attr("unselectable","on").css("MozUserSelect","none").on("selectstart.ui",function(){return!1})}function getMaxSupportedCssHeight(){for(var V=1e6,k=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,L=$("<div style='display:none' />").appendTo(document.body);;){var l=2*V;if(L.css("height",l),l>k||L.height()!==l)break;V=l}return L.remove(),V}function getUID(){return uid}function getHeaderColumnWidthDiff(){return headerColumnWidthDiff}function getScrollbarDimensions(){return scrollbarDimensions}function getDisplayedScrollbarDimensions(){return{width:viewportHasVScroll?scrollbarDimensions.width:0,height:viewportHasHScroll?scrollbarDimensions.height:0}}function getAbsoluteColumnMinWidth(){return absoluteColumnMinWidth}function bindAncestorScrollEvents(){for(var V=hasFrozenRows&&!options.frozenBottom?$canvasBottomL[0]:$canvasTopL[0];(V=V.parentNode)!=document.body&&null!=V;)if(V==$viewportTopL[0]||V.scrollWidth!=V.clientWidth||V.scrollHeight!=V.clientHeight){var k=$(V);$boundAncestors=$boundAncestors?$boundAncestors.add(k):k,k.on("scroll."+uid,handleActiveCellPositionChange)}}function unbindAncestorScrollEvents(){!$boundAncestors||($boundAncestors.off("scroll."+uid),$boundAncestors=null)}function updateColumnHeader(V,k,L){if(initialized){var l=getColumnIndex(V);if(null!=l){var A=columns[l],j=$headers.children().eq(l);j&&(void 0!==k&&(columns[l].name=k),void 0!==L&&(columns[l].toolTip=L),trigger(self.onBeforeHeaderCellDestroy,{node:j[0],column:A,grid:self}),j.attr("title",L||"").children().eq(0).html(k),trigger(self.onHeaderCellRendered,{node:j[0],column:A,grid:self}))}}}function getHeader(V){if(!V)return hasFrozenColumns()?$headers:$headerL;var k=getColumnIndex(V.id);return hasFrozenColumns()?k<=options.frozenColumn?$headerL:$headerR:$headerL}function getHeaderColumn(V){var k="number"==typeof V?V:getColumnIndex(V),L=hasFrozenColumns()?k<=options.frozenColumn?$headerL:$headerR:$headerL,l=hasFrozenColumns()?k<=options.frozenColumn?k:k-options.frozenColumn-1:k,A=L.children().eq(l);return A&&A[0]}function getHeaderRow(){return hasFrozenColumns()?$headerRow:$headerRow[0]}function getFooterRow(){return hasFrozenColumns()?$footerRow:$footerRow[0]}function getPreHeaderPanel(){return $preHeaderPanel[0]}function getPreHeaderPanelRight(){return $preHeaderPanelR[0]}function getHeaderRowColumn(V){var L,k="number"==typeof V?V:getColumnIndex(V);hasFrozenColumns()?k<=options.frozenColumn?L=$headerRowL:(L=$headerRowR,k-=options.frozenColumn+1):L=$headerRowL;var l=L.children().eq(k);return l&&l[0]}function getFooterRowColumn(V){var L,k="number"==typeof V?V:getColumnIndex(V);hasFrozenColumns()?k<=options.frozenColumn?L=$footerRowL:(L=$footerRowR,k-=options.frozenColumn+1):L=$footerRowL;var l=L&&L.children().eq(k);return l&&l[0]}function createColumnFooter(){if(options.createFooterRow){$footerRow.find(".slick-footerrow-column").each(function(){var l=$(this).data("column");l&&trigger(self.onBeforeFooterRowCellDestroy,{node:this,column:l,grid:self})}),$footerRowL.empty(),$footerRowR.empty();for(var V=0;V<columns.length;V++){var k=columns[V],L=$("<div class='ui-state-default slick-footerrow-column l"+V+" r"+V+"'></div>").data("column",k).addClass(hasFrozenColumns()&&V<=options.frozenColumn?"frozen":"").appendTo(hasFrozenColumns()&&V>options.frozenColumn?$footerRowR:$footerRowL);trigger(self.onFooterRowCellRendered,{node:L[0],column:k,grid:self})}}}function createColumnGroupHeaders(){var V=0,k=!1;if(treeColumns.hasDepth()){for(var L=0;L<$groupHeadersL.length;L++){$groupHeadersL[L].empty(),$groupHeadersR[L].empty();var l=treeColumns.getColumnsInDepth(L);for(var A in l){var j=l[A];V+=j.extractColumns().length,hasFrozenColumns()&&0===L&&V-1===options.frozenColumn&&(k=!0),$("<div class='ui-state-default slick-group-header-column' />").html("<span class='slick-column-name'>"+j.name+"</span>").attr("id",""+uid+j.id).attr("title",j.toolTip||"").data("column",j).addClass(j.headerCssClass||"").addClass(hasFrozenColumns()&&V-1>options.frozenColumn?"frozen":"").appendTo(hasFrozenColumns()&&V-1>options.frozenColumn?$groupHeadersR[L]:$groupHeadersL[L])}if(hasFrozenColumns()&&0===L&&!k){$groupHeadersL[L].empty(),$groupHeadersR[L].empty(),alert("All columns of group should to be grouped!");break}}applyColumnGroupHeaderWidths()}}function createColumnHeaders(){function V(){$(this).addClass("ui-state-hover")}function k(){$(this).removeClass("ui-state-hover")}$headers.find(".slick-header-column").each(function(){var w=$(this).data("column");w&&trigger(self.onBeforeHeaderCellDestroy,{node:this,column:w,grid:self})}),$headerL.empty(),$headerR.empty(),getHeadersWidth(),$headerL.width(headersWidthL),$headerR.width(headersWidthR),$headerRow.find(".slick-headerrow-column").each(function(){var w=$(this).data("column");w&&trigger(self.onBeforeHeaderRowCellDestroy,{node:this,column:w,grid:self})}),$headerRowL.empty(),$headerRowR.empty(),options.createFooterRow&&($footerRowL.find(".slick-footerrow-column").each(function(){var w=$(this).data("column");w&&trigger(self.onBeforeFooterRowCellDestroy,{node:this,column:w,grid:self})}),$footerRowL.empty(),hasFrozenColumns()&&($footerRowR.find(".slick-footerrow-column").each(function(){var w=$(this).data("column");w&&trigger(self.onBeforeFooterRowCellDestroy,{node:this,column:w,grid:self})}),$footerRowR.empty()));for(var L=0;L<columns.length;L++){var l=columns[L],A=hasFrozenColumns()?L<=options.frozenColumn?$headerL:$headerR:$headerL,j=hasFrozenColumns()?L<=options.frozenColumn?$headerRowL:$headerRowR:$headerRowL,I=$("<div class='ui-state-default slick-header-column' />").html("<span class='slick-column-name'>"+l.name+"</span>").width(l.width-headerColumnWidthDiff).attr("id",""+uid+l.id).attr("title",l.toolTip||"").data("column",l).addClass(l.headerCssClass||"").addClass(hasFrozenColumns()&&L<=options.frozenColumn?"frozen":"").appendTo(A);if((options.enableColumnReorder||l.sortable)&&I.on("mouseenter",V).on("mouseleave",k),l.hasOwnProperty("headerCellAttrs")&&l.headerCellAttrs instanceof Object)for(var m in l.headerCellAttrs)l.headerCellAttrs.hasOwnProperty(m)&&I.attr(m,l.headerCellAttrs[m]);if(l.sortable&&(I.addClass("slick-header-sortable"),I.append("<span class='slick-sort-indicator"+(options.numberedMultiColumnSort&&!options.sortColNumberInSeparateSpan?" slick-sort-indicator-numbered":"")+"' />"),options.numberedMultiColumnSort&&options.sortColNumberInSeparateSpan&&I.append("<span class='slick-sort-indicator-numbered' />")),trigger(self.onHeaderCellRendered,{node:I[0],column:l,grid:self}),options.showHeaderRow){var b=$("<div class='ui-state-default slick-headerrow-column l"+L+" r"+L+"'></div>").data("column",l).addClass(hasFrozenColumns()&&L<=options.frozenColumn?"frozen":"").appendTo(j);trigger(self.onHeaderRowCellRendered,{node:b[0],column:l,grid:self})}if(options.createFooterRow&&options.showFooterRow){var v=$("<div class='ui-state-default slick-footerrow-column l"+L+" r"+L+"'></div>").data("column",l).appendTo($footerRow);trigger(self.onFooterRowCellRendered,{node:v[0],column:l,grid:self})}}setSortColumns(sortColumns),setupColumnResize(),options.enableColumnReorder&&("function"==typeof options.enableColumnReorder?options.enableColumnReorder(self,$headers,headerColumnWidthDiff,setColumns,setupColumnResize,columns,getColumnIndex,uid,trigger):setupColumnReorder())}function setupColumnSort(){$headers.click(function(V){if(!columnResizeDragging&&(V.metaKey=V.metaKey||V.ctrlKey,!$(V.target).hasClass("slick-resizable-handle"))){var k=$(V.target).closest(".slick-header-column");if(k.length){var L=k.data("column");if(L.sortable){if(!getEditorLock().commitCurrentEdit())return;for(var l=$.extend(!0,[],sortColumns),A=null,j=0;j<sortColumns.length;j++)if(sortColumns[j].columnId==L.id){(A=sortColumns[j]).sortAsc=!A.sortAsc;break}var m,I=!!A;options.tristateMultiColumnSort?(A||(A={columnId:L.id,sortAsc:L.defaultSortAsc}),I&&A.sortAsc&&(sortColumns.splice(j,1),A=null),options.multiColumnSort||(sortColumns=[]),A&&(!I||!options.multiColumnSort)&&sortColumns.push(A)):V.metaKey&&options.multiColumnSort?A&&sortColumns.splice(j,1):((!V.shiftKey&&!V.metaKey||!options.multiColumnSort)&&(sortColumns=[]),A?0===sortColumns.length&&sortColumns.push(A):(A={columnId:L.id,sortAsc:L.defaultSortAsc},sortColumns.push(A))),m=options.multiColumnSort?{multiColumnSort:!0,previousSortColumns:l,sortCols:$.map(sortColumns,function(b){return{columnId:columns[getColumnIndex(b.columnId)].id,sortCol:columns[getColumnIndex(b.columnId)],sortAsc:b.sortAsc}})}:{multiColumnSort:!1,previousSortColumns:l,columnId:sortColumns.length>0?L.id:null,sortCol:sortColumns.length>0?L:null,sortAsc:!(sortColumns.length>0)||sortColumns[0].sortAsc},!1!==trigger(self.onBeforeSort,m,V)&&(setSortColumns(sortColumns),trigger(self.onSort,m,V))}}}})}function currentPositionInHeader(V){var k=0;return $headers.find(".slick-header-column").each(function(L){if(this.id==V)return k=L,!1}),k}function limitPositionInGroup(V){var k,L=0,l=0;return treeColumns.getColumnsInDepth($groupHeadersL.length-1).some(function(A){return L=l,l+=A.columns.length,A.columns.some(function(j){return j.id===V&&(k=A),k}),k}),l--,{start:L,end:l,group:k}}function remove(V,k){var L=V.lastIndexOf(k);L>-1&&(V.splice(L,1),remove(V,k))}function columnPositionValidInGroup(V){var k=currentPositionInHeader(V[0].id),L=limitPositionInGroup(V.data("column").id),l=L.start<=k&&k<=L.end;return{limit:L,valid:l,message:l?"":'Column "'.concat(V.text(),'" can be reordered only within the "',L.group.name,'" group!')}}function setupColumnReorder(){$headers.filter(":ui-sortable").sortable("destroy");var l,V=null;function k(){$viewportScrollContainerX[0].scrollLeft=$viewportScrollContainerX[0].scrollLeft+10}function L(){$viewportScrollContainerX[0].scrollLeft=$viewportScrollContainerX[0].scrollLeft-10}$headers.sortable({containment:"parent",distance:3,axis:"x",cursor:"default",tolerance:"intersection",helper:"clone",placeholder:"slick-sortable-placeholder ui-state-default slick-header-column",start:function(A,j){j.placeholder.width(j.helper.outerWidth()-headerColumnWidthDiff),l=!hasFrozenColumns()||j.placeholder.offset().left+j.placeholder.width()>$viewportScrollContainerX.offset().left,$(j.helper).addClass("slick-header-column-active")},beforeStop:function(A,j){$(j.helper).removeClass("slick-header-column-active")},sort:function(A,j){l&&A.originalEvent.pageX>$container[0].clientWidth?V||(V=setInterval(k,100)):l&&A.originalEvent.pageX<$viewportScrollContainerX.offset().left?V||(V=setInterval(L,100)):(clearInterval(V),V=null)},stop:function(A,j){var I=!1;clearInterval(V),V=null;var m=null;if(treeColumns.hasDepth()){var b=columnPositionValidInGroup(j.item);m=b.limit,(I=!b.valid)&&alert(b.message)}if(!I&&getEditorLock().commitCurrentEdit()){var v=$headerL.sortable("toArray");v=v.concat($headerR.sortable("toArray"));for(var w=[],T=0;T<v.length;T++)w.push(columns[getColumnIndex(v[T].replace(uid,""))]);setColumns(w),trigger(self.onColumnsReordered,{impactedColumns:getImpactedColumns(m)}),A.stopPropagation(),setupColumnResize()}else $(this).sortable("cancel")}})}function getImpactedColumns(V){var k=[];if(V)for(var L=V.start;L<=V.end;L++)k.push(columns[L]);else k=columns;return k}function setupColumnResize(){var k,L,l,A,j,I,m,b,v,w=0;(j=$headers.children()).find(".slick-resizable-handle").remove(),j.each(function(T,x){T>=columns.length||columns[T].resizable&&(void 0===b&&(b=T),v=T)}),void 0!==b&&j.each(function(T,x){T>=columns.length||T<b||options.forceFitColumns&&T>=v||($(x),$("<div class='slick-resizable-handle' />").appendTo(x).on("dragstart",function(S,N){if(!getEditorLock().commitCurrentEdit())return!1;A=S.pageX,w=0,$(this).parent().addClass("slick-header-column-active");var F=null,U=null;if(j.each(function(be,te){be>=columns.length||(columns[be].previousWidth=$(te).outerWidth())}),options.forceFitColumns)for(F=0,U=0,k=T+1;k<columns.length;k++)(l=columns[k]).resizable&&(null!==U&&(l.maxWidth?U+=l.maxWidth-l.previousWidth:U=null),F+=l.previousWidth-Math.max(l.minWidth||0,absoluteColumnMinWidth));var Y=0,ce=0;for(k=0;k<=T;k++)(l=columns[k]).resizable&&(null!==ce&&(l.maxWidth?ce+=l.maxWidth-l.previousWidth:ce=null),Y+=l.previousWidth-Math.max(l.minWidth||0,absoluteColumnMinWidth));null===F&&(F=1e5),null===Y&&(Y=1e5),null===U&&(U=1e5),null===ce&&(ce=1e5),m=A+Math.min(F,ce),I=A-Math.min(Y,U)}).on("drag",function(S,N){columnResizeDragging=!0;var F,Y,U=Math.min(m,Math.max(I,S.pageX))-A,ce=0,te=viewportHasVScroll?viewportW-scrollbarDimensions.width:viewportW;if(U<0){for(Y=U,k=T;k>=0;k--)(l=columns[k]).resizable&&(F=Math.max(l.minWidth||0,absoluteColumnMinWidth),Y&&l.previousWidth+Y<F?(Y+=l.previousWidth-F,l.width=F):(l.width=l.previousWidth+Y,Y=0));for(L=0;L<=T;L++)l=columns[L],hasFrozenColumns()&&L>options.frozenColumn?l.width:ce+=l.width;if(options.forceFitColumns)for(Y=-U,k=T+1;k<columns.length;k++)(l=columns[k]).resizable&&(Y&&l.maxWidth&&l.maxWidth-l.previousWidth<Y?(Y-=l.maxWidth-l.previousWidth,l.width=l.maxWidth):(l.width=l.previousWidth+Y,Y=0),hasFrozenColumns()&&k>options.frozenColumn?l.width:ce+=l.width);else for(k=T+1;k<columns.length;k++)l=columns[k],hasFrozenColumns()&&k>options.frozenColumn?l.width:ce+=l.width;if(options.forceFitColumns)for(Y=-U,k=T+1;k<columns.length;k++)(l=columns[k]).resizable&&(Y&&l.maxWidth&&l.maxWidth-l.previousWidth<Y?(Y-=l.maxWidth-l.previousWidth,l.width=l.maxWidth):(l.width=l.previousWidth+Y,Y=0))}else{for(Y=U,ce=0,0,k=T;k>=0;k--)if((l=columns[k]).resizable)if(Y&&l.maxWidth&&l.maxWidth-l.previousWidth<Y)Y-=l.maxWidth-l.previousWidth,l.width=l.maxWidth;else{var ae=l.previousWidth+Y,_e=canvasWidthL+Y;hasFrozenColumns()&&k<=options.frozenColumn?(ae>w&&_e<te-options.frozenRightViewportMinWidth&&(w=ae),l.width=_e+options.frozenRightViewportMinWidth>te?w:ae):l.width=ae,Y=0}for(L=0;L<=T;L++)l=columns[L],hasFrozenColumns()&&L>options.frozenColumn?l.width:ce+=l.width;if(options.forceFitColumns)for(Y=-U,k=T+1;k<columns.length;k++)(l=columns[k]).resizable&&(F=Math.max(l.minWidth||0,absoluteColumnMinWidth),Y&&l.previousWidth+Y<F?(Y+=l.previousWidth-F,l.width=F):(l.width=l.previousWidth+Y,Y=0),hasFrozenColumns()&&k>options.frozenColumn?l.width:ce+=l.width);else for(k=T+1;k<columns.length;k++)l=columns[k],hasFrozenColumns()&&k>options.frozenColumn?l.width:ce+=l.width}hasFrozenColumns()&&ce!=canvasWidthL&&($headerL.width(ce+1e3),$paneHeaderR.css("left",ce)),applyColumnHeaderWidths(),applyColumnGroupHeaderWidths(),options.syncColumnCellResize&&applyColumnWidths(),trigger(self.onColumnsDrag,{triggeredByColumn:$(this).parent().attr("id").replace(uid,""),resizeHandle:$(this)})}).on("dragend",function(S,N){$(this).parent().removeClass("slick-header-column-active");var U,F=$(this).parent().attr("id").replace(uid,"");for(!0===trigger(self.onBeforeColumnsResize,{triggeredByColumn:F})&&(applyColumnHeaderWidths(),applyColumnGroupHeaderWidths()),k=0;k<columns.length;k++)l=columns[k],U=$(j[k]).outerWidth(),l.previousWidth!==U&&l.rerenderOnResize&&invalidateAllRows();updateCanvasWidth(!0),render(),trigger(self.onColumnsResized,{triggeredByColumn:F}),setTimeout(function(){columnResizeDragging=!1},300)}).on("dblclick",function(){var S=$(this).parent().attr("id").replace(uid,"");trigger(self.onColumnsResizeDblClick,{triggeredByColumn:S})}))})}function getVBoxDelta(V){var L=0;return V&&"function"==typeof V.css&&$.each(["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],function(l,A){L+=parseFloat(V.css(A))||0}),L}function setFrozenOptions(){if(options.frozenColumn=options.frozenColumn>=0&&options.frozenColumn<columns.length?parseInt(options.frozenColumn):-1,options.frozenRow>-1){hasFrozenRows=!0,frozenRowsHeight=options.frozenRow*options.rowHeight;var V=getDataLength();actualFrozenRow=options.frozenBottom?V-options.frozenRow:options.frozenRow}else hasFrozenRows=!1}function setPaneVisibility(){hasFrozenColumns()?($paneHeaderR.show(),$paneTopR.show(),hasFrozenRows?($paneBottomL.show(),$paneBottomR.show()):($paneBottomR.hide(),$paneBottomL.hide())):($paneHeaderR.hide(),$paneTopR.hide(),$paneBottomR.hide(),hasFrozenRows?$paneBottomL.show():($paneBottomR.hide(),$paneBottomL.hide()))}function setOverflow(){$viewportTopL.css({"overflow-x":hasFrozenColumns()?hasFrozenRows&&!options.alwaysAllowHorizontalScroll?"hidden":"scroll":hasFrozenRows&&!options.alwaysAllowHorizontalScroll?"hidden":"auto","overflow-y":!hasFrozenColumns()&&options.alwaysShowVerticalScroll?"scroll":hasFrozenColumns()?"hidden":hasFrozenRows?"scroll":"auto"}),$viewportTopR.css({"overflow-x":hasFrozenColumns()?hasFrozenRows&&!options.alwaysAllowHorizontalScroll?"hidden":"scroll":hasFrozenRows&&!options.alwaysAllowHorizontalScroll?"hidden":"auto","overflow-y":options.alwaysShowVerticalScroll?"scroll":(hasFrozenColumns(),hasFrozenRows?"scroll":"auto")}),$viewportBottomL.css({"overflow-x":hasFrozenColumns()?hasFrozenRows&&!options.alwaysAllowHorizontalScroll?"scroll":"auto":(hasFrozenRows&&options.alwaysAllowHorizontalScroll,"auto"),"overflow-y":!hasFrozenColumns()&&options.alwaysShowVerticalScroll?"scroll":hasFrozenColumns()?"hidden":hasFrozenRows?"scroll":"auto"}),$viewportBottomR.css({"overflow-x":hasFrozenColumns()?hasFrozenRows&&!options.alwaysAllowHorizontalScroll?"scroll":"auto":(hasFrozenRows&&options.alwaysAllowHorizontalScroll,"auto"),"overflow-y":options.alwaysShowVerticalScroll?"scroll":(hasFrozenColumns(),"auto")}),options.viewportClass&&($viewportTopL.toggleClass(options.viewportClass,!0),$viewportTopR.toggleClass(options.viewportClass,!0),$viewportBottomL.toggleClass(options.viewportClass,!0),$viewportBottomR.toggleClass(options.viewportClass,!0))}function setScroller(){hasFrozenColumns()?($headerScrollContainer=$headerScrollerR,$headerRowScrollContainer=$headerRowScrollerR,$footerRowScrollContainer=$footerRowScrollerR,hasFrozenRows?options.frozenBottom?($viewportScrollContainerX=$viewportBottomR,$viewportScrollContainerY=$viewportTopR):$viewportScrollContainerX=$viewportScrollContainerY=$viewportBottomR:$viewportScrollContainerX=$viewportScrollContainerY=$viewportTopR):($headerScrollContainer=$headerScrollerL,$headerRowScrollContainer=$headerRowScrollerL,$footerRowScrollContainer=$footerRowScrollerL,hasFrozenRows?options.frozenBottom?($viewportScrollContainerX=$viewportBottomL,$viewportScrollContainerY=$viewportTopL):$viewportScrollContainerX=$viewportScrollContainerY=$viewportBottomL:$viewportScrollContainerX=$viewportScrollContainerY=$viewportTopL)}function measureCellPaddingAndBorder(){var V,k=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],L=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],l=$.fn.jquery.split(".");jQueryNewWidthBehaviour=1==l[0]&&l[1]>=8||l[0]>=2,V=$("<div class='ui-state-default slick-header-column' style='visibility:hidden'>-</div>").appendTo($headers),headerColumnWidthDiff=headerColumnHeightDiff=0,"border-box"!=V.css("box-sizing")&&"border-box"!=V.css("-moz-box-sizing")&&"border-box"!=V.css("-webkit-box-sizing")&&($.each(k,function(j,I){headerColumnWidthDiff+=parseFloat(V.css(I))||0}),$.each(L,function(j,I){headerColumnHeightDiff+=parseFloat(V.css(I))||0})),V.remove();var A=$("<div class='slick-row' />").appendTo($canvas);V=$("<div class='slick-cell' id='' style='visibility:hidden'>-</div>").appendTo(A),cellWidthDiff=cellHeightDiff=0,"border-box"!=V.css("box-sizing")&&"border-box"!=V.css("-moz-box-sizing")&&"border-box"!=V.css("-webkit-box-sizing")&&($.each(k,function(j,I){cellWidthDiff+=parseFloat(V.css(I))||0}),$.each(L,function(j,I){cellHeightDiff+=parseFloat(V.css(I))||0})),A.remove(),absoluteColumnMinWidth=Math.max(headerColumnWidthDiff,cellWidthDiff)}function createCssRules(){$style=$("<style type='text/css' rel='stylesheet' />").appendTo($("head"));for(var V=options.rowHeight-cellHeightDiff,k=["."+uid+" .slick-group-header-column { left: 1000px; }","."+uid+" .slick-header-column { left: 1000px; }","."+uid+" .slick-top-panel { height:"+options.topPanelHeight+"px; }","."+uid+" .slick-preheader-panel { height:"+options.preHeaderPanelHeight+"px; }","."+uid+" .slick-headerrow-columns { height:"+options.headerRowHeight+"px; }","."+uid+" .slick-footerrow-columns { height:"+options.footerRowHeight+"px; }","."+uid+" .slick-cell { height:"+V+"px; }","."+uid+" .slick-row { height:"+options.rowHeight+"px; }"],L=0;L<columns.length;L++)k.push("."+uid+" .l"+L+" { }"),k.push("."+uid+" .r"+L+" { }");$style[0].styleSheet?$style[0].styleSheet.cssText=k.join(" "):$style[0].appendChild(document.createTextNode(k.join(" ")))}function getColumnCssRules(V){var k;if(!stylesheet){var L=document.styleSheets;for(k=0;k<L.length;k++)if((L[k].ownerNode||L[k].owningElement)==$style[0]){stylesheet=L[k];break}if(!stylesheet)throw new Error("SlickGrid Cannot find stylesheet.");columnCssRulesL=[],columnCssRulesR=[];var A,j,l=stylesheet.cssRules||stylesheet.rules;for(k=0;k<l.length;k++){var I=l[k].selectorText;(A=/\.l\d+/.exec(I))?(j=parseInt(A[0].substr(2,A[0].length-2),10),columnCssRulesL[j]=l[k]):(A=/\.r\d+/.exec(I))&&(j=parseInt(A[0].substr(2,A[0].length-2),10),columnCssRulesR[j]=l[k])}}return{left:columnCssRulesL[V],right:columnCssRulesR[V]}}function removeCssRules(){$style.remove(),stylesheet=null}function destroy(V){getEditorLock().cancelCurrentEdit(),trigger(self.onBeforeDestroy,{});for(var k=plugins.length;k--;)unregisterPlugin(plugins[k]);options.enableColumnReorder&&$headers.filter(":ui-sortable").sortable("destroy"),unbindAncestorScrollEvents(),$container.off(".slickgrid"),removeCssRules(),$canvas.off(),$viewport.off(),$headerScroller.off(),$headerRowScroller.off(),$footerRow&&$footerRow.off(),$footerRowScroller&&$footerRowScroller.off(),$preHeaderPanelScroller&&$preHeaderPanelScroller.off(),$focusSink.off(),$(".slick-resizable-handle").off(),$(".slick-header-column").off(),$container.empty().removeClass(uid),V&&destroyAllElements()}function destroyAllElements(){$activeCanvasNode=null,$activeViewportNode=null,$boundAncestors=null,$canvas=null,$canvasTopL=null,$canvasTopR=null,$canvasBottomL=null,$canvasBottomR=null,$container=null,$focusSink=null,$focusSink2=null,$groupHeaders=null,$groupHeadersL=null,$groupHeadersR=null,$headerL=null,$headerR=null,$headers=null,$headerRow=null,$headerRowL=null,$headerRowR=null,$headerRowSpacerL=null,$headerRowSpacerR=null,$headerRowScrollContainer=null,$headerRowScroller=null,$headerRowScrollerL=null,$headerRowScrollerR=null,$headerScrollContainer=null,$headerScroller=null,$headerScrollerL=null,$headerScrollerR=null,$hiddenParents=null,$footerRow=null,$footerRowL=null,$footerRowR=null,$footerRowSpacerL=null,$footerRowSpacerR=null,$footerRowScroller=null,$footerRowScrollerL=null,$footerRowScrollerR=null,$footerRowScrollContainer=null,$preHeaderPanel=null,$preHeaderPanelR=null,$preHeaderPanelScroller=null,$preHeaderPanelScrollerR=null,$preHeaderPanelSpacer=null,$preHeaderPanelSpacerR=null,$topPanel=null,$topPanelScroller=null,$style=null,$topPanelScrollerL=null,$topPanelScrollerR=null,$topPanelL=null,$topPanelR=null,$paneHeaderL=null,$paneHeaderR=null,$paneTopL=null,$paneTopR=null,$paneBottomL=null,$paneBottomR=null,$viewport=null,$viewportTopL=null,$viewportTopR=null,$viewportBottomL=null,$viewportBottomR=null,$viewportScrollContainerX=null,$viewportScrollContainerY=null}var canvas=null,canvas_context=null;function autosizeColumn(V,k){var L=V;if("number"==typeof V)L=columns[V];else if("string"==typeof V)for(var l=0;l<columns.length;l++)columns[l].Id===V&&(L=columns[l]);getColAutosizeWidth(L,$(getCanvasNode(0,0)),k)}function autosizeColumns(V,k){if((V=V||options.autosizeColsMode)!==Slick.GridAutosizeColsMode.LegacyForceFit&&V!==Slick.GridAutosizeColsMode.LegacyOff){if(V!==Slick.GridAutosizeColsMode.None){(canvas=document.createElement("canvas"))&&canvas.getContext&&(canvas_context=canvas.getContext("2d"));var A,j,I,m,L=$(getCanvasNode(0,0)),l=viewportHasVScroll?viewportW-scrollbarDimensions.width:viewportW,b=0,v=0,w=0,T=0,x=0;for(A=0;A<columns.length;A++)getColAutosizeWidth(j=columns[A],L,k),x+=j.autoSize.autosizeMode===Slick.ColAutosizeMode.Locked?j.width:0,T+=j.autoSize.autosizeMode===Slick.ColAutosizeMode.Locked?j.width:j.minWidth,b+=j.autoSize.widthPx,v+=j.autoSize.sizeToRemaining?0:j.autoSize.widthPx,w+=j.autoSize.sizeToRemaining&&j.minWidth||0;var S=b-v;if(V===Slick.GridAutosizeColsMode.FitViewportToCols){var N=b+scrollbarDimensions.width;V=Slick.GridAutosizeColsMode.IgnoreViewport,options.viewportMaxWidthPx&&N>options.viewportMaxWidthPx?(N=options.viewportMaxWidthPx,V=Slick.GridAutosizeColsMode.FitColsToViewport):options.viewportMinWidthPx&&N<options.viewportMinWidthPx&&(N=options.viewportMinWidthPx,V=Slick.GridAutosizeColsMode.FitColsToViewport),$container.width(N)}if(V===Slick.GridAutosizeColsMode.FitColsToViewport)if(S>0&&v<l-w)for(A=0;A<columns.length;A++){var F=l-v;I=(j=columns[A]).autoSize.sizeToRemaining?F*j.autoSize.widthPx/S:j.autoSize.widthPx,j.rerenderOnResize&&j.width!=I&&(m=!0),j.width=I}else if(options.viewportSwitchToScrollModeWidthPercent&&v+w>l*options.viewportSwitchToScrollModeWidthPercent/100||T>l)V=Slick.GridAutosizeColsMode.IgnoreViewport;else{var U=v-x,Y=l-x-w;for(A=0;A<columns.length;A++)I=(j=columns[A]).width,j.autoSize.autosizeMode!==Slick.ColAutosizeMode.Locked&&(j.autoSize.sizeToRemaining?I=j.minWidth:((I=Y/U*j.autoSize.widthPx)<j.minWidth&&(I=j.minWidth),U-=j.autoSize.widthPx,Y-=I)),j.rerenderOnResize&&j.width!=I&&(m=!0),j.width=I}if(V===Slick.GridAutosizeColsMode.IgnoreViewport)for(A=0;A<columns.length;A++)I=columns[A].autoSize.widthPx,columns[A].rerenderOnResize&&columns[A].width!=I&&(m=!0),columns[A].width=I;reRenderColumns(m)}}else legacyAutosizeColumns()}function LogColWidths(){for(var V="Col Widths:",k=0;k<columns.length;k++)V+=" "+columns[k].width;console.log(V)}function getColAutosizeWidth(V,k,L){var l=V.autoSize;if(l.widthPx=V.width,l.autosizeMode!==Slick.ColAutosizeMode.Locked&&l.autosizeMode!==Slick.ColAutosizeMode.Guide){var A=getDataLength();if(l.autosizeMode===Slick.ColAutosizeMode.ContentIntelligent){var I,j=l.colDataTypeOf;if(A>0){var m=getDataItem(0);m&&("object"===(j=typeof(I=m[V.field]))&&(I instanceof Date&&(j="date"),"undefined"!=typeof moment&&I instanceof moment&&(j="moment")))}"boolean"===j&&(l.colValueArray=[!0,!1]),"number"===j&&(l.valueFilterMode=Slick.ValueFilterMode.GetGreatestAndSub,l.rowSelectionMode=Slick.RowSelectionMode.AllRows),"string"===j&&(l.valueFilterMode=Slick.ValueFilterMode.GetLongestText,l.rowSelectionMode=Slick.RowSelectionMode.AllRows,l.allowAddlPercent=5),"date"===j&&(l.colValueArray=[new Date(2009,8,30,12,20,20)]),"moment"===j&&"undefined"!=typeof moment&&(l.colValueArray=[moment([2009,8,30,12,20,20])])}var b=getColContentSize(V,k,L);b=b*(l.allowAddlPercent?1+l.allowAddlPercent/100:1)+options.autosizeColPaddingPx,V.minWidth&&b<V.minWidth&&(b=V.minWidth),V.maxWidth&&b>V.maxWidth&&(b=V.maxWidth),l.widthPx=b}}function getColContentSize(V,k,L){var I,l=V.autoSize,A=1,m=0,b=0;if(l.ignoreHeaderText||(b=getColHeaderWidth(V)),0===b&&(b=V.width?V.width:V.maxWidth?V.maxWidth:V.minWidth?V.minWidth:20),l.colValueArray)return m=getColWidth(V,k,l.colValueArray),Math.max(b,m);var v=getData();if(v.getItems&&(v=v.getItems()),0===v.length)return b;var w=(L?l.rowSelectionModeOnInit:void 0)||l.rowSelectionMode;if(w===Slick.RowSelectionMode.FirstRow&&(v=v.slice(0,1)),w===Slick.RowSelectionMode.LastRow&&(v=v.slice(v.length-1,v.length)),w===Slick.RowSelectionMode.FirstNRows&&(v=v.slice(0,l.rowSelectionCount)),l.valueFilterMode===Slick.ValueFilterMode.DeDuplicate){var T={};for(j=0,I=v.length;j<I;j++)T[v[j][V.field]]=!0;if(Object.keys)v=Object.keys(T);else for(var j in v=[],T)v.push(j)}if(l.valueFilterMode===Slick.ValueFilterMode.GetGreatestAndSub){var S=0,N=0;for(j=0,I=v.length;j<I;j++)x=v[j][V.field],Math.abs(x)>N&&(S=x,N=Math.abs(x));S=""+S,v=[S=+(S=Array(S.length+1).join("9"))]}if(l.valueFilterMode===Slick.ValueFilterMode.GetLongestTextAndSub){var F=0;for(j=0,I=v.length;j<I;j++)((x=v[j][V.field])||"").length>F&&(F=x.length);x=Array(F+1).join("m"),A=options.autosizeTextAvgToMWidthRatio,v=[x]}if(l.valueFilterMode===Slick.ValueFilterMode.GetLongestText){var x="",U=(F=0,0);for(j=0,I=v.length;j<I;j++)((x=v[j][V.field])||"").length>F&&(F=x.length,U=j);v=[x=v[U][V.field]]}return m=getColWidth(V,k,v)*A,Math.max(b,m)}function getColWidth(V,k,L){var l=getColumnIndex(V.id),A=$('<div class="slick-row ui-widget-content"></div>'),j=$('<div class="slick-cell"></div>');j.css({position:"absolute",visibility:"hidden","text-overflow":"initial","white-space":"nowrap"}),A.append(j),k.append(A);var I,b,v,x,m=0;return canvas_context&&V.autoSize.widthEvalMode===Slick.WidthEvalMode.CanvasTextSize?(canvas_context.font=j.css("font-size")+" "+j.css("font-family"),$(L).each(function(S,N){x=Array.isArray(N)?N[V.field]:N,(I=(b=""+x)?canvas_context.measureText(b).width:0)>m&&(m=I,v=b)}),j.html(v),I=j.outerWidth(),A.remove(),j=null,I):($(L).each(function(S,N){x=Array.isArray(N)?N[V.field]:N,applyFormatResultToCellNode(V.formatterOverride?V.formatterOverride(S,l,x,V,N,self):V.formatter?V.formatter(S,l,x,V,N,self):""+x,j[0]),(I=j.outerWidth())>m&&(m=I)}),A.remove(),j=null,m)}function getColHeaderWidth(V){var k=0,L=getUID()+V.id,l=document.getElementById(L),A=L+"_";if(l){var j=l.cloneNode(!0);j.id=A,j.style.cssText="position: absolute; visibility: hidden;right: auto;text-overflow: initial;white-space: nowrap;",l.parentNode.insertBefore(j,l),k=j.offsetWidth,j.parentNode.removeChild(j)}else{var I=getHeader(V);k=(l=$("<div class='ui-state-default slick-header-column' />").html("<span class='slick-column-name'>"+V.name+"</span>").attr("id",A).css({position:"absolute",visibility:"hidden",right:"auto","text-overflow:":"initial","white-space":"nowrap"}).addClass(V.headerCssClass||"").appendTo(I))[0].offsetWidth,I[0].removeChild(l[0])}return k}function legacyAutosizeColumns(){var V,k,j,L=[],l=0,A=0,I=viewportHasVScroll?viewportW-scrollbarDimensions.width:viewportW;for(V=0;V<columns.length;V++)k=columns[V],L.push(k.width),A+=k.width,k.resizable&&(l+=k.width-Math.max(k.minWidth,absoluteColumnMinWidth));for(j=A;A>I&&l;){var m=(A-I)/l;for(V=0;V<columns.length&&A>I;V++){k=columns[V];var b=L[V];if(!(!k.resizable||b<=k.minWidth||b<=absoluteColumnMinWidth)){var v=Math.max(k.minWidth,absoluteColumnMinWidth),w=Math.floor(m*(b-v))||1;A-=w=Math.min(w,b-v),l-=w,L[V]-=w}}if(j<=A)break;j=A}for(j=A;A<I;){var T=I/A;for(V=0;V<columns.length&&A<I;V++){k=columns[V];var S,x=L[V];A+=S=!k.resizable||k.maxWidth<=x?0:Math.min(Math.floor(T*x)-x,k.maxWidth-x||1e6)||1,L[V]+=A<=I?S:0}if(j>=A)break;j=A}var N=!1;for(V=0;V<columns.length;V++)columns[V].rerenderOnResize&&columns[V].width!=L[V]&&(N=!0),columns[V].width=L[V];reRenderColumns(N)}function reRenderColumns(V){applyColumnHeaderWidths(),applyColumnGroupHeaderWidths(),updateCanvasWidth(!0),trigger(self.onAutosizeColumns,{columns}),V&&(invalidateAllRows(),render())}function trigger(V,k,L){return L=L||new Slick.EventData,(k=k||{}).grid=self,V.notify(k,L,self)}function getEditorLock(){return options.editorLock}function getEditController(){return editController}function getColumnIndex(V){return columnsById[V]}function applyColumnGroupHeaderWidths(){if(treeColumns.hasDepth())for(var V=$groupHeadersL.length-1;V>=0;V--){treeColumns.getColumnsInDepth(V);$().add($groupHeadersL[V]).add($groupHeadersR[V]).each(function(L){var l=$(this),A=0;l.width(0===L?getHeadersWidthL():getHeadersWidthR()),l.children().each(function(){var j=$(this),I=$(this).data("column");I.width=0,I.columns.forEach(function(){var m=l.next().children(":eq("+A+++")");I.width+=m.outerWidth()}),j.width(I.width-headerColumnWidthDiff)})})}}function applyColumnHeaderWidths(){if(initialized){for(var V,k=0,L=$headers.children(),l=columns.length;k<l;k++)V=$(L[k]),jQueryNewWidthBehaviour?V.outerWidth()!==columns[k].width&&V.outerWidth(columns[k].width):V.width()!==columns[k].width-headerColumnWidthDiff&&V.width(columns[k].width-headerColumnWidthDiff);updateColumnCaches()}}function applyColumnWidths(){for(var k,L,V=0,l=0;l<columns.length;l++)k=columns[l].width,(L=getColumnCssRules(l)).left.style.left=V+"px",L.right.style.right=(-1!=options.frozenColumn&&l>options.frozenColumn?canvasWidthR:canvasWidthL)-V-k+"px",options.frozenColumn==l?V=0:V+=columns[l].width}function setSortColumn(V,k){setSortColumns([{columnId:V,sortAsc:k}])}function setSortColumns(V){sortColumns=V;var k=options.numberedMultiColumnSort&&sortColumns.length>1,L=$headers.children();L.removeClass("slick-header-column-sorted").find(".slick-sort-indicator").removeClass("slick-sort-indicator-asc slick-sort-indicator-desc"),L.find(".slick-sort-indicator-numbered").text(""),$.each(sortColumns,function(l,A){null==A.sortAsc&&(A.sortAsc=!0);var j=getColumnIndex(A.columnId);null!=j&&(L.eq(j).addClass("slick-header-column-sorted").find(".slick-sort-indicator").addClass(A.sortAsc?"slick-sort-indicator-asc":"slick-sort-indicator-desc"),k&&L.eq(j).find(".slick-sort-indicator-numbered").text(l+1))})}function getSortColumns(){return sortColumns}function handleSelectedRangesChanged(V,k){var L=selectedRows.slice(0);selectedRows=[];for(var l={},A=0;A<k.length;A++)for(var j=k[A].fromRow;j<=k[A].toRow;j++){l[j]||(selectedRows.push(j),l[j]={});for(var I=k[A].fromCell;I<=k[A].toCell;I++)canCellBeSelected(j,I)&&(l[j][columns[I].id]=options.selectedCellCssClass)}if(setCellCssStyles(options.selectedCellCssClass,l),simpleArrayEquals(L,selectedRows)){var m=V&&V.detail&&V.detail.caller||"click",b=getSelectedRows().filter(function(w){return L.indexOf(w)<0}),v=L.filter(function(w){return getSelectedRows().indexOf(w)<0});trigger(self.onSelectedRowsChanged,{rows:getSelectedRows(),previousSelectedRows:L,caller:m,changedSelectedRows:b,changedUnselectedRows:v},V)}}function simpleArrayEquals(V,k){return Array.isArray(V)&&Array.isArray(k)&&k.sort().toString()!==V.sort().toString()}function getColumns(){return columns}function updateColumnCaches(){columnPosLeft=[],columnPosRight=[];for(var V=0,k=0,L=columns.length;k<L;k++)columnPosLeft[k]=V,columnPosRight[k]=V+columns[k].width,options.frozenColumn==k?V=0:V+=columns[k].width}function updateColumnProps(){columnsById={};for(var V=0;V<columns.length;V++){columns[V].width&&(columns[V].widthRequest=columns[V].width);var k=columns[V]=$.extend({},columnDefaults,columns[V]);k.autoSize=$.extend({},columnAutosizeDefaults,k.autoSize),columnsById[k.id]=V,k.minWidth&&k.width<k.minWidth&&(k.width=k.minWidth),k.maxWidth&&k.width>k.maxWidth&&(k.width=k.maxWidth),k.resizable}}function setColumns(V){trigger(self.onBeforeSetColumns,{previousColumns:columns,newColumns:V,grid:self});var k=new Slick.TreeColumns(V);k.hasDepth()?columns=(treeColumns=k).extractColumns():columns=V,updateColumnProps(),updateColumnCaches(),initialized&&(setPaneVisibility(),setOverflow(),invalidateAllRows(),createColumnHeaders(),createColumnGroupHeaders(),createColumnFooter(),removeCssRules(),createCssRules(),resizeCanvas(),updateCanvasWidth(),applyColumnHeaderWidths(),applyColumnWidths(),handleScroll())}function getOptions(){return options}function setOptions(V,k,L,l){if(getEditorLock().commitCurrentEdit()){makeActiveCellNormal(),void 0!==V.showColumnHeader&&setColumnHeaderVisibility(V.showColumnHeader),options.enableAddRow!==V.enableAddRow&&invalidateRow(getDataLength());var A=$.extend(!0,{},options);if(options=$.extend(options,V),trigger(self.onSetOptions,{optionsBefore:A,optionsAfter:options}),validateAndEnforceOptions(),$viewport.css("overflow-y",options.autoHeight?"hidden":"auto"),k||render(),setFrozenOptions(),setScroller(),l||setOverflow(),L||setColumns(treeColumns.extractColumns()),options.enableMouseWheelScrollHandler&&$viewport&&jQuery.fn.mousewheel){var j=$._data($viewport[0],"events");(!j||!j.mousewheel)&&$viewport.on("mousewheel",handleMouseWheel)}else!1===options.enableMouseWheelScrollHandler&&$viewport.off("mousewheel")}}function validateAndEnforceOptions(){options.autoHeight&&(options.leaveSpaceForNewRows=!1),options.forceFitColumns&&(options.autosizeColsMode=Slick.GridAutosizeColsMode.LegacyForceFit,console.log("forceFitColumns option is deprecated - use autosizeColsMode"))}function setData(V,k){data=V,invalidateAllRows(),updateRowCount(),k&&scrollTo(0)}function getData(){return data}function getDataLength(){return data.getLength?data.getLength():data&&data.length||0}function getDataLengthIncludingAddNew(){return getDataLength()+(!options.enableAddRow||pagingActive&&!pagingIsLastPage?0:1)}function getDataItem(V){return data.getItem?data.getItem(V):data[V]}function getTopPanel(){return $topPanel[0]}function setTopPanelVisibility(V,k){var L=!1!==k;options.showTopPanel!=V&&(options.showTopPanel=V,V?L?$topPanelScroller.slideDown("fast",resizeCanvas):($topPanelScroller.show(),resizeCanvas()):L?$topPanelScroller.slideUp("fast",resizeCanvas):($topPanelScroller.hide(),resizeCanvas()))}function setHeaderRowVisibility(V,k){var L=!1!==k;options.showHeaderRow!=V&&(options.showHeaderRow=V,V?L?$headerRowScroller.slideDown("fast",resizeCanvas):($headerRowScroller.show(),resizeCanvas()):L?$headerRowScroller.slideUp("fast",resizeCanvas):($headerRowScroller.hide(),resizeCanvas()))}function setColumnHeaderVisibility(V,k){options.showColumnHeader!=V&&(options.showColumnHeader=V,V?k?$headerScroller.slideDown("fast",resizeCanvas):($headerScroller.show(),resizeCanvas()):k?$headerScroller.slideUp("fast",resizeCanvas):($headerScroller.hide(),resizeCanvas()))}function setFooterRowVisibility(V,k){var L=!1!==k;options.showFooterRow!=V&&(options.showFooterRow=V,V?L?$footerRowScroller.slideDown("fast",resizeCanvas):($footerRowScroller.show(),resizeCanvas()):L?$footerRowScroller.slideUp("fast",resizeCanvas):($footerRowScroller.hide(),resizeCanvas()))}function setPreHeaderPanelVisibility(V,k){var L=!1!==k;options.showPreHeaderPanel!=V&&(options.showPreHeaderPanel=V,V?L?($preHeaderPanelScroller.slideDown("fast",resizeCanvas),$preHeaderPanelScrollerR.slideDown("fast",resizeCanvas)):($preHeaderPanelScroller.show(),$preHeaderPanelScrollerR.show(),resizeCanvas()):L?($preHeaderPanelScroller.slideUp("fast",resizeCanvas),$preHeaderPanelScrollerR.slideUp("fast",resizeCanvas)):($preHeaderPanelScroller.hide(),$preHeaderPanelScrollerR.hide(),resizeCanvas()))}function getContainerNode(){return $container.get(0)}function getRowTop(V){return options.rowHeight*V-offset}function getRowFromPosition(V){return Math.floor((V+offset)/options.rowHeight)}function scrollTo(V){V=Math.max(V,0),V=Math.min(V,th-$viewportScrollContainerY.height()+(viewportHasHScroll||hasFrozenColumns()?scrollbarDimensions.height:0));var k=offset;page=Math.min(n-1,Math.floor(V/ph));var L=V-(offset=Math.round(page*cj));offset!=k&&(cleanupRows(getVisibleRange(L)),updateRowPositions());prevScrollTop!=L&&(vScrollDir=prevScrollTop+k<L+offset?1:-1,lastRenderedScrollTop=scrollTop=prevScrollTop=L,hasFrozenColumns()&&($viewportTopL[0].scrollTop=L),hasFrozenRows&&($viewportBottomL[0].scrollTop=$viewportBottomR[0].scrollTop=L),$viewportScrollContainerY[0].scrollTop=L,trigger(self.onViewportChanged,{}))}function defaultFormatter(V,k,L,l,A,j){return null==L?"":(L+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function getFormatter(V,k){var L=data.getItemMetadata&&data.getItemMetadata(V),l=L&&L.columns&&(L.columns[k.id]||L.columns[getColumnIndex(k.id)]);return l&&l.formatter||L&&L.formatter||k.formatter||options.formatterFactory&&options.formatterFactory.getFormatter(k)||options.defaultFormatter}function getEditor(V,k){var L=columns[k],l=data.getItemMetadata&&data.getItemMetadata(V),A=l&&l.columns;return A&&A[L.id]&&void 0!==A[L.id].editor?A[L.id].editor:A&&A[k]&&void 0!==A[k].editor?A[k].editor:L.editor||options.editorFactory&&options.editorFactory.getEditor(L)}function getDataItemValueForColumn(V,k){return options.dataItemColumnValueExtractor?options.dataItemColumnValueExtractor(V,k):V[k.field]}function appendRowHtml(V,k,L,l,A){var j=getDataItem(L),I=L<A&&!j,m="slick-row"+(hasFrozenRows&&L<=options.frozenRow?" frozen":"")+(I?" loading":"")+(L===activeRow&&options.showCellSelection?" active":"")+(L%2==1?" odd":" even");j||(m+=" "+options.addNewRowCssClass);var b=data.getItemMetadata&&data.getItemMetadata(L);b&&b.cssClasses&&(m+=" "+b.cssClasses);var v=getFrozenRowOffset(L),w="<div class='ui-widget-content "+m+"' style='top:"+(getRowTop(L)-v)+"px'>";V.push(w),hasFrozenColumns()&&k.push(w);for(var T,x,S=0,N=columns.length;S<N;S++){if(x=columns[S],T=1,b&&b.columns){var F=b.columns[x.id]||b.columns[S];"*"===(T=F&&F.colspan||1)&&(T=N-S)}if(columnPosRight[Math.min(N-1,S+T-1)]>l.leftPx){if(!x.alwaysRenderColumn&&columnPosLeft[S]>l.rightPx)break;hasFrozenColumns()&&S>options.frozenColumn?appendCellHtml(k,L,S,T,j):appendCellHtml(V,L,S,T,j)}else(x.alwaysRenderColumn||hasFrozenColumns()&&S<=options.frozenColumn)&&appendCellHtml(V,L,S,T,j);T>1&&(S+=T-1)}V.push("</div>"),hasFrozenColumns()&&k.push("</div>")}function appendCellHtml(V,k,L,l,A){var j=columns[L],I="slick-cell l"+L+" r"+Math.min(columns.length-1,L+l-1)+(j.cssClass?" "+j.cssClass:"");for(var m in hasFrozenColumns()&&L<=options.frozenColumn&&(I+=" frozen"),k===activeRow&&L===activeCell&&options.showCellSelection&&(I+=" active"),cellCssClasses)cellCssClasses[m][k]&&cellCssClasses[m][k][j.id]&&(I+=" "+cellCssClasses[m][k][j.id]);var b=null,v="";A&&(b=getDataItemValueForColumn(A,j),null==(v=getFormatter(k,j)(k,L,b,j,A,self))&&(v=""));var w=trigger(self.onBeforeAppendCell,{row:k,cell:L,value:b,dataContext:A})||"";w+=v&&v.addClasses?(w?" ":"")+v.addClasses:"";var T=v&&v.toolTip?"title='"+v.toolTip+"'":"",x="";if(j.hasOwnProperty("cellAttrs")&&j.cellAttrs instanceof Object)for(var m in j.cellAttrs)j.cellAttrs.hasOwnProperty(m)&&(x+=" "+m+'="'+j.cellAttrs[m]+'" ');V.push("<div class='"+I+(w?" "+w:"")+"' "+T+x+">"),A&&V.push("[object Object]"!==Object.prototype.toString.call(v)?v:v.text),V.push("</div>"),rowsCache[k].cellRenderQueue.push(L),rowsCache[k].cellColSpans[L]=l}function cleanupRows(V){for(var k in rowsCache){var L=!0;hasFrozenRows&&(options.frozenBottom&&k>=actualFrozenRow||!options.frozenBottom&&k<=actualFrozenRow)&&(L=!1),(k=parseInt(k,10))!==activeRow&&(k<V.top||k>V.bottom)&&L&&removeRowFromCache(k)}options.enableAsyncPostRenderCleanup&&startPostProcessingCleanup()}function invalidate(){updateRowCount(),invalidateAllRows(),render()}function invalidateAllRows(){for(var V in currentEditor&&makeActiveCellNormal(),rowsCache)removeRowFromCache(V);options.enableAsyncPostRenderCleanup&&startPostProcessingCleanup()}function queuePostProcessedRowForCleanup(V,k,L){for(var l in postProcessgroupId++,k)k.hasOwnProperty(l)&&postProcessedCleanupQueue.push({actionType:"C",groupId:postProcessgroupId,node:V.cellNodesByColumnIdx[0|l],columnIdx:0|l,rowIdx:L});postProcessedCleanupQueue.push({actionType:"R",groupId:postProcessgroupId,node:V.rowNode}),V.rowNode.detach()}function queuePostProcessedCellForCleanup(V,k,L){postProcessedCleanupQueue.push({actionType:"C",groupId:postProcessgroupId,node:V,columnIdx:k,rowIdx:L}),$(V).detach()}function removeRowFromCache(V){var k=rowsCache[V];!k||(options.enableAsyncPostRenderCleanup&&postProcessedRows[V]?queuePostProcessedRowForCleanup(k,postProcessedRows[V],V):k.rowNode.each(function(){this.parentElement&&this.parentElement.removeChild(this)}),delete rowsCache[V],delete postProcessedRows[V],renderedRows--,counter_rows_removed++)}function invalidateRows(V){var k,L;if(V&&V.length){for(vScrollDir=0,L=V.length,k=0;k<L;k++)currentEditor&&activeRow===V[k]&&makeActiveCellNormal(),rowsCache[V[k]]&&removeRowFromCache(V[k]);options.enableAsyncPostRenderCleanup&&startPostProcessingCleanup()}}function invalidateRow(V){!V&&0!==V||invalidateRows([V])}function applyFormatResultToCellNode(V,k,L){null==V&&(V=""),"[object Object]"===Object.prototype.toString.call(V)?(k.innerHTML=sanitizeHtmlString(V.text),V.removeClasses&&!L&&$(k).removeClass(V.removeClasses),V.addClasses&&$(k).addClass(V.addClasses),V.toolTip&&$(k).attr("title",V.toolTip)):k.innerHTML=sanitizeHtmlString(V)}function updateCell(V,k){var L=getCellNode(V,k);if(L){var l=columns[k],A=getDataItem(V);if(currentEditor&&activeRow===V&&activeCell===k)currentEditor.loadValue(A);else applyFormatResultToCellNode(A?getFormatter(V,l)(V,k,getDataItemValueForColumn(A,l),l,A,self):"",L),invalidatePostProcessingResults(V)}}function updateRow(V){var k=rowsCache[V];if(k){ensureCellNodesInRowsCache(V);var l=getDataItem(V);for(var A in k.cellNodesByColumnIdx)if(k.cellNodesByColumnIdx.hasOwnProperty(A)){var j=columns[A|=0],I=k.cellNodesByColumnIdx[A][0];V===activeRow&&A===activeCell&&currentEditor?currentEditor.loadValue(l):l?applyFormatResultToCellNode(getFormatter(V,j)(V,A,getDataItemValueForColumn(l,j),j,l,self),I):I.innerHTML=""}invalidatePostProcessingResults(V)}}function getViewportHeight(){if((!options.autoHeight||-1!=options.frozenColumn)&&(topPanelH=options.showTopPanel?options.topPanelHeight+getVBoxDelta($topPanelScroller):0,headerRowH=options.showHeaderRow?options.headerRowHeight+getVBoxDelta($headerRowScroller):0,footerRowH=options.showFooterRow?options.footerRowHeight+getVBoxDelta($footerRowScroller):0),options.autoHeight){var V=$paneHeaderL.outerHeight();V+=options.showHeaderRow?options.headerRowHeight+getVBoxDelta($headerRowScroller):0,V+=options.showFooterRow?options.footerRowHeight+getVBoxDelta($footerRowScroller):0,V+=getCanvasWidth()>viewportW?scrollbarDimensions.height:0,viewportH=options.rowHeight*getDataLengthIncludingAddNew()+(-1==options.frozenColumn?V:0)}else{var k=options.showColumnHeader?parseFloat($.css($headerScroller[0],"height"))+getVBoxDelta($headerScroller):0,L=options.createPreHeaderPanel&&options.showPreHeaderPanel?options.preHeaderPanelHeight+getVBoxDelta($preHeaderPanelScroller):0;viewportH=parseFloat($.css($container[0],"height",!0))-parseFloat($.css($container[0],"paddingTop",!0))-parseFloat($.css($container[0],"paddingBottom",!0))-k-topPanelH-headerRowH-footerRowH-L}return numVisibleRows=Math.ceil(viewportH/options.rowHeight),viewportH}function getViewportWidth(){viewportW=parseFloat($container.width())}function resizeCanvas(){if(initialized){paneTopH=0,paneBottomH=0,viewportTopH=0,viewportBottomH=0,getViewportWidth(),getViewportHeight(),hasFrozenRows?options.frozenBottom?(paneTopH=viewportH-frozenRowsHeight-scrollbarDimensions.height,paneBottomH=frozenRowsHeight+scrollbarDimensions.height):(paneTopH=frozenRowsHeight,paneBottomH=viewportH-frozenRowsHeight):paneTopH=viewportH,paneTopH+=topPanelH+headerRowH+footerRowH,hasFrozenColumns()&&options.autoHeight&&(paneTopH+=scrollbarDimensions.height),viewportTopH=paneTopH-topPanelH-headerRowH-footerRowH,options.autoHeight&&(hasFrozenColumns()&&$container.height(paneTopH+parseFloat($.css($headerScrollerL[0],"height"))),$paneTopL.css("position","relative")),$paneTopL.css({top:$paneHeaderL.height()||(options.showHeaderRow?options.headerRowHeight:0)+(options.showPreHeaderPanel?options.preHeaderPanelHeight:0),height:paneTopH});var V=$paneTopL.position().top+paneTopH;options.autoHeight||$viewportTopL.height(viewportTopH),hasFrozenColumns()?($paneTopR.css({top:$paneHeaderL.height(),height:paneTopH}),$viewportTopR.height(viewportTopH),hasFrozenRows&&($paneBottomL.css({top:V,height:paneBottomH}),$paneBottomR.css({top:V,height:paneBottomH}),$viewportBottomR.height(paneBottomH))):hasFrozenRows&&($paneBottomL.css({width:"100%",height:paneBottomH}),$paneBottomL.css("top",V)),hasFrozenRows?($viewportBottomL.height(paneBottomH),options.frozenBottom?($canvasBottomL.height(frozenRowsHeight),hasFrozenColumns()&&$canvasBottomR.height(frozenRowsHeight)):($canvasTopL.height(frozenRowsHeight),hasFrozenColumns()&&$canvasTopR.height(frozenRowsHeight))):$viewportTopR.height(viewportTopH),(!scrollbarDimensions||!scrollbarDimensions.width)&&(scrollbarDimensions=measureScrollbar()),options.autosizeColsMode===Slick.GridAutosizeColsMode.LegacyForceFit&&autosizeColumns(),updateRowCount(),handleScroll(),lastRenderedScrollLeft=-1,render()}}function updatePagingStatusFromView(V){pagingActive=0!==V.pageSize,pagingIsLastPage=V.pageNum==V.totalPages-1}function updateRowCount(){if(initialized){var V=getDataLength(),k=getDataLengthIncludingAddNew(),L=0,l=hasFrozenRows&&!options.frozenBottom?$canvasBottomL.height():$canvasTopL.height();if(hasFrozenRows)L=getDataLength()-options.frozenRow;else L=k+(options.leaveSpaceForNewRows?numVisibleRows-1:0);var A=$viewportScrollContainerY.height(),j=viewportHasVScroll;viewportHasVScroll=options.alwaysShowVerticalScroll||!options.autoHeight&&L*options.rowHeight>A,makeActiveCellNormal();var I=V-1;for(var m in rowsCache)m>I&&removeRowFromCache(m);options.enableAsyncPostRenderCleanup&&startPostProcessingCleanup(),activeCellNode&&activeRow>I&&resetActiveCell();l=h;options.autoHeight?h=options.rowHeight*L:(th=Math.max(options.rowHeight*L,A-scrollbarDimensions.height))<maxSupportedCssHeight?(h=ph=th,n=1,cj=0):(ph=(h=maxSupportedCssHeight)/100,n=Math.floor(th/ph),cj=(th-h)/(n-1)),h!==l&&(hasFrozenRows&&!options.frozenBottom?($canvasBottomL.css("height",h),hasFrozenColumns()&&$canvasBottomR.css("height",h)):($canvasTopL.css("height",h),$canvasTopR.css("height",h)),scrollTop=$viewportScrollContainerY[0].scrollTop);var b=scrollTop+offset<=th-A;0==th||0==scrollTop?page=offset=0:scrollTo(b?scrollTop+offset:th-A),h!=l&&options.autoHeight&&resizeCanvas(),options.autosizeColsMode===Slick.GridAutosizeColsMode.LegacyForceFit&&j!=viewportHasVScroll&&autosizeColumns(),updateCanvasWidth(!1)}}function getVisibleRange(V,k){return null==V&&(V=scrollTop),null==k&&(k=scrollLeft),{top:getRowFromPosition(V),bottom:getRowFromPosition(V+viewportH)+1,leftPx:k,rightPx:k+viewportW}}function getRenderedRange(V,k){var L=getVisibleRange(V,k),l=Math.round(viewportH/options.rowHeight),A=options.minRowBuffer;return-1==vScrollDir?(L.top-=l,L.bottom+=A):1==vScrollDir?(L.top-=A,L.bottom+=l):(L.top-=A,L.bottom+=A),L.top=Math.max(0,L.top),L.bottom=Math.min(getDataLengthIncludingAddNew()-1,L.bottom),L.leftPx-=viewportW,L.rightPx+=viewportW,L.leftPx=Math.max(0,L.leftPx),L.rightPx=Math.min(canvasWidth,L.rightPx),L}function ensureCellNodesInRowsCache(V){var k=rowsCache[V];if(k&&k.cellRenderQueue.length)for(var L=k.rowNode.children().last();k.cellRenderQueue.length;){var l=k.cellRenderQueue.pop();k.cellNodesByColumnIdx[l]=L,0===(L=L.prev()).length&&(L=$(k.rowNode[0]).children().last())}}function cleanUpCells(V,k){if(!hasFrozenRows||!(options.frozenBottom&&k>actualFrozenRow||k<=actualFrozenRow)){var m,b,l=rowsCache[k],A=[];for(var j in l.cellNodesByColumnIdx)if(l.cellNodesByColumnIdx.hasOwnProperty(j)&&!((j|=0)<=options.frozenColumn||Array.isArray(columns)&&columns[j]&&columns[j].alwaysRenderColumn)){var I=l.cellColSpans[j];(columnPosLeft[j]>V.rightPx||columnPosRight[Math.min(columns.length-1,j+I-1)]<V.leftPx)&&(k==activeRow&&j==activeCell||A.push(j))}for(;null!=(m=A.pop());)b=l.cellNodesByColumnIdx[m][0],options.enableAsyncPostRenderCleanup&&postProcessedRows[k]&&postProcessedRows[k][m]?queuePostProcessedCellForCleanup(b,m,k):b.parentElement.removeChild(b),delete l.cellColSpans[m],delete l.cellNodesByColumnIdx[m],postProcessedRows[k]&&delete postProcessedRows[k][m]}}function cleanUpAndRenderCells(V){for(var k,A,I,L=[],l=[],m=V.top,b=V.bottom;m<=b;m++)if(k=rowsCache[m]){ensureCellNodesInRowsCache(m),cleanUpCells(V,m),A=0;var v=data.getItemMetadata&&data.getItemMetadata(m);v=v&&v.columns;for(var w=getDataItem(m),T=0,x=columns.length;T<x&&!(columnPosLeft[T]>V.rightPx);T++)if(null==(I=k.cellColSpans[T])){if(I=1,v){var S=v[columns[T].id]||v[T];"*"===(I=S&&S.colspan||1)&&(I=x-T)}columnPosRight[Math.min(x-1,T+I-1)]>V.leftPx&&(appendCellHtml(L,m,T,I,w),A++),T+=I>1?I-1:0}else T+=I>1?I-1:0;A&&(A,l.push(m))}if(L.length){var F,U,N=document.createElement("div");for(N.innerHTML=sanitizeHtmlString(L.join(""));null!=(F=l.pop());){k=rowsCache[F];for(var Y;null!=(Y=k.cellRenderQueue.pop());)U=N.lastChild,hasFrozenColumns()&&Y>options.frozenColumn?k.rowNode[1].appendChild(U):k.rowNode[0].appendChild(U),k.cellNodesByColumnIdx[Y]=$(U)}}}function renderRows(V){for(var k=[],L=[],l=[],A=!1,j=getDataLength(),I=V.top,m=V.bottom;I<=m;I++)rowsCache[I]||hasFrozenRows&&options.frozenBottom&&I==getDataLength()||(renderedRows++,l.push(I),rowsCache[I]={rowNode:null,cellColSpans:[],cellNodesByColumnIdx:[],cellRenderQueue:[]},appendRowHtml(k,L,I,V,j),activeCellNode&&activeRow===I&&(A=!0),counter_rows_rendered++);if(l.length){var b=document.createElement("div"),v=document.createElement("div");b.innerHTML=sanitizeHtmlString(k.join("")),v.innerHTML=sanitizeHtmlString(L.join(""));for(I=0,m=l.length;I<m;I++)hasFrozenRows&&l[I]>=actualFrozenRow?hasFrozenColumns()?(rowsCache[l[I]].rowNode=$().add($(b.firstChild)).add($(v.firstChild)),$canvasBottomL[0].appendChild(b.firstChild),$canvasBottomR[0].appendChild(v.firstChild)):(rowsCache[l[I]].rowNode=$().add($(b.firstChild)),$canvasBottomL[0].appendChild(b.firstChild)):hasFrozenColumns()?(rowsCache[l[I]].rowNode=$().add($(b.firstChild)).add($(v.firstChild)),$canvasTopL[0].appendChild(b.firstChild),$canvasTopR[0].appendChild(v.firstChild)):(rowsCache[l[I]].rowNode=$().add($(b.firstChild)),$canvasTopL[0].appendChild(b.firstChild));A&&(activeCellNode=getCellNode(activeRow,activeCell))}}function startPostProcessing(){!options.enableAsyncPostRender||(clearTimeout(h_postrender),h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay))}function startPostProcessingCleanup(){!options.enableAsyncPostRenderCleanup||(clearTimeout(h_postrenderCleanup),h_postrenderCleanup=setTimeout(asyncPostProcessCleanupRows,options.asyncPostRenderCleanupDelay))}function invalidatePostProcessingResults(V){for(var k in postProcessedRows[V])postProcessedRows[V].hasOwnProperty(k)&&(postProcessedRows[V][k]="C");postProcessFromRow=Math.min(postProcessFromRow,V),postProcessToRow=Math.max(postProcessToRow,V),startPostProcessing()}function updateRowPositions(){for(var V in rowsCache){var k=V?parseInt(V):0;rowsCache[k].rowNode[0].style.top=getRowTop(k)+"px"}}function render(){if(initialized){scrollThrottle.dequeue();var V=getVisibleRange(),k=getRenderedRange();if(cleanupRows(k),lastRenderedScrollLeft!=scrollLeft){if(hasFrozenRows){var L=jQuery.extend(!0,{},k);options.frozenBottom?(L.top=actualFrozenRow,L.bottom=getDataLength()):(L.top=0,L.bottom=options.frozenRow),cleanUpAndRenderCells(L)}cleanUpAndRenderCells(k)}renderRows(k),hasFrozenRows&&(options.frozenBottom?renderRows({top:actualFrozenRow,bottom:getDataLength()-1,leftPx:k.leftPx,rightPx:k.rightPx}):renderRows({top:0,bottom:options.frozenRow-1,leftPx:k.leftPx,rightPx:k.rightPx})),postProcessFromRow=V.top,postProcessToRow=Math.min(getDataLengthIncludingAddNew()-1,V.bottom),startPostProcessing(),lastRenderedScrollTop=scrollTop,lastRenderedScrollLeft=scrollLeft,h_render=null,trigger(self.onRendered,{startRow:V.top,endRow:V.bottom,grid:self})}}function handleHeaderScroll(){handleElementScroll($headerScrollContainer[0])}function handleHeaderRowScroll(){var V=$headerRowScrollContainer[0].scrollLeft;V!=$viewportScrollContainerX[0].scrollLeft&&($viewportScrollContainerX[0].scrollLeft=V)}function handleFooterRowScroll(){var V=$footerRowScrollContainer[0].scrollLeft;V!=$viewportScrollContainerX[0].scrollLeft&&($viewportScrollContainerX[0].scrollLeft=V)}function handlePreHeaderPanelScroll(){handleElementScroll($preHeaderPanelScroller[0])}function handleElementScroll(V){var k=V.scrollLeft;k!=$viewportScrollContainerX[0].scrollLeft&&($viewportScrollContainerX[0].scrollLeft=k)}function handleScroll(){return scrollTop=$viewportScrollContainerY[0].scrollTop,scrollLeft=$viewportScrollContainerX[0].scrollLeft,_handleScroll(!1)}function _handleScroll(V){var k=$viewportScrollContainerY[0].scrollHeight-$viewportScrollContainerY[0].clientHeight,L=$viewportScrollContainerY[0].scrollWidth-$viewportScrollContainerY[0].clientWidth;k=Math.max(0,k),L=Math.max(0,L),scrollTop>k&&(scrollTop=k),scrollLeft>L&&(scrollLeft=L);var l=Math.abs(scrollTop-prevScrollTop),A=Math.abs(scrollLeft-prevScrollLeft);if(A&&(prevScrollLeft=scrollLeft,$viewportScrollContainerX[0].scrollLeft=scrollLeft,$headerScrollContainer[0].scrollLeft=scrollLeft,$topPanelScroller[0].scrollLeft=scrollLeft,$headerRowScrollContainer[0].scrollLeft=scrollLeft,options.createFooterRow&&($footerRowScrollContainer[0].scrollLeft=scrollLeft),options.createPreHeaderPanel&&(hasFrozenColumns()?$preHeaderPanelScrollerR[0].scrollLeft=scrollLeft:$preHeaderPanelScroller[0].scrollLeft=scrollLeft),hasFrozenColumns()?hasFrozenRows&&($viewportTopR[0].scrollLeft=scrollLeft):hasFrozenRows&&($viewportTopL[0].scrollLeft=scrollLeft)),l)if(vScrollDir=prevScrollTop<scrollTop?1:-1,prevScrollTop=scrollTop,V&&($viewportScrollContainerY[0].scrollTop=scrollTop),hasFrozenColumns()&&(hasFrozenRows&&!options.frozenBottom?$viewportBottomL[0].scrollTop=scrollTop:$viewportTopL[0].scrollTop=scrollTop),l<viewportH)scrollTo(scrollTop+offset);else{var j=offset;page=h==viewportH?0:Math.min(n-1,Math.floor(scrollTop*((th-viewportH)/(h-viewportH))*(1/ph))),j!=(offset=Math.round(page*cj))&&invalidateAllRows()}if(A||l){var I=Math.abs(lastRenderedScrollLeft-scrollLeft),m=Math.abs(lastRenderedScrollTop-scrollTop);(I>20||m>20)&&(options.forceSyncScrolling||m<viewportH&&I<viewportW?render():scrollThrottle.enqueue(),trigger(self.onViewportChanged,{}))}return trigger(self.onScroll,{scrollLeft,scrollTop}),!(!A&&!l)}function ActionThrottle(V,k){var L=!1,l=!1;function j(){l=!1}function I(){L=!0,setTimeout(m,k),V()}function m(){l?(j(),I()):L=!1}return{enqueue:function(){L?l=!0:I()},dequeue:j}}function asyncPostProcessRows(){for(var V=getDataLength();postProcessFromRow<=postProcessToRow;){var k=vScrollDir>=0?postProcessFromRow++:postProcessToRow--,L=rowsCache[k];if(L&&!(k>=V)){for(var l in postProcessedRows[k]||(postProcessedRows[k]={}),ensureCellNodesInRowsCache(k),L.cellNodesByColumnIdx)if(L.cellNodesByColumnIdx.hasOwnProperty(l)){var A=columns[l|=0],j=postProcessedRows[k][l];if(A.asyncPostRender&&"R"!==j){var I=L.cellNodesByColumnIdx[l];I&&A.asyncPostRender(I,k,getDataItem(k),A,"C"===j),postProcessedRows[k][l]="R"}}return void(h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay))}}}function asyncPostProcessCleanupRows(){if(postProcessedCleanupQueue.length>0){for(var V=postProcessedCleanupQueue[0].groupId;postProcessedCleanupQueue.length>0&&postProcessedCleanupQueue[0].groupId==V;){var k=postProcessedCleanupQueue.shift();if("R"==k.actionType&&$(k.node).remove(),"C"==k.actionType){var L=columns[k.columnIdx];L.asyncPostRenderCleanup&&k.node&&L.asyncPostRenderCleanup(k.node,k.rowIdx,L)}}h_postrenderCleanup=setTimeout(asyncPostProcessCleanupRows,options.asyncPostRenderCleanupDelay)}}function updateCellCssStylesOnRenderedRows(V,k){var L,l,A,j;for(var I in rowsCache){if(j=k&&k[I],A=V&&V[I],j)for(l in j)(!A||j[l]!=A[l])&&((L=getCellNode(I,getColumnIndex(l)))&&$(L).removeClass(j[l]));if(A)for(l in A)(!j||j[l]!=A[l])&&((L=getCellNode(I,getColumnIndex(l)))&&$(L).addClass(A[l]))}}function addCellCssStyles(V,k){if(cellCssClasses[V])throw new Error("SlickGrid addCellCssStyles: cell CSS hash with key '"+V+"' already exists.");cellCssClasses[V]=k,updateCellCssStylesOnRenderedRows(k,null),trigger(self.onCellCssStylesChanged,{key:V,hash:k,grid:self})}function removeCellCssStyles(V){!cellCssClasses[V]||(updateCellCssStylesOnRenderedRows(null,cellCssClasses[V]),delete cellCssClasses[V],trigger(self.onCellCssStylesChanged,{key:V,hash:null,grid:self}))}function setCellCssStyles(V,k){var L=cellCssClasses[V];cellCssClasses[V]=k,updateCellCssStylesOnRenderedRows(k,L),trigger(self.onCellCssStylesChanged,{key:V,hash:k,grid:self})}function getCellCssStyles(V){return cellCssClasses[V]}function flashCell(V,k,L){(L=L||100,rowsCache[V])&&function l(j,I){!I||setTimeout(function(){j.queue(function(){j.toggleClass(options.cellFlashingCssClass).dequeue(),l(j,I-1)})},L)}($(getCellNode(V,k)),4)}function handleMouseWheel(V,k,L,l){scrollTop=Math.max(0,$viewportScrollContainerY[0].scrollTop-l*options.rowHeight),scrollLeft=$viewportScrollContainerX[0].scrollLeft+10*L,_handleScroll(!0)&&V.preventDefault()}function handleDragInit(V,k){var L=getCellFromEvent(V);if(!L||!cellExists(L.row,L.cell))return!1;var l=trigger(self.onDragInit,k,V);return!!V.isImmediatePropagationStopped()&&l}function handleDragStart(V,k){var L=getCellFromEvent(V);if(!L||!cellExists(L.row,L.cell))return!1;var l=trigger(self.onDragStart,k,V);return!!V.isImmediatePropagationStopped()&&l}function handleDrag(V,k){return trigger(self.onDrag,k,V)}function handleDragEnd(V,k){trigger(self.onDragEnd,k,V)}function handleKeyDown(V){trigger(self.onKeyDown,{row:activeRow,cell:activeCell},V);var k=V.isImmediatePropagationStopped(),L=Slick.keyCode;if(!k&&!V.shiftKey&&!V.altKey){if(options.editable&&currentEditor&&currentEditor.keyCaptureList&&currentEditor.keyCaptureList.indexOf(V.which)>-1)return;V.which==L.HOME?k=V.ctrlKey?navigateTop():navigateRowStart():V.which==L.END&&(k=V.ctrlKey?navigateBottom():navigateRowEnd())}if(!k)if(V.shiftKey||V.altKey||V.ctrlKey)V.which==L.TAB&&V.shiftKey&&!V.ctrlKey&&!V.altKey&&(k=navigatePrev());else{if(options.editable&&currentEditor&&currentEditor.keyCaptureList&&currentEditor.keyCaptureList.indexOf(V.which)>-1)return;if(V.which==L.ESCAPE){if(!getEditorLock().isActive())return;cancelEditAndSetFocus()}else V.which==L.PAGE_DOWN?(navigatePageDown(),k=!0):V.which==L.PAGE_UP?(navigatePageUp(),k=!0):V.which==L.LEFT?k=navigateLeft():V.which==L.RIGHT?k=navigateRight():V.which==L.UP?k=navigateUp():V.which==L.DOWN?k=navigateDown():V.which==L.TAB?k=navigateNext():V.which==L.ENTER&&(options.editable&&(currentEditor?activeRow===getDataLength()?navigateDown():commitEditAndSetFocus():getEditorLock().commitCurrentEdit()&&makeActiveCellEditable(void 0,void 0,V)),k=!0)}if(k){V.stopPropagation(),V.preventDefault();try{V.originalEvent.keyCode=0}catch(l){}}}function handleClick(V){if(!currentEditor&&(V.target!=document.activeElement||$(V.target).hasClass("slick-cell"))){var k=getTextSelection();setFocus(),setTextSelection(k)}var L=getCellFromEvent(V);if(L&&(null===currentEditor||activeRow!=L.row||activeCell!=L.cell)&&(trigger(self.onClick,{row:L.row,cell:L.cell},V),!V.isImmediatePropagationStopped()&&canCellBeActive(L.row,L.cell)&&(!getEditorLock().isActive()||getEditorLock().commitCurrentEdit()))){scrollRowIntoView(L.row,!1);var l=V.target&&V.target.className===Slick.preClickClassName,A=columns[L.cell],j=!!(options.editable&&A&&A.editor&&options.suppressActiveCellChangeOnEdit);setActiveCellInternal(getCellNode(L.row,L.cell),null,l,j,V)}}function handleContextMenu(V){var k=$(V.target).closest(".slick-cell",$canvas);0!==k.length&&(activeCellNode===k[0]&&null!==currentEditor||trigger(self.onContextMenu,{},V))}function handleDblClick(V){var k=getCellFromEvent(V);!k||null!==currentEditor&&activeRow==k.row&&activeCell==k.cell||(trigger(self.onDblClick,{row:k.row,cell:k.cell},V),!V.isImmediatePropagationStopped()&&options.editable&&gotoCell(k.row,k.cell,!0,V))}function handleHeaderMouseEnter(V){trigger(self.onHeaderMouseEnter,{column:$(this).data("column"),grid:self},V)}function handleHeaderMouseLeave(V){trigger(self.onHeaderMouseLeave,{column:$(this).data("column"),grid:self},V)}function handleHeaderRowMouseEnter(V){trigger(self.onHeaderRowMouseEnter,{column:$(this).data("column"),grid:self},V)}function handleHeaderRowMouseLeave(V){trigger(self.onHeaderRowMouseLeave,{column:$(this).data("column"),grid:self},V)}function handleHeaderContextMenu(V){var k=$(V.target).closest(".slick-header-column",".slick-header-columns"),L=k&&k.data("column");trigger(self.onHeaderContextMenu,{column:L},V)}function handleHeaderClick(V){if(!columnResizeDragging){var k=$(V.target).closest(".slick-header-column",".slick-header-columns"),L=k&&k.data("column");L&&trigger(self.onHeaderClick,{column:L},V)}}function handleFooterContextMenu(V){var k=$(V.target).closest(".slick-footerrow-column",".slick-footerrow-columns"),L=k&&k.data("column");trigger(self.onFooterContextMenu,{column:L},V)}function handleFooterClick(V){var k=$(V.target).closest(".slick-footerrow-column",".slick-footerrow-columns"),L=k&&k.data("column");trigger(self.onFooterClick,{column:L},V)}function handleMouseEnter(V){trigger(self.onMouseEnter,{},V)}function handleMouseLeave(V){trigger(self.onMouseLeave,{},V)}function cellExists(V,k){return!(V<0||V>=getDataLength()||k<0||k>=columns.length)}function getCellFromPoint(V,k){for(var L=getRowFromPosition(k),l=0,A=0,j=0;j<columns.length&&A<V;j++)A+=columns[j].width,l++;return l<0&&(l=0),{row:L,cell:l-1}}function getCellFromNode(V){var k=/l\d+/.exec(V.className);if(!k)throw new Error("SlickGrid getCellFromNode: cannot get cell - "+V.className);return parseInt(k[0].substr(1,k[0].length-1),10)}function getRowFromNode(V){for(var k in rowsCache)for(var L in rowsCache[k].rowNode)if(rowsCache[k].rowNode[L]===V)return k?parseInt(k):0;return null}function getFrozenRowOffset(V){return hasFrozenRows?options.frozenBottom?V>=actualFrozenRow?h<viewportTopH?actualFrozenRow*options.rowHeight:h:0:V>=actualFrozenRow?frozenRowsHeight:0:0}function getCellFromEvent(V){var k,L,l=$(V.target).closest(".slick-cell",$canvas);if(!l.length)return null;if(k=getRowFromNode(l[0].parentNode),hasFrozenRows){var A=l.parents(".grid-canvas").offset(),j=0;l.parents(".grid-canvas-bottom").length&&(j=options.frozenBottom?$canvasTopL.height():frozenRowsHeight),k=getCellFromPoint(V.clientX-A.left,V.clientY-A.top+j+$(document).scrollTop()).row}return L=getCellFromNode(l[0]),null==k||null==L?null:{row:k,cell:L}}function getCellNodeBox(V,k){if(!cellExists(V,k))return null;for(var L=getFrozenRowOffset(V),l=getRowTop(V)-L,A=l+options.rowHeight-1,j=0,I=0;I<k;I++)j+=columns[I].width,options.frozenColumn==I&&(j=0);return{top:l,left:j,bottom:A,right:j+columns[k].width}}function resetActiveCell(){setActiveCellInternal(null,!1)}function setFocus(){-1==tabbingDirection?$focusSink[0].focus():$focusSink2[0].focus()}function scrollCellIntoView(V,k,L){if(scrollRowIntoView(V,L),!(k<=options.frozenColumn)){var l=getColspan(V,k);internalScrollColumnIntoView(columnPosLeft[k],columnPosRight[k+(l>1?l-1:0)])}}function internalScrollColumnIntoView(V,k){var L=scrollLeft+$viewportScrollContainerX.width()-(viewportHasVScroll?scrollbarDimensions.width:0);V<scrollLeft?($viewportScrollContainerX.scrollLeft(V),handleScroll(),render()):k>L&&($viewportScrollContainerX.scrollLeft(Math.min(V,k-$viewportScrollContainerX[0].clientWidth)),handleScroll(),render())}function scrollColumnIntoView(V){internalScrollColumnIntoView(columnPosLeft[V],columnPosRight[V])}function setActiveCellInternal(V,k,L,l,A){null!==activeCellNode&&(makeActiveCellNormal(),$(activeCellNode).removeClass("active"),rowsCache[activeRow]&&rowsCache[activeRow].rowNode.removeClass("active"));if(null!=(activeCellNode=V)){var I=$(activeCellNode),m=I.offset(),b=Math.floor(I.parents(".grid-canvas").offset().top),v=I.parents(".grid-canvas-bottom").length;hasFrozenRows&&v&&(b-=options.frozenBottom?$canvasTopL.height():frozenRowsHeight);var w=getCellFromPoint(m.left,Math.ceil(m.top)-b);activeRow=w.row,activeCell=activePosX=activeCell=activePosX=getCellFromNode(activeCellNode),null==k&&(k=activeRow==getDataLength()||options.autoEdit),options.showCellSelection&&(I.addClass("active"),rowsCache[activeRow]&&rowsCache[activeRow].rowNode.addClass("active")),options.editable&&k&&isCellPotentiallyEditable(activeRow,activeCell)&&(clearTimeout(h_editorLoader),options.asyncEditorLoading?h_editorLoader=setTimeout(function(){makeActiveCellEditable(void 0,L,A)},options.asyncEditorLoadDelay):makeActiveCellEditable(void 0,L,A))}else activeRow=activeCell=null;l||trigger(self.onActiveCellChanged,getActiveCell())}function clearTextSelection(){if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(k){}else if(window.getSelection){var V=window.getSelection();V&&V.removeAllRanges&&V.removeAllRanges()}}function isCellPotentiallyEditable(V,k){var L=getDataLength();return!(V<L&&!getDataItem(V)||columns[k].cannotTriggerInsert&&V>=L||!getEditor(V,k))}function makeActiveCellNormal(){if(currentEditor){if(trigger(self.onBeforeCellEditorDestroy,{editor:currentEditor}),currentEditor.destroy(),currentEditor=null,activeCellNode){var V=getDataItem(activeRow);if($(activeCellNode).removeClass("editable invalid"),V){var k=columns[activeCell];applyFormatResultToCellNode(getFormatter(activeRow,k)(activeRow,activeCell,getDataItemValueForColumn(V,k),k,V,self),activeCellNode),invalidatePostProcessingResults(activeRow)}}navigator.userAgent.toLowerCase().match(/msie/)&&clearTextSelection(),getEditorLock().deactivate(editController)}}function makeActiveCellEditable(V,k,L){if(activeCellNode){if(!options.editable)throw new Error("SlickGrid makeActiveCellEditable : should never get called when options.editable is false");if(clearTimeout(h_editorLoader),isCellPotentiallyEditable(activeRow,activeCell)){var l=columns[activeCell],A=getDataItem(activeRow);if(!1===trigger(self.onBeforeEditCell,{row:activeRow,cell:activeCell,item:A,column:l,target:"grid"}))return void setFocus();getEditorLock().activate(editController),$(activeCellNode).addClass("editable");var j=V||getEditor(activeRow,activeCell);!V&&!j.suppressClearOnEdit&&(activeCellNode.innerHTML="");var I=data.getItemMetadata&&data.getItemMetadata(activeRow),m=(I=I&&I.columns)&&(I[l.id]||I[activeCell]);currentEditor=new j({grid:self,gridPosition:absBox($container[0]),position:absBox(activeCellNode),container:activeCellNode,column:l,columnMetaData:m,item:A||{},event:L,commitChanges:commitEditAndSetFocus,cancelChanges:cancelEditAndSetFocus}),A&&(currentEditor.loadValue(A),k&&currentEditor.preClick&&currentEditor.preClick()),serializedEditorValue=currentEditor.serializeValue(),currentEditor.position&&handleActiveCellPositionChange()}}}function commitEditAndSetFocus(){getEditorLock().commitCurrentEdit()&&(setFocus(),options.autoEdit&&navigateDown())}function cancelEditAndSetFocus(){getEditorLock().cancelCurrentEdit()&&setFocus()}function absBox(V){var k={top:V.offsetTop,left:V.offsetLeft,bottom:0,right:0,width:$(V).outerWidth(),height:$(V).outerHeight(),visible:!0};k.bottom=k.top+k.height,k.right=k.left+k.width;for(var L=V.offsetParent;(V=V.parentNode)!=document.body&&null!=V;)k.visible&&V.scrollHeight!=V.offsetHeight&&"visible"!=$(V).css("overflowY")&&(k.visible=k.bottom>V.scrollTop&&k.top<V.scrollTop+V.clientHeight),k.visible&&V.scrollWidth!=V.offsetWidth&&"visible"!=$(V).css("overflowX")&&(k.visible=k.right>V.scrollLeft&&k.left<V.scrollLeft+V.clientWidth),k.left-=V.scrollLeft,k.top-=V.scrollTop,V===L&&(k.left+=V.offsetLeft,k.top+=V.offsetTop,L=V.offsetParent),k.bottom=k.top+k.height,k.right=k.left+k.width;return k}function getActiveCellPosition(){return absBox(activeCellNode)}function getGridPosition(){return absBox($container[0])}function handleActiveCellPositionChange(){if(activeCellNode&&(trigger(self.onActiveCellPositionChanged,{}),currentEditor)){var V=getActiveCellPosition();currentEditor.show&&currentEditor.hide&&(V.visible?currentEditor.show():currentEditor.hide()),currentEditor.position&&currentEditor.position(V)}}function getCellEditor(){return currentEditor}function getActiveCell(){return activeCellNode?{row:activeRow,cell:activeCell}:null}function getActiveCellNode(){return activeCellNode}function getTextSelection(){var V=null;if(window.getSelection){var k=window.getSelection();k.rangeCount>0&&(V=k.getRangeAt(0))}return V}function setTextSelection(V){if(window.getSelection&&V){var k=window.getSelection();k.removeAllRanges(),k.addRange(V)}}function scrollRowIntoView(V,k){if(!hasFrozenRows||!options.frozenBottom&&V>actualFrozenRow-1||options.frozenBottom&&V<actualFrozenRow-1){var L=$viewportScrollContainerY.height(),l=hasFrozenRows&&!options.frozenBottom?V-options.frozenRow:V,A=l*options.rowHeight,j=(l+1)*options.rowHeight-L+(viewportHasHScroll?scrollbarDimensions.height:0);(l+1)*options.rowHeight>scrollTop+L+offset?(scrollTo(k?A:j),render()):l*options.rowHeight<scrollTop+offset&&(scrollTo(k?j:A),render())}}function scrollRowToTop(V){scrollTo(V*options.rowHeight),render()}function scrollPage(V){var k=V*numVisibleRows;if(scrollTo((getRowFromPosition(scrollTop+options.rowHeight-1)+k)*options.rowHeight),render(),options.enableCellNavigation&&null!=activeRow){var l=activeRow+k,A=getDataLengthIncludingAddNew();l>=A&&(l=A-1),l<0&&(l=0);for(var j=0,I=null,m=activePosX;j<=activePosX;)canCellBeActive(l,j)&&(I=j),j+=getColspan(l,j);null!==I?(setActiveCellInternal(getCellNode(l,I)),activePosX=m):resetActiveCell()}}function navigatePageDown(){scrollPage(1)}function navigatePageUp(){scrollPage(-1)}function navigateTop(){navigateToRow(0)}function navigateBottom(){navigateToRow(getDataLength()-1)}function navigateToRow(V){var k=getDataLength();if(!k)return!0;if(V<0?V=0:V>=k&&(V=k-1),scrollCellIntoView(V,0,!0),options.enableCellNavigation&&null!=activeRow){for(var L=0,l=null,A=activePosX;L<=activePosX;)canCellBeActive(V,L)&&(l=L),L+=getColspan(V,L);null!==l?(setActiveCellInternal(getCellNode(V,l)),activePosX=A):resetActiveCell()}return!0}function getColspan(V,k){var L=data.getItemMetadata&&data.getItemMetadata(V);if(!L||!L.columns)return 1;var l=L.columns[columns[k].id]||L.columns[k],A=l&&l.colspan;return A="*"===A?columns.length-k:A||1}function findFirstFocusableCell(V){for(var k=0;k<columns.length;){if(canCellBeActive(V,k))return k;k+=getColspan(V,k)}return null}function findLastFocusableCell(V){for(var k=0,L=null;k<columns.length;)canCellBeActive(V,k)&&(L=k),k+=getColspan(V,k);return L}function gotoRight(V,k,L){if(k>=columns.length)return null;do{k+=getColspan(V,k)}while(k<columns.length&&!canCellBeActive(V,k));return k<columns.length?{row:V,cell:k,posX:k}:null}function gotoLeft(V,k,L){if(k<=0)return null;var l=findFirstFocusableCell(V);if(null===l||l>=k)return null;for(var j,A={row:V,cell:l,posX:l};;){if(!(j=gotoRight(A.row,A.cell,A.posX)))return null;if(j.cell>=k)return A;A=j}}function gotoDown(V,k,L){for(var l,A=getDataLengthIncludingAddNew();;){if(++V>=A)return null;for(l=k=0;k<=L;)l=k,k+=getColspan(V,k);if(canCellBeActive(V,l))return{row:V,cell:l,posX:L}}}function gotoUp(V,k,L){for(var l;;){if(--V<0)return null;for(l=k=0;k<=L;)l=k,k+=getColspan(V,k);if(canCellBeActive(V,l))return{row:V,cell:l,posX:L}}}function gotoNext(V,k,L){if(null==V&&null==k&&canCellBeActive(V=k=L=0,k))return{row:V,cell:k,posX:k};var l=gotoRight(V,k,L);if(l)return l;var A=null,j=getDataLengthIncludingAddNew();for(V===j-1&&V--;++V<j;)if(null!==(A=findFirstFocusableCell(V)))return{row:V,cell:A,posX:A};return null}function gotoPrev(V,k,L){if(null==V&&null==k&&canCellBeActive(V=getDataLengthIncludingAddNew()-1,k=L=columns.length-1))return{row:V,cell:k,posX:k};for(var l,A;!l&&!(l=gotoLeft(V,k,L));){if(--V<0)return null;k=0,null!==(A=findLastFocusableCell(V))&&(l={row:V,cell:A,posX:A})}return l}function gotoRowStart(V,k,L){var l=findFirstFocusableCell(V);return null===l?null:{row:V,cell:l,posX:l}}function gotoRowEnd(V,k,L){var l=findLastFocusableCell(V);return null===l?null:{row:V,cell:l,posX:l}}function navigateRight(){return navigate("right")}function navigateLeft(){return navigate("left")}function navigateDown(){return navigate("down")}function navigateUp(){return navigate("up")}function navigateNext(){return navigate("next")}function navigatePrev(){return navigate("prev")}function navigateRowStart(){return navigate("home")}function navigateRowEnd(){return navigate("end")}function navigate(V){if(!options.enableCellNavigation||!activeCellNode&&"prev"!=V&&"next"!=V)return!1;if(!getEditorLock().commitCurrentEdit())return!0;setFocus();tabbingDirection={up:-1,down:1,left:-1,right:1,prev:-1,next:1,home:-1,end:1}[V];var A=(0,{up:gotoUp,down:gotoDown,left:gotoLeft,right:gotoRight,prev:gotoPrev,next:gotoNext,home:gotoRowStart,end:gotoRowEnd}[V])(activeRow,activeCell,activePosX);if(A){if(hasFrozenRows&&options.frozenBottom&A.row==getDataLength())return;var j=A.row==getDataLength();return(!options.frozenBottom&&A.row>=actualFrozenRow||options.frozenBottom&&A.row<actualFrozenRow)&&scrollCellIntoView(A.row,A.cell,!j&&options.emulatePagingWhenScrolling),setActiveCellInternal(getCellNode(A.row,A.cell)),activePosX=A.posX,!0}return setActiveCellInternal(getCellNode(activeRow,activeCell)),!1}function getCellNode(V,k){if(rowsCache[V]){ensureCellNodesInRowsCache(V);try{return rowsCache[V].cellNodesByColumnIdx.length>k?rowsCache[V].cellNodesByColumnIdx[k][0]:null}catch(L){return rowsCache[V].cellNodesByColumnIdx[k]}}return null}function setActiveCell(V,k,L,l,A){!initialized||V>getDataLength()||V<0||k>=columns.length||k<0||!options.enableCellNavigation||(scrollCellIntoView(V,k,!1),setActiveCellInternal(getCellNode(V,k),L,l,A))}function setActiveRow(V,k,L){!initialized||V>getDataLength()||V<0||k>=columns.length||k<0||(activeRow=V,L||scrollCellIntoView(V,k||0,!1))}function canCellBeActive(V,k){if(!options.enableCellNavigation||V>=getDataLengthIncludingAddNew()||V<0||k>=columns.length||k<0)return!1;var L=data.getItemMetadata&&data.getItemMetadata(V);if(L&&void 0!==L.focusable)return!!L.focusable;var l=L&&L.columns;return l&&l[columns[k].id]&&void 0!==l[columns[k].id].focusable?!!l[columns[k].id].focusable:l&&l[k]&&void 0!==l[k].focusable?!!l[k].focusable:!!columns[k].focusable}function canCellBeSelected(V,k){if(V>=getDataLength()||V<0||k>=columns.length||k<0)return!1;var L=data.getItemMetadata&&data.getItemMetadata(V);if(L&&void 0!==L.selectable)return!!L.selectable;var l=L&&L.columns&&(L.columns[columns[k].id]||L.columns[k]);return l&&void 0!==l.selectable?!!l.selectable:!!columns[k].selectable}function gotoCell(V,k,L,l){if(initialized&&canCellBeActive(V,k)&&getEditorLock().commitCurrentEdit()){scrollCellIntoView(V,k,!1);var A=getCellNode(V,k),j=columns[k],I=!!(options.editable&&j&&j.editor&&options.suppressActiveCellChangeOnEdit);setActiveCellInternal(A,L||V===getDataLength()||options.autoEdit,null,I,l),currentEditor||setFocus()}}function commitCurrentEdit(){var V=getDataItem(activeRow),k=columns[activeCell];if(currentEditor){if(currentEditor.isValueChanged()){var L=currentEditor.validate();if(L.valid){if(activeRow<getDataLength()){var l={row:activeRow,cell:activeCell,editor:currentEditor,serializedValue:currentEditor.serializeValue(),prevSerializedValue:serializedEditorValue,execute:function(){this.editor.applyValue(V,this.serializedValue),updateRow(this.row),trigger(self.onCellChange,{command:"execute",row:this.row,cell:this.cell,item:V,column:k})},undo:function(){this.editor.applyValue(V,this.prevSerializedValue),updateRow(this.row),trigger(self.onCellChange,{command:"undo",row:this.row,cell:this.cell,item:V,column:k})}};options.editCommandHandler?(makeActiveCellNormal(),options.editCommandHandler(V,k,l)):(l.execute(),makeActiveCellNormal())}else{var A={};currentEditor.applyValue(A,currentEditor.serializeValue()),makeActiveCellNormal(),trigger(self.onAddNewRow,{item:A,column:k})}return!getEditorLock().isActive()}return $(activeCellNode).removeClass("invalid"),$(activeCellNode).width(),$(activeCellNode).addClass("invalid"),trigger(self.onValidationError,{editor:currentEditor,cellNode:activeCellNode,validationResults:L,row:activeRow,cell:activeCell,column:k}),currentEditor.focus(),!1}makeActiveCellNormal()}return!0}function cancelCurrentEdit(){return makeActiveCellNormal(),!0}function rowsToRanges(V){for(var k=[],L=columns.length-1,l=0;l<V.length;l++)k.push(new Slick.Range(V[l],0,V[l],L));return k}function getSelectedRows(){if(!selectionModel)throw new Error("SlickGrid Selection model is not set");return selectedRows.slice(0)}function setSelectedRows(V,k){if(!selectionModel)throw new Error("SlickGrid Selection model is not set");self&&self.getEditorLock&&!self.getEditorLock().isActive()&&selectionModel.setSelectedRanges(rowsToRanges(V),k||"SlickGrid.setSelectedRows")}function sanitizeHtmlString(V){var k=options.sanitizer||function(L){return L.replace(/(\b)(on\S+)(\s*)=|javascript:([^>]*)[^>]*|(<\s*)(\/*)script([<>]*).*(<\s*)(\/*)script(>*)|(&lt;)(\/*)(script|script defer)(.*)(&gt;|&gt;">)/gi,"")};return"string"==typeof V?k(V):V}this.debug=function(){var V="";V+="\ncounter_rows_rendered:  "+counter_rows_rendered,V+="\ncounter_rows_removed:  "+counter_rows_removed,V+="\nrenderedRows:  "+renderedRows,V+="\nnumVisibleRows:  "+numVisibleRows,V+="\nmaxSupportedCssHeight:  "+maxSupportedCssHeight,V+="\nn(umber of pages):  "+n,V+="\n(current) page:  "+page,V+="\npage height (ph):  "+ph,V+="\nvScrollDir:  "+vScrollDir,alert(V)},this.eval=function(expr){return eval(expr)},$.extend(this,{slickGridVersion:"2.4.44",onScroll:new Slick.Event,onBeforeSort:new Slick.Event,onSort:new Slick.Event,onHeaderMouseEnter:new Slick.Event,onHeaderMouseLeave:new Slick.Event,onHeaderRowMouseEnter:new Slick.Event,onHeaderRowMouseLeave:new Slick.Event,onHeaderContextMenu:new Slick.Event,onHeaderClick:new Slick.Event,onHeaderCellRendered:new Slick.Event,onBeforeHeaderCellDestroy:new Slick.Event,onHeaderRowCellRendered:new Slick.Event,onFooterRowCellRendered:new Slick.Event,onFooterContextMenu:new Slick.Event,onFooterClick:new Slick.Event,onBeforeHeaderRowCellDestroy:new Slick.Event,onBeforeFooterRowCellDestroy:new Slick.Event,onMouseEnter:new Slick.Event,onMouseLeave:new Slick.Event,onClick:new Slick.Event,onDblClick:new Slick.Event,onContextMenu:new Slick.Event,onKeyDown:new Slick.Event,onAddNewRow:new Slick.Event,onBeforeAppendCell:new Slick.Event,onValidationError:new Slick.Event,onViewportChanged:new Slick.Event,onColumnsReordered:new Slick.Event,onColumnsDrag:new Slick.Event,onColumnsResized:new Slick.Event,onColumnsResizeDblClick:new Slick.Event,onBeforeColumnsResize:new Slick.Event,onCellChange:new Slick.Event,onCompositeEditorChange:new Slick.Event,onBeforeEditCell:new Slick.Event,onBeforeCellEditorDestroy:new Slick.Event,onBeforeDestroy:new Slick.Event,onActiveCellChanged:new Slick.Event,onActiveCellPositionChanged:new Slick.Event,onDragInit:new Slick.Event,onDragStart:new Slick.Event,onDrag:new Slick.Event,onDragEnd:new Slick.Event,onSelectedRowsChanged:new Slick.Event,onCellCssStylesChanged:new Slick.Event,onAutosizeColumns:new Slick.Event,onBeforeSetColumns:new Slick.Event,onRendered:new Slick.Event,onSetOptions:new Slick.Event,registerPlugin,unregisterPlugin,getPluginByName,getColumns,setColumns,getColumnIndex,updateColumnHeader,setSortColumn,setSortColumns,getSortColumns,autosizeColumns,autosizeColumn,getOptions,setOptions,getData,getDataLength,getDataItem,setData,getSelectionModel,setSelectionModel,getSelectedRows,setSelectedRows,getContainerNode,updatePagingStatusFromView,applyFormatResultToCellNode,render,reRenderColumns,invalidate,invalidateRow,invalidateRows,invalidateAllRows,updateCell,updateRow,getViewport:getVisibleRange,getRenderedRange,resizeCanvas,updateRowCount,scrollRowIntoView,scrollRowToTop,scrollCellIntoView,scrollColumnIntoView,getCanvasNode,getUID,getHeaderColumnWidthDiff,getScrollbarDimensions,getHeadersWidth,getCanvasWidth,getCanvases,getActiveCanvasNode,setActiveCanvasNode,getViewportNode,getViewports,getActiveViewportNode,setActiveViewportNode,focus:setFocus,scrollTo,cacheCssForHiddenInit,restoreCssFromHiddenInit,getCellFromPoint,getCellFromEvent,getActiveCell,setActiveCell,setActiveRow,getActiveCellNode,getActiveCellPosition,resetActiveCell,editActiveCell:makeActiveCellEditable,getCellEditor,getCellNode,getCellNodeBox,canCellBeSelected,canCellBeActive,navigatePrev,navigateNext,navigateUp,navigateDown,navigateLeft,navigateRight,navigatePageUp,navigatePageDown,navigateTop,navigateBottom,navigateRowStart,navigateRowEnd,gotoCell,getTopPanel,setTopPanelVisibility,getPreHeaderPanel,getPreHeaderPanelLeft:getPreHeaderPanel,getPreHeaderPanelRight,setPreHeaderPanelVisibility,getHeader,getHeaderColumn,setHeaderRowVisibility,getHeaderRow,getHeaderRowColumn,setFooterRowVisibility,getFooterRow,getFooterRowColumn,getGridPosition,flashCell,addCellCssStyles,setCellCssStyles,removeCellCssStyles,getCellCssStyles,getFrozenRowOffset,setColumnHeaderVisibility,sanitizeHtmlString,getDisplayedScrollbarDimensions,getAbsoluteColumnMinWidth,init:finishInitialization,destroy,getEditorLock,getEditController}),init()}$.extend(!0,window,{Slick:{Grid:SlickGrid}})})(jQuery)},7644:()=>{var V;(V=jQuery).extend(!0,window,{Slick:{Data:{RemoteModel:function(){var L=50,l={length:0},A="",j=null,I=1,m=null,b=null,v=new Slick.Event,w=new Slick.Event;function S(){for(var te in l)delete l[te];l.length=0}function N(te,ae){if(b){b.abort();for(var _e=b.fromPage;_e<=b.toPage;_e++)l[_e*L]=void 0}te<0&&(te=0),l.length>0&&(ae=Math.min(ae,l.length-1));for(var Te=Math.floor(te/L),Re=Math.floor(ae/L);void 0!==l[Te*L]&&Te<Re;)Te++;for(;void 0!==l[Re*L]&&Te<Re;)Re--;if(Te>Re||Te==Re&&void 0!==l[Te*L])w.notify({from:te,to:ae});else{var G="http://octopart.com/api/v3/parts/search?apikey=68b25f31&include[]=short_description&show[]=uid&show[]=manufacturer&show[]=mpn&show[]=brand&show[]=octopart_url&show[]=short_description&q="+A+"&start="+Te*L+"&limit="+((Re-Te)*L+L);null!=j&&(G+="&sortby="+j+(I>0?"+asc":"+desc")),null!=m&&clearTimeout(m),m=setTimeout(function(){for(var Ee=Te;Ee<=Re;Ee++)l[Ee*L]=null;v.notify({from:te,to:ae}),b=V.jsonp({url:G,callbackParameter:"callback",cache:!0,success:U,error:function(){!function(te,ae){alert("error loading pages "+te+" to "+ae)}(Te,Re)}}),b.fromPage=Te,b.toPage=Re},50)}}function U(te){var ae=te.request.start,_e=ae+te.results.length;l.length=Math.min(parseInt(te.hits),1e3);for(var Te=0;Te<te.results.length;Te++){var Re=te.results[Te].item;l[ae+Te]=Re,l[ae+Te].index=ae+Te}b=null,w.notify({from:ae,to:_e})}return{data:l,clear:S,isDataLoaded:function(te,ae){for(var _e=te;_e<=ae;_e++)if(null==l[_e]||null==l[_e])return!1;return!0},ensureData:N,reloadData:function(te,ae){for(var _e=te;_e<=ae;_e++)delete l[_e];N(te,ae)},setSort:function(te,ae){j=te,I=ae,S()},setSearch:function(te){A=te,S()},onDataLoading:v,onDataLoaded:w}}}}})},9126:(V,k,L)=>{"use strict";L.d(k,{mG:()=>w,qq:()=>be,FC:()=>te,KL:()=>_e});function w(ne,Pe,He,ze){return new(He||(He=Promise))(function(nt,kt){function wt(Nt){try{en(ze.next(Nt))}catch(je){kt(je)}}function Pt(Nt){try{en(ze.throw(Nt))}catch(je){kt(je)}}function en(Nt){Nt.done?nt(Nt.value):function(nt){return nt instanceof He?nt:new He(function(kt){kt(nt)})}(Nt.value).then(wt,Pt)}en((ze=ze.apply(ne,Pe||[])).next())})}Object.create;function N(ne){var Pe="function"==typeof Symbol&&Symbol.iterator,He=Pe&&ne[Pe],ze=0;if(He)return He.call(ne);if(ne&&"number"==typeof ne.length)return{next:function(){return ne&&ze>=ne.length&&(ne=void 0),{value:ne&&ne[ze++],done:!ne}}};throw new TypeError(Pe?"Object is not iterable.":"Symbol.iterator is not defined.")}function be(ne){return this instanceof be?(this.v=ne,this):new be(ne)}function te(ne,Pe,He){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var dt,ze=He.apply(ne,Pe||[]),nt=[];return dt={},kt("next"),kt("throw"),kt("return"),dt[Symbol.asyncIterator]=function(){return this},dt;function kt(Ft){ze[Ft]&&(dt[Ft]=function(sn){return new Promise(function(nn,zt){nt.push([Ft,sn,nn,zt])>1||wt(Ft,sn)})})}function wt(Ft,sn){try{!function(Ft){Ft.value instanceof be?Promise.resolve(Ft.value.v).then(en,Nt):je(nt[0][2],Ft)}(ze[Ft](sn))}catch(nn){je(nt[0][3],nn)}}function en(Ft){wt("next",Ft)}function Nt(Ft){wt("throw",Ft)}function je(Ft,sn){Ft(sn),nt.shift(),nt.length&&wt(nt[0][0],nt[0][1])}}function _e(ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,Pe=ne[Symbol.asyncIterator];return Pe?Pe.call(ne):(ne=N(ne),He={},ze("next"),ze("throw"),ze("return"),He[Symbol.asyncIterator]=function(){return this},He);function ze(nt){He[nt]=ne[nt]&&function(kt){return new Promise(function(wt,Pt){(function(nt,kt,wt,Pt){Promise.resolve(Pt).then(function(en){nt({value:en,done:wt})},kt)})(wt,Pt,(kt=ne[nt](kt)).done,kt.value)})}}}Object.create},4929:(V,k,L)=>{"use strict";L.d(k,{gn:()=>m,mG:()=>w});function m(ne,Pe,He,ze){var kt,dt=arguments.length,nt=dt<3?Pe:null===ze?ze=Object.getOwnPropertyDescriptor(Pe,He):ze;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)nt=Reflect.decorate(ne,Pe,He,ze);else for(var wt=ne.length-1;wt>=0;wt--)(kt=ne[wt])&&(nt=(dt<3?kt(nt):dt>3?kt(Pe,He,nt):kt(Pe,He))||nt);return dt>3&&nt&&Object.defineProperty(Pe,He,nt),nt}function w(ne,Pe,He,ze){return new(He||(He=Promise))(function(nt,kt){function wt(Nt){try{en(ze.next(Nt))}catch(je){kt(je)}}function Pt(Nt){try{en(ze.throw(Nt))}catch(je){kt(je)}}function en(Nt){Nt.done?nt(Nt.value):function(nt){return nt instanceof He?nt:new He(function(kt){kt(nt)})}(Nt.value).then(wt,Pt)}en((ze=ze.apply(ne,Pe||[])).next())})}Object.create;Object.create},6362:(V,k,L)=>{"use strict";L.d(k,{mr:()=>ae,ez:()=>Vo,K0:()=>v,Do:()=>Te,V_:()=>x,Ye:()=>Re,S$:()=>be,mk:()=>Xi,sg:()=>Bi,O5:()=>Rr,tP:()=>Ri,b0:()=>_e,lw:()=>w,EM:()=>ve,JF:()=>Lt,w_:()=>b,bD:()=>qr,q:()=>j,Mx:()=>ai,HT:()=>m});var l=L(3184);let A=null;function j(){return A}function m(de){A||(A=de)}class b{}const v=new l.OlP("DocumentToken");class w{historyGo(P){throw new Error("Not implemented")}}w.\u0275fac=function(P){return new(P||w)},w.\u0275prov=l.Yz7({token:w,factory:function(){return(0,l.LFG)(S)},providedIn:"platform"});const x=new l.OlP("Location Initialized");class S extends w{constructor(P){super(),this._doc=P,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return j().getBaseHref(this._doc)}onPopState(P){const O=j().getGlobalEventTarget(this._doc,"window");return O.addEventListener("popstate",P,!1),()=>O.removeEventListener("popstate",P)}onHashChange(P){const O=j().getGlobalEventTarget(this._doc,"window");return O.addEventListener("hashchange",P,!1),()=>O.removeEventListener("hashchange",P)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(P){this.location.pathname=P}pushState(P,O,Z){N()?this._history.pushState(P,O,Z):this.location.hash=Z}replaceState(P,O,Z){N()?this._history.replaceState(P,O,Z):this.location.hash=Z}forward(){this._history.forward()}back(){this._history.back()}historyGo(P=0){this._history.go(P)}getState(){return this._history.state}}function N(){return!!window.history.pushState}function U(de,P){if(0==de.length)return P;if(0==P.length)return de;let O=0;return de.endsWith("/")&&O++,P.startsWith("/")&&O++,2==O?de+P.substring(1):1==O?de+P:de+"/"+P}function Y(de){const P=de.match(/#|\?|$/),O=P&&P.index||de.length,Z=O-("/"===de[O-1]?1:0);return de.slice(0,Z)+de.slice(O)}function ce(de){return de&&"?"!==de[0]?"?"+de:de}S.\u0275fac=function(P){return new(P||S)(l.LFG(v))},S.\u0275prov=l.Yz7({token:S,factory:function(){return new S((0,l.LFG)(v))},providedIn:"platform"});class be{historyGo(P){throw new Error("Not implemented")}}be.\u0275fac=function(P){return new(P||be)},be.\u0275prov=l.Yz7({token:be,factory:function(){return function(de){const P=(0,l.LFG)(v).location;return new _e((0,l.LFG)(w),P&&P.origin||"")}()},providedIn:"root"});const ae=new l.OlP("appBaseHref");class _e extends be{constructor(P,O){if(super(),this._platformLocation=P,this._removeListenerFns=[],null==O&&(O=this._platformLocation.getBaseHrefFromDOM()),null==O)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=O}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}prepareExternalUrl(P){return U(this._baseHref,P)}path(P=!1){const O=this._platformLocation.pathname+ce(this._platformLocation.search),Z=this._platformLocation.hash;return Z&&P?`${O}${Z}`:O}pushState(P,O,Z,Me){const et=this.prepareExternalUrl(Z+ce(Me));this._platformLocation.pushState(P,O,et)}replaceState(P,O,Z,Me){const et=this.prepareExternalUrl(Z+ce(Me));this._platformLocation.replaceState(P,O,et)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(P=0){var O,Z;null===(Z=(O=this._platformLocation).historyGo)||void 0===Z||Z.call(O,P)}}_e.\u0275fac=function(P){return new(P||_e)(l.LFG(w),l.LFG(ae,8))},_e.\u0275prov=l.Yz7({token:_e,factory:_e.\u0275fac});class Te extends be{constructor(P,O){super(),this._platformLocation=P,this._baseHref="",this._removeListenerFns=[],null!=O&&(this._baseHref=O)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}path(P=!1){let O=this._platformLocation.hash;return null==O&&(O="#"),O.length>0?O.substring(1):O}prepareExternalUrl(P){const O=U(this._baseHref,P);return O.length>0?"#"+O:O}pushState(P,O,Z,Me){let et=this.prepareExternalUrl(Z+ce(Me));0==et.length&&(et=this._platformLocation.pathname),this._platformLocation.pushState(P,O,et)}replaceState(P,O,Z,Me){let et=this.prepareExternalUrl(Z+ce(Me));0==et.length&&(et=this._platformLocation.pathname),this._platformLocation.replaceState(P,O,et)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(P=0){var O,Z;null===(Z=(O=this._platformLocation).historyGo)||void 0===Z||Z.call(O,P)}}Te.\u0275fac=function(P){return new(P||Te)(l.LFG(w),l.LFG(ae,8))},Te.\u0275prov=l.Yz7({token:Te,factory:Te.\u0275fac});class Re{constructor(P,O){this._subject=new l.vpe,this._urlChangeListeners=[],this._platformStrategy=P;const Z=this._platformStrategy.getBaseHref();this._platformLocation=O,this._baseHref=Y(Ie(Z)),this._platformStrategy.onPopState(Me=>{this._subject.emit({url:this.path(!0),pop:!0,state:Me.state,type:Me.type})})}path(P=!1){return this.normalize(this._platformStrategy.path(P))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(P,O=""){return this.path()==this.normalize(P+ce(O))}normalize(P){return Re.stripTrailingSlash(function(de,P){return de&&P.startsWith(de)?P.substring(de.length):P}(this._baseHref,Ie(P)))}prepareExternalUrl(P){return P&&"/"!==P[0]&&(P="/"+P),this._platformStrategy.prepareExternalUrl(P)}go(P,O="",Z=null){this._platformStrategy.pushState(Z,"",P,O),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+ce(O)),Z)}replaceState(P,O="",Z=null){this._platformStrategy.replaceState(Z,"",P,O),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+ce(O)),Z)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(P=0){var O,Z;null===(Z=(O=this._platformStrategy).historyGo)||void 0===Z||Z.call(O,P)}onUrlChange(P){this._urlChangeListeners.push(P),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(O=>{this._notifyUrlChangeListeners(O.url,O.state)}))}_notifyUrlChangeListeners(P="",O){this._urlChangeListeners.forEach(Z=>Z(P,O))}subscribe(P,O,Z){return this._subject.subscribe({next:P,error:O,complete:Z})}}function Ie(de){return de.replace(/\/index.html$/,"")}Re.normalizeQueryParams=ce,Re.joinWithSlash=U,Re.stripTrailingSlash=Y,Re.\u0275fac=function(P){return new(P||Re)(l.LFG(be),l.LFG(w))},Re.\u0275prov=l.Yz7({token:Re,factory:function(){return new Re((0,l.LFG)(be),(0,l.LFG)(w))},providedIn:"root"});const Le={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var ne,de,Pe,He,ze,dt,nt,kt;function nn(de,P){return Mt((0,l.cg1)(de)[l.wAp.DateFormat],P)}function zt(de,P){return Mt((0,l.cg1)(de)[l.wAp.TimeFormat],P)}function an(de,P){return Mt((0,l.cg1)(de)[l.wAp.DateTimeFormat],P)}function On(de,P){const O=(0,l.cg1)(de),Z=O[l.wAp.NumberSymbols][P];if(void 0===Z){if(P===nt.CurrencyDecimal)return O[l.wAp.NumberSymbols][nt.Decimal];if(P===nt.CurrencyGroup)return O[l.wAp.NumberSymbols][nt.Group]}return Z}function Dn(de,P){return(0,l.cg1)(de)[l.wAp.NumberFormats][P]}(de=ne||(ne={}))[de.Decimal=0]="Decimal",de[de.Percent=1]="Percent",de[de.Currency=2]="Currency",de[de.Scientific=3]="Scientific",function(de){de[de.Zero=0]="Zero",de[de.One=1]="One",de[de.Two=2]="Two",de[de.Few=3]="Few",de[de.Many=4]="Many",de[de.Other=5]="Other"}(Pe||(Pe={})),function(de){de[de.Format=0]="Format",de[de.Standalone=1]="Standalone"}(He||(He={})),function(de){de[de.Narrow=0]="Narrow",de[de.Abbreviated=1]="Abbreviated",de[de.Wide=2]="Wide",de[de.Short=3]="Short"}(ze||(ze={})),function(de){de[de.Short=0]="Short",de[de.Medium=1]="Medium",de[de.Long=2]="Long",de[de.Full=3]="Full"}(dt||(dt={})),function(de){de[de.Decimal=0]="Decimal",de[de.Group=1]="Group",de[de.List=2]="List",de[de.PercentSign=3]="PercentSign",de[de.PlusSign=4]="PlusSign",de[de.MinusSign=5]="MinusSign",de[de.Exponential=6]="Exponential",de[de.SuperscriptingExponent=7]="SuperscriptingExponent",de[de.PerMille=8]="PerMille",de[de.Infinity=9]="Infinity",de[de.NaN=10]="NaN",de[de.TimeSeparator=11]="TimeSeparator",de[de.CurrencyDecimal=12]="CurrencyDecimal",de[de.CurrencyGroup=13]="CurrencyGroup"}(nt||(nt={})),function(de){de[de.Sunday=0]="Sunday",de[de.Monday=1]="Monday",de[de.Tuesday=2]="Tuesday",de[de.Wednesday=3]="Wednesday",de[de.Thursday=4]="Thursday",de[de.Friday=5]="Friday",de[de.Saturday=6]="Saturday"}(kt||(kt={}));const qe=l.kL8;function We(de){if(!de[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${de[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Mt(de,P){for(let O=P;O>-1;O--)if(void 0!==de[O])return de[O];throw new Error("Locale data API: locale data undefined")}function ee(de){const[P,O]=de.split(":");return{hours:+P,minutes:+O}}function pe(de,P,O="en"){const Z=function(de){return(0,l.cg1)(de)[l.wAp.Currencies]}(O)[de]||Le[de]||[],Me=Z[1];return"narrow"===P&&"string"==typeof Me?Me:Z[0]||de}const Je=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,lt={},jt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Oe,Fe,ut;function It(de,P,O,Z){let Me=function(de){if(mn(de))return de;if("number"==typeof de&&!isNaN(de))return new Date(de);if("string"==typeof de){if(de=de.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(de)){const[Me,et=1,hn=1]=de.split("-").map(En=>+En);return cn(Me,et-1,hn)}const O=parseFloat(de);if(!isNaN(de-O))return new Date(O);let Z;if(Z=de.match(Je))return function(de){const P=new Date(0);let O=0,Z=0;const Me=de[8]?P.setUTCFullYear:P.setFullYear,et=de[8]?P.setUTCHours:P.setHours;de[9]&&(O=Number(de[9]+de[10]),Z=Number(de[9]+de[11])),Me.call(P,Number(de[1]),Number(de[2])-1,Number(de[3]));const hn=Number(de[4]||0)-O,En=Number(de[5]||0)-Z,vi=Number(de[6]||0),Zi=Math.floor(1e3*parseFloat("0."+(de[7]||0)));return et.call(P,hn,En,vi,Zi),P}(Z)}const P=new Date(de);if(!mn(P))throw new Error(`Unable to convert "${de}" into a date`);return P}(de);P=Nn(O,P)||P;let En,hn=[];for(;P;){if(En=jt.exec(P),!En){hn.push(P);break}{hn=hn.concat(En.slice(1));const Ir=hn.pop();if(!Ir)break;P=Ir}}let vi=Me.getTimezoneOffset();Z&&(vi=ps(Z,vi),Me=function(de,P,O){const Z=O?-1:1,Me=de.getTimezoneOffset(),et=ps(P,Me);return function(de,P){return(de=new Date(de.getTime())).setMinutes(de.getMinutes()+P),de}(de,Z*(et-Me))}(Me,Z,!0));let Zi="";return hn.forEach(Ir=>{const ci=function(de){if(Yi[de])return Yi[de];let P;switch(de){case"G":case"GG":case"GGG":P=xn(ut.Eras,ze.Abbreviated);break;case"GGGG":P=xn(ut.Eras,ze.Wide);break;case"GGGGG":P=xn(ut.Eras,ze.Narrow);break;case"y":P=Tn(Fe.FullYear,1,0,!1,!0);break;case"yy":P=Tn(Fe.FullYear,2,0,!0,!0);break;case"yyy":P=Tn(Fe.FullYear,3,0,!1,!0);break;case"yyyy":P=Tn(Fe.FullYear,4,0,!1,!0);break;case"Y":P=es(1);break;case"YY":P=es(2,!0);break;case"YYY":P=es(3);break;case"YYYY":P=es(4);break;case"M":case"L":P=Tn(Fe.Month,1,1);break;case"MM":case"LL":P=Tn(Fe.Month,2,1);break;case"MMM":P=xn(ut.Months,ze.Abbreviated);break;case"MMMM":P=xn(ut.Months,ze.Wide);break;case"MMMMM":P=xn(ut.Months,ze.Narrow);break;case"LLL":P=xn(ut.Months,ze.Abbreviated,He.Standalone);break;case"LLLL":P=xn(ut.Months,ze.Wide,He.Standalone);break;case"LLLLL":P=xn(ut.Months,ze.Narrow,He.Standalone);break;case"w":P=Xr(1);break;case"ww":P=Xr(2);break;case"W":P=Xr(1,!0);break;case"d":P=Tn(Fe.Date,1);break;case"dd":P=Tn(Fe.Date,2);break;case"c":case"cc":P=Tn(Fe.Day,1);break;case"ccc":P=xn(ut.Days,ze.Abbreviated,He.Standalone);break;case"cccc":P=xn(ut.Days,ze.Wide,He.Standalone);break;case"ccccc":P=xn(ut.Days,ze.Narrow,He.Standalone);break;case"cccccc":P=xn(ut.Days,ze.Short,He.Standalone);break;case"E":case"EE":case"EEE":P=xn(ut.Days,ze.Abbreviated);break;case"EEEE":P=xn(ut.Days,ze.Wide);break;case"EEEEE":P=xn(ut.Days,ze.Narrow);break;case"EEEEEE":P=xn(ut.Days,ze.Short);break;case"a":case"aa":case"aaa":P=xn(ut.DayPeriods,ze.Abbreviated);break;case"aaaa":P=xn(ut.DayPeriods,ze.Wide);break;case"aaaaa":P=xn(ut.DayPeriods,ze.Narrow);break;case"b":case"bb":case"bbb":P=xn(ut.DayPeriods,ze.Abbreviated,He.Standalone,!0);break;case"bbbb":P=xn(ut.DayPeriods,ze.Wide,He.Standalone,!0);break;case"bbbbb":P=xn(ut.DayPeriods,ze.Narrow,He.Standalone,!0);break;case"B":case"BB":case"BBB":P=xn(ut.DayPeriods,ze.Abbreviated,He.Format,!0);break;case"BBBB":P=xn(ut.DayPeriods,ze.Wide,He.Format,!0);break;case"BBBBB":P=xn(ut.DayPeriods,ze.Narrow,He.Format,!0);break;case"h":P=Tn(Fe.Hours,1,-12);break;case"hh":P=Tn(Fe.Hours,2,-12);break;case"H":P=Tn(Fe.Hours,1);break;case"HH":P=Tn(Fe.Hours,2);break;case"m":P=Tn(Fe.Minutes,1);break;case"mm":P=Tn(Fe.Minutes,2);break;case"s":P=Tn(Fe.Seconds,1);break;case"ss":P=Tn(Fe.Seconds,2);break;case"S":P=Tn(Fe.FractionalSeconds,1);break;case"SS":P=Tn(Fe.FractionalSeconds,2);break;case"SSS":P=Tn(Fe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":P=$i(Oe.Short);break;case"ZZZZZ":P=$i(Oe.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":P=$i(Oe.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":P=$i(Oe.Long);break;default:return null}return Yi[de]=P,P}(Ir);Zi+=ci?ci(Me,O,vi):"''"===Ir?"'":Ir.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Zi}function cn(de,P,O){const Z=new Date(0);return Z.setFullYear(de,P,O),Z.setHours(0,0,0),Z}function Nn(de,P){const O=function(de){return(0,l.cg1)(de)[l.wAp.LocaleId]}(de);if(lt[O]=lt[O]||{},lt[O][P])return lt[O][P];let Z="";switch(P){case"shortDate":Z=nn(de,dt.Short);break;case"mediumDate":Z=nn(de,dt.Medium);break;case"longDate":Z=nn(de,dt.Long);break;case"fullDate":Z=nn(de,dt.Full);break;case"shortTime":Z=zt(de,dt.Short);break;case"mediumTime":Z=zt(de,dt.Medium);break;case"longTime":Z=zt(de,dt.Long);break;case"fullTime":Z=zt(de,dt.Full);break;case"short":const Me=Nn(de,"shortTime"),et=Nn(de,"shortDate");Z=_n(an(de,dt.Short),[Me,et]);break;case"medium":const hn=Nn(de,"mediumTime"),En=Nn(de,"mediumDate");Z=_n(an(de,dt.Medium),[hn,En]);break;case"long":const vi=Nn(de,"longTime"),Zi=Nn(de,"longDate");Z=_n(an(de,dt.Long),[vi,Zi]);break;case"full":const Ir=Nn(de,"fullTime"),ci=Nn(de,"fullDate");Z=_n(an(de,dt.Full),[Ir,ci])}return Z&&(lt[O][P]=Z),Z}function _n(de,P){return P&&(de=de.replace(/\{([^}]+)}/g,function(O,Z){return null!=P&&Z in P?P[Z]:O})),de}function Fn(de,P,O="-",Z,Me){let et="";(de<0||Me&&de<=0)&&(Me?de=1-de:(de=-de,et=O));let hn=String(de);for(;hn.length<P;)hn="0"+hn;return Z&&(hn=hn.substr(hn.length-P)),et+hn}function Tn(de,P,O=0,Z=!1,Me=!1){return function(et,hn){let En=function(de,P){switch(de){case Fe.FullYear:return P.getFullYear();case Fe.Month:return P.getMonth();case Fe.Date:return P.getDate();case Fe.Hours:return P.getHours();case Fe.Minutes:return P.getMinutes();case Fe.Seconds:return P.getSeconds();case Fe.FractionalSeconds:return P.getMilliseconds();case Fe.Day:return P.getDay();default:throw new Error(`Unknown DateType value "${de}".`)}}(de,et);if((O>0||En>-O)&&(En+=O),de===Fe.Hours)0===En&&-12===O&&(En=12);else if(de===Fe.FractionalSeconds)return function(de,P){return Fn(de,3).substr(0,P)}(En,P);const vi=On(hn,nt.MinusSign);return Fn(En,P,vi,Z,Me)}}function xn(de,P,O=He.Format,Z=!1){return function(Me,et){return function(de,P,O,Z,Me,et){switch(O){case ut.Months:return function(de,P,O){const Z=(0,l.cg1)(de),et=Mt([Z[l.wAp.MonthsFormat],Z[l.wAp.MonthsStandalone]],P);return Mt(et,O)}(P,Me,Z)[de.getMonth()];case ut.Days:return function(de,P,O){const Z=(0,l.cg1)(de),et=Mt([Z[l.wAp.DaysFormat],Z[l.wAp.DaysStandalone]],P);return Mt(et,O)}(P,Me,Z)[de.getDay()];case ut.DayPeriods:const hn=de.getHours(),En=de.getMinutes();if(et){const Zi=function(de){const P=(0,l.cg1)(de);return We(P),(P[l.wAp.ExtraData][2]||[]).map(Z=>"string"==typeof Z?ee(Z):[ee(Z[0]),ee(Z[1])])}(P),Ir=function(de,P,O){const Z=(0,l.cg1)(de);We(Z);const et=Mt([Z[l.wAp.ExtraData][0],Z[l.wAp.ExtraData][1]],P)||[];return Mt(et,O)||[]}(P,Me,Z),ci=Zi.findIndex(_i=>{if(Array.isArray(_i)){const[wr,Ji]=_i,wi=hn>=wr.hours&&En>=wr.minutes,mo=hn<Ji.hours||hn===Ji.hours&&En<Ji.minutes;if(wr.hours<Ji.hours){if(wi&&mo)return!0}else if(wi||mo)return!0}else if(_i.hours===hn&&_i.minutes===En)return!0;return!1});if(-1!==ci)return Ir[ci]}return function(de,P,O){const Z=(0,l.cg1)(de),et=Mt([Z[l.wAp.DayPeriodsFormat],Z[l.wAp.DayPeriodsStandalone]],P);return Mt(et,O)}(P,Me,Z)[hn<12?0:1];case ut.Eras:return function(de,P){return Mt((0,l.cg1)(de)[l.wAp.Eras],P)}(P,Z)[de.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${O}`)}}(Me,et,de,P,O,Z)}}function $i(de){return function(P,O,Z){const Me=-1*Z,et=On(O,nt.MinusSign),hn=Me>0?Math.floor(Me/60):Math.ceil(Me/60);switch(de){case Oe.Short:return(Me>=0?"+":"")+Fn(hn,2,et)+Fn(Math.abs(Me%60),2,et);case Oe.ShortGMT:return"GMT"+(Me>=0?"+":"")+Fn(hn,1,et);case Oe.Long:return"GMT"+(Me>=0?"+":"")+Fn(hn,2,et)+":"+Fn(Math.abs(Me%60),2,et);case Oe.Extended:return 0===Z?"Z":(Me>=0?"+":"")+Fn(hn,2,et)+":"+Fn(Math.abs(Me%60),2,et);default:throw new Error(`Unknown zone width "${de}"`)}}}!function(de){de[de.Short=0]="Short",de[de.ShortGMT=1]="ShortGMT",de[de.Long=2]="Long",de[de.Extended=3]="Extended"}(Oe||(Oe={})),function(de){de[de.FullYear=0]="FullYear",de[de.Month=1]="Month",de[de.Date=2]="Date",de[de.Hours=3]="Hours",de[de.Minutes=4]="Minutes",de[de.Seconds=5]="Seconds",de[de.FractionalSeconds=6]="FractionalSeconds",de[de.Day=7]="Day"}(Fe||(Fe={})),function(de){de[de.DayPeriods=0]="DayPeriods",de[de.Days=1]="Days",de[de.Months=2]="Months",de[de.Eras=3]="Eras"}(ut||(ut={}));function rr(de){return cn(de.getFullYear(),de.getMonth(),de.getDate()+(4-de.getDay()))}function Xr(de,P=!1){return function(O,Z){let Me;if(P){const et=new Date(O.getFullYear(),O.getMonth(),1).getDay()-1,hn=O.getDate();Me=1+Math.floor((hn+et)/7)}else{const et=rr(O),hn=function(de){const P=cn(de,0,1).getDay();return cn(de,0,1+(P<=4?4:11)-P)}(et.getFullYear()),En=et.getTime()-hn.getTime();Me=1+Math.round(En/6048e5)}return Fn(Me,de,On(Z,nt.MinusSign))}}function es(de,P=!1){return function(O,Z){return Fn(rr(O).getFullYear(),de,On(Z,nt.MinusSign),P)}}const Yi={};function ps(de,P){de=de.replace(/:/g,"");const O=Date.parse("Jan 01, 1970 00:00:00 "+de)/6e4;return isNaN(O)?P:O}function mn(de){return de instanceof Date&&!isNaN(de.valueOf())}const Wt=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Zr(de,P,O,Z,Me,et,hn=!1){let En="",vi=!1;if(isFinite(de)){let Zi=function(de){let Z,Me,et,hn,En,P=Math.abs(de)+"",O=0;for((Me=P.indexOf("."))>-1&&(P=P.replace(".","")),(et=P.search(/e/i))>0?(Me<0&&(Me=et),Me+=+P.slice(et+1),P=P.substring(0,et)):Me<0&&(Me=P.length),et=0;"0"===P.charAt(et);et++);if(et===(En=P.length))Z=[0],Me=1;else{for(En--;"0"===P.charAt(En);)En--;for(Me-=et,Z=[],hn=0;et<=En;et++,hn++)Z[hn]=Number(P.charAt(et))}return Me>22&&(Z=Z.splice(0,21),O=Me-1,Me=1),{digits:Z,exponent:O,integerLen:Me}}(de);hn&&(Zi=function(de){if(0===de.digits[0])return de;const P=de.digits.length-de.integerLen;return de.exponent?de.exponent+=2:(0===P?de.digits.push(0,0):1===P&&de.digits.push(0),de.integerLen+=2),de}(Zi));let Ir=P.minInt,ci=P.minFrac,_i=P.maxFrac;if(et){const lo=et.match(Wt);if(null===lo)throw new Error(`${et} is not a valid digit info`);const Co=lo[1],Oo=lo[3],uo=lo[5];null!=Co&&(Ir=Lr(Co)),null!=Oo&&(ci=Lr(Oo)),null!=uo?_i=Lr(uo):null!=Oo&&ci>_i&&(_i=ci)}!function(de,P,O){if(P>O)throw new Error(`The minimum number of digits after fraction (${P}) is higher than the maximum (${O}).`);let Z=de.digits,Me=Z.length-de.integerLen;const et=Math.min(Math.max(P,Me),O);let hn=et+de.integerLen,En=Z[hn];if(hn>0){Z.splice(Math.max(de.integerLen,hn));for(let ci=hn;ci<Z.length;ci++)Z[ci]=0}else{Me=Math.max(0,Me),de.integerLen=1,Z.length=Math.max(1,hn=et+1),Z[0]=0;for(let ci=1;ci<hn;ci++)Z[ci]=0}if(En>=5)if(hn-1<0){for(let ci=0;ci>hn;ci--)Z.unshift(0),de.integerLen++;Z.unshift(1),de.integerLen++}else Z[hn-1]++;for(;Me<Math.max(0,et);Me++)Z.push(0);let vi=0!==et;const Zi=P+de.integerLen,Ir=Z.reduceRight(function(ci,_i,wr,Ji){return _i+=ci,Ji[wr]=_i<10?_i:_i-10,vi&&(0===Ji[wr]&&wr>=Zi?Ji.pop():vi=!1),_i>=10?1:0},0);Ir&&(Z.unshift(Ir),de.integerLen++)}(Zi,ci,_i);let wr=Zi.digits,Ji=Zi.integerLen;const wi=Zi.exponent;let mo=[];for(vi=wr.every(lo=>!lo);Ji<Ir;Ji++)wr.unshift(0);for(;Ji<0;Ji++)wr.unshift(0);Ji>0?mo=wr.splice(Ji,wr.length):(mo=wr,wr=[0]);const ra=[];for(wr.length>=P.lgSize&&ra.unshift(wr.splice(-P.lgSize,wr.length).join(""));wr.length>P.gSize;)ra.unshift(wr.splice(-P.gSize,wr.length).join(""));wr.length&&ra.unshift(wr.join("")),En=ra.join(On(O,Z)),mo.length&&(En+=On(O,Me)+mo.join("")),wi&&(En+=On(O,nt.Exponential)+"+"+wi)}else En=On(O,nt.Infinity);return En=de<0&&!vi?P.negPre+En+P.negSuf:P.posPre+En+P.posSuf,En}function Us(de,P,O,Z,Me){const hn=Gi(Dn(P,ne.Currency),On(P,nt.MinusSign));return hn.minFrac=function(de){let P;const O=Le[de];return O&&(P=O[2]),"number"==typeof P?P:2}(Z),hn.maxFrac=hn.minFrac,Zr(de,hn,P,nt.CurrencyGroup,nt.CurrencyDecimal,Me).replace("\xa4",O).replace("\xa4","").trim()}function Gi(de,P="-"){const O={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},Z=de.split(";"),Me=Z[0],et=Z[1],hn=-1!==Me.indexOf(".")?Me.split("."):[Me.substring(0,Me.lastIndexOf("0")+1),Me.substring(Me.lastIndexOf("0")+1)],En=hn[0],vi=hn[1]||"";O.posPre=En.substr(0,En.indexOf("#"));for(let Ir=0;Ir<vi.length;Ir++){const ci=vi.charAt(Ir);"0"===ci?O.minFrac=O.maxFrac=Ir+1:"#"===ci?O.maxFrac=Ir+1:O.posSuf+=ci}const Zi=En.split(",");if(O.gSize=Zi[1]?Zi[1].length:0,O.lgSize=Zi[2]||Zi[1]?(Zi[2]||Zi[1]).length:0,et){const Ir=Me.length-O.posPre.length-O.posSuf.length,ci=et.indexOf("#");O.negPre=et.substr(0,ci).replace(/'/g,""),O.negSuf=et.substr(ci+Ir).replace(/'/g,"")}else O.negPre=P+O.posPre,O.negSuf=O.posSuf;return O}function Lr(de){const P=parseInt(de);if(isNaN(P))throw new Error("Invalid integer literal when parsing "+de);return P}class ls{}function or(de,P,O,Z){let Me=`=${de}`;if(P.indexOf(Me)>-1||(Me=O.getPluralCategory(de,Z),P.indexOf(Me)>-1))return Me;if(P.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${de}"`)}class lr extends ls{constructor(P){super(),this.locale=P}getPluralCategory(P,O){switch(qe(O||this.locale)(P)){case Pe.Zero:return"zero";case Pe.One:return"one";case Pe.Two:return"two";case Pe.Few:return"few";case Pe.Many:return"many";default:return"other"}}}function ai(de,P){P=encodeURIComponent(P);for(const O of de.split(";")){const Z=O.indexOf("="),[Me,et]=-1==Z?[O,""]:[O.slice(0,Z),O.slice(Z+1)];if(Me.trim()===P)return decodeURIComponent(et)}return null}lr.\u0275fac=function(P){return new(P||lr)(l.LFG(l.soG))},lr.\u0275prov=l.Yz7({token:lr,factory:lr.\u0275fac});class Xi{constructor(P,O,Z,Me){this._iterableDiffers=P,this._keyValueDiffers=O,this._ngEl=Z,this._renderer=Me,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(P){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof P?P.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(P){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof P?P.split(/\s+/):P,this._rawClass&&((0,l.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const P=this._iterableDiffer.diff(this._rawClass);P&&this._applyIterableChanges(P)}else if(this._keyValueDiffer){const P=this._keyValueDiffer.diff(this._rawClass);P&&this._applyKeyValueChanges(P)}}_applyKeyValueChanges(P){P.forEachAddedItem(O=>this._toggleClass(O.key,O.currentValue)),P.forEachChangedItem(O=>this._toggleClass(O.key,O.currentValue)),P.forEachRemovedItem(O=>{O.previousValue&&this._toggleClass(O.key,!1)})}_applyIterableChanges(P){P.forEachAddedItem(O=>{if("string"!=typeof O.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,l.AaK)(O.item)}`);this._toggleClass(O.item,!0)}),P.forEachRemovedItem(O=>this._toggleClass(O.item,!1))}_applyClasses(P){P&&(Array.isArray(P)||P instanceof Set?P.forEach(O=>this._toggleClass(O,!0)):Object.keys(P).forEach(O=>this._toggleClass(O,!!P[O])))}_removeClasses(P){P&&(Array.isArray(P)||P instanceof Set?P.forEach(O=>this._toggleClass(O,!1)):Object.keys(P).forEach(O=>this._toggleClass(O,!1)))}_toggleClass(P,O){(P=P.trim())&&P.split(/\s+/g).forEach(Z=>{O?this._renderer.addClass(this._ngEl.nativeElement,Z):this._renderer.removeClass(this._ngEl.nativeElement,Z)})}}Xi.\u0275fac=function(P){return new(P||Xi)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},Xi.\u0275dir=l.lG2({type:Xi,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}});class ji{constructor(P){this._viewContainerRef=P,this._componentRef=null,this._moduleRef=null}ngOnChanges(P){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){const O=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(P.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){const et=O.get(l.h0i);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(et.injector)}else this._moduleRef=null;const Me=(this._moduleRef?this._moduleRef.componentFactoryResolver:O.get(l._Vd)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(Me,this._viewContainerRef.length,O,this.ngComponentOutletContent)}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}ji.\u0275fac=function(P){return new(P||ji)(l.Y36(l.s_b))},ji.\u0275dir=l.lG2({type:ji,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},features:[l.TTD]});class Er{constructor(P,O,Z,Me){this.$implicit=P,this.ngForOf=O,this.index=Z,this.count=Me}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class Bi{constructor(P,O,Z){this._viewContainer=P,this._template=O,this._differs=Z,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(P){this._ngForOf=P,this._ngForOfDirty=!0}set ngForTrackBy(P){this._trackByFn=P}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(P){P&&(this._template=P)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const P=this._ngForOf;!this._differ&&P&&(this._differ=this._differs.find(P).create(this.ngForTrackBy))}if(this._differ){const P=this._differ.diff(this._ngForOf);P&&this._applyChanges(P)}}_applyChanges(P){const O=this._viewContainer;P.forEachOperation((Z,Me,et)=>{if(null==Z.previousIndex)O.createEmbeddedView(this._template,new Er(Z.item,this._ngForOf,-1,-1),null===et?void 0:et);else if(null==et)O.remove(null===Me?void 0:Me);else if(null!==Me){const hn=O.get(Me);O.move(hn,et),ar(hn,Z)}});for(let Z=0,Me=O.length;Z<Me;Z++){const hn=O.get(Z).context;hn.index=Z,hn.count=Me,hn.ngForOf=this._ngForOf}P.forEachIdentityChange(Z=>{ar(O.get(Z.currentIndex),Z)})}static ngTemplateContextGuard(P,O){return!0}}function ar(de,P){de.context.$implicit=P.item}Bi.\u0275fac=function(P){return new(P||Bi)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},Bi.\u0275dir=l.lG2({type:Bi,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}});class Rr{constructor(P,O){this._viewContainer=P,this._context=new is,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=O}set ngIf(P){this._context.$implicit=this._context.ngIf=P,this._updateView()}set ngIfThen(P){Et("ngIfThen",P),this._thenTemplateRef=P,this._thenViewRef=null,this._updateView()}set ngIfElse(P){Et("ngIfElse",P),this._elseTemplateRef=P,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(P,O){return!0}}Rr.\u0275fac=function(P){return new(P||Rr)(l.Y36(l.s_b),l.Y36(l.Rgc))},Rr.\u0275dir=l.lG2({type:Rr,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}});class is{constructor(){this.$implicit=null,this.ngIf=null}}function Et(de,P){if(P&&!P.createEmbeddedView)throw new Error(`${de} must be a TemplateRef, but received '${(0,l.AaK)(P)}'.`)}class Rt{constructor(P,O){this._viewContainerRef=P,this._templateRef=O,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(P){P&&!this._created?this.create():!P&&this._created&&this.destroy()}}class Tt{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(P){this._ngSwitch=P,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(P){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(P)}_matchCase(P){const O=P==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||O,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),O}_updateDefaultCases(P){if(this._defaultViews&&P!==this._defaultUsed){this._defaultUsed=P;for(let O=0;O<this._defaultViews.length;O++)this._defaultViews[O].enforceState(P)}}}Tt.\u0275fac=function(P){return new(P||Tt)},Tt.\u0275dir=l.lG2({type:Tt,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}});class wn{constructor(P,O,Z){this.ngSwitch=Z,Z._addCase(),this._view=new Rt(P,O)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}wn.\u0275fac=function(P){return new(P||wn)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(Tt,9))},wn.\u0275dir=l.lG2({type:wn,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}});class In{constructor(P,O,Z){Z._addDefault(new Rt(P,O))}}In.\u0275fac=function(P){return new(P||In)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(Tt,9))},In.\u0275dir=l.lG2({type:In,selectors:[["","ngSwitchDefault",""]]});class $n{constructor(P){this._localization=P,this._caseViews={}}set ngPlural(P){this._switchValue=P,this._updateView()}addCase(P,O){this._caseViews[P]=O}_updateView(){this._clearViews();const P=Object.keys(this._caseViews),O=or(this._switchValue,P,this._localization);this._activateView(this._caseViews[O])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(P){P&&(this._activeView=P,this._activeView.create())}}$n.\u0275fac=function(P){return new(P||$n)(l.Y36(ls))},$n.\u0275dir=l.lG2({type:$n,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"}});class mi{constructor(P,O,Z,Me){this.value=P;const et=!isNaN(Number(P));Me.addCase(et?`=${P}`:P,new Rt(Z,O))}}mi.\u0275fac=function(P){return new(P||mi)(l.$8M("ngPluralCase"),l.Y36(l.Rgc),l.Y36(l.s_b),l.Y36($n,1))},mi.\u0275dir=l.lG2({type:mi,selectors:[["","ngPluralCase",""]]});class xi{constructor(P,O,Z){this._ngEl=P,this._differs=O,this._renderer=Z,this._ngStyle=null,this._differ=null}set ngStyle(P){this._ngStyle=P,!this._differ&&P&&(this._differ=this._differs.find(P).create())}ngDoCheck(){if(this._differ){const P=this._differ.diff(this._ngStyle);P&&this._applyChanges(P)}}_setStyle(P,O){const[Z,Me]=P.split(".");null!=(O=null!=O&&Me?`${O}${Me}`:O)?this._renderer.setStyle(this._ngEl.nativeElement,Z,O):this._renderer.removeStyle(this._ngEl.nativeElement,Z)}_applyChanges(P){P.forEachRemovedItem(O=>this._setStyle(O.key,null)),P.forEachAddedItem(O=>this._setStyle(O.key,O.currentValue)),P.forEachChangedItem(O=>this._setStyle(O.key,O.currentValue))}}xi.\u0275fac=function(P){return new(P||xi)(l.Y36(l.SBq),l.Y36(l.aQg),l.Y36(l.Qsj))},xi.\u0275dir=l.lG2({type:xi,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}});class Ri{constructor(P){this._viewContainerRef=P,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(P){if(P.ngTemplateOutlet){const O=this._viewContainerRef;this._viewRef&&O.remove(O.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?O.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&P.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}Ri.\u0275fac=function(P){return new(P||Ri)(l.Y36(l.s_b))},Ri.\u0275dir=l.lG2({type:Ri,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[l.TTD]});function Wr(de,P){return Error(`InvalidPipeArgument: '${P}' for pipe '${(0,l.AaK)(de)}'`)}const he=new class{createSubscription(P,O){return P.then(O,Z=>{throw Z})}dispose(P){}onDestroy(P){}},ke=new class{createSubscription(P,O){return P.subscribe({next:O,error:Z=>{throw Z}})}dispose(P){P.unsubscribe()}onDestroy(P){P.unsubscribe()}};class vt{constructor(P){this._ref=P,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(P){return this._obj?P!==this._obj?(this._dispose(),this.transform(P)):this._latestValue:(P&&this._subscribe(P),this._latestValue)}_subscribe(P){this._obj=P,this._strategy=this._selectStrategy(P),this._subscription=this._strategy.createSubscription(P,O=>this._updateLatestValue(P,O))}_selectStrategy(P){if((0,l.QGY)(P))return he;if((0,l.F4k)(P))return ke;throw Wr(vt,P)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(P,O){P===this._obj&&(this._latestValue=O,this._ref.markForCheck())}}vt.\u0275fac=function(P){return new(P||vt)(l.Y36(l.sBO,16))},vt.\u0275pipe=l.Yjl({name:"async",type:vt,pure:!1});class Qt{transform(P){if(null==P)return null;if("string"!=typeof P)throw Wr(Qt,P);return P.toLowerCase()}}Qt.\u0275fac=function(P){return new(P||Qt)},Qt.\u0275pipe=l.Yjl({name:"lowercase",type:Qt,pure:!0});const yn=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;class ui{transform(P){if(null==P)return null;if("string"!=typeof P)throw Wr(ui,P);return P.replace(yn,O=>O[0].toUpperCase()+O.substr(1).toLowerCase())}}ui.\u0275fac=function(P){return new(P||ui)},ui.\u0275pipe=l.Yjl({name:"titlecase",type:ui,pure:!0});class Oi{transform(P){if(null==P)return null;if("string"!=typeof P)throw Wr(Oi,P);return P.toUpperCase()}}Oi.\u0275fac=function(P){return new(P||Oi)},Oi.\u0275pipe=l.Yjl({name:"uppercase",type:Oi,pure:!0});const Dr=new l.OlP("DATE_PIPE_DEFAULT_TIMEZONE");class si{constructor(P,O){this.locale=P,this.defaultTimezone=O}transform(P,O="mediumDate",Z,Me){var et;if(null==P||""===P||P!=P)return null;try{return It(P,O,Me||this.locale,null!==(et=null!=Z?Z:this.defaultTimezone)&&void 0!==et?et:void 0)}catch(hn){throw Wr(si,hn.message)}}}si.\u0275fac=function(P){return new(P||si)(l.Y36(l.soG,16),l.Y36(Dr,24))},si.\u0275pipe=l.Yjl({name:"date",type:si,pure:!0});const Jt=/#/g;class Pn{constructor(P){this._localization=P}transform(P,O,Z){if(null==P)return"";if("object"!=typeof O||null===O)throw Wr(Pn,O);return O[or(P,Object.keys(O),this._localization,Z)].replace(Jt,P.toString())}}Pn.\u0275fac=function(P){return new(P||Pn)(l.Y36(ls,16))},Pn.\u0275pipe=l.Yjl({name:"i18nPlural",type:Pn,pure:!0});class oi{transform(P,O){if(null==P)return"";if("object"!=typeof O||"string"!=typeof P)throw Wr(oi,O);return O.hasOwnProperty(P)?O[P]:O.hasOwnProperty("other")?O.other:""}}oi.\u0275fac=function(P){return new(P||oi)},oi.\u0275pipe=l.Yjl({name:"i18nSelect",type:oi,pure:!0});class Cr{transform(P){return JSON.stringify(P,null,2)}}Cr.\u0275fac=function(P){return new(P||Cr)},Cr.\u0275pipe=l.Yjl({name:"json",type:Cr,pure:!1});class Br{constructor(P){this.differs=P,this.keyValues=[],this.compareFn=eo}transform(P,O=eo){if(!P||!(P instanceof Map)&&"object"!=typeof P)return null;this.differ||(this.differ=this.differs.find(P).create());const Z=this.differ.diff(P),Me=O!==this.compareFn;return Z&&(this.keyValues=[],Z.forEachItem(et=>{this.keyValues.push(function(de,P){return{key:de,value:P}}(et.key,et.currentValue))})),(Z||Me)&&(this.keyValues.sort(O),this.compareFn=O),this.keyValues}}function eo(de,P){const O=de.key,Z=P.key;if(O===Z)return 0;if(void 0===O)return 1;if(void 0===Z)return-1;if(null===O)return 1;if(null===Z)return-1;if("string"==typeof O&&"string"==typeof Z)return O<Z?-1:1;if("number"==typeof O&&"number"==typeof Z)return O-Z;if("boolean"==typeof O&&"boolean"==typeof Z)return O<Z?-1:1;const Me=String(O),et=String(Z);return Me==et?0:Me<et?-1:1}Br.\u0275fac=function(P){return new(P||Br)(l.Y36(l.aQg,16))},Br.\u0275pipe=l.Yjl({name:"keyvalue",type:Br,pure:!1});class gs{constructor(P){this._locale=P}transform(P,O,Z){if(!ea(P))return null;Z=Z||this._locale;try{return function(de,P,O){return Zr(de,Gi(Dn(P,ne.Decimal),On(P,nt.MinusSign)),P,nt.Group,nt.Decimal,O)}(Gr(P),Z,O)}catch(Me){throw Wr(gs,Me.message)}}}gs.\u0275fac=function(P){return new(P||gs)(l.Y36(l.soG,16))},gs.\u0275pipe=l.Yjl({name:"number",type:gs,pure:!0});class ys{constructor(P){this._locale=P}transform(P,O,Z){if(!ea(P))return null;Z=Z||this._locale;try{return function(de,P,O){return Zr(de,Gi(Dn(P,ne.Percent),On(P,nt.MinusSign)),P,nt.Group,nt.Decimal,O,!0).replace(new RegExp("%","g"),On(P,nt.PercentSign))}(Gr(P),Z,O)}catch(Me){throw Wr(ys,Me.message)}}}ys.\u0275fac=function(P){return new(P||ys)(l.Y36(l.soG,16))},ys.\u0275pipe=l.Yjl({name:"percent",type:ys,pure:!0});class zr{constructor(P,O="USD"){this._locale=P,this._defaultCurrencyCode=O}transform(P,O=this._defaultCurrencyCode,Z="symbol",Me,et){if(!ea(P))return null;et=et||this._locale,"boolean"==typeof Z&&(Z=Z?"symbol":"code");let hn=O||this._defaultCurrencyCode;"code"!==Z&&(hn="symbol"===Z||"symbol-narrow"===Z?pe(hn,"symbol"===Z?"wide":"narrow",et):Z);try{return Us(Gr(P),et,hn,O,Me)}catch(En){throw Wr(zr,En.message)}}}function ea(de){return!(null==de||""===de||de!=de)}function Gr(de){if("string"==typeof de&&!isNaN(Number(de)-parseFloat(de)))return Number(de);if("number"!=typeof de)throw new Error(`${de} is not a number`);return de}zr.\u0275fac=function(P){return new(P||zr)(l.Y36(l.soG,16),l.Y36(l.EJc,16))},zr.\u0275pipe=l.Yjl({name:"currency",type:zr,pure:!0});class ur{transform(P,O,Z){if(null==P)return null;if(!this.supports(P))throw Wr(ur,P);return P.slice(O,Z)}supports(P){return"string"==typeof P||Array.isArray(P)}}ur.\u0275fac=function(P){return new(P||ur)},ur.\u0275pipe=l.Yjl({name:"slice",type:ur,pure:!1});class Vo{}Vo.\u0275fac=function(P){return new(P||Vo)},Vo.\u0275mod=l.oAB({type:Vo,declarations:[Xi,ji,Bi,Rr,Ri,xi,Tt,wn,In,$n,mi,vt,Oi,Qt,Cr,ur,gs,ys,ui,zr,si,Pn,oi,Br],exports:[Xi,ji,Bi,Rr,Ri,xi,Tt,wn,In,$n,mi,vt,Oi,Qt,Cr,ur,gs,ys,ui,zr,si,Pn,oi,Br]}),Vo.\u0275inj=l.cJS({providers:[{provide:ls,useClass:lr}]});const qr="browser";new l.GfV("13.1.0");class ve{}ve.\u0275prov=(0,l.Yz7)({token:ve,providedIn:"root",factory:()=>new Ve((0,l.LFG)(v),window)});class Ve{constructor(P,O){this.document=P,this.window=O,this.offset=()=>[0,0]}setOffset(P){Array.isArray(P)?this.offset=()=>P:this.offset=P}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(P){this.supportsScrolling()&&this.window.scrollTo(P[0],P[1])}scrollToAnchor(P){if(!this.supportsScrolling())return;const O=function(de,P){const O=de.getElementById(P)||de.getElementsByName(P)[0];if(O)return O;if("function"==typeof de.createTreeWalker&&de.body&&(de.body.createShadowRoot||de.body.attachShadow)){const Z=de.createTreeWalker(de.body,NodeFilter.SHOW_ELEMENT);let Me=Z.currentNode;for(;Me;){const et=Me.shadowRoot;if(et){const hn=et.getElementById(P)||et.querySelector(`[name="${P}"]`);if(hn)return hn}Me=Z.nextNode()}}return null}(this.document,P);O&&(this.scrollToElement(O),this.attemptFocus(O))}setHistoryScrollRestoration(P){if(this.supportScrollRestoration()){const O=this.window.history;O&&O.scrollRestoration&&(O.scrollRestoration=P)}}scrollToElement(P){const O=P.getBoundingClientRect(),Z=O.left+this.window.pageXOffset,Me=O.top+this.window.pageYOffset,et=this.offset();this.window.scrollTo(Z-et[0],Me-et[1])}attemptFocus(P){return P.focus(),this.document.activeElement===P}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const P=Ge(this.window.history)||Ge(Object.getPrototypeOf(this.window.history));return!(!P||!P.writable&&!P.set)}catch(P){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(P){return!1}}}function Ge(de){return Object.getOwnPropertyDescriptor(de,"scrollRestoration")}class Lt{}},8784:(V,k,L)=>{"use strict";L.d(k,{eN:()=>nt,JF:()=>Mt,WM:()=>x});var l=L(6362),A=L(3184),j=L(745),I=L(3336),m=L(3853),b=L(116),v=L(635);class w{}class T{}class x{constructor(Ce){this.normalizedNames=new Map,this.lazyUpdate=null,Ce?this.lazyInit="string"==typeof Ce?()=>{this.headers=new Map,Ce.split("\n").forEach(Je=>{const lt=Je.indexOf(":");if(lt>0){const jt=Je.slice(0,lt),Oe=jt.toLowerCase(),Fe=Je.slice(lt+1).trim();this.maybeSetNormalizedName(jt,Oe),this.headers.has(Oe)?this.headers.get(Oe).push(Fe):this.headers.set(Oe,[Fe])}})}:()=>{this.headers=new Map,Object.keys(Ce).forEach(Je=>{let lt=Ce[Je];const jt=Je.toLowerCase();"string"==typeof lt&&(lt=[lt]),lt.length>0&&(this.headers.set(jt,lt),this.maybeSetNormalizedName(Je,jt))})}:this.headers=new Map}has(Ce){return this.init(),this.headers.has(Ce.toLowerCase())}get(Ce){this.init();const Je=this.headers.get(Ce.toLowerCase());return Je&&Je.length>0?Je[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ce){return this.init(),this.headers.get(Ce.toLowerCase())||null}append(Ce,Je){return this.clone({name:Ce,value:Je,op:"a"})}set(Ce,Je){return this.clone({name:Ce,value:Je,op:"s"})}delete(Ce,Je){return this.clone({name:Ce,value:Je,op:"d"})}maybeSetNormalizedName(Ce,Je){this.normalizedNames.has(Je)||this.normalizedNames.set(Je,Ce)}init(){this.lazyInit&&(this.lazyInit instanceof x?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ce=>this.applyUpdate(Ce)),this.lazyUpdate=null))}copyFrom(Ce){Ce.init(),Array.from(Ce.headers.keys()).forEach(Je=>{this.headers.set(Je,Ce.headers.get(Je)),this.normalizedNames.set(Je,Ce.normalizedNames.get(Je))})}clone(Ce){const Je=new x;return Je.lazyInit=this.lazyInit&&this.lazyInit instanceof x?this.lazyInit:this,Je.lazyUpdate=(this.lazyUpdate||[]).concat([Ce]),Je}applyUpdate(Ce){const Je=Ce.name.toLowerCase();switch(Ce.op){case"a":case"s":let lt=Ce.value;if("string"==typeof lt&&(lt=[lt]),0===lt.length)return;this.maybeSetNormalizedName(Ce.name,Je);const jt=("a"===Ce.op?this.headers.get(Je):void 0)||[];jt.push(...lt),this.headers.set(Je,jt);break;case"d":const Oe=Ce.value;if(Oe){let Fe=this.headers.get(Je);if(!Fe)return;Fe=Fe.filter(ut=>-1===Oe.indexOf(ut)),0===Fe.length?(this.headers.delete(Je),this.normalizedNames.delete(Je)):this.headers.set(Je,Fe)}else this.headers.delete(Je),this.normalizedNames.delete(Je)}}forEach(Ce){this.init(),Array.from(this.normalizedNames.keys()).forEach(Je=>Ce(this.normalizedNames.get(Je),this.headers.get(Je)))}}class S{encodeKey(Ce){return Y(Ce)}encodeValue(Ce){return Y(Ce)}decodeKey(Ce){return decodeURIComponent(Ce)}decodeValue(Ce){return decodeURIComponent(Ce)}}const F=/%(\d[a-f0-9])/gi,U={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Y(xe){return encodeURIComponent(xe).replace(F,(Ce,Je)=>{var lt;return null!==(lt=U[Je])&&void 0!==lt?lt:Ce})}function ce(xe){return`${xe}`}class be{constructor(Ce={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ce.encoder||new S,Ce.fromString){if(Ce.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(xe,Ce){const Je=new Map;return xe.length>0&&xe.replace(/^\?/,"").split("&").forEach(jt=>{const Oe=jt.indexOf("="),[Fe,ut]=-1==Oe?[Ce.decodeKey(jt),""]:[Ce.decodeKey(jt.slice(0,Oe)),Ce.decodeValue(jt.slice(Oe+1))],It=Je.get(Fe)||[];It.push(ut),Je.set(Fe,It)}),Je}(Ce.fromString,this.encoder)}else Ce.fromObject?(this.map=new Map,Object.keys(Ce.fromObject).forEach(Je=>{const lt=Ce.fromObject[Je];this.map.set(Je,Array.isArray(lt)?lt:[lt])})):this.map=null}has(Ce){return this.init(),this.map.has(Ce)}get(Ce){this.init();const Je=this.map.get(Ce);return Je?Je[0]:null}getAll(Ce){return this.init(),this.map.get(Ce)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ce,Je){return this.clone({param:Ce,value:Je,op:"a"})}appendAll(Ce){const Je=[];return Object.keys(Ce).forEach(lt=>{const jt=Ce[lt];Array.isArray(jt)?jt.forEach(Oe=>{Je.push({param:lt,value:Oe,op:"a"})}):Je.push({param:lt,value:jt,op:"a"})}),this.clone(Je)}set(Ce,Je){return this.clone({param:Ce,value:Je,op:"s"})}delete(Ce,Je){return this.clone({param:Ce,value:Je,op:"d"})}toString(){return this.init(),this.keys().map(Ce=>{const Je=this.encoder.encodeKey(Ce);return this.map.get(Ce).map(lt=>Je+"="+this.encoder.encodeValue(lt)).join("&")}).filter(Ce=>""!==Ce).join("&")}clone(Ce){const Je=new be({encoder:this.encoder});return Je.cloneFrom=this.cloneFrom||this,Je.updates=(this.updates||[]).concat(Ce),Je}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ce=>this.map.set(Ce,this.cloneFrom.map.get(Ce))),this.updates.forEach(Ce=>{switch(Ce.op){case"a":case"s":const Je=("a"===Ce.op?this.map.get(Ce.param):void 0)||[];Je.push(ce(Ce.value)),this.map.set(Ce.param,Je);break;case"d":if(void 0===Ce.value){this.map.delete(Ce.param);break}{let lt=this.map.get(Ce.param)||[];const jt=lt.indexOf(ce(Ce.value));-1!==jt&&lt.splice(jt,1),lt.length>0?this.map.set(Ce.param,lt):this.map.delete(Ce.param)}}}),this.cloneFrom=this.updates=null)}}class ae{constructor(){this.map=new Map}set(Ce,Je){return this.map.set(Ce,Je),this}get(Ce){return this.map.has(Ce)||this.map.set(Ce,Ce.defaultValue()),this.map.get(Ce)}delete(Ce){return this.map.delete(Ce),this}has(Ce){return this.map.has(Ce)}keys(){return this.map.keys()}}function Te(xe){return"undefined"!=typeof ArrayBuffer&&xe instanceof ArrayBuffer}function Re(xe){return"undefined"!=typeof Blob&&xe instanceof Blob}function G(xe){return"undefined"!=typeof FormData&&xe instanceof FormData}class Ie{constructor(Ce,Je,lt,jt){let Oe;if(this.url=Je,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ce.toUpperCase(),function(xe){switch(xe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||jt?(this.body=void 0!==lt?lt:null,Oe=jt):Oe=lt,Oe&&(this.reportProgress=!!Oe.reportProgress,this.withCredentials=!!Oe.withCredentials,Oe.responseType&&(this.responseType=Oe.responseType),Oe.headers&&(this.headers=Oe.headers),Oe.context&&(this.context=Oe.context),Oe.params&&(this.params=Oe.params)),this.headers||(this.headers=new x),this.context||(this.context=new ae),this.params){const Fe=this.params.toString();if(0===Fe.length)this.urlWithParams=Je;else{const ut=Je.indexOf("?"),It=-1===ut?"?":ut<Je.length-1?"&":"";this.urlWithParams=Je+It+Fe}}else this.params=new be,this.urlWithParams=Je}serializeBody(){return null===this.body?null:Te(this.body)||Re(this.body)||G(this.body)||(xe=this.body,"undefined"!=typeof URLSearchParams&&xe instanceof URLSearchParams)||"string"==typeof this.body?this.body:this.body instanceof be?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString();var xe}detectContentTypeHeader(){return null===this.body||G(this.body)?null:Re(this.body)?this.body.type||null:Te(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof be?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ce={}){var Je;const lt=Ce.method||this.method,jt=Ce.url||this.url,Oe=Ce.responseType||this.responseType,Fe=void 0!==Ce.body?Ce.body:this.body,ut=void 0!==Ce.withCredentials?Ce.withCredentials:this.withCredentials,It=void 0!==Ce.reportProgress?Ce.reportProgress:this.reportProgress;let cn=Ce.headers||this.headers,Nn=Ce.params||this.params;const _n=null!==(Je=Ce.context)&&void 0!==Je?Je:this.context;return void 0!==Ce.setHeaders&&(cn=Object.keys(Ce.setHeaders).reduce((Fn,Hn)=>Fn.set(Hn,Ce.setHeaders[Hn]),cn)),Ce.setParams&&(Nn=Object.keys(Ce.setParams).reduce((Fn,Hn)=>Fn.set(Hn,Ce.setParams[Hn]),Nn)),new Ie(lt,jt,Fe,{params:Nn,headers:cn,context:_n,reportProgress:It,responseType:Oe,withCredentials:ut})}}var Le,xe;(xe=Le||(Le={}))[xe.Sent=0]="Sent",xe[xe.UploadProgress=1]="UploadProgress",xe[xe.ResponseHeader=2]="ResponseHeader",xe[xe.DownloadProgress=3]="DownloadProgress",xe[xe.Response=4]="Response",xe[xe.User=5]="User";class ne{constructor(Ce,Je=200,lt="OK"){this.headers=Ce.headers||new x,this.status=void 0!==Ce.status?Ce.status:Je,this.statusText=Ce.statusText||lt,this.url=Ce.url||null,this.ok=this.status>=200&&this.status<300}}class Pe extends ne{constructor(Ce={}){super(Ce),this.type=Le.ResponseHeader}clone(Ce={}){return new Pe({headers:Ce.headers||this.headers,status:void 0!==Ce.status?Ce.status:this.status,statusText:Ce.statusText||this.statusText,url:Ce.url||this.url||void 0})}}class He extends ne{constructor(Ce={}){super(Ce),this.type=Le.Response,this.body=void 0!==Ce.body?Ce.body:null}clone(Ce={}){return new He({body:void 0!==Ce.body?Ce.body:this.body,headers:Ce.headers||this.headers,status:void 0!==Ce.status?Ce.status:this.status,statusText:Ce.statusText||this.statusText,url:Ce.url||this.url||void 0})}}class ze extends ne{constructor(Ce){super(Ce,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${Ce.url||"(unknown url)"}`:this.message=`Http failure response for ${Ce.url||"(unknown url)"}: ${Ce.status} ${Ce.statusText}`,this.error=Ce.error||null}}function dt(xe,Ce){return{body:Ce,headers:xe.headers,context:xe.context,observe:xe.observe,params:xe.params,reportProgress:xe.reportProgress,responseType:xe.responseType,withCredentials:xe.withCredentials}}class nt{constructor(Ce){this.handler=Ce}request(Ce,Je,lt={}){let jt;if(Ce instanceof Ie)jt=Ce;else{let ut,It;ut=lt.headers instanceof x?lt.headers:new x(lt.headers),lt.params&&(It=lt.params instanceof be?lt.params:new be({fromObject:lt.params})),jt=new Ie(Ce,Je,void 0!==lt.body?lt.body:null,{headers:ut,context:lt.context,params:It,reportProgress:lt.reportProgress,responseType:lt.responseType||"json",withCredentials:lt.withCredentials})}const Oe=(0,j.of)(jt).pipe((0,m.b)(ut=>this.handler.handle(ut)));if(Ce instanceof Ie||"events"===lt.observe)return Oe;const Fe=Oe.pipe((0,b.h)(ut=>ut instanceof He));switch(lt.observe||"body"){case"body":switch(jt.responseType){case"arraybuffer":return Fe.pipe((0,v.U)(ut=>{if(null!==ut.body&&!(ut.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ut.body}));case"blob":return Fe.pipe((0,v.U)(ut=>{if(null!==ut.body&&!(ut.body instanceof Blob))throw new Error("Response is not a Blob.");return ut.body}));case"text":return Fe.pipe((0,v.U)(ut=>{if(null!==ut.body&&"string"!=typeof ut.body)throw new Error("Response is not a string.");return ut.body}));default:return Fe.pipe((0,v.U)(ut=>ut.body))}case"response":return Fe;default:throw new Error(`Unreachable: unhandled observe type ${lt.observe}}`)}}delete(Ce,Je={}){return this.request("DELETE",Ce,Je)}get(Ce,Je={}){return this.request("GET",Ce,Je)}head(Ce,Je={}){return this.request("HEAD",Ce,Je)}jsonp(Ce,Je){return this.request("JSONP",Ce,{params:(new be).append(Je,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ce,Je={}){return this.request("OPTIONS",Ce,Je)}patch(Ce,Je,lt={}){return this.request("PATCH",Ce,dt(lt,Je))}post(Ce,Je,lt={}){return this.request("POST",Ce,dt(lt,Je))}put(Ce,Je,lt={}){return this.request("PUT",Ce,dt(lt,Je))}}nt.\u0275fac=function(Ce){return new(Ce||nt)(A.LFG(w))},nt.\u0275prov=A.Yz7({token:nt,factory:nt.\u0275fac});class kt{constructor(Ce,Je){this.next=Ce,this.interceptor=Je}handle(Ce){return this.interceptor.intercept(Ce,this.next)}}const wt=new A.OlP("HTTP_INTERCEPTORS");class Pt{intercept(Ce,Je){return Je.handle(Ce)}}Pt.\u0275fac=function(Ce){return new(Ce||Pt)},Pt.\u0275prov=A.Yz7({token:Pt,factory:Pt.\u0275fac});let en=0;class sn{}class nn{constructor(Ce,Je){this.callbackMap=Ce,this.document=Je,this.resolvedPromise=Promise.resolve()}nextCallback(){return"ng_jsonp_callback_"+en++}handle(Ce){if("JSONP"!==Ce.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==Ce.responseType)throw new Error("JSONP requests must use Json response type.");return new I.y(Je=>{const lt=this.nextCallback(),jt=Ce.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${lt}$1`),Oe=this.document.createElement("script");Oe.src=jt;let Fe=null,ut=!1,It=!1;this.callbackMap[lt]=Fn=>{delete this.callbackMap[lt],!It&&(Fe=Fn,ut=!0)};const cn=()=>{Oe.parentNode&&Oe.parentNode.removeChild(Oe),delete this.callbackMap[lt]},Nn=Fn=>{It||this.resolvedPromise.then(()=>{cn(),ut?(Je.next(new He({body:Fe,status:200,statusText:"OK",url:jt})),Je.complete()):Je.error(new ze({url:jt,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")}))})},_n=Fn=>{It||(cn(),Je.error(new ze({error:Fn,status:0,statusText:"JSONP Error",url:jt})))};return Oe.addEventListener("load",Nn),Oe.addEventListener("error",_n),this.document.body.appendChild(Oe),Je.next({type:Le.Sent}),()=>{It=!0,Oe.removeEventListener("load",Nn),Oe.removeEventListener("error",_n),cn()}})}}nn.\u0275fac=function(Ce){return new(Ce||nn)(A.LFG(sn),A.LFG(l.K0))},nn.\u0275prov=A.Yz7({token:nn,factory:nn.\u0275fac});class zt{constructor(Ce){this.jsonp=Ce}intercept(Ce,Je){return"JSONP"===Ce.method?this.jsonp.handle(Ce):Je.handle(Ce)}}zt.\u0275fac=function(Ce){return new(Ce||zt)(A.LFG(nn))},zt.\u0275prov=A.Yz7({token:zt,factory:zt.\u0275fac});const an=/^\)\]\}',?\n/;class Dn{constructor(Ce){this.xhrFactory=Ce}handle(Ce){if("JSONP"===Ce.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new I.y(Je=>{const lt=this.xhrFactory.build();if(lt.open(Ce.method,Ce.urlWithParams),Ce.withCredentials&&(lt.withCredentials=!0),Ce.headers.forEach((Fn,Hn)=>lt.setRequestHeader(Fn,Hn.join(","))),Ce.headers.has("Accept")||lt.setRequestHeader("Accept","application/json, text/plain, */*"),!Ce.headers.has("Content-Type")){const Fn=Ce.detectContentTypeHeader();null!==Fn&&lt.setRequestHeader("Content-Type",Fn)}if(Ce.responseType){const Fn=Ce.responseType.toLowerCase();lt.responseType="json"!==Fn?Fn:"text"}const jt=Ce.serializeBody();let Oe=null;const Fe=()=>{if(null!==Oe)return Oe;const Fn=1223===lt.status?204:lt.status,Hn=lt.statusText||"OK",Tn=new x(lt.getAllResponseHeaders()),kn=function(xe){return"responseURL"in xe&&xe.responseURL?xe.responseURL:/^X-Request-URL:/m.test(xe.getAllResponseHeaders())?xe.getResponseHeader("X-Request-URL"):null}(lt)||Ce.url;return Oe=new Pe({headers:Tn,status:Fn,statusText:Hn,url:kn}),Oe},ut=()=>{let{headers:Fn,status:Hn,statusText:Tn,url:kn}=Fe(),xn=null;204!==Hn&&(xn=void 0===lt.response?lt.responseText:lt.response),0===Hn&&(Hn=xn?200:0);let hr=Hn>=200&&Hn<300;if("json"===Ce.responseType&&"string"==typeof xn){const $i=xn;xn=xn.replace(an,"");try{xn=""!==xn?JSON.parse(xn):null}catch(kr){xn=$i,hr&&(hr=!1,xn={error:kr,text:xn})}}hr?(Je.next(new He({body:xn,headers:Fn,status:Hn,statusText:Tn,url:kn||void 0})),Je.complete()):Je.error(new ze({error:xn,headers:Fn,status:Hn,statusText:Tn,url:kn||void 0}))},It=Fn=>{const{url:Hn}=Fe(),Tn=new ze({error:Fn,status:lt.status||0,statusText:lt.statusText||"Unknown Error",url:Hn||void 0});Je.error(Tn)};let cn=!1;const Nn=Fn=>{cn||(Je.next(Fe()),cn=!0);let Hn={type:Le.DownloadProgress,loaded:Fn.loaded};Fn.lengthComputable&&(Hn.total=Fn.total),"text"===Ce.responseType&&!!lt.responseText&&(Hn.partialText=lt.responseText),Je.next(Hn)},_n=Fn=>{let Hn={type:Le.UploadProgress,loaded:Fn.loaded};Fn.lengthComputable&&(Hn.total=Fn.total),Je.next(Hn)};return lt.addEventListener("load",ut),lt.addEventListener("error",It),lt.addEventListener("timeout",It),lt.addEventListener("abort",It),Ce.reportProgress&&(lt.addEventListener("progress",Nn),null!==jt&&lt.upload&&lt.upload.addEventListener("progress",_n)),lt.send(jt),Je.next({type:Le.Sent}),()=>{lt.removeEventListener("error",It),lt.removeEventListener("abort",It),lt.removeEventListener("load",ut),lt.removeEventListener("timeout",It),Ce.reportProgress&&(lt.removeEventListener("progress",Nn),null!==jt&&lt.upload&&lt.upload.removeEventListener("progress",_n)),lt.readyState!==lt.DONE&&lt.abort()}})}}Dn.\u0275fac=function(Ce){return new(Ce||Dn)(A.LFG(l.JF))},Dn.\u0275prov=A.Yz7({token:Dn,factory:Dn.\u0275fac});const fi=new A.OlP("XSRF_COOKIE_NAME"),ge=new A.OlP("XSRF_HEADER_NAME");class $t{}class Dt{constructor(Ce,Je,lt){this.doc=Ce,this.platform=Je,this.cookieName=lt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ce=this.doc.cookie||"";return Ce!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,l.Mx)(Ce,this.cookieName),this.lastCookieString=Ce),this.lastToken}}Dt.\u0275fac=function(Ce){return new(Ce||Dt)(A.LFG(l.K0),A.LFG(A.Lbi),A.LFG(fi))},Dt.\u0275prov=A.Yz7({token:Dt,factory:Dt.\u0275fac});class qe{constructor(Ce,Je){this.tokenService=Ce,this.headerName=Je}intercept(Ce,Je){const lt=Ce.url.toLowerCase();if("GET"===Ce.method||"HEAD"===Ce.method||lt.startsWith("http://")||lt.startsWith("https://"))return Je.handle(Ce);const jt=this.tokenService.getToken();return null!==jt&&!Ce.headers.has(this.headerName)&&(Ce=Ce.clone({headers:Ce.headers.set(this.headerName,jt)})),Je.handle(Ce)}}qe.\u0275fac=function(Ce){return new(Ce||qe)(A.LFG($t),A.LFG(ge))},qe.\u0275prov=A.Yz7({token:qe,factory:qe.\u0275fac});class We{constructor(Ce,Je){this.backend=Ce,this.injector=Je,this.chain=null}handle(Ce){if(null===this.chain){const Je=this.injector.get(wt,[]);this.chain=Je.reduceRight((lt,jt)=>new kt(lt,jt),this.backend)}return this.chain.handle(Ce)}}We.\u0275fac=function(Ce){return new(Ce||We)(A.LFG(T),A.LFG(A.zs3))},We.\u0275prov=A.Yz7({token:We,factory:We.\u0275fac});class Ht{static disable(){return{ngModule:Ht,providers:[{provide:qe,useClass:Pt}]}}static withOptions(Ce={}){return{ngModule:Ht,providers:[Ce.cookieName?{provide:fi,useValue:Ce.cookieName}:[],Ce.headerName?{provide:ge,useValue:Ce.headerName}:[]]}}}Ht.\u0275fac=function(Ce){return new(Ce||Ht)},Ht.\u0275mod=A.oAB({type:Ht}),Ht.\u0275inj=A.cJS({providers:[qe,{provide:wt,useExisting:qe,multi:!0},{provide:$t,useClass:Dt},{provide:fi,useValue:"XSRF-TOKEN"},{provide:ge,useValue:"X-XSRF-TOKEN"}]});class Mt{}Mt.\u0275fac=function(Ce){return new(Ce||Mt)},Mt.\u0275mod=A.oAB({type:Mt,imports:[Ht]}),Mt.\u0275inj=A.cJS({providers:[nt,{provide:w,useClass:We},Dn,{provide:T,useExisting:Dn}],imports:[[Ht.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]});class ee{}ee.\u0275fac=function(Ce){return new(Ce||ee)},ee.\u0275mod=A.oAB({type:ee}),ee.\u0275inj=A.cJS({providers:[nn,{provide:sn,useFactory:function(){return"object"==typeof window?window:{}}},{provide:wt,useClass:zt,multi:!0}]})},3184:(V,k,L)=>{"use strict";L.d(k,{deG:()=>du,tb:()=>OE,AFp:()=>DE,ip1:()=>V0,CZH:()=>Tc,hGG:()=>Jg,z2F:()=>od,ahi:()=>ad,QSY:()=>PE,n4l:()=>lt,sBO:()=>$E,Sil:()=>Jh,Hhp:()=>jw,wA2:()=>kw,_Vd:()=>jg,aQ5:()=>ld,AcB:()=>Ss,EJc:()=>IE,Xek:()=>TE,SBq:()=>qg,qLn:()=>Lc,vpe:()=>sd,AA_:()=>As,pfw:()=>Vw,L6J:()=>Hw,tBr:()=>Xn,XFs:()=>Ht,GSi:()=>Ag,OlP:()=>rt,zs3:()=>_a,IIB:()=>Lw,ZZ4:()=>Ac,aQg:()=>xc,soG:()=>F_,IMH:()=>U0,LVF:()=>Uw,YKP:()=>Ny,h0i:()=>Yg,PXZ:()=>rb,R0b:()=>Vu,FiY:()=>Wi,r_U:()=>Bw,rEX:()=>zw,Lbi:()=>xE,g9A:()=>AE,E6H:()=>Nw,Qsj:()=>Py,FYo:()=>Iy,JOm:()=>dc,q3G:()=>Ia,PiD:()=>vr,tp0:()=>Ci,Rgc:()=>Qg,dDg:()=>dp,DyG:()=>hu,GfV:()=>Ry,i9L:()=>_s,s_b:()=>Rv,ifc:()=>Fe,eFA:()=>kE,G48:()=>db,Gpc:()=>S,X6Q:()=>cb,_c5:()=>Ob,VLi:()=>eb,c2e:()=>cp,zSh:()=>Hf,wAp:()=>Qh,vHH:()=>Y,EiD:()=>tf,mCW:()=>Wo,qzn:()=>Oa,JVY:()=>Xl,pB0:()=>go,eBb:()=>xl,L6k:()=>gu,LAX:()=>Qd,cg1:()=>Av,kL8:()=>l0,yhl:()=>pl,dqk:()=>_n,sIi:()=>Bd,CqO:()=>Gv,QGY:()=>Fg,F4k:()=>rv,zlt:()=>ky,RDi:()=>ve,AaK:()=>w,z3N:()=>ta,qOj:()=>Gf,TTD:()=>Gr,_Bn:()=>Ay,xp6:()=>Lp,uIk:()=>ou,ekj:()=>fv,Suo:()=>nE,Xpm:()=>Xr,lG2:()=>ft,Yz7:()=>zt,cJS:()=>On,oAB:()=>Or,Yjl:()=>mn,Y36:()=>ir,_UZ:()=>Wa,GkF:()=>Kh,BQk:()=>Gl,ynx:()=>_l,qZA:()=>$a,TgZ:()=>Ms,EpF:()=>$d,n5z:()=>Bs,LFG:()=>Kt,$8M:()=>_o,$Z:()=>Nr,NdJ:()=>kg,CRH:()=>iE,oxw:()=>Yv,Hsn:()=>Xv,F$t:()=>av,Q6J:()=>fs,s9C:()=>lv,MGl:()=>Ng,VKq:()=>Hy,WLB:()=>Uy,kEZ:()=>$y,l5B:()=>Wy,iGM:()=>eE,MAs:()=>Ud,CHM:()=>ha,LSH:()=>pd,kYT:()=>bn,YNc:()=>Gh,W1O:()=>aE,_uU:()=>p_,Oqu:()=>vv,hij:()=>Lg,Gf:()=>tE});var l=L(253),A=L(7714),j=L(3336),I=L(6646),m=L(1203);function b(s){for(let r in s)if(s[r]===b)return r;throw Error("Could not find renamed property on target object.")}function v(s,r){for(const a in r)r.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=r[a])}function w(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(w).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const r=s.toString();if(null==r)return""+r;const a=r.indexOf("\n");return-1===a?r:r.substring(0,a)}function T(s,r){return null==s||""===s?null===r?"":r:null==r||""===r?s:s+" "+r}const x=b({__forward_ref__:b});function S(s){return s.__forward_ref__=S,s.toString=function(){return w(this())},s}function N(s){return F(s)?s():s}function F(s){return"function"==typeof s&&s.hasOwnProperty(x)&&s.__forward_ref__===S}class Y extends Error{constructor(r,a){super(be(r,a)),this.code=r}}function be(s,r){return`${s?`NG0${s}: `:""}${r}`}function te(s){return"string"==typeof s?s:null==s?"":String(s)}function ae(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():te(s)}function G(s,r){const a=r?` in ${r}`:"";throw new Y("201",`No provider for ${ae(s)} found${a}`)}function Pe(s,r,a){s!=r&&je(a,s,r,"==")}function Nt(s,r){null==s&&je(r,s,null,"!=")}function je(s,r,a,p){throw new Error(`ASSERTION ERROR: ${s}`+(null==p?"":` [Expected=> ${a} ${p} ${r} <=Actual]`))}function zt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function On(s){return{providers:s.providers||[],imports:s.imports||[]}}function Dn(s){return fi(s,qe)||fi(s,_t)}function fi(s,r){return s.hasOwnProperty(r)?s[r]:null}function Dt(s){return s&&(s.hasOwnProperty(We)||s.hasOwnProperty(St))?s[We]:null}const qe=b({\u0275prov:b}),We=b({\u0275inj:b}),_t=b({ngInjectableDef:b}),St=b({ngInjectorDef:b});var Ht,s;let Mt;function pe(s){const r=Mt;return Mt=s,r}function xe(s,r,a){const p=Dn(s);return p&&"root"==p.providedIn?void 0===p.value?p.value=p.factory():p.value:a&Ht.Optional?null:void 0!==r?r:void G(w(s),"Injector")}function Je(s){return{toString:s}.toString()}var lt,jt,Fe;(s=Ht||(Ht={}))[s.Default=0]="Default",s[s.Host=1]="Host",s[s.Self=2]="Self",s[s.SkipSelf=4]="SkipSelf",s[s.Optional=8]="Optional",function(s){s[s.OnPush=0]="OnPush",s[s.Default=1]="Default"}(lt||(lt={})),function(s){s[s.CheckOnce=0]="CheckOnce",s[s.Checked=1]="Checked",s[s.CheckAlways=2]="CheckAlways",s[s.Detached=3]="Detached",s[s.Errored=4]="Errored",s[s.Destroyed=5]="Destroyed"}(jt||(jt={})),function(s){s[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom"}(Fe||(Fe={}));const ut="undefined"!=typeof globalThis&&globalThis,It="undefined"!=typeof window&&window,cn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,_n=ut||"undefined"!=typeof global&&global||It||cn;const Tn={},kn=[],xn=b({\u0275cmp:b}),hr=b({\u0275dir:b}),$i=b({\u0275pipe:b}),kr=b({\u0275mod:b}),yr=b({\u0275fac:b}),xr=b({__NG_ELEMENT_ID__:b});let rr=0;function Xr(s){return Je(()=>{const a={},p={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===lt.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||kn,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Fe.Emulated,id:"c",styles:s.styles||kn,_:null,setInput:null,schemas:s.schemas||null,tView:null},_=s.directives,M=s.features,X=s.pipes;return p.id+=rr++,p.inputs=Qe(s.inputs,a),p.outputs=Qe(s.outputs),M&&M.forEach(oe=>oe(p)),p.directiveDefs=_?()=>("function"==typeof _?_():_).map(Yi):null,p.pipeDefs=X?()=>("function"==typeof X?X():X).map(Hs):null,p})}function es(s,r,a){const p=s.\u0275cmp;p.directiveDefs=()=>r.map(Yi),p.pipeDefs=()=>a.map(Hs)}function Yi(s){return Wt(s)||Di(s)}function Hs(s){return di(s)}const ps={};function Or(s){return Je(()=>{const r={type:s.type,bootstrap:s.bootstrap||kn,declarations:s.declarations||kn,imports:s.imports||kn,exports:s.exports||kn,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(ps[s.id]=s.type),r})}function bn(s,r){return Je(()=>{const a=zi(s,!0);a.declarations=r.declarations||kn,a.imports=r.imports||kn,a.exports=r.exports||kn})}function Qe(s,r){if(null==s)return Tn;const a={};for(const p in s)if(s.hasOwnProperty(p)){let _=s[p],M=_;Array.isArray(_)&&(M=_[1],_=_[0]),a[_]=p,r&&(r[_]=M)}return a}const ft=Xr;function mn(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Wt(s){return s[xn]||null}function Di(s){return s[hr]||null}function di(s){return s[$i]||null}function zi(s,r){const a=s[kr]||null;if(!a&&!0===r)throw new Error(`Type ${w(s)} does not have '\u0275mod' property.`);return a}function wn(s){return Array.isArray(s)&&"object"==typeof s[1]}function In(s){return Array.isArray(s)&&!0===s[1]}function Qn(s){return 0!=(8&s.flags)}function $n(s){return 2==(2&s.flags)}function mi(s){return 1==(1&s.flags)}function xi(s){return null!==s.template}function Ri(s){return 0!=(512&s[2])}function zr(s,r){return s.hasOwnProperty(yr)?s[yr]:null}class ea{constructor(r,a,p){this.previousValue=r,this.currentValue=a,this.firstChange=p}isFirstChange(){return this.firstChange}}function Gr(){return ur}function ur(s){return s.type.prototype.ngOnChanges&&(s.setInput=Vo),io}function io(){const s=Ho(this),r=null==s?void 0:s.current;if(r){const a=s.previous;if(a===Tn)s.previous=r;else for(let p in r)a[p]=r[p];s.current=null,this.ngOnChanges(r)}}function Vo(s,r,a,p){const _=Ho(s)||function(s,r){return s[qr]=r}(s,{previous:Tn,current:null}),M=_.current||(_.current={}),X=_.previous,oe=this.declaredInputs[a],ye=X[oe];M[oe]=new ea(ye&&ye.currentValue,r,X===Tn),s[p]=r}Gr.ngInherit=!0;const qr="__ngSimpleChanges__";function Ho(s){return s[qr]||null}let rs=null;const Ls=function(s,r,a){null!=rs&&rs(s,r,a)},R="http://www.w3.org/2000/svg",Q="http://www.w3.org/1998/MathML/";let ue;function ve(s){ue=s}function Ve(){return void 0!==ue?ue:"undefined"!=typeof document?document:void 0}var Ge;function Xe(s){return!!s.listen}!function(s){s[s.Important=1]="Important",s[s.DashCase=2]="DashCase"}(Ge||(Ge={}));const Bt={createRenderer:(s,r)=>Ve()};function de(s){for(;Array.isArray(s);)s=s[0];return s}function Z(s,r){return de(r[s])}function Me(s,r){return de(r[s.index])}function hn(s,r){return s.data[r]}function En(s,r){return s[r]}function vi(s,r){const a=r[s];return wn(a)?a:a[0]}function Zi(s){return 4==(4&s[2])}function Ir(s){return 128==(128&s[2])}function _i(s,r){return null==r?null:s[r]}function wr(s){s[18]=0}function Ji(s,r){s[5]+=r;let a=s,p=s[3];for(;null!==p&&(1===r&&1===a[5]||-1===r&&0===a[5]);)p[5]+=r,a=p,p=p[3]}const wi={lFrame:Io(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Oo(){return wi.bindingsEnabled}function uo(){wi.bindingsEnabled=!0}function wo(){wi.bindingsEnabled=!1}function Un(){return wi.lFrame.lView}function Vr(){return wi.lFrame.tView}function ha(s){return wi.lFrame.contextLView=s,s[8]}function $s(){let s=za();for(;null!==s&&64===s.type;)s=s.parent;return s}function za(){return wi.lFrame.currentTNode}function bi(){const s=wi.lFrame,r=s.currentTNode;return s.isParent?r:r.parent}function li(s,r){const a=wi.lFrame;a.currentTNode=s,a.isParent=r}function To(){return wi.lFrame.isParent}function qs(){wi.lFrame.isParent=!1}function Ys(){return wi.isInCheckNoChangesMode}function Hr(s){wi.isInCheckNoChangesMode=s}function K(){const s=wi.lFrame;let r=s.bindingRootIndex;return-1===r&&(r=s.bindingRootIndex=s.tView.bindingStartIndex),r}function fe(){return wi.lFrame.bindingIndex}function Be(s){return wi.lFrame.bindingIndex=s}function ot(){return wi.lFrame.bindingIndex++}function Gt(s){const r=wi.lFrame,a=r.bindingIndex;return r.bindingIndex=r.bindingIndex+s,a}function Ln(s){wi.lFrame.inI18n=s}function qn(s,r){const a=wi.lFrame;a.bindingIndex=a.bindingRootIndex=s,Ei(r)}function Ei(s){wi.lFrame.currentDirectiveIndex=s}function hi(s){const r=wi.lFrame.currentDirectiveIndex;return-1===r?null:s[r]}function er(){return wi.lFrame.currentQueryIndex}function Ui(s){wi.lFrame.currentQueryIndex=s}function ms(s){const r=s[1];return 2===r.type?r.declTNode:1===r.type?s[6]:null}function Xs(s,r,a){if(a&Ht.SkipSelf){let _=r,M=s;for(;(_=_.parent,null===_&&!(a&Ht.Host))&&(_=ms(M),!(null===_||(M=M[15],10&_.type))););if(null===_)return!1;r=_,s=M}const p=wi.lFrame=Yr();return p.currentTNode=r,p.lView=s,!0}function Qs(s){const r=Yr(),a=s[1];wi.lFrame=r,r.currentTNode=a.firstChild,r.lView=s,r.tView=a,r.contextLView=s,r.bindingIndex=a.bindingStartIndex,r.inI18n=!1}function Yr(){const s=wi.lFrame,r=null===s?null:s.child;return null===r?Io(s):r}function Io(s){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=r),r}function Ur(){const s=wi.lFrame;return wi.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const sa=Ur;function al(){const s=Ur();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function pn(s){return(wi.lFrame.contextLView=function(s,r){for(;s>0;)r=r[15],s--;return r}(s,wi.lFrame.contextLView))[8]}function Go(){return wi.lFrame.selectedIndex}function Ea(s){wi.lFrame.selectedIndex=s}function ks(){const s=wi.lFrame;return hn(s.tView,s.selectedIndex)}function on(){wi.lFrame.currentNamespace=R}function Rn(){wi.lFrame.currentNamespace=Q}function Cn(){wi.lFrame.currentNamespace=null}function Zs(s,r){for(let a=r.directiveStart,p=r.directiveEnd;a<p;a++){const M=s.data[a].type.prototype,{ngAfterContentInit:X,ngAfterContentChecked:oe,ngAfterViewInit:ye,ngAfterViewChecked:Ue,ngOnDestroy:tt}=M;X&&(s.contentHooks||(s.contentHooks=[])).push(-a,X),oe&&((s.contentHooks||(s.contentHooks=[])).push(a,oe),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,oe)),ye&&(s.viewHooks||(s.viewHooks=[])).push(-a,ye),Ue&&((s.viewHooks||(s.viewHooks=[])).push(a,Ue),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,Ue)),null!=tt&&(s.destroyHooks||(s.destroyHooks=[])).push(a,tt)}}function ws(s,r,a){at(s,r,3,a)}function Ga(s,r,a,p){(3&s[2])===a&&at(s,r,a,p)}function yl(s,r){let a=s[2];(3&a)===r&&(a&=2047,a+=1,s[2]=a)}function at(s,r,a,p){const _=void 0!==p?65535&s[18]:0,M=null!=p?p:-1,X=r.length-1;let oe=0;for(let ye=_;ye<X;ye++)if("number"==typeof r[ye+1]){if(oe=r[ye],null!=p&&oe>=p)break}else r[ye]<0&&(s[18]+=65536),(oe<M||-1==M)&&(Ot(s,a,r,ye),s[18]=(4294901760&s[18])+ye+2),ye++}function Ot(s,r,a,p){const _=a[p]<0,M=a[p+1],oe=s[_?-a[p]:a[p]];if(_){if(s[2]>>11<s[18]>>16&&(3&s[2])===r){s[2]+=2048,Ls(4,oe,M);try{M.call(oe)}finally{Ls(5,oe,M)}}}else{Ls(4,oe,M);try{M.call(oe)}finally{Ls(5,oe,M)}}}class An{constructor(r,a,p){this.factory=r,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=p}}function Pr(s,r,a){const p=Xe(s);let _=0;for(;_<a.length;){const M=a[_];if("number"==typeof M){if(0!==M)break;_++;const X=a[_++],oe=a[_++],ye=a[_++];p?s.setAttribute(r,oe,ye,X):r.setAttributeNS(X,oe,ye)}else{const X=M,oe=a[++_];Vi(X)?p&&s.setProperty(r,X,oe):p?s.setAttribute(r,X,oe):r.setAttribute(X,oe),_++}}return _}function mr(s){return 3===s||4===s||6===s}function Vi(s){return 64===s.charCodeAt(0)}function vs(s,r){if(null!==r&&0!==r.length)if(null===s||0===s.length)s=r.slice();else{let a=-1;for(let p=0;p<r.length;p++){const _=r[p];"number"==typeof _?a=_:0===a||co(s,a,_,null,-1===a||2===a?r[++p]:null)}}return s}function co(s,r,a,p,_){let M=0,X=s.length;if(-1===r)X=-1;else for(;M<s.length;){const oe=s[M++];if("number"==typeof oe){if(oe===r){X=-1;break}if(oe>r){X=M-1;break}}}for(;M<s.length;){const oe=s[M];if("number"==typeof oe)break;if(oe===a){if(null===p)return void(null!==_&&(s[M+1]=_));if(p===s[M+1])return void(s[M+2]=_)}M++,null!==p&&M++,null!==_&&M++}-1!==X&&(s.splice(X,0,r),M=X+1),s.splice(M++,0,a),null!==p&&s.splice(M++,0,p),null!==_&&s.splice(M++,0,_)}function Do(s){return-1!==s}function bs(s){return 32767&s}function vo(s,r){let a=function(s){return s>>16}(s),p=r;for(;a>0;)p=p[15],a--;return p}let Fo=!0;function qa(s){const r=Fo;return Fo=s,r}let cu=0;function wl(s,r){const a=ll(s,r);if(-1!==a)return a;const p=r[1];p.firstCreatePass&&(s.injectorIndex=r.length,Kl(p.data,s),Kl(r,null),Kl(p.blueprint,null));const _=ql(s,r),M=s.injectorIndex;if(Do(_)){const X=bs(_),oe=vo(_,r),ye=oe[1].data;for(let Ue=0;Ue<8;Ue++)r[M+Ue]=oe[X+Ue]|ye[X+Ue]}return r[M+8]=_,M}function Kl(s,r){s.push(0,0,0,0,0,0,0,0,r)}function ll(s,r){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===r[s.injectorIndex+8]?-1:s.injectorIndex}function ql(s,r){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,p=null,_=r;for(;null!==_;){const M=_[1],X=M.type;if(p=2===X?M.declTNode:1===X?_[6]:null,null===p)return-1;if(a++,_=_[15],-1!==p.injectorIndex)return p.injectorIndex|a<<16}return-1}function Bl(s,r,a){!function(s,r,a){let p;"string"==typeof a?p=a.charCodeAt(0)||0:a.hasOwnProperty(xr)&&(p=a[xr]),null==p&&(p=a[xr]=cu++);const _=255&p,M=1<<_;r.data[s+(_>>5)]|=M}(s,r,a)}function z(s,r,a){if(a&Ht.Optional)return s;G(r,"NodeInjector")}function se(s,r,a,p){if(a&Ht.Optional&&void 0===p&&(p=null),0==(a&(Ht.Self|Ht.Host))){const _=s[9],M=pe(void 0);try{return _?_.get(r,p,a&Ht.Optional):xe(r,p,a&Ht.Optional)}finally{pe(M)}}return z(p,r,a)}function we(s,r,a,p=Ht.Default,_){if(null!==s){const M=function(s){if("string"==typeof s)return s.charCodeAt(0)||0;const r=s.hasOwnProperty(xr)?s[xr]:void 0;return"number"==typeof r?r>=0?255&r:ct:r}(a);if("function"==typeof M){if(!Xs(r,s,p))return p&Ht.Host?z(_,a,p):se(r,a,p,_);try{const X=M(p);if(null!=X||p&Ht.Optional)return X;G(a)}finally{sa()}}else if("number"==typeof M){let X=null,oe=ll(s,r),ye=-1,Ue=p&Ht.Host?r[16][6]:null;for((-1===oe||p&Ht.SkipSelf)&&(ye=-1===oe?ql(s,r):r[oe+8],-1!==ye&&Sr(p,!1)?(X=r[1],oe=bs(ye),r=vo(ye,r)):oe=-1);-1!==oe;){const tt=r[1];if(Qi(M,oe,tt.data)){const bt=pt(oe,r,a,X,p,Ue);if(bt!==$e)return bt}ye=r[oe+8],-1!==ye&&Sr(p,r[1].data[oe+8]===Ue)&&Qi(M,oe,r)?(X=tt,oe=bs(ye),r=vo(ye,r)):oe=-1}}}return se(r,a,p,_)}const $e={};function ct(){return new jr($s(),Un())}function pt(s,r,a,p,_,M){const X=r[1],oe=X.data[s+8],tt=un(oe,X,a,null==p?$n(oe)&&Fo:p!=X&&0!=(3&oe.type),_&Ht.Host&&M===oe);return null!==tt?jn(r,X,tt,oe):$e}function un(s,r,a,p,_){const M=s.providerIndexes,X=r.data,oe=1048575&M,ye=s.directiveStart,Ue=s.directiveEnd,tt=M>>20,Yt=_?oe+tt:Ue;for(let vn=p?oe:oe+tt;vn<Yt;vn++){const Gn=X[vn];if(vn<ye&&a===Gn||vn>=ye&&Gn.type===a)return vn}if(_){const vn=X[ye];if(vn&&xi(vn)&&vn.type===a)return ye}return null}function jn(s,r,a,p){let _=s[a];const M=r.data;if(function(s){return s instanceof An}(_)){const X=_;X.resolving&&function(s,r){const a=r?`. Dependency path: ${r.join(" > ")} > ${s}`:"";throw new Y("200",`Circular dependency in DI detected for ${s}${a}`)}(ae(M[a]));const oe=qa(X.canSeeViewProviders);X.resolving=!0;const ye=X.injectImpl?pe(X.injectImpl):null;Xs(s,p,Ht.Default);try{_=s[a]=X.factory(void 0,M,s,p),r.firstCreatePass&&a>=p.directiveStart&&function(s,r,a){const{ngOnChanges:p,ngOnInit:_,ngDoCheck:M}=r.type.prototype;if(p){const X=ur(r);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,X),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,X)}_&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,_),M&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,M),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,M))}(a,M[a],r)}finally{null!==ye&&pe(ye),qa(oe),X.resolving=!1,sa()}}return _}function Qi(s,r,a){const p=1<<s;return!!(a[r+(s>>5)]&p)}function Sr(s,r){return!(s&Ht.Self||s&Ht.Host&&r)}class jr{constructor(r,a){this._tNode=r,this._lView=a}get(r,a,p){return we(this._tNode,this._lView,r,p,a)}}function Bs(s){return Je(()=>{const r=s.prototype.constructor,a=r[yr]||Ao(r),p=Object.prototype;let _=Object.getPrototypeOf(s.prototype).constructor;for(;_&&_!==p;){const M=_[yr]||Ao(_);if(M&&M!==a)return M;_=Object.getPrototypeOf(_)}return M=>new M})}function Ao(s){return F(s)?()=>{const r=Ao(N(s));return r&&r()}:zr(s)}function _o(s){return function(s,r){if("class"===r)return s.classes;if("style"===r)return s.styles;const a=s.attrs;if(a){const p=a.length;let _=0;for(;_<p;){const M=a[_];if(mr(M))break;if(0===M)_+=2;else if("number"==typeof M)for(_++;_<p&&"string"==typeof a[_];)_++;else{if(M===r)return a[_+1];_+=2}}}return null}($s(),s)}const Po="__annotations__",Da="__parameters__",ko="__prop__metadata__";function Uo(s,r,a,p,_){return Je(()=>{const M=Uu(r);function X(...oe){if(this instanceof X)return M.call(this,...oe),this;const ye=new X(...oe);return function(tt){return _&&_(tt,...oe),(tt.hasOwnProperty(Po)?tt[Po]:Object.defineProperty(tt,Po,{value:[]})[Po]).push(ye),p&&p(tt),tt}}return a&&(X.prototype=Object.create(a.prototype)),X.prototype.ngMetadataName=s,X.annotationCls=X,X})}function Uu(s){return function(...a){if(s){const p=s(...a);for(const _ in p)this[_]=p[_]}}}function Vl(s,r,a){return Je(()=>{const p=Uu(r);function _(...M){if(this instanceof _)return p.apply(this,M),this;const X=new _(...M);return oe.annotation=X,oe;function oe(ye,Ue,tt){const bt=ye.hasOwnProperty(Da)?ye[Da]:Object.defineProperty(ye,Da,{value:[]})[Da];for(;bt.length<=tt;)bt.push(null);return(bt[tt]=bt[tt]||[]).push(X),ye}}return a&&(_.prototype=Object.create(a.prototype)),_.prototype.ngMetadataName=s,_.annotationCls=_,_})}function Ya(s,r,a,p){return Je(()=>{const _=Uu(r);function M(...X){if(this instanceof M)return _.apply(this,X),this;const oe=new M(...X);return function(Ue,tt){const bt=Ue.constructor,Yt=bt.hasOwnProperty(ko)?bt[ko]:Object.defineProperty(bt,ko,{value:{}})[ko];Yt[tt]=Yt.hasOwnProperty(tt)&&Yt[tt]||[],Yt[tt].unshift(oe),p&&p(Ue,tt,...X)}}return a&&(M.prototype=Object.create(a.prototype)),M.prototype.ngMetadataName=s,M.annotationCls=M,M})}const ad=Vl("Attribute",s=>({attributeName:s,__NG_ELEMENT_ID__:()=>_o(s)}));class rt{constructor(r,a){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=zt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const du=new rt("AnalyzeForEntryComponents");class Ca{}const Ss=Ya("ContentChildren",(s,r={})=>Object.assign({selector:s,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:true},r),Ca),ld=Ya("ContentChild",(s,r={})=>Object.assign({selector:s,first:!0,isViewQuery:!1,descendants:!0},r),Ca),_s=(Ya("ViewChildren",(s,r={})=>Object.assign({selector:s,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:true},r),Ca),Ya("ViewChild",(s,r)=>Object.assign({selector:s,first:!0,isViewQuery:!0,descendants:!0},r),Ca));var us,Ds;function jo(s){const r=_n.ng;if(r&&r.\u0275compilerFacade)return r.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}!function(s){s[s.Directive=0]="Directive",s[s.Component=1]="Component",s[s.Injectable=2]="Injectable",s[s.Pipe=3]="Pipe",s[s.NgModule=4]="NgModule"}(us||(us={})),function(s){s[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom"}(Ds||(Ds={}));const hu=Function;function $u(s){return"function"==typeof s}function fa(s,r){void 0===r&&(r=s);for(let a=0;a<s.length;a++){let p=s[a];Array.isArray(p)?(r===s&&(r=s.slice(0,a)),fa(p,r)):r!==s&&r.push(p)}return r}function bl(s,r){s.forEach(a=>Array.isArray(a)?bl(a,r):r(a))}function jd(s,r,a){r>=s.length?s.push(a):s.splice(r,0,a)}function Ic(s,r){return r>=s.length-1?s.pop():s.splice(r,1)[0]}function ac(s,r){const a=[];for(let p=0;p<s;p++)a.push(r);return a}function $o(s,r,a){let p=lc(s,r);return p>=0?s[1|p]=a:(p=~p,function(s,r,a,p){let _=s.length;if(_==r)s.push(a,p);else if(1===_)s.push(p,s[0]),s[0]=a;else{for(_--,s.push(s[_-1],s[_]);_>r;){const M=_-2;s[_]=s[M],_--}s[r]=a,s[r+1]=p}}(s,p,r,a)),p}function Yd(s,r){const a=lc(s,r);if(a>=0)return s[1|a]}function lc(s,r){return Xd(s,r,1)}function Xd(s,r,a){let p=0,_=s.length>>a;for(;_!==p;){const M=p+(_-p>>1),X=s[M<<a];if(r===X)return M<<a;X>r?_=M:p=M+1}return~(_<<a)}const Pc=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,Rc=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,ef=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,yp=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/;class i{constructor(r){this._reflect=r||_n.Reflect}isReflectionEnabled(){return!0}factory(r){return(...a)=>new r(...a)}_zipTypesAndAnnotations(r,a){let p;p=ac(void 0===r?a.length:r.length);for(let _=0;_<p.length;_++)void 0===r?p[_]=[]:r[_]&&r[_]!=Object?p[_]=[r[_]]:p[_]=[],a&&null!=a[_]&&(p[_]=p[_].concat(a[_]));return p}_ownParameters(r,a){if(function(s){return Pc.test(s)||yp.test(s)||Rc.test(s)&&!ef.test(s)}(r.toString()))return null;if(r.parameters&&r.parameters!==a.parameters)return r.parameters;const _=r.ctorParameters;if(_&&_!==a.ctorParameters){const oe="function"==typeof _?_():_,ye=oe.map(tt=>tt&&tt.type),Ue=oe.map(tt=>tt&&t(tt.decorators));return this._zipTypesAndAnnotations(ye,Ue)}const M=r.hasOwnProperty(Da)&&r[Da],X=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",r);return X||M?this._zipTypesAndAnnotations(X,M):ac(r.length)}parameters(r){if(!$u(r))return[];const a=u(r);let p=this._ownParameters(r,a);return!p&&a!==Object&&(p=this.parameters(a)),p||[]}_ownAnnotations(r,a){if(r.annotations&&r.annotations!==a.annotations){let p=r.annotations;return"function"==typeof p&&p.annotations&&(p=p.annotations),p}return r.decorators&&r.decorators!==a.decorators?t(r.decorators):r.hasOwnProperty(Po)?r[Po]:null}annotations(r){if(!$u(r))return[];const a=u(r),p=this._ownAnnotations(r,a)||[];return(a!==Object?this.annotations(a):[]).concat(p)}_ownPropMetadata(r,a){if(r.propMetadata&&r.propMetadata!==a.propMetadata){let p=r.propMetadata;return"function"==typeof p&&p.propMetadata&&(p=p.propMetadata),p}if(r.propDecorators&&r.propDecorators!==a.propDecorators){const p=r.propDecorators,_={};return Object.keys(p).forEach(M=>{_[M]=t(p[M])}),_}return r.hasOwnProperty(ko)?r[ko]:null}propMetadata(r){if(!$u(r))return{};const a=u(r),p={};if(a!==Object){const M=this.propMetadata(a);Object.keys(M).forEach(X=>{p[X]=M[X]})}const _=this._ownPropMetadata(r,a);return _&&Object.keys(_).forEach(M=>{const X=[];p.hasOwnProperty(M)&&X.push(...p[M]),X.push(..._[M]),p[M]=X}),p}ownPropMetadata(r){return $u(r)&&this._ownPropMetadata(r,u(r))||{}}hasLifecycleHook(r,a){return r instanceof hu&&a in r.prototype}guards(r){return{}}getter(r){return new Function("o","return o."+r+";")}setter(r){return new Function("o","v","return o."+r+" = v;")}method(r){return new Function("o","args",`if (!o.${r}) throw new Error('"${r}" is undefined');\n        return o.${r}.apply(o, args);`)}importUri(r){return"object"==typeof r&&r.filePath?r.filePath:`./${w(r)}`}resourceUri(r){return`./${w(r)}`}resolveIdentifier(r,a,p,_){return _}resolveEnum(r,a){return r[a]}}function t(s){return s?s.map(r=>new(0,r.type.annotationCls)(...r.args?r.args:[])):[]}function u(s){const r=s.prototype?Object.getPrototypeOf(s.prototype):null;return(r?r.constructor:null)||Object}const C={},D="__NG_DI_FLAG__",B="ngTempTokenPath",ie=/\n/gm,De="__source",Ne=b({provide:String,useValue:b});let Ze;function ht(s){const r=Ze;return Ze=s,r}function Ct(s,r=Ht.Default){if(void 0===Ze)throw new Error("inject() must be called from an injection context");return null===Ze?xe(s,void 0,r):Ze.get(s,r&Ht.Optional?null:void 0,r)}function Kt(s,r=Ht.Default){return(Mt||Ct)(N(s),r)}function Xt(s){throw new Error("invalid")}function yi(s){const r=[];for(let a=0;a<s.length;a++){const p=N(s[a]);if(Array.isArray(p)){if(0===p.length)throw new Error("Arguments array must have arguments.");let _,M=Ht.Default;for(let X=0;X<p.length;X++){const oe=p[X],ye=Jn(oe);"number"==typeof ye?-1===ye?_=oe.token:M|=ye:_=oe}r.push(Kt(_,M))}else r.push(Kt(p))}return r}function ni(s,r){return s[D]=r,s.prototype[D]=r,s}function Jn(s){return s[D]}function Ti(s,r,a,p){const _=s[B];throw r[De]&&_.unshift(r[De]),s.message=function(s,r,a,p=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let _=w(r);if(Array.isArray(r))_=r.map(w).join(" -> ");else if("object"==typeof r){let M=[];for(let X in r)if(r.hasOwnProperty(X)){let oe=r[X];M.push(X+":"+("string"==typeof oe?JSON.stringify(oe):w(oe)))}_=`{${M.join(", ")}}`}return`${a}${p?"("+p+")":""}[${_}]: ${s.replace(ie,"\n  ")}`}("\n"+s.message,_,a,p),s.ngTokenPath=_,s[B]=null,s}const Xn=ni(Vl("Inject",s=>({token:s})),-1),Wi=ni(Vl("Optional"),8),vr=ni(Vl("Self"),2),Ci=ni(Vl("SkipSelf"),4),As=ni(Vl("Host"),1);let fo=null;function Ws(){return fo=fo||new i}function wa(s){return ro(Ws().parameters(s))}function ro(s){return s.map(r=>function(s){const r={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(s)&&s.length>0)for(let a=0;a<s.length;a++){const p=s[a];if(void 0===p)continue;const _=Object.getPrototypeOf(p);if(p instanceof Wi||"Optional"===_.ngMetadataName)r.optional=!0;else if(p instanceof Ci||"SkipSelf"===_.ngMetadataName)r.skipSelf=!0;else if(p instanceof vr||"Self"===_.ngMetadataName)r.self=!0;else if(p instanceof As||"Host"===_.ngMetadataName)r.host=!0;else if(p instanceof Xn)r.token=p.token;else if(p instanceof ad){if(void 0===p.attributeName)throw new Error("Attribute name must be defined.");r.attribute=p.attributeName}else r.token=p}else void 0===s||Array.isArray(s)&&0===s.length?r.token=null:r.token=s;return r}(r))}function oa(s){const r=[],a=new Map;function p(_){let M=a.get(_);if(!M){const X=s(_);a.set(_,M=X.then(Es))}return M}return po.forEach((_,M)=>{const X=[];_.templateUrl&&X.push(p(_.templateUrl).then(bt=>{_.template=bt}));const oe=_.styleUrls,ye=_.styles||(_.styles=[]),Ue=_.styles.length;oe&&oe.forEach((bt,Yt)=>{ye.push(""),X.push(p(bt).then(vn=>{ye[Ue+Yt]=vn,oe.splice(oe.indexOf(bt),1),0==oe.length&&(_.styleUrls=void 0)}))});const tt=Promise.all(X).then(()=>function(s){so.delete(s)}(M));r.push(tt)}),function(){const s=po;po=new Map}(),Promise.all(r).then(()=>{})}let po=new Map;const so=new Set;function cs(s){return!!(s.templateUrl&&!s.hasOwnProperty("template")||s.styleUrls&&s.styleUrls.length)}function Es(s){return"string"==typeof s?s:s.text()}let cl,dl;function Xa(){if(void 0===cl&&(cl=null,_n.trustedTypes))try{cl=_n.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return cl}function aa(s){var r;return(null===(r=Xa())||void 0===r?void 0:r.createHTML(s))||s}function hl(){if(void 0===dl&&(dl=null,_n.trustedTypes))try{dl=_n.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return dl}function Qa(s){var r;return(null===(r=hl())||void 0===r?void 0:r.createHTML(s))||s}function fl(s){var r;return(null===(r=hl())||void 0===r?void 0:r.createScript(s))||s}function Wu(s){var r;return(null===(r=hl())||void 0===r?void 0:r.createScriptURL(s))||s}class Ka{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class cd extends Ka{getTypeName(){return"HTML"}}class fu extends Ka{getTypeName(){return"Style"}}class Al extends Ka{getTypeName(){return"Script"}}class Yl extends Ka{getTypeName(){return"URL"}}class pu extends Ka{getTypeName(){return"ResourceURL"}}function ta(s){return s instanceof Ka?s.changingThisBreaksApplicationSecurity:s}function Oa(s,r){const a=pl(s);if(null!=a&&a!==r){if("ResourceURL"===a&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===r}function pl(s){return s instanceof Ka&&s.getTypeName()||null}function Xl(s){return new cd(s)}function gu(s){return new fu(s)}function xl(s){return new Al(s)}function Qd(s){return new Yl(s)}function go(s){return new pu(s)}function ss(s){const r=new zu(s);return function(){try{return!!(new window.DOMParser).parseFromString(aa(""),"text/html")}catch(s){return!1}}()?new Mc(r):r}class Mc{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const a=(new window.DOMParser).parseFromString(aa(r),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(r):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class zu{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const p=this.inertDocument.createElement("body");a.appendChild(p)}}getInertBodyElement(r){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=aa(r),a;const p=this.inertDocument.createElement("body");return p.innerHTML=aa(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(p),p}stripCustomNsAttrs(r){const a=r.attributes;for(let _=a.length-1;0<_;_--){const X=a.item(_).name;("xmlns:ns1"===X||0===X.indexOf("ns1:"))&&r.removeAttribute(X)}let p=r.firstChild;for(;p;)p.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(p),p=p.nextSibling}}const dd=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Fc=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Wo(s){return(s=String(s)).match(dd)||s.match(Fc)?s:"unsafe:"+s}function mt(s){return(s=String(s)).split(",").map(r=>Wo(r.trim())).join(", ")}function xt(s){const r={};for(const a of s.split(","))r[a]=!0;return r}function gn(...s){const r={};for(const a of s)for(const p in a)a.hasOwnProperty(p)&&(r[p]=!0);return r}const Bn=xt("area,br,col,hr,img,wbr"),Ai=xt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Yn=xt("rp,rt"),tr=gn(Yn,Ai),nr=gn(Ai,xt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ds=gn(Yn,xt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),os=gn(Bn,nr,ds,tr),oo=xt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),la=xt("srcset"),na=xt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),vu=xt("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),ua=gn(oo,la,na,vu),Yo=xt("script,style,template");class Gu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let a=r.firstChild,p=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?p=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,p&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let _=this.checkClobberedElement(a,a.nextSibling);if(_){a=_;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(r){const a=r.nodeName.toLowerCase();if(!os.hasOwnProperty(a))return this.sanitizedSomething=!0,!Yo.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const p=r.attributes;for(let _=0;_<p.length;_++){const M=p.item(_),X=M.name,oe=X.toLowerCase();if(!ua.hasOwnProperty(oe)){this.sanitizedSomething=!0;continue}let ye=M.value;oo[oe]&&(ye=Wo(ye)),la[oe]&&(ye=mt(ye)),this.buf.push(" ",X,'="',Zd(ye),'"')}return this.buf.push(">"),!0}endElement(r){const a=r.nodeName.toLowerCase();os.hasOwnProperty(a)&&!Bn.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(r){this.buf.push(Zd(r))}checkClobberedElement(r,a){if(a&&(r.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return a}}const No=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,uc=/([^\#-~ |!])/g;function Zd(s){return s.replace(/&/g,"&amp;").replace(No,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(uc,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let cc;function tf(s,r){let a=null;try{cc=cc||ss(s);let p=r?String(r):"";a=cc.getInertBodyElement(p);let _=5,M=p;do{if(0===_)throw new Error("Failed to sanitize html because the input is unstable");_--,p=M,M=a.innerHTML,a=cc.getInertBodyElement(p)}while(p!==M);return aa((new Gu).sanitizeChildren(hd(a)||a))}finally{if(a){const p=hd(a)||a;for(;p.firstChild;)p.removeChild(p.firstChild)}}}function hd(s){return"content"in s&&function(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Ia;function Jd(s){const r=gd();return r?Qa(r.sanitize(Ia.HTML,s)||""):Oa(s,"HTML")?Qa(ta(s)):tf(Ve(),te(s))}function nm(s){const r=gd();return r?r.sanitize(Ia.STYLE,s)||"":Oa(s,"Style")?ta(s):te(s)}function pd(s){const r=gd();return r?r.sanitize(Ia.URL,s)||"":Oa(s,"URL")?ta(s):Wo(te(s))}function eh(s){const r=gd();if(r)return Wu(r.sanitize(Ia.RESOURCE_URL,s)||"");if(Oa(s,"ResourceURL"))return Wu(ta(s));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function Pa(s){const r=gd();if(r)return fl(r.sanitize(Ia.SCRIPT,s)||"");if(Oa(s,"Script"))return fl(ta(s));throw new Error("unsafe value used in a script context")}function Ra(s){return aa(s[0])}function nf(s){return function(s){var r;return(null===(r=Xa())||void 0===r?void 0:r.createScriptURL(s))||s}(s[0])}function Ol(s,r,a){return function(s,r){return"src"===r&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===r&&("base"===s||"link"===s)?eh:pd}(r,a)(s)}function gd(){const s=Un();return s&&s[12]}!function(s){s[s.NONE=0]="NONE",s[s.HTML=1]="HTML",s[s.STYLE=2]="STYLE",s[s.SCRIPT=3]="SCRIPT",s[s.URL=4]="URL",s[s.RESOURCE_URL=5]="RESOURCE_URL"}(Ia||(Ia={}));const vd="__ngContext__";function Fa(s,r){s[vd]=r}function Nc(s){return s[vd]||null}function yu(s){const r=Nc(s);return r?Array.isArray(r)?r:r.lView:null}const rh="ngOriginalError";function Ed(s){return s[rh]}function sh(s,...r){s.error(...r)}class Lc{constructor(){this._console=console}handleError(r){const a=this._findOriginalError(r),p=function(s){return s&&s.ngErrorLogger||sh}(r);p(this._console,"ERROR",r),a&&p(this._console,"ORIGINAL ERROR",a)}_findOriginalError(r){let a=r&&Ed(r);for(;a&&Ed(a);)a=Ed(a);return a||null}}const Ku=/^>|^->|<!--|-->|--!>|<!-$/g,Xo=/(<|>)/;function Vc(s){return s.replace(Ku,r=>r.replace(Xo,"\u200b$1\u200b"))}const Zl=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(_n);function qu(s){return s.ownerDocument.defaultView}function wd(s){return s.ownerDocument}function oh(s){return s.ownerDocument.body}function gl(s){return s instanceof Function?s():s}var dc;let ma;function Il(s,r){return ma(s,r)}!function(s){s[s.Important=1]="Important",s[s.DashCase=2]="DashCase"}(dc||(dc={}));function Cu(s){const r=s[3];return In(r)?r[3]:r}function Jl(s){return Uc(s[13])}function bd(s){return Uc(s[4])}function Uc(s){for(;null!==s&&!In(s);)s=s[4];return s}function fc(s,r,a,p,_){if(null!=p){let M,X=!1;In(p)?M=p:wn(p)&&(X=!0,p=p[0]);const oe=de(p);0===s&&null!==a?null==_?uf(r,a,oe):tu(r,a,oe,_||null,!0):1===s&&null!==a?tu(r,a,oe,_||null,!0):2===s?Pp(r,oe,X):3===s&&r.destroyNode(oe),null!=M&&function(s,r,a,p,_){const M=a[7],X=de(a);M!==X&&fc(r,s,p,M,_);for(let oe=10;oe<a.length;oe++){const ye=a[oe];Ad(ye[1],ye,s,r,p,M)}}(r,s,M,a,_)}}function of(s,r){return Xe(s)?s.createText(r):s.createTextNode(r)}function uh(s,r,a){Xe(s)?s.setValue(r,a):r.textContent=a}function pc(s,r){return s.createComment(Vc(r))}function ch(s,r,a){return Xe(s)?s.createElement(r,a):null===a?s.createElement(r):s.createElementNS(a,r)}function dh(s,r,a,p){const _=10+p,M=a.length;p>0&&(a[_-1][4]=r),p<M-10?(r[4]=a[_],jd(a,10+p,r)):(a.push(r),r[4]=null),r[3]=a;const X=r[17];null!==X&&a!==X&&function(s,r){const a=s[9],_=r[3][3][16];r[16]!==_&&(s[2]=!0),null===a?s[9]=[r]:a.push(r)}(X,r);const oe=r[19];null!==oe&&oe.insertView(s),r[2]|=128}function hh(s,r){const a=s[9],p=a.indexOf(r),_=r[3];1024&r[2]&&(r[2]&=-1025,Ji(_,-1)),a.splice(p,1)}function fh(s,r){if(s.length<=10)return;const a=10+r,p=s[a];if(p){const _=p[17];null!==_&&_!==s&&hh(_,p),r>0&&(s[a-1][4]=p[4]);const M=Ic(s,10+r);!function(s,r){Ad(s,r,r[11],2,null,null),r[0]=null,r[6]=null}(p[1],p);const X=M[19];null!==X&&X.detachView(M[1]),p[3]=null,p[4]=null,p[2]&=-129}return p}function Td(s,r){if(!(256&r[2])){const a=r[11];Xe(a)&&a.destroyNode&&Ad(s,r,a,3,null,null),function(s){let r=s[13];if(!r)return Ul(s[1],s);for(;r;){let a=null;if(wn(r))a=r[13];else{const p=r[10];p&&(a=p)}if(!a){for(;r&&!r[4]&&r!==s;)wn(r)&&Ul(r[1],r),r=r[3];null===r&&(r=s),wn(r)&&Ul(r[1],r),a=r&&r[4]}r=a}}(r)}}function Ul(s,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function(s,r){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let p=0;p<a.length;p+=2){const _=r[a[p]];if(!(_ instanceof An)){const M=a[p+1];if(Array.isArray(M))for(let X=0;X<M.length;X+=2){const oe=_[M[X]],ye=M[X+1];Ls(4,oe,ye);try{ye.call(oe)}finally{Ls(5,oe,ye)}}else{Ls(4,_,M);try{M.call(_)}finally{Ls(5,_,M)}}}}}(s,r),function(s,r){const a=s.cleanup,p=r[7];let _=-1;if(null!==a)for(let M=0;M<a.length-1;M+=2)if("string"==typeof a[M]){const X=a[M+1],oe="function"==typeof X?X(r):de(r[X]),ye=p[_=a[M+2]],Ue=a[M+3];"boolean"==typeof Ue?oe.removeEventListener(a[M],ye,Ue):Ue>=0?p[_=Ue]():p[_=-Ue].unsubscribe(),M+=2}else{const X=p[_=a[M+1]];a[M].call(X)}if(null!==p){for(let M=_+1;M<p.length;M++)p[M]();r[7]=null}}(s,r),1===r[1].type&&Xe(r[11])&&r[11].destroy();const a=r[17];if(null!==a&&In(r[3])){a!==r[3]&&hh(a,r);const p=r[19];null!==p&&p.detachView(s)}}}function wu(s,r,a){return Ap(s,r.parent,a)}function Ap(s,r,a){let p=r;for(;null!==p&&40&p.type;)p=(r=p).parent;if(null===p)return a[0];if(2&p.flags){const _=s.data[p.directiveStart].encapsulation;if(_===Fe.None||_===Fe.Emulated)return null}return Me(p,a)}function tu(s,r,a,p,_){Xe(s)?s.insertBefore(r,a,p,_):r.insertBefore(a,p,_)}function uf(s,r,a){Xe(s)?s.appendChild(r,a):r.appendChild(a)}function xp(s,r,a,p,_){null!==p?tu(s,r,a,p,_):uf(s,r,a)}function gh(s,r){return Xe(s)?s.parentNode(r):r.parentNode}function ka(s,r,a){return mh(s,r,a)}function Ip(s,r,a){return 40&s.type?Me(s,a):null}let vh,mh=Ip;function cf(s,r){mh=s,vh=r}function _h(s,r,a,p){const _=wu(s,p,r),M=r[11],oe=ka(p.parent||r[6],p,r);if(null!=_)if(Array.isArray(a))for(let ye=0;ye<a.length;ye++)xp(M,_,a[ye],oe,!1);else xp(M,_,a,oe,!1);void 0!==vh&&vh(M,p,r,a,_)}function Dd(s,r){if(null!==r){const a=r.type;if(3&a)return Me(r,s);if(4&a)return bu(-1,s[r.index]);if(8&a){const p=r.child;if(null!==p)return Dd(s,p);{const _=s[r.index];return In(_)?bu(-1,_):de(_)}}if(32&a)return Il(r,s)()||de(s[r.index]);{const p=df(s,r);if(null!==p){if(Array.isArray(p))return p[0];return Dd(Cu(s[16]),p)}return Dd(s,r.next)}}return null}function df(s,r){if(null!==r){const p=s[16][6],_=r.projection;return p.projection[_]}return null}function bu(s,r){const a=10+s+1;if(a<r.length){const p=r[a],_=p[1].firstChild;if(null!==_)return Dd(p,_)}return r[7]}function Pp(s,r,a){const p=gh(s,r);p&&function(s,r,a,p){Xe(s)?s.removeChild(r,a,p):r.removeChild(a)}(s,p,r,a)}function hf(s,r,a,p,_,M,X){for(;null!=a;){const oe=p[a.index],ye=a.type;if(X&&0===r&&(oe&&Fa(de(oe),p),a.flags|=4),64!=(64&a.flags))if(8&ye)hf(s,r,a.child,p,_,M,!1),fc(r,s,_,oe,M);else if(32&ye){const Ue=Il(a,p);let tt;for(;tt=Ue();)fc(r,s,_,tt,M);fc(r,s,_,oe,M)}else 16&ye?ff(s,r,p,a,_,M):fc(r,s,_,oe,M);a=X?a.projectionNext:a.next}}function Ad(s,r,a,p,_,M){hf(a,p,s.firstChild,r,_,M,!1)}function ff(s,r,a,p,_,M){const X=a[16],ye=X[6].projection[p.projection];if(Array.isArray(ye))for(let Ue=0;Ue<ye.length;Ue++){fc(r,s,_,ye[Ue],M)}else{hf(s,r,ye,X[3],_,M,!0)}}function Eh(s,r,a){Xe(s)?s.setAttribute(r,"style",a):r.style.cssText=a}function gf(s,r,a){Xe(s)?""===a?s.removeAttribute(r,"class"):s.setAttribute(r,"class",a):r.className=a}function Mp(s,r,a){let p=s.length;for(;;){const _=s.indexOf(r,a);if(-1===_)return _;if(0===_||s.charCodeAt(_-1)<=32){const M=r.length;if(_+M===p||s.charCodeAt(_+M)<=32)return _}a=_+1}}const Yu="ng-template";function Fp(s,r,a){let p=0;for(;p<s.length;){let _=s[p++];if(a&&"class"===_){if(_=s[p],-1!==Mp(_.toLowerCase(),r,0))return!0}else if(1===_){for(;p<s.length&&"string"==typeof(_=s[p++]);)if(_.toLowerCase()===r)return!0;return!1}}return!1}function kp(s){return 4===s.type&&s.value!==Yu}function mf(s,r,a){return r===(4!==s.type||a?s.value:Yu)}function am(s,r,a){let p=4;const _=s.attrs||[],M=function(s){for(let r=0;r<s.length;r++){if(mr(s[r]))return r}return s.length}(_);let X=!1;for(let oe=0;oe<r.length;oe++){const ye=r[oe];if("number"!=typeof ye){if(!X)if(4&p){if(p=2|1&p,""!==ye&&!mf(s,ye,a)||""===ye&&1===r.length){if(Na(p))return!1;X=!0}}else{const Ue=8&p?ye:r[++oe];if(8&p&&null!==s.attrs){if(!Fp(s.attrs,Ue,a)){if(Na(p))return!1;X=!0}continue}const bt=lm(8&p?"class":ye,_,kp(s),a);if(-1===bt){if(Na(p))return!1;X=!0;continue}if(""!==Ue){let Yt;Yt=bt>M?"":_[bt+1].toLowerCase();const vn=8&p?Yt:null;if(vn&&-1!==Mp(vn,Ue,0)||2&p&&Ue!==Yt){if(Na(p))return!1;X=!0}}}}else{if(!X&&!Na(p)&&!Na(ye))return!1;if(X&&Na(ye))continue;X=!1,p=ye|1&p}}return Na(p)||X}function Na(s){return 0==(1&s)}function lm(s,r,a,p){if(null===r)return-1;let _=0;if(p||!a){let M=!1;for(;_<r.length;){const X=r[_];if(X===s)return _;if(3===X||6===X)M=!0;else{if(1===X||2===X){let oe=r[++_];for(;"string"==typeof oe;)oe=r[++_];continue}if(4===X)break;if(0===X){_+=4;continue}}_+=M?1:2}return-1}return function(s,r){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const p=s[a];if("number"==typeof p)return-1;if(p===r)return a;a++}return-1}(r,s)}function Np(s,r,a=!1){for(let p=0;p<r.length;p++)if(am(s,r[p],a))return!0;return!1}function dm(s,r){e:for(let a=0;a<r.length;a++){const p=r[a];if(s.length===p.length){for(let _=0;_<s.length;_++)if(s[_]!==p[_])continue e;return!0}}return!1}function Ch(s,r){return s?":not("+r.trim()+")":r}function hm(s){let r=s[0],a=1,p=2,_="",M=!1;for(;a<s.length;){let X=s[a];if("string"==typeof X)if(2&p){const oe=s[++a];_+="["+X+(oe.length>0?'="'+oe+'"':"")+"]"}else 8&p?_+="."+X:4&p&&(_+=" "+X);else""!==_&&!Na(X)&&(r+=Ch(M,_),_=""),p=X,M=M||!Na(p);a++}return""!==_&&(r+=Ch(M,_)),r}const as={};function Lp(s){wh(Vr(),Un(),Go()+s,Ys())}function wh(s,r,a,p){if(!p)if(3==(3&r[2])){const M=s.preOrderCheckHooks;null!==M&&ws(r,M,a)}else{const M=s.preOrderHooks;null!==M&&Ga(r,M,0,a)}Ea(a)}function bh(s,r){return s<<17|r<<2}function Pl(s){return s>>17&32767}function Bp(s){return 2==(2&s)}function yf(s){return 2|s}function nu(s){return(131068&s)>>2}function Sh(s,r){return-131069&s|r<<2}function Vp(s){return 1==(1&s)}function $c(s){return 1|s}const Kc=Promise.resolve(null);function Yc(s,r){const a=s.contentQueries;if(null!==a)for(let p=0;p<a.length;p+=2){const _=a[p],M=a[p+1];if(-1!==M){const X=s.data[M];Ui(_),X.contentQueries(2,r[M],M)}}}function Du(s,r,a,p,_,M,X,oe,ye,Ue){const tt=r.blueprint.slice();return tt[0]=_,tt[2]=140|p,wr(tt),tt[3]=tt[15]=s,tt[8]=a,tt[10]=X||s&&s[10],tt[11]=oe||s&&s[11],tt[12]=ye||s&&s[12]||null,tt[9]=Ue||s&&s[9]||null,tt[6]=M,tt[16]=2==r.type?s[16]:tt,tt}function Pd(s,r,a,p,_){let M=s.data[r];if(null===M)M=gc(s,r,a,p,_),wi.lFrame.inI18n&&(M.flags|=64);else if(64&M.type){M.type=a,M.value=p,M.attrs=_;const X=bi();M.injectorIndex=null===X?-1:X.injectorIndex}return li(M,!0),M}function gc(s,r,a,p,_){const M=za(),X=To(),oe=X?M:M&&M.parent,ye=s.data[r]=function(s,r,a,p,_,M){let X=r?r.injectorIndex:-1;return{type:a,index:p,insertBeforeIndex:null,injectorIndex:X,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:_,attrs:M,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,oe,a,r,p,_);return null===s.firstChild&&(s.firstChild=ye),null!==M&&(X?null==M.child&&null!==ye.parent&&(M.child=ye):null===M.next&&(M.next=ye)),ye}function Xu(s,r,a,p){if(0===a)return-1;const _=r.length;for(let M=0;M<a;M++)r.push(p),s.blueprint.push(p),s.data.push(null);return _}function Au(s,r,a){Qs(r);try{const p=s.viewQuery;null!==p&&kd(1,p,a);const _=s.template;null!==_&&Df(s,r,_,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Yc(s,r),s.staticViewQueries&&kd(2,s.viewQuery,a);const M=s.components;null!==M&&function(s,r){for(let a=0;a<r.length;a++)xm(s,r[a])}(r,M)}catch(p){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),p}finally{r[2]&=-5,al()}}function mc(s,r,a,p){const _=r[2];if(256==(256&_))return;Qs(r);const M=Ys();try{wr(r),Be(s.bindingStartIndex),null!==a&&Df(s,r,a,2,p);const X=3==(3&_);if(!M)if(X){const Ue=s.preOrderCheckHooks;null!==Ue&&ws(r,Ue,null)}else{const Ue=s.preOrderHooks;null!==Ue&&Ga(r,Ue,0,null),yl(r,0)}if(function(s){for(let r=Jl(s);null!==r;r=bd(r)){if(!r[2])continue;const a=r[9];for(let p=0;p<a.length;p++){const _=a[p],M=_[3];0==(1024&_[2])&&Ji(M,1),_[2]|=1024}}}(r),function(s){for(let r=Jl(s);null!==r;r=bd(r))for(let a=10;a<r.length;a++){const p=r[a],_=p[1];Ir(p)&&mc(_,p,_.template,p[8])}}(r),null!==s.contentQueries&&Yc(s,r),!M)if(X){const Ue=s.contentCheckHooks;null!==Ue&&ws(r,Ue)}else{const Ue=s.contentHooks;null!==Ue&&Ga(r,Ue,1),yl(r,1)}!function(s,r){const a=s.hostBindingOpCodes;if(null!==a)try{for(let p=0;p<a.length;p++){const _=a[p];if(_<0)Ea(~_);else{const M=_,X=a[++p],oe=a[++p];qn(X,M),oe(2,r[M])}}}finally{Ea(-1)}}(s,r);const oe=s.components;null!==oe&&function(s,r){for(let a=0;a<r.length;a++)Qo(s,r[a])}(r,oe);const ye=s.viewQuery;if(null!==ye&&kd(2,ye,p),!M)if(X){const Ue=s.viewCheckHooks;null!==Ue&&ws(r,Ue)}else{const Ue=s.viewHooks;null!==Ue&&Ga(r,Ue,2),yl(r,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),M||(r[2]&=-73),1024&r[2]&&(r[2]&=-1025,Ji(r[3],-1))}finally{al()}}function qp(s,r,a,p){const _=r[10],M=!Ys(),X=Zi(r);try{M&&!X&&_.begin&&_.begin(),X&&Au(s,r,p),mc(s,r,a,p)}finally{M&&!X&&_.end&&_.end()}}function Df(s,r,a,p,_){const M=Go(),X=2&p;try{Ea(-1),X&&r.length>20&&wh(s,r,20,Ys()),Ls(X?2:0,_),a(p,_)}finally{Ea(M),Ls(X?3:1,_)}}function vc(s,r,a){if(Qn(r)){const p=r.directiveStart,_=r.directiveEnd;for(let M=p;M<_;M++){const X=s.data[M];X.contentQueries&&X.contentQueries(1,a[M],M)}}}function Oh(s,r,a){!Oo()||(function(s,r,a,p){const _=a.directiveStart,M=a.directiveEnd;s.firstCreatePass||wl(a,r),Fa(p,r);const X=a.initialInputs;for(let oe=_;oe<M;oe++){const ye=s.data[oe],Ue=xi(ye);Ue&&eg(r,a,ye);const tt=jn(r,s,oe,a);if(Fa(tt,r),null!==X&&tg(r,oe-_,tt,ye,a,X),Ue){vi(a.index,r)[8]=tt}}}(s,r,a,Me(a,r)),128==(128&a.flags)&&function(s,r,a){const p=a.directiveStart,_=a.directiveEnd,X=(s.firstCreatePass,a.index),oe=wi.lFrame.currentDirectiveIndex;try{Ea(X);for(let ye=p;ye<_;ye++){const Ue=s.data[ye],tt=r[ye];Ei(ye),(null!==Ue.hostBindings||0!==Ue.hostVars||null!==Ue.hostAttrs)&&Pf(Ue,tt)}}finally{Ea(-1),Ei(oe)}}(s,r,a))}function Af(s,r,a=Me){const p=r.localNames;if(null!==p){let _=r.index+1;for(let M=0;M<p.length;M+=2){const X=p[M+1],oe=-1===X?a(r,s):s[X];s[_++]=oe}}}function Rd(s){const r=s.tView;if(null===r||r.incompleteFirstPass){const a=null;return s.tView=xu(1,a,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts)}return r}function xu(s,r,a,p,_,M,X,oe,ye,Ue){const tt=20+p,bt=tt+_,Yt=function(s,r){const a=[];for(let p=0;p<r;p++)a.push(p<s?null:as);return a}(tt,bt),vn="function"==typeof Ue?Ue():Ue;return Yt[1]={type:s,blueprint:Yt,template:a,queries:null,viewQuery:oe,declTNode:r,data:Yt.slice().fill(null,tt),bindingStartIndex:tt,expandoStartIndex:bt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof M?M():M,pipeRegistry:"function"==typeof X?X():X,firstChild:null,schemas:ye,consts:vn,incompleteFirstPass:!1}}function Ph(s,r,a){if(Xe(s)){const _=a===Fe.ShadowDom;return s.selectRootElement(r,_)}let p="string"==typeof r?s.querySelector(r):r;return p.textContent="",p}function xf(s,r,a,p){const _=yc(r);null===a?_.push(p):(_.push(a),s.firstCreatePass&&ig(s).push(p,_.length-1))}function Yp(s,r,a){for(let p in s)if(s.hasOwnProperty(p)){a=null===a?{}:a;const _=s[p];a.hasOwnProperty(p)?a[p].push(r,_):a[p]=[r,_]}return a}function ml(s,r,a,p,_,M,X,oe){const ye=Me(r,a);let tt,Ue=r.inputs;!oe&&null!=Ue&&(tt=Ue[p])?(Im(s,a,tt,p,_),$n(r)&&function(s,r){const a=vi(r,s);16&a[2]||(a[2]|=64)}(a,r.index)):3&r.type?(p=function(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(p),_=null!=X?X(_,r.value||"",p):_,Xe(M)?M.setProperty(ye,p,_):Vi(p)||(ye.setProperty?ye.setProperty(p,_):ye[p]=_)):r.type}function tl(s,r,a,p){let _=!1;if(Oo()){const M=function(s,r,a){const p=s.directiveRegistry;let _=null;if(p)for(let M=0;M<p.length;M++){const X=p[M];Np(a,X.selectors,!1)&&(_||(_=[]),Bl(wl(a,r),s,X.type),xi(X)?(zo(s,a),_.unshift(X)):_.push(X))}return _}(s,r,a),X=null===p?null:{"":-1};if(null!==M){_=!0,Rf(a,s.data.length,M.length);for(let tt=0;tt<M.length;tt++){const bt=M[tt];bt.providersResolver&&bt.providersResolver(bt)}let oe=!1,ye=!1,Ue=Xu(s,r,M.length,null);for(let tt=0;tt<M.length;tt++){const bt=M[tt];a.mergedAttrs=vs(a.mergedAttrs,bt.hostAttrs),Jp(s,a,r,Ue,bt),Ou(Ue,bt,X),null!==bt.contentQueries&&(a.flags|=8),(null!==bt.hostBindings||null!==bt.hostAttrs||0!==bt.hostVars)&&(a.flags|=128);const Yt=bt.type.prototype;!oe&&(Yt.ngOnChanges||Yt.ngOnInit||Yt.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),oe=!0),!ye&&(Yt.ngOnChanges||Yt.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),ye=!0),Ue++}!function(s,r){const a=r.directiveStart,p=r.directiveEnd,_=s.data,M=r.attrs,X=[];let oe=null,ye=null;for(let Ue=a;Ue<p;Ue++){const tt=_[Ue],bt=tt.inputs,Yt=null===M||kp(r)?null:Ff(bt,M);X.push(Yt),oe=Yp(bt,Ue,oe),ye=Yp(tt.outputs,Ue,ye)}null!==oe&&(oe.hasOwnProperty("class")&&(r.flags|=16),oe.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=X,r.inputs=oe,r.outputs=ye}(s,a)}X&&function(s,r,a){if(r){const p=s.localNames=[];for(let _=0;_<r.length;_+=2){const M=a[r[_+1]];if(null==M)throw new Y("301",`Export of name '${r[_+1]}' not found!`);p.push(r[_],M)}}}(a,p,X)}return a.mergedAttrs=vs(a.mergedAttrs,a.attrs),_}function If(s,r,a,p,_,M){const X=M.hostBindings;if(X){let oe=s.hostBindingOpCodes;null===oe&&(oe=s.hostBindingOpCodes=[]);const ye=~r.index;(function(s){let r=s.length;for(;r>0;){const a=s[--r];if("number"==typeof a&&a<0)return a}return 0})(oe)!=ye&&oe.push(ye),oe.push(p,_,X)}}function Pf(s,r){null!==s.hostBindings&&s.hostBindings(1,r)}function zo(s,r){r.flags|=2,(s.components||(s.components=[])).push(r.index)}function Ou(s,r,a){if(a){if(r.exportAs)for(let p=0;p<r.exportAs.length;p++)a[r.exportAs[p]]=s;xi(r)&&(a[""]=s)}}function Rf(s,r,a){s.flags|=1,s.directiveStart=r,s.directiveEnd=r+a,s.providerIndexes=r}function Jp(s,r,a,p,_){s.data[p]=_;const M=_.factory||(_.factory=zr(_.type)),X=new An(M,xi(_),null);s.blueprint[p]=X,a[p]=X,If(s,r,0,p,Xu(s,a,_.hostVars,as),_)}function eg(s,r,a){const p=Me(r,s),_=Rd(a),M=s[10],X=kh(s,Du(s,_,null,a.onPush?64:16,p,r,M,M.createRenderer(p,a),null,null));s[r.index]=X}function Iu(s,r,a,p,_,M){const X=Me(s,r);Mf(r[11],X,M,s.value,a,p,_)}function Mf(s,r,a,p,_,M,X){if(null==M)Xe(s)?s.removeAttribute(r,_,a):r.removeAttribute(_);else{const oe=null==X?te(M):X(M,p||"",_);Xe(s)?s.setAttribute(r,_,oe,a):a?r.setAttributeNS(a,_,oe):r.setAttribute(_,oe)}}function tg(s,r,a,p,_,M){const X=M[r];if(null!==X){const oe=p.setInput;for(let ye=0;ye<X.length;){const Ue=X[ye++],tt=X[ye++],bt=X[ye++];null!==oe?p.setInput(a,bt,Ue,tt):a[tt]=bt}}}function Ff(s,r){let a=null,p=0;for(;p<r.length;){const _=r[p];if(0!==_)if(5!==_){if("number"==typeof _)break;s.hasOwnProperty(_)&&(null===a&&(a=[]),a.push(_,s[_],r[p+1])),p+=2}else p+=2;else p+=4}return a}function Mh(s,r,a,p){return new Array(s,!0,!1,r,null,0,p,a,null,null)}function Qo(s,r){const a=vi(r,s);if(Ir(a)){const p=a[1];80&a[2]?mc(p,a,p.template,a[8]):a[5]>0&&Fh(a)}}function Fh(s){for(let p=Jl(s);null!==p;p=bd(p))for(let _=10;_<p.length;_++){const M=p[_];if(1024&M[2]){const X=M[1];mc(X,M,X.template,M[8])}else M[5]>0&&Fh(M)}const a=s[1].components;if(null!==a)for(let p=0;p<a.length;p++){const _=vi(a[p],s);Ir(_)&&_[5]>0&&Fh(_)}}function xm(s,r){const a=vi(r,s),p=a[1];(function(s,r){for(let a=r.length;a<s.blueprint.length;a++)r.push(s.blueprint[a])})(p,a),Au(p,a,a[8])}function kh(s,r){return s[13]?s[14][4]=r:s[13]=r,s[14]=r,r}function kf(s){for(;s;){s[2]|=64;const r=Cu(s);if(Ri(s)&&!r)return s;s=r}return null}function Lf(s){for(let r=0;r<s.components.length;r++){const a=s.components[r],p=yu(a),_=p[1];qp(_,p,_.template,a)}}function Fd(s,r,a){const p=r[10];p.begin&&p.begin();try{mc(s,r,s.template,a)}catch(_){throw rg(r,_),_}finally{p.end&&p.end()}}function Qc(s){Lf(s[8])}function kd(s,r,a){Ui(0),r(s,a)}const vl=Kc;function yc(s){return s[7]||(s[7]=[])}function ig(s){return s.cleanup||(s.cleanup=[])}function Lh(s,r,a){return(null===s||xi(s))&&(a=function(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(a[r.index])),a[11]}function rg(s,r){const a=s[9],p=a?a.get(Lc,null):null;p&&p.handleError(r)}function Im(s,r,a,p,_){for(let M=0;M<a.length;){const X=a[M++],oe=a[M++],ye=r[X],Ue=s.data[X];null!==Ue.setInput?Ue.setInput(ye,_,p,oe):ye[oe]=_}}function zl(s,r,a){const p=Z(r,s);uh(s[11],p,a)}function Ec(s,r,a){let p=a?s.styles:null,_=a?s.classes:null,M=0;if(null!==r)for(let X=0;X<r.length;X++){const oe=r[X];if("number"==typeof oe)M=oe;else if(1==M)_=T(_,oe);else if(2==M){p=T(p,oe+": "+r[++X]+";")}}a?s.styles=p:s.stylesWithoutHost=p,a?s.classes=_:s.classesWithoutHost=_}const il=new rt("INJECTOR",-1);class Vf{get(r,a=C){if(a===C){const p=new Error(`NullInjectorError: No provider for ${w(r)}!`);throw p.name="NullInjectorError",p}return a}}const Hf=new rt("Set Injector scope."),js={},Rm={};let Bh;function Nd(){return void 0===Bh&&(Bh=new Vf),Bh}function sg(s,r=null,a=null,p){const _=og(s,r,a,p);return _._resolveInjectorDefTypes(),_}function og(s,r=null,a=null,p){return new ag(s,a,r||Nd(),p)}class ag{constructor(r,a,p,_=null){this.parent=p,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const M=[];a&&bl(a,oe=>this.processProvider(oe,r,a)),bl([r],oe=>this.processInjectorType(oe,[],M)),this.records.set(il,Cc(void 0,this));const X=this.records.get(Hf);this.scope=null!=X?X.value:null,this.source=_||("object"==typeof r?null:w(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,a=C,p=Ht.Default){this.assertNotDestroyed();const _=ht(this),M=pe(void 0);try{if(!(p&Ht.SkipSelf)){let oe=this.records.get(r);if(void 0===oe){const ye=function(s){return"function"==typeof s||"object"==typeof s&&s instanceof rt}(r)&&Dn(r);oe=ye&&this.injectableDefInScope(ye)?Cc(Ba(r),js):null,this.records.set(r,oe)}if(null!=oe)return this.hydrate(r,oe)}const X=p&Ht.Self?Nd():this.parent;return a=p&Ht.Optional&&a===C?null:a,X.get(r,a)}catch(X){if("NullInjectorError"===X.name){if((X[B]=X[B]||[]).unshift(w(r)),_)throw X;return Ti(X,r,"R3InjectorError",this.source)}throw X}finally{pe(M),ht(_)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((p,_)=>r.push(w(_))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(r,a,p){if(!(r=N(r)))return!1;let _=Dt(r);const M=null==_&&r.ngModule||void 0,X=void 0===M?r:M,oe=-1!==p.indexOf(X);if(void 0!==M&&(_=Dt(M)),null==_)return!1;if(null!=_.imports&&!oe){let tt;p.push(X);try{bl(_.imports,bt=>{this.processInjectorType(bt,a,p)&&(void 0===tt&&(tt=[]),tt.push(bt))})}finally{}if(void 0!==tt)for(let bt=0;bt<tt.length;bt++){const{ngModule:Yt,providers:vn}=tt[bt];bl(vn,Gn=>this.processProvider(Gn,Yt,vn||kn))}}this.injectorDefTypes.add(X);const ye=zr(X)||(()=>new X);this.records.set(X,Cc(ye,js));const Ue=_.providers;if(null!=Ue&&!oe){const tt=r;bl(Ue,bt=>this.processProvider(bt,tt,Ue))}return void 0!==M&&void 0!==r.providers}processProvider(r,a,p){let _=wc(r=N(r))?r:N(r&&r.provide);const M=function(s,r,a){if(Uf(s))return Cc(void 0,s.useValue);return Cc(lg(s,r,a),js)}(r,a,p);if(wc(r)||!0!==r.multi){this.records.get(_)}else{let X=this.records.get(_);X||(X=Cc(void 0,js,!0),X.factory=()=>yi(X.multi),this.records.set(_,X)),_=r,X.multi.push(r)}this.records.set(_,M)}hydrate(r,a){return a.value===js&&(a.value=Rm,a.value=a.factory()),"object"==typeof a.value&&a.value&&function(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(r){if(!r.providedIn)return!1;const a=N(r.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function Ba(s){const r=Dn(s),a=null!==r?r.factory:zr(s);if(null!==a)return a;if(s instanceof rt)throw new Error(`Token ${w(s)} is missing a \u0275prov definition.`);if(s instanceof Function)return function(s){const r=s.length;if(r>0){const p=ac(r,"?");throw new Error(`Can't resolve all parameters for ${w(s)}: (${p.join(", ")}).`)}const a=function(s){const r=s&&(s[qe]||s[_t]);if(r){const a=function(s){if(s.hasOwnProperty("name"))return s.name;const r=(""+s).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),r}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new Error("unreachable")}function lg(s,r,a){let p;if(wc(s)){const _=N(s);return zr(_)||Ba(_)}if(Uf(s))p=()=>N(s.useValue);else if(function(s){return!(!s||!s.useFactory)}(s))p=()=>s.useFactory(...yi(s.deps||[]));else if(function(s){return!(!s||!s.useExisting)}(s))p=()=>Kt(N(s.useExisting));else{const _=N(s&&(s.useClass||s.provide));if(!function(s){return!!s.deps}(s))return zr(_)||Ba(_);p=()=>new _(...yi(s.deps))}return p}function Cc(s,r,a=!1){return{factory:s,value:r,multi:a?[]:void 0}}function Uf(s){return null!==s&&"object"==typeof s&&Ne in s}function wc(s){return"function"==typeof s}class _a{static create(r,a){var p;if(Array.isArray(r))return sg({name:""},a,r,"");{const _=null!==(p=r.name)&&void 0!==p?p:"";return sg({name:_},r.parent,r.providers,_)}}}_a.THROW_IF_NOT_FOUND=C,_a.NULL=new Vf,_a.\u0275prov=zt({token:_a,providedIn:"any",factory:()=>Kt(il)}),_a.__NG_ELEMENT_ID__=-1;function _g(s,r,a,p,_,M){const X=a[1];a[20]=s;const ye=Pd(X,20,2,"#host",null),Ue=ye.mergedAttrs=r.hostAttrs;null!==Ue&&(Ec(ye,Ue,!0),null!==s&&(Pr(_,s,Ue),null!==ye.classes&&gf(_,s,ye.classes),null!==ye.styles&&Eh(_,s,ye.styles)));const tt=p.createRenderer(s,r),bt=Du(a,Rd(r),null,r.onPush?64:16,a[20],ye,p,tt,M||null,null);return X.firstCreatePass&&(Bl(wl(ye,a),X,r.type),zo(X,ye),Rf(ye,a.length,1)),kh(a,bt),a[20]=bt}function yg(s,r,a,p,_){const M=a[1],X=function(s,r,a){const p=$s();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Jp(s,p,r,Xu(s,r,1,null),a));const _=jn(r,s,p.directiveStart,p);Fa(_,r);const M=Me(p,r);return M&&Fa(M,r),_}(M,a,r);if(p.components.push(X),s[8]=X,_&&_.forEach(ye=>ye(X,r)),r.contentQueries){const ye=$s();r.contentQueries(1,X,ye.directiveStart)}const oe=$s();if(M.firstCreatePass&&(null!==r.hostBindings||null!==r.hostAttrs)){Ea(oe.index);If(a[1],oe,0,oe.directiveStart,oe.directiveEnd,r),Pf(r,X)}return X}function Eg(s,r){return{components:[],scheduler:s||Zl,clean:vl,playerHandler:r||null,flags:0}}function Cg(s,r){Zs(yu(s)[1],$s())}function su(s){return Object.getPrototypeOf(s.prototype).constructor}function Gf(s){let r=su(s.type),a=!0;const p=[s];for(;r;){let _;if(xi(s))_=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Error("Directives cannot inherit Components");_=r.\u0275dir}if(_){if(a){p.push(_);const X=s;X.inputs=jf(s.inputs),X.declaredInputs=jf(s.declaredInputs),X.outputs=jf(s.outputs);const oe=_.hostBindings;oe&&$m(s,oe);const ye=_.viewQuery,Ue=_.contentQueries;if(ye&&Hm(s,ye),Ue&&Um(s,Ue),v(s.inputs,_.inputs),v(s.declaredInputs,_.declaredInputs),v(s.outputs,_.outputs),xi(_)&&_.data.animation){const tt=s.data;tt.animation=(tt.animation||[]).concat(_.data.animation)}}const M=_.features;if(M)for(let X=0;X<M.length;X++){const oe=M[X];oe&&oe.ngInherit&&oe(s),oe===Gf&&(a=!1)}}r=Object.getPrototypeOf(r)}!function(s){let r=0,a=null;for(let p=s.length-1;p>=0;p--){const _=s[p];_.hostVars=r+=_.hostVars,_.hostAttrs=vs(_.hostAttrs,a=vs(a,_.hostAttrs))}}(p)}function jf(s){return s===Tn?{}:s===kn?[]:s}function Hm(s,r){const a=s.viewQuery;s.viewQuery=a?(p,_)=>{r(p,_),a(p,_)}:r}function Um(s,r){const a=s.contentQueries;s.contentQueries=a?(p,_,M)=>{r(p,_,M),a(p,_,M)}:r}function $m(s,r){const a=s.hostBindings;s.hostBindings=a?(p,_)=>{r(p,_),a(p,_)}:r}const Wm=["providersResolver"],zm=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function Gm(s){let a,r=su(s.type);a=xi(s)?r.\u0275cmp:r.\u0275dir;const p=s;for(const _ of Wm)p[_]=a[_];if(xi(a))for(const _ of zm)p[_]=a[_]}let $h=null;function Zc(){if(!$h){const s=_n.Symbol;if(s&&s.iterator)$h=s.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<r.length;++a){const p=r[a];"entries"!==p&&"size"!==p&&Map.prototype[p]===Map.prototype.entries&&($h=p)}}}return $h}function Bd(s){return!!Kf(s)&&(Array.isArray(s)||!(s instanceof Map)&&Zc()in s)}function Kf(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ml(s,r,a){return s[r]=a}function Vd(s,r){return s[r]}function Ha(s,r,a){const p=s[r];return!Object.is(p,a)&&(s[r]=a,!0)}function Ju(s,r,a,p){const _=Ha(s,r,a);return Ha(s,r+1,p)||_}function Jc(s,r,a,p,_){const M=Ju(s,r,a,p);return Ha(s,r+2,_)||M}function Fl(s,r,a,p,_,M){const X=Ju(s,r,a,p);return Ju(s,r+2,_,M)||X}function ou(s,r,a,p){const _=Un();if(Ha(_,ot(),r)){Vr();Iu(ks(),_,s,r,a,p)}return ou}function Sc(s,r){let a=!1,p=fe();for(let M=1;M<r.length;M+=2)a=Ha(s,p++,r[M])||a;if(Be(p),!a)return as;let _=r[0];for(let M=1;M<r.length;M+=2)_+=te(r[M])+r[M+1];return _}function ec(s,r,a,p){return Ha(s,ot(),a)?r+te(a)+p:as}function Pu(s,r,a,p,_,M){const oe=Ju(s,fe(),a,_);return Gt(2),oe?r+te(a)+p+te(_)+M:as}function tc(s,r,a,p,_,M,X,oe){const Ue=Jc(s,fe(),a,_,X);return Gt(3),Ue?r+te(a)+p+te(_)+M+te(X)+oe:as}function ed(s,r,a,p,_,M,X,oe,ye,Ue){const bt=Fl(s,fe(),a,_,X,ye);return Gt(4),bt?r+te(a)+p+te(_)+M+te(X)+oe+te(ye)+Ue:as}function td(s,r,a,p,_,M,X,oe,ye,Ue,tt,bt){const Yt=fe();let vn=Fl(s,Yt,a,_,X,ye);return vn=Ha(s,Yt+4,tt)||vn,Gt(5),vn?r+te(a)+p+te(_)+M+te(X)+oe+te(ye)+Ue+te(tt)+bt:as}function nd(s,r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt,vn){const Gn=fe();let Si=Fl(s,Gn,a,_,X,ye);return Si=Ju(s,Gn+4,tt,Yt)||Si,Gt(6),Si?r+te(a)+p+te(_)+M+te(X)+oe+te(ye)+Ue+te(tt)+bt+te(Yt)+vn:as}function nc(s,r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt,vn,Gn,Si){const Li=fe();let dr=Fl(s,Li,a,_,X,ye);return dr=Jc(s,Li+4,tt,Yt,Gn)||dr,Gt(7),dr?r+te(a)+p+te(_)+M+te(X)+oe+te(ye)+Ue+te(tt)+bt+te(Yt)+vn+te(Gn)+Si:as}function au(s,r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt,vn,Gn,Si,Li,dr){const ti=fe();let $r=Fl(s,ti,a,_,X,ye);return $r=Fl(s,ti+4,tt,Yt,Gn,Li)||$r,Gt(8),$r?r+te(a)+p+te(_)+M+te(X)+oe+te(ye)+Ue+te(tt)+bt+te(Yt)+vn+te(Gn)+Si+te(Li)+dr:as}function Wh(s,r,a,p,_,M){const X=Un(),oe=ec(X,r,a,p);if(oe!==as){Iu(ks(),X,s,oe,_,M)}return Wh}function qf(s,r,a,p,_,M,X,oe){const ye=Un(),Ue=Pu(ye,r,a,p,_,M);if(Ue!==as){Iu(ks(),ye,s,Ue,X,oe)}return qf}function Ua(s,r,a,p,_,M,X,oe,ye,Ue){const tt=Un(),bt=tc(tt,r,a,p,_,M,X,oe);if(bt!==as){Iu(ks(),tt,s,bt,ye,Ue)}return Ua}function Ru(s,r,a,p,_,M,X,oe,ye,Ue,tt,bt){const Yt=Un(),vn=ed(Yt,r,a,p,_,M,X,oe,ye,Ue);if(vn!==as){Iu(ks(),Yt,s,vn,tt,bt)}return Ru}function Hd(s,r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt,vn){const Gn=Un(),Si=td(Gn,r,a,p,_,M,X,oe,ye,Ue,tt,bt);if(Si!==as){Iu(ks(),Gn,s,Si,Yt,vn)}return Hd}function Yf(s,r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt,vn,Gn,Si){const Li=Un(),dr=nd(Li,r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt,vn);if(dr!==as){Iu(ks(),Li,s,dr,Gn,Si)}return Yf}function bg(s,r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt,vn,Gn,Si,Li,dr){const ti=Un(),$r=nc(ti,r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt,vn,Gn,Si);if($r!==as){Iu(ks(),ti,s,$r,Li,dr)}return bg}function Xf(s,r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt,vn,Gn,Si,Li,dr,ti,$r){const Js=Un(),So=au(Js,r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt,vn,Gn,Si,Li,dr);if(So!==as){Iu(ks(),Js,s,So,ti,$r)}return Xf}function zh(s,r,a,p){const _=Un(),M=Sc(_,r);if(M!==as){Iu(ks(),_,s,M,a,p)}return zh}function Gh(s,r,a,p,_,M,X,oe){const ye=Un(),Ue=Vr(),tt=s+20,bt=Ue.firstCreatePass?function(s,r,a,p,_,M,X,oe,ye){const Ue=r.consts,tt=Pd(r,s,4,X||null,_i(Ue,oe));tl(r,a,tt,_i(Ue,ye)),Zs(r,tt);const bt=tt.tViews=xu(2,tt,p,_,M,r.directiveRegistry,r.pipeRegistry,null,r.schemas,Ue);return null!==r.queries&&(r.queries.template(r,tt),bt.queries=r.queries.embeddedTView(tt)),tt}(tt,Ue,ye,r,a,p,_,M,X):Ue.data[tt];li(bt,!1);const Yt=ye[11].createComment("");_h(Ue,ye,Yt,bt),Fa(Yt,ye),kh(ye,ye[tt]=Mh(Yt,ye,Yt,bt)),mi(bt)&&Oh(Ue,ye,bt),null!=X&&Af(ye,bt,oe)}function Ud(s){return En(wi.lFrame.contextLView,20+s)}const Qf={\u0275\u0275defineInjectable:zt,\u0275\u0275defineInjector:On,\u0275\u0275inject:Kt,\u0275\u0275invalidFactoryDep:Xt,resolveForwardRef:N};function Xm(s,r){let a=null,p=null;s.hasOwnProperty(qe)||Object.defineProperty(s,qe,{get:()=>(null===a&&(a=jo().compileInjectable(Qf,`ng:///${s.name}/\u0275prov.js`,function(s,r){const a=r||{providedIn:null},p={name:s.name,type:s,typeArgumentCount:0,providedIn:a.providedIn};return(Dg(a)||Jf(a))&&void 0!==a.deps&&(p.deps=ro(a.deps)),Dg(a)?p.useClass=a.useClass:function(s){return Tg in s}(a)?p.useValue=a.useValue:Jf(a)?p.useFactory=a.useFactory:function(s){return void 0!==s.useExisting}(a)&&(p.useExisting=a.useExisting),p}(s,r))),a)}),s.hasOwnProperty(yr)||Object.defineProperty(s,yr,{get:()=>{if(null===p){const _=jo();p=_.compileFactory(Qf,`ng:///${s.name}/\u0275fac.js`,{name:s.name,type:s,typeArgumentCount:0,deps:wa(s),target:_.FactoryTarget.Injectable})}return p},configurable:!0})}const Tg=b({provide:String,useValue:b});function Dg(s){return void 0!==s.useClass}function Jf(s){return void 0!==s.useFactory}const Ag=Uo("Injectable",void 0,void 0,void 0,(s,r)=>Xm(s,r));function jh(s){if(s.length>1){return" ("+function(s){const r=[];for(let a=0;a<s.length;++a){if(r.indexOf(s[a])>-1)return r.push(s[a]),r;r.push(s[a])}return r}(s.slice().reverse()).map(p=>w(p.token)).join(" -> ")+")"}return""}function np(s,r,a,p){const _=[r],M=a(_),X=p?function(s,r){const a=`${s} caused by: ${r instanceof Error?r.message:r}`,p=Error(a);return p[rh]=r,p}(M,p):Error(M);return X.addKey=Zm,X.keys=_,X.injectors=[s],X.constructResolvingMessage=a,X[rh]=p,X}function Zm(s,r){this.injectors.push(s),this.keys.push(r),this.message=this.constructResolvingMessage(this.keys)}function ip(s,r){const a=[];for(let p=0,_=r.length;p<_;p++){const M=r[p];M&&0!=M.length?a.push(M.map(w).join(" ")):a.push("?")}return Error("Cannot resolve all parameters for '"+w(s)+"'("+a.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+w(s)+"' is decorated with Injectable.")}function Pg(s,r){return Error(`Cannot mix multi providers and regular providers, got: ${s} ${r}`)}class ic{constructor(r,a){if(this.token=r,this.id=a,!r)throw new Error("Token must be defined!");this.displayName=w(this.token)}static get(r){return Rg.get(N(r))}static get numberOfKeys(){return Rg.numberOfKeys}}const Rg=new class{constructor(){this._allKeys=new Map}get(r){if(r instanceof ic)return r;if(this._allKeys.has(r))return this._allKeys.get(r);const a=new ic(r,ic.numberOfKeys);return this._allKeys.set(r,a),a}get numberOfKeys(){return this._allKeys.size}};const rp=new class{constructor(r){this.reflectionCapabilities=r}updateCapabilities(r){this.reflectionCapabilities=r}factory(r){return this.reflectionCapabilities.factory(r)}parameters(r){return this.reflectionCapabilities.parameters(r)}annotations(r){return this.reflectionCapabilities.annotations(r)}propMetadata(r){return this.reflectionCapabilities.propMetadata(r)}hasLifecycleHook(r,a){return this.reflectionCapabilities.hasLifecycleHook(r,a)}getter(r){return this.reflectionCapabilities.getter(r)}setter(r){return this.reflectionCapabilities.setter(r)}method(r){return this.reflectionCapabilities.method(r)}importUri(r){return this.reflectionCapabilities.importUri(r)}resourceUri(r){return this.reflectionCapabilities.resourceUri(r)}resolveIdentifier(r,a,p,_){return this.reflectionCapabilities.resolveIdentifier(r,a,p,_)}resolveEnum(r,a){return this.reflectionCapabilities.resolveEnum(r,a)}}(new i);class id{constructor(r,a,p){this.key=r,this.optional=a,this.visibility=p}static fromKey(r){return new id(r,!1,null)}}const Mg=[];class sp{constructor(r,a,p){this.key=r,this.resolvedFactories=a,this.multiProvider=p,this.resolvedFactory=this.resolvedFactories[0]}}class iv{constructor(r,a){this.factory=r,this.dependencies=a}}function f(s){let r,a;if(s.useClass){const p=N(s.useClass);r=rp.factory(p),a=Ut(p)}else s.useExisting?(r=p=>p,a=[id.fromKey(ic.get(s.useExisting))]):s.useFactory?(r=s.useFactory,a=function(s,r){if(r){const a=r.map(p=>[p]);return r.map(p=>Zt(s,p,a))}return Ut(s)}(s.useFactory,s.deps)):(r=()=>s.useValue,a=Mg);return new iv(r,a)}function E(s){return new sp(ic.get(s.provide),[f(s)],s.multi||!1)}function q(s){const p=function(s,r){for(let a=0;a<s.length;a++){const p=s[a],_=r.get(p.key.id);if(_){if(p.multiProvider!==_.multiProvider)throw Pg(_,p);if(p.multiProvider)for(let M=0;M<p.resolvedFactories.length;M++)_.resolvedFactories.push(p.resolvedFactories[M]);else r.set(p.key.id,p)}else{let M;M=p.multiProvider?new sp(p.key,p.resolvedFactories.slice(),p.multiProvider):p,r.set(p.key.id,M)}}return r}(Ye(s,[]).map(E),new Map);return Array.from(p.values())}function Ye(s,r){return s.forEach(a=>{if(a instanceof hu)r.push({provide:a,useClass:a});else if(a&&"object"==typeof a&&void 0!==a.provide)r.push(a);else{if(!Array.isArray(a))throw function(s){return Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${s}`)}(a);Ye(a,r)}}),r}function Ut(s){const r=rp.parameters(s);if(!r)return[];if(r.some(a=>null==a))throw ip(s,r);return r.map(a=>Zt(s,a,r))}function Zt(s,r,a){let p=null,_=!1;if(!Array.isArray(r))return fn(r instanceof Xn?r.token:r,_,null);let M=null;for(let X=0;X<r.length;++X){const oe=r[X];oe instanceof hu?p=oe:oe instanceof Xn?p=oe.token:oe instanceof Wi?_=!0:oe instanceof vr||oe instanceof Ci?M=oe:oe instanceof rt&&(p=oe)}if(p=N(p),null!=p)return fn(p,_,M);throw ip(s,a)}function fn(s,r,a){return new id(ic.get(s),r,a)}const zn={};class Kn{static resolve(r){return q(r)}static resolveAndCreate(r,a){const p=Kn.resolve(r);return Kn.fromResolvedProviders(p,a)}static fromResolvedProviders(r,a){return new ei(r,a)}}class ei{constructor(r,a){this._constructionCounter=0,this._providers=r,this.parent=a||null;const p=r.length;this.keyIds=[],this.objs=[];for(let _=0;_<p;_++)this.keyIds[_]=r[_].key.id,this.objs[_]=zn}get(r,a=C){return this._getByKey(ic.get(r),null,a)}resolveAndCreateChild(r){const a=Kn.resolve(r);return this.createChildFromResolved(a)}createChildFromResolved(r){const a=new ei(r);return a.parent=this,a}resolveAndInstantiate(r){return this.instantiateResolved(Kn.resolve([r])[0])}instantiateResolved(r){return this._instantiateProvider(r)}getProviderAtIndex(r){if(r<0||r>=this._providers.length)throw function(s){return Error(`Index ${s} is out-of-bounds.`)}(r);return this._providers[r]}_new(r){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw function(s,r){return np(s,r,function(a){return`Cannot instantiate cyclic dependency!${jh(a)}`})}(this,r.key);return this._instantiateProvider(r)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(r){if(r.multiProvider){const a=[];for(let p=0;p<r.resolvedFactories.length;++p)a[p]=this._instantiate(r,r.resolvedFactories[p]);return a}return this._instantiate(r,r.resolvedFactories[0])}_instantiate(r,a){const p=a.factory;let _,M;try{_=a.dependencies.map(X=>this._getByReflectiveDependency(X))}catch(X){throw X.addKey&&X.addKey(this,r.key),X}try{M=p(..._)}catch(X){throw function(s,r,a,p){return np(s,p,function(_){const M=w(_[0].token);return`${r.message}: Error during instantiation of ${M}!${jh(_)}.`},r)}(this,X,X.stack,r.key)}return M}_getByReflectiveDependency(r){return this._getByKey(r.key,r.visibility,r.optional?null:C)}_getByKey(r,a,p){return r===ei.INJECTOR_KEY?this:a instanceof vr?this._getByKeySelf(r,p):this._getByKeyDefault(r,p,a)}_getObjByKeyId(r){for(let a=0;a<this.keyIds.length;a++)if(this.keyIds[a]===r)return this.objs[a]===zn&&(this.objs[a]=this._new(this._providers[a])),this.objs[a];return zn}_throwOrNull(r,a){if(a!==C)return a;throw function(s,r){return np(s,r,function(a){return`No provider for ${w(a[0].token)}!${jh(a)}`})}(this,r)}_getByKeySelf(r,a){const p=this._getObjByKeyId(r.id);return p!==zn?p:this._throwOrNull(r,a)}_getByKeyDefault(r,a,p){let _;for(_=p instanceof Ci?this.parent:this;_ instanceof ei;){const M=_,X=M._getObjByKeyId(r.id);if(X!==zn)return X;_=M.parent}return null!==_?_.get(r.token,a):this._throwOrNull(r,a)}get displayName(){return`ReflectiveInjector(providers: [${function(s,r){const a=[];for(let p=0;p<s._providers.length;++p)a[p]=r(s.getProviderAtIndex(p));return a}(this,a=>' "'+a.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}function ir(s,r=Ht.Default){const a=Un();if(null===a)return Kt(s,r);return we($s(),a,N(s),r)}function Nr(){throw new Error("invalid")}function fs(s,r,a){const p=Un();if(Ha(p,ot(),r)){ml(Vr(),ks(),p,s,r,p[11],a,!1)}return fs}function Fr(s,r,a,p,_){const X=_?"class":"style";Im(s,a,r.inputs[X],X,p)}function Ms(s,r,a,p){const _=Un(),M=Vr(),X=20+s,oe=_[11],ye=_[X]=ch(oe,r,wi.lFrame.currentNamespace),Ue=M.firstCreatePass?function(s,r,a,p,_,M,X){const oe=r.consts,Ue=Pd(r,s,2,_,_i(oe,M));return tl(r,a,Ue,_i(oe,X)),null!==Ue.attrs&&Ec(Ue,Ue.attrs,!1),null!==Ue.mergedAttrs&&Ec(Ue,Ue.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,Ue),Ue}(X,M,_,0,r,a,p):M.data[X];li(Ue,!0);const tt=Ue.mergedAttrs;null!==tt&&Pr(oe,ye,tt);const bt=Ue.classes;null!==bt&&gf(oe,ye,bt);const Yt=Ue.styles;null!==Yt&&Eh(oe,ye,Yt),64!=(64&Ue.flags)&&_h(M,_,ye,Ue),0===wi.lFrame.elementDepthCount&&Fa(ye,_),wi.lFrame.elementDepthCount++,mi(Ue)&&(Oh(M,_,Ue),vc(M,Ue,_)),null!==p&&Af(_,Ue)}function $a(){let s=$s();To()?qs():(s=s.parent,li(s,!1));const r=s;wi.lFrame.elementDepthCount--;const a=Vr();a.firstCreatePass&&(Zs(a,s),Qn(s)&&a.queries.elementEnd(s)),null!=r.classesWithoutHost&&function(s){return 0!=(16&s.flags)}(r)&&Fr(a,r,Un(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function(s){return 0!=(32&s.flags)}(r)&&Fr(a,r,Un(),r.stylesWithoutHost,!1)}function Wa(s,r,a,p){Ms(s,r,a,p),$a()}function _l(s,r,a){const p=Un(),_=Vr(),M=s+20,X=_.firstCreatePass?function(s,r,a,p,_){const M=r.consts,X=_i(M,p),oe=Pd(r,s,8,"ng-container",X);return null!==X&&Ec(oe,X,!0),tl(r,a,oe,_i(M,_)),null!==r.queries&&r.queries.elementStart(r,oe),oe}(M,_,p,r,a):_.data[M];li(X,!0);const oe=p[M]=p[11].createComment("");_h(_,p,oe,X),Fa(oe,p),mi(X)&&(Oh(_,p,X),vc(_,X,p)),null!=a&&Af(p,X)}function Gl(){let s=$s();const r=Vr();To()?qs():(s=s.parent,li(s,!1)),r.firstCreatePass&&(Zs(r,s),Qn(s)&&r.queries.elementEnd(s))}function Kh(s,r,a){_l(s,r,a),Gl()}function $d(){return Un()}function Fg(s){return!!s&&"function"==typeof s.then}function rv(s){return!!s&&"function"==typeof s.subscribe}ei.INJECTOR_KEY=ic.get(_a);const Gv=rv;function kg(s,r,a,p){const _=Un(),M=Vr(),X=$s();return Kv(M,_,_[11],X,s,r,!!a,p),kg}function sv(s,r){const a=$s(),p=Un(),_=Vr();return Kv(_,p,Lh(hi(_.data),a,p),a,s,r,!1),sv}function Kv(s,r,a,p,_,M,X,oe){const ye=mi(p),tt=s.firstCreatePass&&ig(s),bt=r[8],Yt=yc(r);let vn=!0;if(3&p.type||oe){const Li=Me(p,r),dr=oe?oe(Li):Li,ti=Yt.length,$r=oe?Js=>oe(de(Js[p.index])):p.index;if(Xe(a)){let Js=null;if(!oe&&ye&&(Js=function(s,r,a,p){const _=s.cleanup;if(null!=_)for(let M=0;M<_.length-1;M+=2){const X=_[M];if(X===a&&_[M+1]===p){const oe=r[7],ye=_[M+2];return oe.length>ye?oe[ye]:null}"string"==typeof X&&(M+=2)}return null}(s,r,_,p.index)),null!==Js){(Js.__ngLastListenerFn__||Js).__ngNextListenerFn__=M,Js.__ngLastListenerFn__=M,vn=!1}else{M=ov(p,r,bt,M,!1);const So=a.listen(dr,_,M);Yt.push(M,So),tt&&tt.push(_,$r,ti,ti+1)}}else M=ov(p,r,bt,M,!0),dr.addEventListener(_,M,X),Yt.push(M),tt&&tt.push(_,$r,ti,X)}else M=ov(p,r,bt,M,!1);const Gn=p.outputs;let Si;if(vn&&null!==Gn&&(Si=Gn[_])){const Li=Si.length;if(Li)for(let dr=0;dr<Li;dr+=2){const ti=Si[dr],$r=Si[dr+1],Hu=r[ti][$r].subscribe(M),gp=Yt.length;Yt.push(M,Hu),tt&&tt.push(_,p.index,gp,-(gp+1))}}}function qv(s,r,a,p){try{return Ls(6,r,a),!1!==a(p)}catch(_){return rg(s,_),!1}finally{Ls(7,r,a)}}function ov(s,r,a,p,_){return function M(X){if(X===Function)return p;const oe=2&s.flags?vi(s.index,r):r;0==(32&r[2])&&kf(oe);let ye=qv(r,a,p,X),Ue=M.__ngNextListenerFn__;for(;Ue;)ye=qv(r,a,Ue,X)&&ye,Ue=Ue.__ngNextListenerFn__;return _&&!1===ye&&(X.preventDefault(),X.returnValue=!1),ye}}function Yv(s=1){return pn(s)}function N_(s,r){let a=null;const p=function(s){const r=s.attrs;if(null!=r){const a=r.indexOf(5);if(0==(1&a))return r[a+1]}return null}(s);for(let _=0;_<r.length;_++){const M=r[_];if("*"!==M){if(null===p?Np(s,M,!0):dm(p,M))return _}else a=_}return a}function av(s){const r=Un()[16][6];if(!r.projection){const a=s?s.length:1,p=r.projection=ac(a,null),_=p.slice();let M=r.child;for(;null!==M;){const X=s?N_(M,s):0;null!==X&&(_[X]?_[X].projectionNext=M:p[X]=M,_[X]=M),M=M.next}}}function Xv(s,r=0,a){const p=Un(),_=Vr(),M=Pd(_,20+s,16,null,a||null);null===M.projection&&(M.projection=r),qs(),64!=(64&M.flags)&&function(s,r,a){ff(r[11],0,r,a,wu(s,a,r),ka(a.parent||r[6],a,r))}(_,p,M)}function lv(s,r,a){return Ng(s,"",r,"",a),lv}function Ng(s,r,a,p,_){const M=Un(),X=ec(M,r,a,p);if(X!==as){ml(Vr(),ks(),M,s,X,M[11],_,!1)}return Ng}function L_(s,r,a,p,_,M,X){const oe=Un(),ye=Pu(oe,r,a,p,_,M);if(ye!==as){ml(Vr(),ks(),oe,s,ye,oe[11],X,!1)}return L_}function uv(s,r,a,p,_,M,X,oe,ye){const Ue=Un(),tt=tc(Ue,r,a,p,_,M,X,oe);if(tt!==as){ml(Vr(),ks(),Ue,s,tt,Ue[11],ye,!1)}return uv}function Qv(s,r,a,p,_,M,X,oe,ye,Ue,tt){const bt=Un(),Yt=ed(bt,r,a,p,_,M,X,oe,ye,Ue);if(Yt!==as){ml(Vr(),ks(),bt,s,Yt,bt[11],tt,!1)}return Qv}function cv(s,r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt){const vn=Un(),Gn=td(vn,r,a,p,_,M,X,oe,ye,Ue,tt,bt);if(Gn!==as){ml(Vr(),ks(),vn,s,Gn,vn[11],Yt,!1)}return cv}function qh(s,r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt,vn,Gn){const Si=Un(),Li=nd(Si,r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt,vn);if(Li!==as){ml(Vr(),ks(),Si,s,Li,Si[11],Gn,!1)}return qh}function Zv(s,r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt,vn,Gn,Si,Li){const dr=Un(),ti=nc(dr,r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt,vn,Gn,Si);if(ti!==as){ml(Vr(),ks(),dr,s,ti,dr[11],Li,!1)}return Zv}function Jv(s,r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt,vn,Gn,Si,Li,dr,ti){const $r=Un(),Js=au($r,r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt,vn,Gn,Si,Li,dr);if(Js!==as){ml(Vr(),ks(),$r,s,Js,$r[11],ti,!1)}return Jv}function e_(s,r,a){const p=Un(),_=Sc(p,r);if(_!==as){ml(Vr(),ks(),p,s,_,p[11],a,!1)}return e_}function V_(s,r,a,p,_,M){let X=M?r.classBindings:r.styleBindings,oe=Pl(X),ye=nu(X);s[p]=a;let tt,Ue=!1;if(Array.isArray(a)){const bt=a;tt=bt[1],(null===tt||lc(bt,tt)>0)&&(Ue=!0)}else tt=a;if(_)if(0!==ye){const Yt=Pl(s[oe+1]);s[p+1]=bh(Yt,oe),0!==Yt&&(s[Yt+1]=Sh(s[Yt+1],p)),s[oe+1]=function(s,r){return 131071&s|r<<17}(s[oe+1],p)}else s[p+1]=bh(oe,0),0!==oe&&(s[oe+1]=Sh(s[oe+1],p)),oe=p;else s[p+1]=bh(ye,0),0===oe?oe=p:s[ye+1]=Sh(s[ye+1],p),ye=p;Ue&&(s[p+1]=yf(s[p+1])),t_(s,tt,p,!0,M),t_(s,tt,p,!1,M),function(s,r,a,p,_){const M=_?s.residualClasses:s.residualStyles;null!=M&&"string"==typeof r&&lc(M,r)>=0&&(a[p+1]=$c(a[p+1]))}(r,tt,s,p,M),X=bh(oe,ye),M?r.classBindings=X:r.styleBindings=X}function t_(s,r,a,p,_){const M=s[a+1],X=null===r;let oe=p?Pl(M):nu(M),ye=!1;for(;0!==oe&&(!1===ye||X);){const Ue=s[oe],tt=s[oe+1];Mu(Ue,r)&&(ye=!0,s[oe+1]=p?$c(tt):yf(tt)),oe=p?Pl(tt):nu(tt)}ye&&(s[a+1]=p?yf(M):$c(M))}function Mu(s,r){return null===s||null==r||(Array.isArray(s)?s[1]:s)===r||!(!Array.isArray(s)||"string"!=typeof r)&&lc(s,r)>=0}const ya={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function n_(s){return s.substring(ya.key,ya.keyEnd)}function U_(s){return s.substring(ya.value,ya.valueEnd)}function dv(s,r){const a=ya.textEnd;return a===r?-1:(r=ya.keyEnd=function(s,r,a){for(;r<a&&s.charCodeAt(r)>32;)r++;return r}(s,ya.key=r,a),Fu(s,r,a))}function i_(s,r){const a=ya.textEnd;let p=ya.key=Fu(s,r,a);return a===p?-1:(p=ya.keyEnd=function(s,r,a){let p;for(;r<a&&(45===(p=s.charCodeAt(r))||95===p||(-33&p)>=65&&(-33&p)<=90||p>=48&&p<=57);)r++;return r}(s,p,a),p=s_(s,p,a,58),p=ya.value=Fu(s,p,a),p=ya.valueEnd=function(s,r,a){let p=-1,_=-1,M=-1,X=r,oe=X;for(;X<a;){const ye=s.charCodeAt(X++);if(59===ye)return oe;34===ye||39===ye?oe=X=o_(s,ye,X,a):r===X-4&&85===M&&82===_&&76===p&&40===ye?oe=X=o_(s,41,X,a):ye>32&&(oe=X),M=_,_=p,p=-33&ye}return oe}(s,p,a),s_(s,p,a,59))}function r_(s){ya.key=0,ya.keyEnd=0,ya.value=0,ya.valueEnd=0,ya.textEnd=s.length}function Fu(s,r,a){for(;r<a&&s.charCodeAt(r)<=32;)r++;return r}function s_(s,r,a,p){return(r=Fu(s,r,a))<a&&r++,r}function o_(s,r,a,p){let _=-1,M=a;for(;M<p;){const X=s.charCodeAt(M++);if(X==r&&92!==_)return M;_=92==X&&92===_?0:X}throw new Error}function hv(s,r,a){return lu(s,r,a,!1),hv}function fv(s,r){return lu(s,r,null,!0),fv}function rc(s){ku(c_,j_,s,!1)}function j_(s,r){for(let a=function(s){return r_(s),i_(s,Fu(s,0,ya.textEnd))}(r);a>=0;a=i_(r,a))c_(s,n_(r),U_(r))}function pv(s){ku($o,sc,s,!0)}function sc(s,r){for(let a=function(s){return r_(s),dv(s,Fu(s,0,ya.textEnd))}(r);a>=0;a=dv(r,a))$o(s,n_(r),!0)}function lu(s,r,a,p){const _=Un(),M=Vr(),X=Gt(2);if(M.firstUpdatePass&&l_(M,s,X,p),r!==as&&Ha(_,X,r)){mv(M,M.data[Go()],_,_[11],s,_[X+1]=function(s,r){return null==s||("string"==typeof r?s+=r:"object"==typeof s&&(s=w(ta(s)))),s}(r,a),p,X)}}function ku(s,r,a,p){const _=Vr(),M=Gt(2);_.firstUpdatePass&&l_(_,null,M,p);const X=Un();if(a!==as&&Ha(X,M,a)){const oe=_.data[Go()];if(f_(oe,p)&&!a_(_,M)){let ye=p?oe.classesWithoutHost:oe.stylesWithoutHost;null!==ye&&(a=T(ye,a||"")),Fr(_,oe,X,a,p)}else!function(s,r,a,p,_,M,X,oe){_===as&&(_=kn);let ye=0,Ue=0,tt=0<_.length?_[0]:null,bt=0<M.length?M[0]:null;for(;null!==tt||null!==bt;){const Yt=ye<_.length?_[ye+1]:void 0,vn=Ue<M.length?M[Ue+1]:void 0;let Si,Gn=null;tt===bt?(ye+=2,Ue+=2,Yt!==vn&&(Gn=bt,Si=vn)):null===bt||null!==tt&&tt<bt?(ye+=2,Gn=tt):(Ue+=2,Gn=bt,Si=vn),null!==Gn&&mv(s,r,a,p,Gn,Si,X,oe),tt=ye<_.length?_[ye]:null,bt=Ue<M.length?M[Ue]:null}}(_,oe,X,X[11],X[M+1],X[M+1]=function(s,r,a){if(null==a||""===a)return kn;const p=[],_=ta(a);if(Array.isArray(_))for(let M=0;M<_.length;M++)s(p,_[M],!0);else if("object"==typeof _)for(const M in _)_.hasOwnProperty(M)&&s(p,M,_[M]);else"string"==typeof _&&r(p,_);return p}(s,r,a),p,M)}}function a_(s,r){return r>=s.expandoStartIndex}function l_(s,r,a,p){const _=s.data;if(null===_[a+1]){const M=_[Go()],X=a_(s,a);f_(M,p)&&null===r&&!X&&(r=!1),r=function(s,r,a,p){const _=hi(s);let M=p?r.residualClasses:r.residualStyles;if(null===_)0===(p?r.classBindings:r.styleBindings)&&(a=Nu(a=gv(null,s,r,a,p),r.attrs,p),M=null);else{const X=r.directiveStylingLast;if(-1===X||s[X]!==_)if(a=gv(_,s,r,a,p),null===M){let ye=function(s,r,a){const p=a?r.classBindings:r.styleBindings;if(0!==nu(p))return s[Pl(p)]}(s,r,p);void 0!==ye&&Array.isArray(ye)&&(ye=gv(null,s,r,ye[1],p),ye=Nu(ye,r.attrs,p),function(s,r,a,p){const _=a?r.classBindings:r.styleBindings;s[Pl(_)]=p}(s,r,p,ye))}else M=function(s,r,a){let p;const _=r.directiveEnd;for(let M=1+r.directiveStylingLast;M<_;M++){p=Nu(p,s[M].hostAttrs,a)}return Nu(p,r.attrs,a)}(s,r,p)}return void 0!==M&&(p?r.residualClasses=M:r.residualStyles=M),a}(_,M,r,p),V_(_,M,r,a,X,p)}}function gv(s,r,a,p,_){let M=null;const X=a.directiveEnd;let oe=a.directiveStylingLast;for(-1===oe?oe=a.directiveStart:oe++;oe<X&&(M=r[oe],p=Nu(p,M.hostAttrs,_),M!==s);)oe++;return null!==s&&(a.directiveStylingLast=oe),p}function Nu(s,r,a){const p=a?1:2;let _=-1;if(null!==r)for(let M=0;M<r.length;M++){const X=r[M];"number"==typeof X?_=X:_===p&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),$o(s,X,!!a||r[++M]))}return void 0===s?null:s}function c_(s,r,a){$o(s,r,ta(a))}function mv(s,r,a,p,_,M,X,oe){if(!(3&r.type))return;const ye=s.data,Ue=ye[oe+1];if(!Yh(Vp(Ue)?h_(ye,r,a,_,nu(Ue),X):void 0)){Yh(M)||Bp(Ue)&&(M=h_(ye,null,a,_,oe,X));!function(s,r,a,p,_){const M=Xe(s);if(r)_?M?s.addClass(a,p):a.classList.add(p):M?s.removeClass(a,p):a.classList.remove(p);else{let X=-1===p.indexOf("-")?void 0:dc.DashCase;if(null==_)M?s.removeStyle(a,p,X):a.style.removeProperty(p);else{const oe="string"==typeof _&&_.endsWith("!important");oe&&(_=_.slice(0,-10),X|=dc.Important),M?s.setStyle(a,p,_,X):a.style.setProperty(p,_,oe?"important":"")}}}(p,X,Z(Go(),a),_,M)}}function h_(s,r,a,p,_,M){const X=null===r;let oe;for(;_>0;){const ye=s[_],Ue=Array.isArray(ye),tt=Ue?ye[1]:ye,bt=null===tt;let Yt=a[_+1];Yt===as&&(Yt=bt?kn:void 0);let vn=bt?Yd(Yt,p):tt===p?Yt:void 0;if(Ue&&!Yh(vn)&&(vn=Yd(ye,p)),Yh(vn)&&(oe=vn,X))return oe;const Gn=s[_+1];_=X?Pl(Gn):nu(Gn)}if(null!==r){let ye=M?r.residualClasses:r.residualStyles;null!=ye&&(oe=Yd(ye,p))}return oe}function Yh(s){return void 0!==s}function f_(s,r){return 0!=(s.flags&(r?16:32))}function p_(s,r=""){const a=Un(),p=Vr(),_=s+20,M=p.firstCreatePass?Pd(p,_,1,r,null):p.data[_],X=a[_]=of(a[11],r);_h(p,a,X,M),li(M,!1)}function vv(s){return Lg("",s,""),vv}function Lg(s,r,a){const p=Un(),_=ec(p,s,r,a);return _!==as&&zl(p,Go(),_),Lg}function _v(s,r,a,p,_){const M=Un(),X=Pu(M,s,r,a,p,_);return X!==as&&zl(M,Go(),X),_v}function yv(s,r,a,p,_,M,X){const oe=Un(),ye=tc(oe,s,r,a,p,_,M,X);return ye!==as&&zl(oe,Go(),ye),yv}function Ev(s,r,a,p,_,M,X,oe,ye){const Ue=Un(),tt=ed(Ue,s,r,a,p,_,M,X,oe,ye);return tt!==as&&zl(Ue,Go(),tt),Ev}function g_(s,r,a,p,_,M,X,oe,ye,Ue,tt){const bt=Un(),Yt=td(bt,s,r,a,p,_,M,X,oe,ye,Ue,tt);return Yt!==as&&zl(bt,Go(),Yt),g_}function m_(s,r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt){const vn=Un(),Gn=nd(vn,s,r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt);return Gn!==as&&zl(vn,Go(),Gn),m_}function v_(s,r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt,vn,Gn){const Si=Un(),Li=nc(Si,s,r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt,vn,Gn);return Li!==as&&zl(Si,Go(),Li),v_}function __(s,r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt,vn,Gn,Si,Li){const dr=Un(),ti=au(dr,s,r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt,vn,Gn,Si,Li);return ti!==as&&zl(dr,Go(),ti),__}function op(s){const r=Un(),a=Sc(r,s);return a!==as&&zl(r,Go(),a),op}function Z_(s,r,a){ku($o,sc,ec(Un(),s,r,a),!0)}function ay(s,r,a,p,_){ku($o,sc,Pu(Un(),s,r,a,p,_),!0)}function J_(s,r,a,p,_,M,X){ku($o,sc,tc(Un(),s,r,a,p,_,M,X),!0)}function ly(s,r,a,p,_,M,X,oe,ye){ku($o,sc,ed(Un(),s,r,a,p,_,M,X,oe,ye),!0)}function e0(s,r,a,p,_,M,X,oe,ye,Ue,tt){ku($o,sc,td(Un(),s,r,a,p,_,M,X,oe,ye,Ue,tt),!0)}function y_(s,r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt){ku($o,sc,nd(Un(),s,r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt),!0)}function uy(s,r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt,vn,Gn){ku($o,sc,nc(Un(),s,r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt,vn,Gn),!0)}function ap(s,r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt,vn,Gn,Si,Li){ku($o,sc,au(Un(),s,r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt,vn,Gn,Si,Li),!0)}function Cv(s){ku($o,sc,Sc(Un(),s),!0)}function Bg(s,r,a){rc(ec(Un(),s,r,a))}function t0(s,r,a,p,_){rc(Pu(Un(),s,r,a,p,_))}function n0(s,r,a,p,_,M,X){rc(tc(Un(),s,r,a,p,_,M,X))}function cy(s,r,a,p,_,M,X,oe,ye){rc(ed(Un(),s,r,a,p,_,M,X,oe,ye))}function i0(s,r,a,p,_,M,X,oe,ye,Ue,tt){rc(td(Un(),s,r,a,p,_,M,X,oe,ye,Ue,tt))}function dy(s,r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt){rc(nd(Un(),s,r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt))}function lp(s,r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt,vn,Gn){rc(nc(Un(),s,r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt,vn,Gn))}function wv(s,r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt,vn,Gn,Si,Li){rc(au(Un(),s,r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt,vn,Gn,Si,Li))}function r0(s){rc(Sc(Un(),s))}function bv(s,r,a,p,_){return lu(s,ec(Un(),r,a,p),_,!1),bv}function E_(s,r,a,p,_,M,X){return lu(s,Pu(Un(),r,a,p,_,M),X,!1),E_}function s0(s,r,a,p,_,M,X,oe,ye){return lu(s,tc(Un(),r,a,p,_,M,X,oe),ye,!1),s0}function Sv(s,r,a,p,_,M,X,oe,ye,Ue,tt){return lu(s,ed(Un(),r,a,p,_,M,X,oe,ye,Ue),tt,!1),Sv}function Tv(s,r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt){return lu(s,td(Un(),r,a,p,_,M,X,oe,ye,Ue,tt,bt),Yt,!1),Tv}function C_(s,r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt,vn,Gn){return lu(s,nd(Un(),r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt,vn),Gn,!1),C_}function o0(s,r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt,vn,Gn,Si,Li){return lu(s,nc(Un(),r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt,vn,Gn,Si),Li,!1),o0}function w_(s,r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt,vn,Gn,Si,Li,dr,ti){return lu(s,au(Un(),r,a,p,_,M,X,oe,ye,Ue,tt,bt,Yt,vn,Gn,Si,Li,dr),ti,!1),w_}function b_(s,r,a){return lu(s,Sc(Un(),r),a,!1),b_}function S_(s,r,a){const p=Un();if(Ha(p,ot(),r)){ml(Vr(),ks(),p,s,r,p[11],a,!0)}return S_}function Dv(s,r,a){const p=Un();if(Ha(p,ot(),r)){const M=Vr(),X=ks();ml(M,X,p,s,r,Lh(hi(M.data),X,p),a,!0)}return Dv}const zd=void 0;var hy=["en",[["a","p"],["AM","PM"],zd],[["AM","PM"],zd,zd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zd,"{1} 'at' {0}",zd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(s){const a=Math.floor(Math.abs(s)),p=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===p?1:5}];let Xh={};function Av(s){const r=function(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=T_(r);if(a)return a;const p=r.split("-")[0];if(a=T_(p),a)return a;if("en"===p)return hy;throw new Error(`Missing locale data for the locale "${s}".`)}function l0(s){return Av(s)[Qh.PluralCase]}function T_(s){return s in Xh||(Xh[s]=_n.ng&&_n.ng.common&&_n.ng.common.locales&&_n.ng.common.locales[s]),Xh[s]}var Qh;!function(s){s[s.LocaleId=0]="LocaleId",s[s.DayPeriodsFormat=1]="DayPeriodsFormat",s[s.DayPeriodsStandalone=2]="DayPeriodsStandalone",s[s.DaysFormat=3]="DaysFormat",s[s.DaysStandalone=4]="DaysStandalone",s[s.MonthsFormat=5]="MonthsFormat",s[s.MonthsStandalone=6]="MonthsStandalone",s[s.Eras=7]="Eras",s[s.FirstDayOfWeek=8]="FirstDayOfWeek",s[s.WeekendRange=9]="WeekendRange",s[s.DateFormat=10]="DateFormat",s[s.TimeFormat=11]="TimeFormat",s[s.DateTimeFormat=12]="DateTimeFormat",s[s.NumberSymbols=13]="NumberSymbols",s[s.NumberFormats=14]="NumberFormats",s[s.CurrencyCode=15]="CurrencyCode",s[s.CurrencySymbol=16]="CurrencySymbol",s[s.CurrencyName=17]="CurrencyName",s[s.Currencies=18]="Currencies",s[s.Directionality=19]="Directionality",s[s.PluralCase=20]="PluralCase",s[s.ExtraData=21]="ExtraData"}(Qh||(Qh={}));const c0=["zero","one","two","few","many"];const Vg="en-US",Hg={marker:"element"},Ug={marker:"ICU"};var Nl;!function(s){s[s.SHIFT=2]="SHIFT",s[s.APPEND_EAGERLY=1]="APPEND_EAGERLY",s[s.COMMENT=2]="COMMENT"}(Nl||(Nl={}));let D_=Vg;function up(s,r,a){const p=r.insertBeforeIndex,_=Array.isArray(p)?p[0]:p;return null===_?Ip(s,0,a):de(a[_])}function A_(s,r,a,p,_){const M=r.insertBeforeIndex;if(Array.isArray(M)){let X=p,oe=null;if(3&r.type||(oe=X,X=_),null!==X&&0==(2&r.flags))for(let ye=1;ye<M.length;ye++){tu(s,X,a[M[ye]],oe,!1)}}}function x_(s,r){if(s.push(r),s.length>1)for(let a=s.length-2;a>=0;a--){const p=s[a];rd(p)||f0(p,r)&&null===p0(p)&&my(p,r.index)}}function rd(s){return!(64&s.type)}function f0(s,r){return rd(r)||s.index>r.index}function p0(s){const r=s.insertBeforeIndex;return Array.isArray(r)?r[0]:r}function my(s,r){const a=s.insertBeforeIndex;Array.isArray(a)?a[0]=r:(cf(up,A_),s.insertBeforeIndex=r)}function $g(s,r){const a=s.data[r];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function e(s,r,a){const p=gc(s,a,64,null,null);return x_(r,p),p}function o(s,r){const a=r[s.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function c(s){return s>>>17}function y(s){return(131070&s)>>>1}let Ae=0,Ke=0;function Vn(s,r,a,p){const _=a[11];let X,M=null;for(let oe=0;oe<r.length;oe++){const ye=r[oe];if("string"==typeof ye){const Ue=r[++oe];null===a[Ue]&&(a[Ue]=of(_,ye))}else if("number"==typeof ye)switch(1&ye){case 0:const Ue=c(ye);let tt,bt;if(null===M&&(M=Ue,X=gh(_,p)),Ue===M?(tt=p,bt=X):(tt=null,bt=de(a[Ue])),null!==bt){const Si=y(ye);tu(_,bt,a[Si],tt,!1);const dr=$g(s,Si);if(null!==dr&&"object"==typeof dr){const ti=o(dr,a);null!==ti&&Vn(s,dr.create[ti],a,a[dr.anchorIdx])}}break;case 1:const Yt=ye>>>1,vn=r[++oe],Gn=r[++oe];Mf(_,Z(Yt,a),null,null,vn,Gn,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${ye}"`)}else switch(ye){case Ug:const Ue=r[++oe],tt=r[++oe];if(null===a[tt]){Fa(a[tt]=pc(_,Ue),a)}break;case Hg:const bt=r[++oe],Yt=r[++oe];if(null===a[Yt]){Fa(a[Yt]=ch(_,bt,null),a)}}}}function Wn(s,r,a,p,_){for(let M=0;M<a.length;M++){const X=a[M],oe=a[++M];if(X&_){let ye="";for(let Ue=M+1;Ue<=M+oe;Ue++){const tt=a[Ue];if("string"==typeof tt)ye+=tt;else if("number"==typeof tt)if(tt<0)ye+=te(r[p-tt]);else{const bt=tt>>>2;switch(3&tt){case 1:const Yt=a[++Ue],vn=a[++Ue],Gn=s.data[bt];"string"==typeof Gn?Mf(r[11],r[bt],null,Gn,Yt,ye,vn):ml(s,Gn,r,Yt,ye,r[11],vn,!1);break;case 0:const Si=r[bt];null!==Si&&uh(r[11],Si,ye);break;case 2:Ar(s,$g(s,bt),r,ye);break;case 3:pi(s,$g(s,bt),p,r)}}}}else{const ye=a[M+1];if(ye>0&&3==(3&ye)){const tt=$g(s,ye>>>2);r[tt.currentCaseLViewIndex]<0&&pi(s,tt,p,r)}}M+=oe}}function pi(s,r,a,p){let _=p[r.currentCaseLViewIndex];if(null!==_){let M=Ae;_<0&&(_=p[r.currentCaseLViewIndex]=~_,M=-1),Wn(s,p,r.update[_],a,M)}}function Ar(s,r,a,p){const _=function(s,r){let a=s.cases.indexOf(r);if(-1===a)switch(s.type){case 1:{const p=function(s,r){const a=l0(r)(parseInt(s,10)),p=c0[a];return void 0!==p?p:"other"}(r,D_);a=s.cases.indexOf(p),-1===a&&"other"!==p&&(a=s.cases.indexOf("other"));break}case 0:a=s.cases.indexOf("other")}return-1===a?null:a}(r,p);if(o(r,a)!==_&&(Fi(s,r,a),a[r.currentCaseLViewIndex]=null===_?null:~_,null!==_)){const X=a[r.anchorIdx];X&&Vn(s,r.create[_],a,X)}}function Fi(s,r,a){let p=o(r,a);if(null!==p){const _=r.remove[p];for(let M=0;M<_.length;M++){const X=_[M];if(X>0){const oe=Z(X,a);null!==oe&&Pp(a[11],oe)}else Fi(s,$g(s,~X),a)}}}function Kr(){const s=[];let a,p,r=-1;function M(oe,ye){r=0;const Ue=o(oe,ye);p=null!==Ue?oe.remove[Ue]:kn}function X(){if(r<p.length){const oe=p[r++];if(oe>0)return a[oe];{s.push(r,p);const ye=~oe;return M(a[1].data[ye],a),X()}}return 0===s.length?null:(p=s.pop(),r=s.pop(),X())}return function(oe,ye){for(a=ye;s.length;)s.pop();return M(oe.value,ye),X}}const xo=/\ufffd(\d+):?\d*\ufffd/gi,rl=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,Lu=/\ufffd(\d+)\ufffd/,Ks=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Bo=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,sl=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Gd=/\uE500/g;function xv(s,r,a,p,_,M){const X=bi(),oe=[],ye=[],Ue=[[]];_=function(s,r){if(function(s){return-1===s}(r))return _y(s);{const a=s.indexOf(`:${r}\ufffd`)+2+r.toString().length,p=s.search(new RegExp(`\ufffd\\/\\*\\d+:${r}\ufffd`));return _y(s.substring(a,p))}}(_,M);const tt=function(s){return s.replace(Gd," ")}(_).split(sl);for(let bt=0;bt<tt.length;bt++){let Yt=tt[bt];if(0==(1&bt)){const vn=m0(Yt);for(let Gn=0;Gn<vn.length;Gn++){let Si=vn[Gn];if(0==(1&Gn)){const Li=Si;""!==Li&&zg(s,X,Ue[0],oe,ye,a,Li)}else{const Li=Si;if("object"!=typeof Li)throw new Error(`Unable to parse ICU expression in "${_}" message.`);yy(s,a,ye,r,Li,Wg(s,X,Ue[0],a,oe,"",!0).index)}}}else{const vn=47===Yt.charCodeAt(0),Si=(Yt.charCodeAt(vn?1:0),20+Number.parseInt(Yt.substring(vn?2:1)));if(vn)Ue.shift(),li(bi(),!1);else{const Li=e(s,Ue[0],Si);Ue.unshift([]),li(Li,!0)}}}s.data[p]={create:oe,update:ye}}function Wg(s,r,a,p,_,M,X){const oe=Xu(s,p,1,null);let ye=oe<<Nl.SHIFT,Ue=bi();r===Ue&&(Ue=null),null===Ue&&(ye|=Nl.APPEND_EAGERLY),X&&(ye|=Nl.COMMENT,function(s){void 0===ma&&(ma=s())}(Kr)),_.push(ye,null===M?"":M);const tt=gc(s,oe,X?32:1,null===M?"":M,null);x_(a,tt);const bt=tt.index;return li(tt,!1),null!==Ue&&r!==Ue&&function(s,r){let a=s.insertBeforeIndex;null===a?(cf(up,A_),a=s.insertBeforeIndex=[null,r]):(Pe(Array.isArray(a),!0,"Expecting array here"),a.push(r))}(Ue,bt),tt}function zg(s,r,a,p,_,M,X){const oe=X.match(xo),ye=Wg(s,r,a,M,p,oe?null:X,!1);oe&&Gg(_,X,ye.index,null,0,null)}function Gg(s,r,a,p,_,M){const X=s.length,oe=X+1;s.push(null,null);const ye=X+2,Ue=r.split(xo);let tt=0;for(let bt=0;bt<Ue.length;bt++){const Yt=Ue[bt];if(1&bt){const vn=_+parseInt(Yt,10);s.push(-1-vn),tt|=vy(vn)}else""!==Yt&&s.push(Yt)}return s.push(a<<2|(p?1:0)),p&&s.push(p,M),s[X]=tt,s[oe]=s.length-ye,tt}function rC(s){let r=0;for(let a=0;a<s.length;a++){const p=s[a];"number"==typeof p&&p<0&&r++}return r}function vy(s){return 1<<Math.min(s,31)}function _y(s){let r,M,a="",p=0,_=!1;for(;null!==(r=Bo.exec(s));)_?r[0]===`\ufffd/*${M}\ufffd`&&(p=r.index,_=!1):(a+=s.substring(p,r.index+r[0].length),M=r[1],_=!0);return a+=s.substr(p),a}function yy(s,r,a,p,_,M){let X=0;const oe={type:_.type,currentCaseLViewIndex:Xu(s,r,1,null),anchorIdx:M,cases:[],create:[],remove:[],update:[]};(function(s,r,a){s.push(vy(r.mainBinding),2,-1-r.mainBinding,a<<2|2)})(a,_,M),function(s,r,a){const p=s.data[r];null===p?s.data[r]=a:p.value=a}(s,M,oe);const ye=_.values;for(let Ue=0;Ue<ye.length;Ue++){const tt=ye[Ue],bt=[];for(let Yt=0;Yt<tt.length;Yt++){const vn=tt[Yt];if("string"!=typeof vn){const Gn=bt.push(vn)-1;tt[Yt]=`\x3c!--\ufffd${Gn}\ufffd--\x3e`}}X=lC(s,oe,r,a,p,_.cases[Ue],tt.join(""),bt)|X}X&&function(s,r,a){s.push(r,1,a<<2|3)}(a,X,M)}function aC(s){const r=[],a=[];let p=1,_=0;const M=m0(s=s.replace(Ks,function(X,oe,ye){return p="select"===ye?0:1,_=parseInt(oe.substr(1),10),""}));for(let X=0;X<M.length;){let oe=M[X++].trim();1===p&&(oe=oe.replace(/\s*(?:=)?(\w+)\s*/,"$1")),oe.length&&r.push(oe);const ye=m0(M[X++]);r.length>a.length&&a.push(ye)}return{type:p,mainBinding:_,cases:r,values:a}}function m0(s){if(!s)return[];let r=0;const a=[],p=[],_=/[{}]/g;let M;for(_.lastIndex=0;M=_.exec(s);){const oe=M.index;if("}"==M[0]){if(a.pop(),0==a.length){const ye=s.substring(r,oe);Ks.test(ye)?p.push(aC(ye)):p.push(ye),r=oe+1}}else{if(0==a.length){const ye=s.substring(r,oe);p.push(ye),r=oe+1}a.push("{")}}const X=s.substring(r);return p.push(X),p}function lC(s,r,a,p,_,M,X,oe){const ye=[],Ue=[],tt=[];r.cases.push(M),r.create.push(ye),r.remove.push(Ue),r.update.push(tt);const Yt=ss(Ve()).getInertBodyElement(X),vn=hd(Yt)||Yt;return vn?Ey(s,r,a,p,ye,Ue,tt,vn,_,oe,0):0}function Ey(s,r,a,p,_,M,X,oe,ye,Ue,tt){let bt=0,Yt=oe.firstChild;for(;Yt;){const vn=Xu(s,a,1,null);switch(Yt.nodeType){case Node.ELEMENT_NODE:const Gn=Yt,Si=Gn.tagName.toLowerCase();if(os.hasOwnProperty(Si)){v0(_,Hg,Si,ye,vn),s.data[vn]=Si;const $r=Gn.attributes;for(let Js=0;Js<$r.length;Js++){const So=$r.item(Js),Hu=So.name.toLowerCase();So.value.match(xo)?ua.hasOwnProperty(Hu)&&(oo[Hu]?Gg(X,So.value,vn,So.name,0,Wo):la[Hu]?Gg(X,So.value,vn,So.name,0,mt):Gg(X,So.value,vn,So.name,0,null)):hC(_,vn,So)}bt=Ey(s,r,a,p,_,M,X,Yt,vn,Ue,tt+1)|bt,Cy(M,vn,tt)}break;case Node.TEXT_NODE:const Li=Yt.textContent||"",dr=Li.match(xo);v0(_,null,dr?"":Li,ye,vn),Cy(M,vn,tt),dr&&(bt=Gg(X,Li,vn,null,0,null)|bt);break;case Node.COMMENT_NODE:const ti=Lu.exec(Yt.textContent||"");if(ti){const Js=Ue[parseInt(ti[1],10)];v0(_,Ug,"",ye,vn),yy(s,a,p,ye,Js,vn),uC(M,vn,tt)}}Yt=Yt.nextSibling}return bt}function Cy(s,r,a){0===a&&s.push(r)}function uC(s,r,a){0===a&&(s.push(~r),s.push(r))}function v0(s,r,a,p,_){null!==r&&s.push(r),s.push(a,_,function(s,r,a){return s|r<<17|a<<1}(0,p,_))}function hC(s,r,a){s.push(r<<1|1,a.name,a.value)}const fC=/\[(\ufffd.+?\ufffd?)\]/,pC=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,gC=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,mC=/{([A-Z0-9_]+)}/g,vC=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,_C=/\/\*/,yC=/\d+\:(\d+)/;function by(s,r,a=-1){const p=Vr(),_=Un(),M=20+s,X=_i(p.consts,r),oe=bi();p.firstCreatePass&&xv(p,null===oe?0:oe.index,_,M,X,a);const ye=p.data[M],tt=Ap(p,oe===_[6]?null:oe,_),bt=oe&&8&oe.type?_[oe.index]:null;(function(s,r,a,p){const _=s[11];for(let M=0;M<r.length;M++){const X=r[M++],oe=r[M],ye=(X&Nl.COMMENT)===Nl.COMMENT,Ue=(X&Nl.APPEND_EAGERLY)===Nl.APPEND_EAGERLY,tt=X>>>Nl.SHIFT;let bt=s[tt];null===bt&&(bt=s[tt]=ye?_.createComment(oe):of(_,oe)),Ue&&null!==a&&tu(_,a,bt,p,!1)}})(_,ye.create,tt,bt),Ln(!0)}function Sy(){Ln(!1)}function CC(s,r,a){by(s,r,a),Sy()}function wC(s,r){const a=Vr();!function(s,r,a){const _=$s().index,M=[];if(s.firstCreatePass&&null===s.data[r]){for(let X=0;X<a.length;X+=2){const oe=a[X],ye=a[X+1];if(""!==ye){if(rl.test(ye))throw new Error(`ICU expressions are not supported in attributes. Message: "${ye}".`);Gg(M,ye,_,oe,rC(M),null)}}s.data[r]=M}}(a,s+20,_i(a.consts,r))}function Ty(s){return function(s){s&&(Ae|=1<<Math.min(Ke,31)),Ke++}(Ha(Un(),ot(),s)),Ty}function bC(s){!function(s,r,a){if(Ke>0){const p=s.data[a];Wn(s,r,Array.isArray(p)?p:p.update,fe()-Ke-1,Ae)}Ae=0,Ke=0}(Vr(),Un(),s+20)}function SC(s,r={}){return function(s,r={}){let a=s;if(fC.test(s)){const p={},_=[0];a=a.replace(pC,(M,X,oe)=>{const ye=X||oe,Ue=p[ye]||[];if(Ue.length||(ye.split("|").forEach(Si=>{const Li=Si.match(yC),dr=Li?parseInt(Li[1],10):0,ti=_C.test(Si);Ue.push([dr,ti,Si])}),p[ye]=Ue),!Ue.length)throw new Error(`i18n postprocess: unmatched placeholder - ${ye}`);const tt=_[_.length-1];let bt=0;for(let Si=0;Si<Ue.length;Si++)if(Ue[Si][0]===tt){bt=Si;break}const[Yt,vn,Gn]=Ue[bt];return vn?_.pop():tt!==Yt&&_.push(Yt),Ue.splice(bt,1),Gn})}return Object.keys(r).length&&(a=a.replace(gC,(p,_,M,X,oe,ye)=>r.hasOwnProperty(M)?`${_}${r[M]}${ye}`:p),a=a.replace(mC,(p,_)=>r.hasOwnProperty(_)?r[_]:p),a=a.replace(vC,(p,_)=>{if(r.hasOwnProperty(_)){const M=r[_];if(!M.length)throw new Error(`i18n postprocess: unmatched ICU - ${p} with key: ${_}`);return M.shift()}return p})),a}(s,r)}function _0(s,r,a,p,_){if(s=N(s),Array.isArray(s))for(let M=0;M<s.length;M++)_0(s[M],r,a,p,_);else{const M=Vr(),X=Un();let oe=wc(s)?s:N(s.provide),ye=lg(s);const Ue=$s(),tt=1048575&Ue.providerIndexes,bt=Ue.directiveStart,Yt=Ue.providerIndexes>>20;if(wc(s)||!s.multi){const vn=new An(ye,_,ir),Gn=E0(oe,r,_?tt:tt+Yt,bt);-1===Gn?(Bl(wl(Ue,X),M,oe),y0(M,s,r.length),r.push(oe),Ue.directiveStart++,Ue.directiveEnd++,_&&(Ue.providerIndexes+=1048576),a.push(vn),X.push(vn)):(a[Gn]=vn,X[Gn]=vn)}else{const vn=E0(oe,r,tt+Yt,bt),Gn=E0(oe,r,tt,tt+Yt),Si=vn>=0&&a[vn],Li=Gn>=0&&a[Gn];if(_&&!Li||!_&&!Si){Bl(wl(Ue,X),M,oe);const dr=function(s,r,a,p,_){const M=new An(s,a,ir);return M.multi=[],M.index=r,M.componentProviders=0,Dy(M,_,p&&!a),M}(_?AC:DC,a.length,_,p,ye);!_&&Li&&(a[Gn].providerFactory=dr),y0(M,s,r.length,0),r.push(oe),Ue.directiveStart++,Ue.directiveEnd++,_&&(Ue.providerIndexes+=1048576),a.push(dr),X.push(dr)}else{y0(M,s,vn>-1?vn:Gn,Dy(a[_?Gn:vn],ye,!_&&p))}!_&&p&&Li&&a[Gn].componentProviders++}}}function y0(s,r,a,p){const _=wc(r),M=function(s){return!!s.useClass}(r);if(_||M){const ye=(M?N(r.useClass):r).prototype.ngOnDestroy;if(ye){const Ue=s.destroyHooks||(s.destroyHooks=[]);if(!_&&r.multi){const tt=Ue.indexOf(a);-1===tt?Ue.push(a,[p,ye]):Ue[tt+1].push(p,ye)}else Ue.push(a,ye)}}}function Dy(s,r,a){return a&&s.componentProviders++,s.multi.push(r)-1}function E0(s,r,a,p){for(let _=a;_<p;_++)if(r[_]===s)return _;return-1}function DC(s,r,a,p){return C0(this.multi,[])}function AC(s,r,a,p){const _=this.multi;let M;if(this.providerFactory){const X=this.providerFactory.componentProviders,oe=jn(a,a[1],this.providerFactory.index,p);M=oe.slice(0,X),C0(_,M);for(let ye=X;ye<oe.length;ye++)M.push(oe[ye])}else M=[],C0(_,M);return M}function C0(s,r){for(let a=0;a<s.length;a++){const p=s[a];r.push(p())}return r}function Ay(s,r=[]){return a=>{a.providersResolver=(p,_)=>function(s,r,a){const p=Vr();if(p.firstCreatePass){const _=xi(s);_0(a,p.data,p.blueprint,_,!0),_0(r,p.data,p.blueprint,_,!1)}}(p,_?_(s):s,r)}}class xy{}const Oy="ngComponent";class PC{resolveComponentFactory(r){throw function(s){const r=Error(`No component factory found for ${w(s)}. Did you add it to @NgModule.entryComponents?`);return r[Oy]=s,r}(r)}}class jg{}function Kg(s,r){return new qg(Me(s,r))}jg.NULL=new PC;class qg{constructor(r){this.nativeElement=r}}function MC(s){return s instanceof qg?s.nativeElement:s}qg.__NG_ELEMENT_ID__=function(){return Kg($s(),Un())};new rt("Renderer2Interceptor");class Iy{}class Py{}Py.__NG_ELEMENT_ID__=()=>function(){const s=Un(),a=vi($s().index,s);return function(s){return s[11]}(wn(a)?a:s)}();class w0{}w0.\u0275prov=zt({token:w0,providedIn:"root",factory:()=>null});class Ry{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const NC=new Ry("13.1.0"),b0={};function O_(s,r,a,p,_=!1){for(;null!==a;){const M=r[a.index];if(null!==M&&p.push(de(M)),In(M))for(let oe=10;oe<M.length;oe++){const ye=M[oe],Ue=ye[1].firstChild;null!==Ue&&O_(ye[1],ye,Ue,p)}const X=a.type;if(8&X)O_(s,r,a.child,p);else if(32&X){const oe=Il(a,r);let ye;for(;ye=oe();)p.push(ye)}else if(16&X){const oe=df(r,a);if(Array.isArray(oe))p.push(...oe);else{const ye=Cu(r[16]);O_(ye[1],ye,oe,p,!0)}}a=_?a.projectionNext:a.next}return p}class Ov{constructor(r,a){this._lView=r,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,a=r[1];return O_(a,r,a.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(In(r)){const a=r[8],p=a?a.indexOf(this):-1;p>-1&&(fh(r,p),Ic(a,p))}this._attachedToViewContainer=!1}Td(this._lView[1],this._lView)}onDestroy(r){xf(this._lView[1],this._lView,null,r)}markForCheck(){kf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Fd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(s,r,a){Hr(!0);try{Fd(s,r,a)}finally{Hr(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(s,r){Ad(s,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=r}}class LC extends Ov{constructor(r){super(r),this._view=r}detectChanges(){Qc(this._view)}checkNoChanges(){!function(s){Hr(!0);try{Qc(s)}finally{Hr(!1)}}(this._view)}get context(){return null}}class My extends jg{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const a=Wt(r);return new S0(a,this.ngModule)}}function Fy(s){const r=[];for(let a in s)if(s.hasOwnProperty(a)){const p=s[a];r.push({propName:p,templateName:a})}return r}const VC=new rt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Zl});class S0 extends xy{constructor(r,a){super(),this.componentDef=r,this.ngModule=a,this.componentType=r.type,this.selector=function(s){return s.map(hm).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Fy(this.componentDef.inputs)}get outputs(){return Fy(this.componentDef.outputs)}create(r,a,p,_){const M=(_=_||this.ngModule)?function(s,r){return{get:(a,p,_)=>{const M=s.get(a,b0,_);return M!==b0||p===b0?M:r.get(a,p,_)}}}(r,_.injector):r,X=M.get(Iy,Bt),oe=M.get(w0,null),ye=X.createRenderer(null,this.componentDef),Ue=this.componentDef.selectors[0][0]||"div",tt=p?Ph(ye,p,this.componentDef.encapsulation):ch(X.createRenderer(null,this.componentDef),Ue,function(s){const r=s.toLowerCase();return"svg"===r?R:"math"===r?Q:null}(Ue)),bt=this.componentDef.onPush?576:528,Yt=Eg(),vn=xu(0,null,null,1,0,null,null,null,null,null),Gn=Du(null,vn,Yt,bt,null,null,X,ye,oe,M);let Si,Li;Qs(Gn);try{const dr=_g(tt,this.componentDef,Gn,X,ye);if(tt)if(p)Pr(ye,tt,["ng-version",NC.full]);else{const{attrs:ti,classes:$r}=function(s){const r=[],a=[];let p=1,_=2;for(;p<s.length;){let M=s[p];if("string"==typeof M)2===_?""!==M&&r.push(M,s[++p]):8===_&&a.push(M);else{if(!Na(_))break;_=M}p++}return{attrs:r,classes:a}}(this.componentDef.selectors[0]);ti&&Pr(ye,tt,ti),$r&&$r.length>0&&gf(ye,tt,$r.join(" "))}if(Li=hn(vn,20),void 0!==a){const ti=Li.projection=[];for(let $r=0;$r<this.ngContentSelectors.length;$r++){const Js=a[$r];ti.push(null!=Js?Array.from(Js):null)}}Si=yg(dr,this.componentDef,Gn,Yt,[Cg]),Au(vn,Gn,null)}finally{al()}return new $C(this.componentType,Si,Kg(Li,Gn),Gn,Li)}}new My;class $C extends class{}{constructor(r,a,p,_,M){super(),this.location=p,this._rootLView=_,this._tNode=M,this.instance=a,this.hostView=this.changeDetectorRef=new LC(_),this.componentType=r}get injector(){return new jr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function ky(s,r,a,p){return Je(()=>{const _=s;null!==r&&(_.hasOwnProperty("decorators")&&void 0!==_.decorators?_.decorators.push(...r):_.decorators=r),null!==a&&(_.ctorParameters=a),null!==p&&(_.hasOwnProperty("propDecorators")&&void 0!==_.propDecorators?_.propDecorators=Object.assign(Object.assign({},_.propDecorators),p):_.propDecorators=p)})}class Yg{}class Ny{}const Xg=new Map;function Ly(s,r,a){if(r&&r!==a)throw new Error(`Duplicate module registered for ${s} - ${w(r)} vs ${w(r.name)}`)}class Vy extends Yg{constructor(r,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new My(this);const p=zi(r);this._bootstrapComponents=gl(p.bootstrap),this._r3Injector=og(r,a,[{provide:Yg,useValue:this},{provide:jg,useValue:this.componentFactoryResolver}],w(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,a=_a.THROW_IF_NOT_FOUND,p=Ht.Default){return r===_a||r===Yg||r===il?this:this._r3Injector.get(r,a,p)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class T0 extends Ny{constructor(r){super(),this.moduleType=r,null!==zi(r)&&function(s){const r=new Set;!function a(p){const _=zi(p,!0),M=_.id;if(null!==M){Ly(M,Xg.get(M),p),Xg.set(M,p)}const X=gl(_.imports);for(const oe of X)r.has(oe)||(r.add(oe),a(oe))}(s)}(r)}create(r){return new Vy(this.moduleType,r)}}function zC(s,r,a){const p=K()+s,_=Un();return _[p]===as?Ml(_,p,a?r.call(a):r()):Vd(_,p)}function Hy(s,r,a,p){return zy(Un(),K(),s,r,a,p)}function Uy(s,r,a,p,_){return Gy(Un(),K(),s,r,a,p,_)}function $y(s,r,a,p,_,M){return jy(Un(),K(),s,r,a,p,_,M)}function Wy(s,r,a,p,_,M,X){return Ky(Un(),K(),s,r,a,p,_,M,X)}function GC(s,r,a,p,_,M,X,oe){const ye=K()+s,Ue=Un(),tt=Fl(Ue,ye,a,p,_,M);return Ha(Ue,ye+4,X)||tt?Ml(Ue,ye+5,oe?r.call(oe,a,p,_,M,X):r(a,p,_,M,X)):Vd(Ue,ye+5)}function jC(s,r,a,p,_,M,X,oe,ye){const Ue=K()+s,tt=Un(),bt=Fl(tt,Ue,a,p,_,M);return Ju(tt,Ue+4,X,oe)||bt?Ml(tt,Ue+6,ye?r.call(ye,a,p,_,M,X,oe):r(a,p,_,M,X,oe)):Vd(tt,Ue+6)}function KC(s,r,a,p,_,M,X,oe,ye,Ue){const tt=K()+s,bt=Un();let Yt=Fl(bt,tt,a,p,_,M);return Jc(bt,tt+4,X,oe,ye)||Yt?Ml(bt,tt+7,Ue?r.call(Ue,a,p,_,M,X,oe,ye):r(a,p,_,M,X,oe,ye)):Vd(bt,tt+7)}function qC(s,r,a,p,_,M,X,oe,ye,Ue,tt){const bt=K()+s,Yt=Un(),vn=Fl(Yt,bt,a,p,_,M);return Fl(Yt,bt+4,X,oe,ye,Ue)||vn?Ml(Yt,bt+8,tt?r.call(tt,a,p,_,M,X,oe,ye,Ue):r(a,p,_,M,X,oe,ye,Ue)):Vd(Yt,bt+8)}function YC(s,r,a,p){return qy(Un(),K(),s,r,a,p)}function Iv(s,r){const a=s[r];return a===as?void 0:a}function zy(s,r,a,p,_,M){const X=r+a;return Ha(s,X,_)?Ml(s,X+1,M?p.call(M,_):p(_)):Iv(s,X+1)}function Gy(s,r,a,p,_,M,X){const oe=r+a;return Ju(s,oe,_,M)?Ml(s,oe+2,X?p.call(X,_,M):p(_,M)):Iv(s,oe+2)}function jy(s,r,a,p,_,M,X,oe){const ye=r+a;return Jc(s,ye,_,M,X)?Ml(s,ye+3,oe?p.call(oe,_,M,X):p(_,M,X)):Iv(s,ye+3)}function Ky(s,r,a,p,_,M,X,oe,ye){const Ue=r+a;return Fl(s,Ue,_,M,X,oe)?Ml(s,Ue+4,ye?p.call(ye,_,M,X,oe):p(_,M,X,oe)):Iv(s,Ue+4)}function qy(s,r,a,p,_,M){let X=r+a,oe=!1;for(let ye=0;ye<_.length;ye++)Ha(s,X++,_[ye])&&(oe=!0);return oe?Ml(s,X,p.apply(M,_)):Iv(s,X)}function XC(s,r){const a=Vr();let p;const _=s+20;a.firstCreatePass?(p=function(s,r){if(r)for(let a=r.length-1;a>=0;a--){const p=r[a];if(s===p.name)return p}}(r,a.pipeRegistry),a.data[_]=p,p.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(_,p.onDestroy)):p=a.data[_];const M=p.factory||(p.factory=zr(p.type)),X=pe(ir);try{const oe=qa(!1),ye=M();return qa(oe),function(s,r,a,p){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),r[a]=p}(a,Un(),_,ye),ye}finally{pe(X)}}function ZC(s,r,a){const p=s+20,_=Un(),M=En(_,p);return Pv(_,p)?zy(_,K(),r,M.transform,a,M):M.transform(a)}function JC(s,r,a,p){const _=s+20,M=Un(),X=En(M,_);return Pv(M,_)?Gy(M,K(),r,X.transform,a,p,X):X.transform(a,p)}function ew(s,r,a,p,_){const M=s+20,X=Un(),oe=En(X,M);return Pv(X,M)?jy(X,K(),r,oe.transform,a,p,_,oe):oe.transform(a,p,_)}function tw(s,r,a,p,_,M){const X=s+20,oe=Un(),ye=En(oe,X);return Pv(oe,X)?Ky(oe,K(),r,ye.transform,a,p,_,M,ye):ye.transform(a,p,_,M)}function nw(s,r,a){const p=s+20,_=Un(),M=En(_,p);return Pv(_,p)?qy(_,K(),r,M.transform,a,M):M.transform.apply(M,a)}function Pv(s,r){return s[1].data[r].pure}class iw extends l.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,a,p){var _,M,X;let oe=r,ye=a||(()=>null),Ue=p;if(r&&"object"==typeof r){const bt=r;oe=null===(_=bt.next)||void 0===_?void 0:_.bind(bt),ye=null===(M=bt.error)||void 0===M?void 0:M.bind(bt),Ue=null===(X=bt.complete)||void 0===X?void 0:X.bind(bt)}this.__isAsync&&(ye=D0(ye),oe&&(oe=D0(oe)),Ue&&(Ue=D0(Ue)));const tt=super.subscribe({next:oe,error:ye,complete:Ue});return r instanceof A.w0&&r.add(tt),tt}}function D0(s){return r=>{setTimeout(s,void 0,r)}}const sd=iw;function rw(){return this._results[Zc()]()}class A0{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Zc(),p=A0.prototype;p[a]||(p[a]=rw)}get changes(){return this._changes||(this._changes=new sd)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,a){return this._results.reduce(r,a)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,a){const p=this;p.dirty=!1;const _=fa(r);(this._changesDetected=!function(s,r,a){if(s.length!==r.length)return!1;for(let p=0;p<s.length;p++){let _=s[p],M=r[p];if(a&&(_=a(_),M=a(M)),M!==_)return!1}return!0}(p._results,_,a))&&(p._results=_,p.length=_.length,p.last=_[this.length-1],p.first=_[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol.iterator;class Qg{}Qg.__NG_ELEMENT_ID__=function(){return I_($s(),Un())};const sw=Qg,ow=class extends sw{constructor(r,a,p){super(),this._declarationLView=r,this._declarationTContainer=a,this.elementRef=p}createEmbeddedView(r){const a=this._declarationTContainer.tViews,p=Du(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null),_=this._declarationLView[this._declarationTContainer.index];p[17]=_;const M=this._declarationLView[19];return null!==M&&(p[19]=M.createEmbeddedView(a)),Au(a,p,r),new Ov(p)}};function I_(s,r){return 4&s.type?new ow(r,s,Kg(s,r)):null}class Rv{}Rv.__NG_ELEMENT_ID__=function(){return Qy($s(),Un())};const uw=Rv,Yy=class extends uw{constructor(r,a,p){super(),this._lContainer=r,this._hostTNode=a,this._hostLView=p}get element(){return Kg(this._hostTNode,this._hostLView)}get injector(){return new jr(this._hostTNode,this._hostLView)}get parentInjector(){const r=ql(this._hostTNode,this._hostLView);if(Do(r)){const a=vo(r,this._hostLView),p=bs(r),_=a[1].data[p+8];return new jr(_,a)}return new jr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const a=Xy(this._lContainer);return null!==a&&a[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,a,p){const _=r.createEmbeddedView(a||{});return this.insert(_,p),_}createComponent(r,a,p,_,M){const X=r&&!$u(r);let oe;if(X)oe=a;else{const bt=a||{};oe=bt.index,p=bt.injector,_=bt.projectableNodes,M=bt.ngModuleRef}const ye=X?r:new S0(Wt(r)),Ue=p||this.parentInjector;if(!M&&null==ye.ngModule&&Ue){const bt=Ue.get(Yg,null);bt&&(M=bt)}const tt=ye.create(Ue,_,void 0,M);return this.insert(tt.hostView,oe),tt}insert(r,a){const p=r._lView,_=p[1];if(function(s){return In(s[3])}(p)){const tt=this.indexOf(r);if(-1!==tt)this.detach(tt);else{const bt=p[3],Yt=new Yy(bt,bt[6],bt[3]);Yt.detach(Yt.indexOf(r))}}const M=this._adjustIndex(a),X=this._lContainer;dh(_,p,X,M);const oe=bu(M,X),ye=p[11],Ue=gh(ye,X[7]);return null!==Ue&&function(s,r,a,p,_,M){p[0]=_,p[6]=r,Ad(s,p,a,1,_,M)}(_,X[6],ye,p,Ue,oe),r.attachToViewContainerRef(),jd(x0(X),M,r),r}move(r,a){return this.insert(r,a)}indexOf(r){const a=Xy(this._lContainer);return null!==a?a.indexOf(r):-1}remove(r){const a=this._adjustIndex(r,-1),p=fh(this._lContainer,a);p&&(Ic(x0(this._lContainer),a),Td(p[1],p))}detach(r){const a=this._adjustIndex(r,-1),p=fh(this._lContainer,a);return p&&null!=Ic(x0(this._lContainer),a)?new Ov(p):null}_adjustIndex(r,a=0){return null==r?this.length+a:r}};function Xy(s){return s[8]}function x0(s){return s[8]||(s[8]=[])}function Qy(s,r){let a;const p=r[s.index];if(In(p))a=p;else{let _;if(8&s.type)_=de(p);else{const M=r[11];_=M.createComment("");const X=Me(s,r);tu(M,gh(M,X),_,function(s,r){return Xe(s)?s.nextSibling(r):r.nextSibling}(M,X),!1)}r[s.index]=a=Mh(p,r,_,s),kh(r,a)}return new Yy(a,s,r)}class O0{constructor(r){this.queryList=r,this.matches=null}clone(){return new O0(this.queryList)}setDirty(){this.queryList.setDirty()}}class I0{constructor(r=[]){this.queries=r}createEmbeddedView(r){const a=r.queries;if(null!==a){const p=null!==r.contentQueries?r.contentQueries[0]:a.length,_=[];for(let M=0;M<p;M++){const X=a.getByIndex(M),oe=this.queries[X.indexInDeclarationView];_.push(oe.clone())}return new I0(_)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let a=0;a<this.queries.length;a++)null!==oE(r,a).matches&&this.queries[a].setDirty()}}class Zy{constructor(r,a,p=null){this.predicate=r,this.flags=a,this.read=p}}class P0{constructor(r=[]){this.queries=r}elementStart(r,a){for(let p=0;p<this.queries.length;p++)this.queries[p].elementStart(r,a)}elementEnd(r){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(r)}embeddedTView(r){let a=null;for(let p=0;p<this.length;p++){const _=null!==a?a.length:0,M=this.getByIndex(p).embeddedTView(r,_);M&&(M.indexInDeclarationView=p,null!==a?a.push(M):a=[M])}return null!==a?new P0(a):null}template(r,a){for(let p=0;p<this.queries.length;p++)this.queries[p].template(r,a)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class R0{constructor(r,a=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(r,a){this.isApplyingToNode(a)&&this.matchTNode(r,a)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,a){this.elementStart(r,a)}embeddedTView(r,a){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,a),new R0(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let p=r.parent;for(;null!==p&&8&p.type&&p.index!==a;)p=p.parent;return a===(null!==p?p.index:-1)}return this._appliesToNextNode}matchTNode(r,a){const p=this.metadata.predicate;if(Array.isArray(p))for(let _=0;_<p.length;_++){const M=p[_];this.matchTNodeWithReadOption(r,a,hw(a,M)),this.matchTNodeWithReadOption(r,a,un(a,r,M,!1,!1))}else p===Qg?4&a.type&&this.matchTNodeWithReadOption(r,a,-1):this.matchTNodeWithReadOption(r,a,un(a,r,p,!1,!1))}matchTNodeWithReadOption(r,a,p){if(null!==p){const _=this.metadata.read;if(null!==_)if(_===qg||_===Rv||_===Qg&&4&a.type)this.addMatch(a.index,-2);else{const M=un(a,r,_,!1,!1);null!==M&&this.addMatch(a.index,M)}else this.addMatch(a.index,p)}}addMatch(r,a){null===this.matches?this.matches=[r,a]:this.matches.push(r,a)}}function hw(s,r){const a=s.localNames;if(null!==a)for(let p=0;p<a.length;p+=2)if(a[p]===r)return a[p+1];return null}function pw(s,r,a,p){return-1===a?function(s,r){return 11&s.type?Kg(s,r):4&s.type?I_(s,r):null}(r,s):-2===a?function(s,r,a){if(a===qg)return Kg(r,s);if(a===Qg)return I_(r,s);if(a===Rv)return Qy(r,s)}(s,r,p):jn(s,s[1],a,r)}function Jy(s,r,a,p){const _=r[19].queries[p];if(null===_.matches){const M=s.data,X=a.matches,oe=[];for(let ye=0;ye<X.length;ye+=2){const Ue=X[ye];if(Ue<0)oe.push(null);else{const tt=M[Ue];oe.push(pw(r,tt,X[ye+1],a.metadata.read))}}_.matches=oe}return _.matches}function M0(s,r,a,p){const _=s.queries.getByIndex(a),M=_.matches;if(null!==M){const X=Jy(s,r,_,a);for(let oe=0;oe<M.length;oe+=2){const ye=M[oe];if(ye>0)p.push(X[oe/2]);else{const Ue=M[oe+1],tt=r[-ye];for(let bt=10;bt<tt.length;bt++){const Yt=tt[bt];Yt[17]===Yt[3]&&M0(Yt[1],Yt,Ue,p)}if(null!==tt[9]){const bt=tt[9];for(let Yt=0;Yt<bt.length;Yt++){const vn=bt[Yt];M0(vn[1],vn,Ue,p)}}}}}return p}function eE(s){const r=Un(),a=Vr(),p=er();Ui(p+1);const _=oE(a,p);if(s.dirty&&Zi(r)===(2==(2&_.metadata.flags))){if(null===_.matches)s.reset([]);else{const M=_.crossesNgTemplate?M0(a,r,p,[]):Jy(a,r,_,p);s.reset(M,MC),s.notifyOnChanges()}return!0}return!1}function tE(s,r,a){const p=Vr();p.firstCreatePass&&(sE(p,new Zy(s,r,a),-1),2==(2&r)&&(p.staticViewQueries=!0)),rE(p,Un(),r)}function nE(s,r,a,p){const _=Vr();if(_.firstCreatePass){const M=$s();sE(_,new Zy(r,a,p),M.index),function(s,r){const a=s.contentQueries||(s.contentQueries=[]),p=a.length?a[a.length-1]:-1;r!==p&&a.push(s.queries.length-1,r)}(_,s),2==(2&a)&&(_.staticContentQueries=!0)}rE(_,Un(),a)}function iE(){return function(s,r){return s[19].queries[r].queryList}(Un(),er())}function rE(s,r,a){const p=new A0(4==(4&a));xf(s,r,p,p.destroy),null===r[19]&&(r[19]=new I0),r[19].queries.push(new O0(p))}function sE(s,r,a){null===s.queries&&(s.queries=new P0),s.queries.track(new R0(r,a))}function oE(s,r){return s.queries.getByIndex(r)}function aE(s,r){return I_(s,r)}const jl={\u0275\u0275attribute:ou,\u0275\u0275attributeInterpolate1:Wh,\u0275\u0275attributeInterpolate2:qf,\u0275\u0275attributeInterpolate3:Ua,\u0275\u0275attributeInterpolate4:Ru,\u0275\u0275attributeInterpolate5:Hd,\u0275\u0275attributeInterpolate6:Yf,\u0275\u0275attributeInterpolate7:bg,\u0275\u0275attributeInterpolate8:Xf,\u0275\u0275attributeInterpolateV:zh,\u0275\u0275defineComponent:Xr,\u0275\u0275defineDirective:ft,\u0275\u0275defineInjectable:zt,\u0275\u0275defineInjector:On,\u0275\u0275defineNgModule:Or,\u0275\u0275definePipe:mn,\u0275\u0275directiveInject:ir,\u0275\u0275getInheritedFactory:Bs,\u0275\u0275inject:Kt,\u0275\u0275injectAttribute:_o,\u0275\u0275invalidFactory:Nr,\u0275\u0275invalidFactoryDep:Xt,\u0275\u0275templateRefExtractor:aE,\u0275\u0275NgOnChangesFeature:Gr,\u0275\u0275ProvidersFeature:Ay,\u0275\u0275CopyDefinitionFeature:Gm,\u0275\u0275InheritDefinitionFeature:Gf,\u0275\u0275nextContext:Yv,\u0275\u0275namespaceHTML:Cn,\u0275\u0275namespaceMathML:Rn,\u0275\u0275namespaceSVG:on,\u0275\u0275enableBindings:uo,\u0275\u0275disableBindings:wo,\u0275\u0275elementStart:Ms,\u0275\u0275elementEnd:$a,\u0275\u0275element:Wa,\u0275\u0275elementContainerStart:_l,\u0275\u0275elementContainerEnd:Gl,\u0275\u0275elementContainer:Kh,\u0275\u0275pureFunction0:zC,\u0275\u0275pureFunction1:Hy,\u0275\u0275pureFunction2:Uy,\u0275\u0275pureFunction3:$y,\u0275\u0275pureFunction4:Wy,\u0275\u0275pureFunction5:GC,\u0275\u0275pureFunction6:jC,\u0275\u0275pureFunction7:KC,\u0275\u0275pureFunction8:qC,\u0275\u0275pureFunctionV:YC,\u0275\u0275getCurrentView:$d,\u0275\u0275restoreView:ha,\u0275\u0275listener:kg,\u0275\u0275projection:Xv,\u0275\u0275syntheticHostProperty:Dv,\u0275\u0275syntheticHostListener:sv,\u0275\u0275pipeBind1:ZC,\u0275\u0275pipeBind2:JC,\u0275\u0275pipeBind3:ew,\u0275\u0275pipeBind4:tw,\u0275\u0275pipeBindV:nw,\u0275\u0275projectionDef:av,\u0275\u0275hostProperty:S_,\u0275\u0275property:fs,\u0275\u0275propertyInterpolate:lv,\u0275\u0275propertyInterpolate1:Ng,\u0275\u0275propertyInterpolate2:L_,\u0275\u0275propertyInterpolate3:uv,\u0275\u0275propertyInterpolate4:Qv,\u0275\u0275propertyInterpolate5:cv,\u0275\u0275propertyInterpolate6:qh,\u0275\u0275propertyInterpolate7:Zv,\u0275\u0275propertyInterpolate8:Jv,\u0275\u0275propertyInterpolateV:e_,\u0275\u0275pipe:XC,\u0275\u0275queryRefresh:eE,\u0275\u0275viewQuery:tE,\u0275\u0275loadQuery:iE,\u0275\u0275contentQuery:nE,\u0275\u0275reference:Ud,\u0275\u0275classMap:pv,\u0275\u0275classMapInterpolate1:Z_,\u0275\u0275classMapInterpolate2:ay,\u0275\u0275classMapInterpolate3:J_,\u0275\u0275classMapInterpolate4:ly,\u0275\u0275classMapInterpolate5:e0,\u0275\u0275classMapInterpolate6:y_,\u0275\u0275classMapInterpolate7:uy,\u0275\u0275classMapInterpolate8:ap,\u0275\u0275classMapInterpolateV:Cv,\u0275\u0275styleMap:rc,\u0275\u0275styleMapInterpolate1:Bg,\u0275\u0275styleMapInterpolate2:t0,\u0275\u0275styleMapInterpolate3:n0,\u0275\u0275styleMapInterpolate4:cy,\u0275\u0275styleMapInterpolate5:i0,\u0275\u0275styleMapInterpolate6:dy,\u0275\u0275styleMapInterpolate7:lp,\u0275\u0275styleMapInterpolate8:wv,\u0275\u0275styleMapInterpolateV:r0,\u0275\u0275styleProp:hv,\u0275\u0275stylePropInterpolate1:bv,\u0275\u0275stylePropInterpolate2:E_,\u0275\u0275stylePropInterpolate3:s0,\u0275\u0275stylePropInterpolate4:Sv,\u0275\u0275stylePropInterpolate5:Tv,\u0275\u0275stylePropInterpolate6:C_,\u0275\u0275stylePropInterpolate7:o0,\u0275\u0275stylePropInterpolate8:w_,\u0275\u0275stylePropInterpolateV:b_,\u0275\u0275classProp:fv,\u0275\u0275advance:Lp,\u0275\u0275template:Gh,\u0275\u0275text:p_,\u0275\u0275textInterpolate:vv,\u0275\u0275textInterpolate1:Lg,\u0275\u0275textInterpolate2:_v,\u0275\u0275textInterpolate3:yv,\u0275\u0275textInterpolate4:Ev,\u0275\u0275textInterpolate5:g_,\u0275\u0275textInterpolate6:m_,\u0275\u0275textInterpolate7:v_,\u0275\u0275textInterpolate8:__,\u0275\u0275textInterpolateV:op,\u0275\u0275i18n:CC,\u0275\u0275i18nAttributes:wC,\u0275\u0275i18nExp:Ty,\u0275\u0275i18nStart:by,\u0275\u0275i18nEnd:Sy,\u0275\u0275i18nApply:bC,\u0275\u0275i18nPostprocess:SC,\u0275\u0275resolveWindow:qu,\u0275\u0275resolveDocument:wd,\u0275\u0275resolveBody:oh,\u0275\u0275setComponentScope:es,\u0275\u0275setNgModuleScope:bn,\u0275\u0275sanitizeHtml:Jd,\u0275\u0275sanitizeStyle:nm,\u0275\u0275sanitizeResourceUrl:eh,\u0275\u0275sanitizeScript:Pa,\u0275\u0275sanitizeUrl:pd,\u0275\u0275sanitizeUrlOrResourceUrl:Ol,\u0275\u0275trustConstantHtml:Ra,\u0275\u0275trustConstantResourceUrl:nf,forwardRef:S,resolveForwardRef:N};let Zg=null;const Mv=[];let F0=!1;function lE(s){return Array.isArray(s)?s.every(lE):!!N(s)}function ww(s,r={}){(function(s,r,a=!1){const p=fa(r.declarations||kn);let _=null;Object.defineProperty(s,kr,{configurable:!0,get:()=>(null===_&&(_=jo().compileNgModule(jl,`ng:///${s.name}/\u0275mod.js`,{type:s,bootstrap:fa(r.bootstrap||kn).map(N),declarations:p.map(N),imports:fa(r.imports||kn).map(N).map(fE),exports:fa(r.exports||kn).map(N).map(fE),schemas:r.schemas?fa(r.schemas):null,id:r.id||null}),_.schemas||(_.schemas=[])),_)});let M=null;Object.defineProperty(s,yr,{get:()=>{if(null===M){const oe=jo();M=oe.compileFactory(jl,`ng:///${s.name}/\u0275fac.js`,{name:s.name,type:s,deps:wa(s),target:oe.FactoryTarget.NgModule,typeArgumentCount:0})}return M},configurable:!1});let X=null;Object.defineProperty(s,We,{get:()=>{if(null===X){const oe={name:s.name,type:s,providers:r.providers||kn,imports:[(r.imports||kn).map(N),(r.exports||kn).map(N)]};X=jo().compileInjector(jl,`ng:///${s.name}/\u0275inj.js`,oe)}return X},configurable:!1})})(s,r),function(s,r){Mv.push({moduleType:s,ngModule:r})}(s,r)}new WeakMap,new WeakMap;function Sw(s,r){const a=fa(r.declarations||kn),p=R_(s);a.forEach(_=>{if(_.hasOwnProperty(xn)){hE(Wt(_),p)}else!_.hasOwnProperty(hr)&&!_.hasOwnProperty($i)&&(_.ngSelectorScope=s)})}function hE(s,r){s.directiveDefs=()=>Array.from(r.compilation.directives).map(a=>a.hasOwnProperty(xn)?Wt(a):Di(a)).filter(a=>!!a),s.pipeDefs=()=>Array.from(r.compilation.pipes).map(a=>di(a)),s.schemas=r.schemas,s.tView=null}function R_(s){if(!L0(s))throw new Error(`${s.name} does not have a module def (\u0275mod property)`);const r=zi(s);if(null!==r.transitiveCompileScopes)return r.transitiveCompileScopes;const a={schemas:r.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return gl(r.imports).forEach(p=>{const _=p;if(!L0(_))throw new Error(`Importing ${_.name} which does not have a \u0275mod property`);const M=R_(_);M.exported.directives.forEach(X=>a.compilation.directives.add(X)),M.exported.pipes.forEach(X=>a.compilation.pipes.add(X))}),gl(r.declarations).forEach(p=>{di(p)?a.compilation.pipes.add(p):a.compilation.directives.add(p)}),gl(r.exports).forEach(p=>{const _=p;if(L0(_)){const M=R_(_);M.exported.directives.forEach(X=>{a.compilation.directives.add(X),a.exported.directives.add(X)}),M.exported.pipes.forEach(X=>{a.compilation.pipes.add(X),a.exported.pipes.add(X)})}else di(_)?a.exported.pipes.add(_):a.exported.directives.add(_)}),r.transitiveCompileScopes=a,a}function fE(s){return function(s){return void 0!==s.ngModule}(s)?s.ngModule:s}function L0(s){return!!zi(s)}let B0=0;function Dw(s,r){let a=null;(function(s,r){cs(r)&&(po.set(s,r),so.add(s))})(s,r),mE(s,r),Object.defineProperty(s,xn,{get:()=>{if(null===a){const p=jo();if(cs(r)){const Ue=[`Component '${s.name}' is not resolved:`];throw r.templateUrl&&Ue.push(` - templateUrl: ${r.templateUrl}`),r.styleUrls&&r.styleUrls.length&&Ue.push(` - styleUrls: ${JSON.stringify(r.styleUrls)}`),Ue.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(Ue.join("\n"))}const _=Zg;let M=r.preserveWhitespaces;void 0===M&&(M=null!==_&&void 0!==_.preserveWhitespaces&&_.preserveWhitespaces);let X=r.encapsulation;void 0===X&&(X=null!==_&&void 0!==_.defaultEncapsulation?_.defaultEncapsulation:Fe.Emulated);const oe=r.templateUrl||`ng:///${s.name}/template.html`,ye=Object.assign(Object.assign({},vE(s,r)),{typeSourceSpan:p.createParseSourceSpan("Component",s.name,oe),template:r.template||"",preserveWhitespaces:M,styles:r.styles||kn,animations:r.animations,directives:[],changeDetection:r.changeDetection,pipes:new Map,encapsulation:X,interpolation:r.interpolation,viewProviders:r.viewProviders||null});B0++;try{ye.usesInheritance&&_E(s),a=p.compileComponent(jl,oe,ye)}finally{B0--}if(0===B0&&function(){if(!F0){F0=!0;try{for(let s=Mv.length-1;s>=0;s--){const{moduleType:r,ngModule:a}=Mv[s];a.declarations&&a.declarations.every(lE)&&(Mv.splice(s,1),Sw(r,a))}}finally{F0=!1}}}(),function(s){return void 0!==s.ngSelectorScope}(s)){const Ue=R_(s.ngSelectorScope);hE(a,Ue)}}return a},configurable:!1})}function pE(s,r){let a=null;mE(s,r||{}),Object.defineProperty(s,hr,{get:()=>{if(null===a){const p=gE(s,r||{});a=jo().compileDirective(jl,p.sourceMapUrl,p.metadata)}return a},configurable:!1})}function gE(s,r){const a=s&&s.name,p=`ng:///${a}/\u0275dir.js`,_=jo(),M=vE(s,r);return M.typeSourceSpan=_.createParseSourceSpan("Directive",a,p),M.usesInheritance&&_E(s),{metadata:M,sourceMapUrl:p}}function mE(s,r){let a=null;Object.defineProperty(s,yr,{get:()=>{if(null===a){const p=gE(s,r),_=jo();a=_.compileFactory(jl,`ng:///${s.name}/\u0275fac.js`,{name:p.metadata.name,type:p.metadata.type,typeArgumentCount:0,deps:wa(s),target:_.FactoryTarget.Directive})}return a},configurable:!1})}function xw(s){return Object.getPrototypeOf(s.prototype)===Object.prototype}function vE(s,r){const a=Ws(),p=a.ownPropMetadata(s);return{name:s.name,type:s,selector:void 0!==r.selector?r.selector:null,host:r.host||Tn,propMetadata:p,inputs:r.inputs||kn,outputs:r.outputs||kn,queries:yE(s,p,EE),lifecycle:{usesOnChanges:a.hasLifecycleHook(s,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!xw(s),exportAs:Pw(r.exportAs),providers:r.providers||null,viewQueries:yE(s,p,CE)}}function _E(s){const r=Object.prototype;let a=Object.getPrototypeOf(s.prototype).constructor;for(;a&&a!==r;)!Di(a)&&!Wt(a)&&Mw(a)&&pE(a,null),a=Object.getPrototypeOf(a)}function Ow(s){return"string"==typeof s?bE(s):N(s)}function Iw(s,r){return{propertyName:s,predicate:Ow(r.selector),descendants:r.descendants,first:r.first,read:r.read?r.read:null,static:!!r.static,emitDistinctChangesOnly:!!r.emitDistinctChangesOnly}}function yE(s,r,a){const p=[];for(const _ in r)if(r.hasOwnProperty(_)){const M=r[_];M.forEach(X=>{if(a(X)){if(!X.selector)throw new Error(`Can't construct a query for the property "${_}" of "${ae(s)}" since the query selector wasn't defined.`);if(M.some(wE))throw new Error("Cannot combine @Input decorators with query decorators");p.push(Iw(_,X))}})}return p}function Pw(s){return void 0===s?null:bE(s)}function EE(s){const r=s.ngMetadataName;return"ContentChild"===r||"ContentChildren"===r}function CE(s){const r=s.ngMetadataName;return"ViewChild"===r||"ViewChildren"===r}function wE(s){return"Input"===s.ngMetadataName}function bE(s){return s.split(",").map(r=>r.trim())}const Rw=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function Mw(s){const r=Ws();if(Rw.some(p=>r.hasLifecycleHook(s,p)))return!0;const a=r.propMetadata(s);for(const p in a){const _=a[p];for(let M=0;M<_.length;M++){const X=_[M],oe=X.ngMetadataName;if(wE(X)||EE(X)||CE(X)||"Output"===oe||"HostBinding"===oe||"HostListener"===oe)return!0}}return!1}function SE(s,r){return{type:s,name:s.name,pipeName:r.name,pure:void 0===r.pure||r.pure}}const TE=Uo("Directive",(s={})=>s,void 0,void 0,(s,r)=>pE(s,r)),kw=Uo("Component",(s={})=>Object.assign({changeDetection:lt.Default},s),TE,void 0,(s,r)=>Dw(s,r)),Nw=Uo("Pipe",s=>Object.assign({pure:!0},s),void 0,void 0,(s,r)=>function(s,r){let a=null,p=null;Object.defineProperty(s,yr,{get:()=>{if(null===p){const _=SE(s,r),M=jo(_.type);p=M.compileFactory(jl,`ng:///${_.name}/\u0275fac.js`,{name:_.name,type:_.type,typeArgumentCount:0,deps:wa(s),target:M.FactoryTarget.Pipe})}return p},configurable:!1}),Object.defineProperty(s,$i,{get:()=>{if(null===a){const _=SE(s,r);a=jo(_.type).compilePipe(jl,`ng:///${_.name}/\u0275pipe.js`,_)}return a},configurable:!1})}(s,r)),Lw=Ya("Input",s=>({bindingPropertyName:s})),Bw=Ya("Output",s=>({bindingPropertyName:s})),Vw=Ya("HostBinding",s=>({hostPropertyName:s})),Hw=Ya("HostListener",(s,r)=>({eventName:s,args:r})),Uw=Uo("NgModule",s=>s,void 0,void 0,(s,r)=>ww(s,r));function M_(...s){}const V0=new rt("Application Initializer");class Tc{constructor(r){this.appInits=r,this.resolve=M_,this.reject=M_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,p)=>{this.resolve=a,this.reject=p})}runInitializers(){if(this.initialized)return;const r=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const _=this.appInits[p]();if(Fg(_))r.push(_);else if(Gv(_)){const M=new Promise((X,oe)=>{_.subscribe({complete:X,error:oe})});r.push(M)}}Promise.all(r).then(()=>{a()}).catch(p=>{this.reject(p)}),0===r.length&&a(),this.initialized=!0}}Tc.\u0275fac=function(r){return new(r||Tc)(Kt(V0,8))},Tc.\u0275prov=zt({token:Tc,factory:Tc.\u0275fac});const DE=new rt("AppId");const Ww={provide:DE,useFactory:function(){return`${H0()}${H0()}${H0()}`},deps:[]};function H0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const AE=new rt("Platform Initializer"),xE=new rt("Platform ID"),OE=new rt("appBootstrapListener"),zw=new rt("Application Packages Root URL");class cp{log(r){console.log(r)}warn(r){console.warn(r)}}cp.\u0275fac=function(r){return new(r||cp)},cp.\u0275prov=zt({token:cp,factory:cp.\u0275fac});const F_=new rt("LocaleId"),IE=new rt("DefaultCurrencyCode");new rt("Translations"),new rt("TranslationsFormat");var U0;!function(s){s[s.Error=0]="Error",s[s.Warning=1]="Warning",s[s.Ignore=2]="Ignore"}(U0||(U0={}));class Gw{constructor(r,a){this.ngModuleFactory=r,this.componentFactories=a}}class Jh{compileModuleSync(r){return new T0(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const a=this.compileModuleSync(r),_=gl(zi(r).declarations).reduce((M,X)=>{const oe=Wt(X);return oe&&M.push(new S0(oe)),M},[]);return new Gw(a,_)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}Jh.\u0275fac=function(r){return new(r||Jh)},Jh.\u0275prov=zt({token:Jh,factory:Jh.\u0275fac});const PE=new rt("compilerOptions");class jw{}const Kw=Promise.resolve(0);function $0(s){"undefined"==typeof Zone?Kw.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Vu{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:p=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new sd(!1),this.onMicrotaskEmpty=new sd(!1),this.onStable=new sd(!1),this.onError=new sd(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const _=this;_._nesting=0,_._outer=_._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(_._inner=_._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(_._inner=_._inner.fork(Zone.longStackTraceZoneSpec)),_.shouldCoalesceEventChangeDetection=!p&&a,_.shouldCoalesceRunChangeDetection=p,_.lastRequestAnimationFrameId=-1,_.nativeRequestAnimationFrame=function(){let s=_n.requestAnimationFrame,r=_n.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&r){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const p=r[Zone.__symbol__("OriginalDelegate")];p&&(r=p)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function(s){const r=()=>{!function(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(_n,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,z0(s),s.isCheckStableRunning=!0,W0(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),z0(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,p,_,M,X,oe)=>{try{return RE(s),a.invokeTask(_,M,X,oe)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===M.type||s.shouldCoalesceRunChangeDetection)&&r(),ME(s)}},onInvoke:(a,p,_,M,X,oe,ye)=>{try{return RE(s),a.invoke(_,M,X,oe,ye)}finally{s.shouldCoalesceRunChangeDetection&&r(),ME(s)}},onHasTask:(a,p,_,M)=>{a.hasTask(_,M),p===_&&("microTask"==M.change?(s._hasPendingMicrotasks=M.microTask,z0(s),W0(s)):"macroTask"==M.change&&(s.hasPendingMacrotasks=M.macroTask))},onHandleError:(a,p,_,M)=>(a.handleError(_,M),s.runOutsideAngular(()=>s.onError.emit(M)),!1)})}(_)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Vu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Vu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,a,p){return this._inner.run(r,a,p)}runTask(r,a,p,_){const M=this._inner,X=M.scheduleEventTask("NgZoneEvent: "+_,r,Yw,M_,M_);try{return M.runTask(X,a,p)}finally{M.cancelTask(X)}}runGuarded(r,a,p){return this._inner.runGuarded(r,a,p)}runOutsideAngular(r){return this._outer.run(r)}}const Yw={};function W0(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function z0(s){s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId?s.hasPendingMicrotasks=!0:s.hasPendingMicrotasks=!1}function RE(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function ME(s){s._nesting--,W0(s)}class Zw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new sd,this.onMicrotaskEmpty=new sd,this.onStable=new sd,this.onError=new sd}run(r,a,p){return r.apply(a,p)}runGuarded(r,a,p){return r.apply(a,p)}runOutsideAngular(r){return r()}runTask(r,a,p,_){return r.apply(a,p)}}class dp{constructor(r){this._ngZone=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Vu.assertNotInAngularZone(),$0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())$0(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(r)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,a,p){let _=-1;a&&a>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(M=>M.timeoutId!==_),r(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:r,timeoutId:_,updateCb:p})}whenStable(r,a,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,a,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(r,a,p){return[]}}dp.\u0275fac=function(r){return new(r||dp)(Kt(Vu))},dp.\u0275prov=zt({token:dp,factory:dp.\u0275fac});class hp{constructor(){this._applications=new Map,G0.addToWindow(this)}registerApplication(r,a){this._applications.set(r,a)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,a=!0){return G0.findTestabilityInTree(this,r,a)}}hp.\u0275fac=function(r){return new(r||hp)},hp.\u0275prov=zt({token:hp,factory:hp.\u0275fac});function eb(s){G0=s}let Dc,G0=new class{addToWindow(r){}findTestabilityInTree(r,a,p){return null}};function tb(s,r,a){const p=new T0(a);if("undefined"!=typeof ngJitMode&&!ngJitMode)return Promise.resolve(p);const _=s.get(PE,[]).concat(r);if(function(s){null!==Zg&&(s.defaultEncapsulation!==Zg.defaultEncapsulation||s.preserveWhitespaces!==Zg.preserveWhitespaces)||(Zg=s)}({defaultEncapsulation:BE(_.map(Ue=>Ue.defaultEncapsulation)),preserveWhitespaces:BE(_.map(Ue=>Ue.preserveWhitespaces))}),0===po.size)return Promise.resolve(p);const M=function(s){const r=[];return s.forEach(a=>a&&r.push(...a)),r}(_.map(Ue=>Ue.providers));if(0===M.length)return Promise.resolve(p);const X=jo(),ye=_a.create({providers:M}).get(X.ResourceLoader);return oa(Ue=>Promise.resolve(ye.get(Ue))).then(()=>p)}const FE=new rt("AllowMultipleToken");class rb{constructor(r,a){this.name=r,this.token=a}}function kE(s,r,a=[]){const p=`Platform: ${r}`,_=new rt(p);return(M=[])=>{let X=NE();if(!X||X.injector.get(FE,!1))if(s)s(a.concat(M).concat({provide:_,useValue:!0}));else{const oe=a.concat(M).concat({provide:_,useValue:!0},{provide:Hf,useValue:"platform"});!function(s){if(Dc&&!Dc.destroyed&&!Dc.injector.get(FE,!1))throw new Y("400","");Dc=s.get(fp);const r=s.get(AE,null);r&&r.forEach(a=>a())}(_a.create({providers:oe,name:p}))}return function(s){const r=NE();if(!r){throw new Y("401","")}return r}()}}function NE(){return Dc&&!Dc.destroyed?Dc:null}class fp{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,a){const X=function(s,r){let a;return a="noop"===s?new Zw:("zone.js"===s?void 0:s)||new Vu({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),a}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),oe=[{provide:Vu,useValue:X}];return X.run(()=>{const ye=_a.create({providers:oe,parent:this.injector,name:r.moduleType.name}),Ue=r.create(ye),tt=Ue.injector.get(Lc,null);if(!tt){throw new Y("402","")}return X.runOutsideAngular(()=>{const bt=X.onError.subscribe({next:Yt=>{tt.handleError(Yt)}});Ue.onDestroy(()=>{j0(this._modules,Ue),bt.unsubscribe()})}),function(s,r,a){try{const p=a();return Fg(p)?p.catch(_=>{throw r.runOutsideAngular(()=>s.handleError(_)),_}):p}catch(p){throw r.runOutsideAngular(()=>s.handleError(p)),p}}(tt,X,()=>{const bt=Ue.injector.get(Tc);return bt.runInitializers(),bt.donePromise.then(()=>(function(s){Nt(s,"Expected localeId to be defined"),"string"==typeof s&&(D_=s.toLowerCase().replace(/_/g,"-"))}(Ue.injector.get(F_,Vg)||Vg),this._moduleDoBootstrap(Ue),Ue))})})}bootstrapModule(r,a=[]){const p=LE({},a);return tb(this.injector,p,r).then(_=>this.bootstrapModuleFactory(_,p))}_moduleDoBootstrap(r){const a=r.injector.get(od);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(p=>a.bootstrap(p));else{if(!r.instance.ngDoBootstrap){throw new Y("403","")}r.instance.ngDoBootstrap(a)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed){throw new Y("404","")}this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r()),this._destroyed=!0}get destroyed(){return this._destroyed}}function LE(s,r){return s=Array.isArray(r)?r.reduce(LE,s):Object.assign(Object.assign({},s),r)}fp.\u0275fac=function(r){return new(r||fp)(Kt(_a))},fp.\u0275prov=zt({token:fp,factory:fp.\u0275fac});class od{constructor(r,a,p,_,M){this._zone=r,this._injector=a,this._exceptionHandler=p,this._componentFactoryResolver=_,this._initStatus=M,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const X=new j.y(ye=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{ye.next(this._stable),ye.complete()})}),oe=new j.y(ye=>{let Ue;this._zone.runOutsideAngular(()=>{Ue=this._zone.onStable.subscribe(()=>{Vu.assertNotInAngularZone(),$0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,ye.next(!0))})})});const tt=this._zone.onUnstable.subscribe(()=>{Vu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{ye.next(!1)}))});return()=>{Ue.unsubscribe(),tt.unsubscribe()}});this.isStable=(0,I.T)(X,oe.pipe((0,m.B)()))}bootstrap(r,a){if(!this._initStatus.done){throw new Y("405","")}let p;p=r instanceof xy?r:this._componentFactoryResolver.resolveComponentFactory(r),this.componentTypes.push(p.componentType);const _=function(s){return s.isBoundToModule}(p)?void 0:this._injector.get(Yg),M=a||p.selector,X=p.create(_a.NULL,[],M,_),oe=X.location.nativeElement,ye=X.injector.get(dp,null),Ue=ye&&X.injector.get(hp);return ye&&Ue&&Ue.registerApplication(oe,ye),X.onDestroy(()=>{this.detachView(X.hostView),j0(this.components,X),Ue&&Ue.unregisterApplication(oe)}),this._loadComponent(X),X}tick(){if(this._runningTick){throw new Y("101","")}try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(r))}finally{this._runningTick=!1}}attachView(r){const a=r;this._views.push(a),a.attachToAppRef(this)}detachView(r){const a=r;j0(this._views,a),a.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(OE,[]).concat(this._bootstrapListeners).forEach(p=>p(r))}ngOnDestroy(){this._views.slice().forEach(r=>r.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}function j0(s,r){const a=s.indexOf(r);a>-1&&s.splice(a,1)}function BE(s){for(let r=s.length-1;r>=0;r--)if(void 0!==s[r])return s[r]}od.\u0275fac=function(r){return new(r||od)(Kt(Vu),Kt(_a),Kt(Lc),Kt(jg),Kt(Tc))},od.\u0275prov=zt({token:od,factory:od.\u0275fac});let VE=!0,HE=!1;function cb(){return HE=!0,VE}function db(){if(HE)throw new Error("Cannot enable prod mode after platform setup.");VE=!1}class $E{}$E.__NG_ELEMENT_ID__=function(s){return function(s,r,a){if($n(s)&&!a){const p=vi(s.index,r);return new Ov(p,p)}if(47&s.type){const p=r[16];return new Ov(p,r)}return null}($s(),Un(),16==(16&s))};class KE{constructor(){}supports(r){return Bd(r)}create(r){return new yb(r)}}const _b=(s,r)=>r;class yb{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||_b}forEachItem(r){let a;for(a=this._itHead;null!==a;a=a._next)r(a)}forEachOperation(r){let a=this._itHead,p=this._removalsHead,_=0,M=null;for(;a||p;){const X=!p||a&&a.currentIndex<YE(p,_,M)?a:p,oe=YE(X,_,M),ye=X.currentIndex;if(X===p)_--,p=p._nextRemoved;else if(a=a._next,null==X.previousIndex)_++;else{M||(M=[]);const Ue=oe-_,tt=ye-_;if(Ue!=tt){for(let Yt=0;Yt<Ue;Yt++){const vn=Yt<M.length?M[Yt]:M[Yt]=0,Gn=vn+Yt;tt<=Gn&&Gn<Ue&&(M[Yt]=vn+1)}M[X.previousIndex]=tt-Ue}}oe!==ye&&r(X,oe,ye)}}forEachPreviousItem(r){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)r(a)}forEachAddedItem(r){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)r(a)}forEachMovedItem(r){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)r(a)}forEachRemovedItem(r){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)r(a)}forEachIdentityChange(r){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)r(a)}diff(r){if(null==r&&(r=[]),!Bd(r))throw new Error(`Error trying to diff '${w(r)}'. Only arrays and iterables are allowed`);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let _,M,X,a=this._itHead,p=!1;if(Array.isArray(r)){this.length=r.length;for(let oe=0;oe<this.length;oe++)M=r[oe],X=this._trackByFn(oe,M),null!==a&&Object.is(a.trackById,X)?(p&&(a=this._verifyReinsertion(a,M,X,oe)),Object.is(a.item,M)||this._addIdentityChange(a,M)):(a=this._mismatch(a,M,X,oe),p=!0),a=a._next}else _=0,function(s,r){if(Array.isArray(s))for(let a=0;a<s.length;a++)r(s[a]);else{const a=s[Zc()]();let p;for(;!(p=a.next()).done;)r(p.value)}}(r,oe=>{X=this._trackByFn(_,oe),null!==a&&Object.is(a.trackById,X)?(p&&(a=this._verifyReinsertion(a,oe,X,_)),Object.is(a.item,oe)||this._addIdentityChange(a,oe)):(a=this._mismatch(a,oe,X,_),p=!0),a=a._next,_++}),this.length=_;return this._truncate(a),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,a,p,_){let M;return null===r?M=this._itTail:(M=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null))?(Object.is(r.item,a)||this._addIdentityChange(r,a),this._reinsertAfter(r,M,_)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(p,_))?(Object.is(r.item,a)||this._addIdentityChange(r,a),this._moveAfter(r,M,_)):r=this._addAfter(new Eb(a,p),M,_),r}_verifyReinsertion(r,a,p,_){let M=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null);return null!==M?r=this._reinsertAfter(M,r._prev,_):r.currentIndex!=_&&(r.currentIndex=_,this._addToMoves(r,_)),r}_truncate(r){for(;null!==r;){const a=r._next;this._addToRemovals(this._unlink(r)),r=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,a,p){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const _=r._prevRemoved,M=r._nextRemoved;return null===_?this._removalsHead=M:_._nextRemoved=M,null===M?this._removalsTail=_:M._prevRemoved=_,this._insertAfter(r,a,p),this._addToMoves(r,p),r}_moveAfter(r,a,p){return this._unlink(r),this._insertAfter(r,a,p),this._addToMoves(r,p),r}_addAfter(r,a,p){return this._insertAfter(r,a,p),null===this._additionsTail?this._additionsTail=this._additionsHead=r:this._additionsTail=this._additionsTail._nextAdded=r,r}_insertAfter(r,a,p){const _=null===a?this._itHead:a._next;return r._next=_,r._prev=a,null===_?this._itTail=r:_._prev=r,null===a?this._itHead=r:a._next=r,null===this._linkedRecords&&(this._linkedRecords=new qE),this._linkedRecords.put(r),r.currentIndex=p,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const a=r._prev,p=r._next;return null===a?this._itHead=p:a._next=p,null===p?this._itTail=a:p._prev=a,r}_addToMoves(r,a){return r.previousIndex===a||(null===this._movesTail?this._movesTail=this._movesHead=r:this._movesTail=this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,a){return r.item=a,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=r:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=r,r}}class Eb{constructor(r,a){this.item=r,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Cb{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,a){let p;for(p=this._head;null!==p;p=p._nextDup)if((null===a||a<=p.currentIndex)&&Object.is(p.trackById,r))return p;return null}remove(r){const a=r._prevDup,p=r._nextDup;return null===a?this._head=p:a._nextDup=p,null===p?this._tail=a:p._prevDup=a,null===this._head}}class qE{constructor(){this.map=new Map}put(r){const a=r.trackById;let p=this.map.get(a);p||(p=new Cb,this.map.set(a,p)),p.add(r)}get(r,a){const p=r,_=this.map.get(p);return _?_.get(r,a):null}remove(r){const a=r.trackById;return this.map.get(a).remove(r)&&this.map.delete(a),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function YE(s,r,a){const p=s.previousIndex;if(null===p)return p;let _=0;return a&&p<a.length&&(_=a[p]),p+r+_}class XE{constructor(){}supports(r){return r instanceof Map||Kf(r)}create(){return new wb}}class wb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let a;for(a=this._mapHead;null!==a;a=a._next)r(a)}forEachPreviousItem(r){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)r(a)}forEachChangedItem(r){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)r(a)}forEachAddedItem(r){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)r(a)}forEachRemovedItem(r){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)r(a)}diff(r){if(r){if(!(r instanceof Map||Kf(r)))throw new Error(`Error trying to diff '${w(r)}'. Only maps and objects are allowed`)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(r,(p,_)=>{if(a&&a.key===_)this._maybeAddToChanges(a,p),this._appendAfter=a,a=a._next;else{const M=this._getOrCreateRecordForKey(_,p);a=this._insertBeforeOrAppend(a,M)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let p=a;null!==p;p=p._nextRemoved)p===this._mapHead&&(this._mapHead=null),this._records.delete(p.key),p._nextRemoved=p._next,p.previousValue=p.currentValue,p.currentValue=null,p._prev=null,p._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,a){if(r){const p=r._prev;return a._next=r,a._prev=p,r._prev=a,p&&(p._next=a),r===this._mapHead&&(this._mapHead=a),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(r,a){if(this._records.has(r)){const _=this._records.get(r);this._maybeAddToChanges(_,a);const M=_._prev,X=_._next;return M&&(M._next=X),X&&(X._prev=M),_._next=null,_._prev=null,_}const p=new bb(r);return this._records.set(r,p),p.currentValue=a,this._addToAdditions(p),p}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,a){Object.is(a,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=a,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,a){r instanceof Map?r.forEach(a):Object.keys(r).forEach(p=>a(r[p],p))}}class bb{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function QE(){return new Ac([new KE])}class Ac{constructor(r){this.factories=r}static create(r,a){if(null!=a){const p=a.factories.slice();r=r.concat(p)}return new Ac(r)}static extend(r){return{provide:Ac,useFactory:a=>Ac.create(r,a||QE()),deps:[[Ac,new Ci,new Wi]]}}find(r){const a=this.factories.find(p=>p.supports(r));if(null!=a)return a;throw new Error(`Cannot find a differ supporting object '${r}' of type '${function(s){return s.name||typeof s}(r)}'`)}}function ZE(){return new xc([new XE])}Ac.\u0275prov=zt({token:Ac,providedIn:"root",factory:QE});class xc{constructor(r){this.factories=r}static create(r,a){if(a){const p=a.factories.slice();r=r.concat(p)}return new xc(r)}static extend(r){return{provide:xc,useFactory:a=>xc.create(r,a||ZE()),deps:[[xc,new Ci,new Wi]]}}find(r){const a=this.factories.find(p=>p.supports(r));if(a)return a;throw new Error(`Cannot find a differ supporting object '${r}'`)}}xc.\u0275prov=zt({token:xc,providedIn:"root",factory:ZE});const Tb=[new XE],Db=[new KE],Ab=new Ac(Db),xb=new xc(Tb),Ob=kE(null,"core",[{provide:xE,useValue:"unknown"},{provide:fp,deps:[_a]},{provide:hp,deps:[]},{provide:cp,deps:[]}]);const Fb=[{provide:od,useClass:od,deps:[Vu,_a,Lc,jg,Tc]},{provide:VC,deps:[Vu],useFactory:function(s){let r=[];return s.onStable.subscribe(()=>{for(;r.length;)r.pop()()}),function(a){r.push(a)}}},{provide:Tc,useClass:Tc,deps:[[new Wi,V0]]},{provide:Jh,useClass:Jh,deps:[]},Ww,{provide:Ac,useFactory:function(){return Ab},deps:[]},{provide:xc,useFactory:function(){return xb},deps:[]},{provide:F_,useFactory:function(s){return s||"undefined"!=typeof $localize&&$localize.locale||Vg},deps:[[new Xn(F_),new Wi,new Ci]]},{provide:IE,useValue:"USD"}];class Jg{constructor(r){}}Jg.\u0275fac=function(r){return new(r||Jg)(Kt(od))},Jg.\u0275mod=Or({type:Jg}),Jg.\u0275inj=On({providers:Fb})},587:(V,k,L)=>{"use strict";L.d(k,{u5:()=>Ge,JU:()=>w});var l=L(3184),A=L(6362),j=L(2957),I=L(1640),m=L(635);class b{constructor(O,Z){this._renderer=O,this._elementRef=Z,this.onChange=Me=>{},this.onTouched=()=>{}}setProperty(O,Z){this._renderer.setProperty(this._elementRef.nativeElement,O,Z)}registerOnTouched(O){this.onTouched=O}registerOnChange(O){this.onChange=O}setDisabledState(O){this.setProperty("disabled",O)}}b.\u0275fac=function(O){return new(O||b)(l.Y36(l.Qsj),l.Y36(l.SBq))},b.\u0275dir=l.lG2({type:b});class v extends b{}v.\u0275fac=function(){let P;return function(Z){return(P||(P=l.n5z(v)))(Z||v)}}(),v.\u0275dir=l.lG2({type:v,features:[l.qOj]});const w=new l.OlP("NgValueAccessor"),T={provide:w,useExisting:(0,l.Gpc)(()=>x),multi:!0};class x extends v{writeValue(O){this.setProperty("checked",O)}}x.\u0275fac=function(){let P;return function(Z){return(P||(P=l.n5z(x)))(Z||x)}}(),x.\u0275dir=l.lG2({type:x,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(O,Z){1&O&&l.NdJ("change",function(et){return Z.onChange(et.target.checked)})("blur",function(){return Z.onTouched()})},features:[l._Bn([T]),l.qOj]});const S={provide:w,useExisting:(0,l.Gpc)(()=>U),multi:!0};const F=new l.OlP("CompositionEventMode");class U extends b{constructor(O,Z,Me){super(O,Z),this._compositionMode=Me,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const P=(0,A.q)()?(0,A.q)().getUserAgent():"";return/android (\d+)/.test(P.toLowerCase())}())}writeValue(O){const Z=null==O?"":O;this.setProperty("value",Z)}_handleInput(O){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(O)}_compositionStart(){this._composing=!0}_compositionEnd(O){this._composing=!1,this._compositionMode&&this.onChange(O)}}function Y(P){return null==P||0===P.length}function ce(P){return null!=P&&"number"==typeof P.length}U.\u0275fac=function(O){return new(O||U)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(F,8))},U.\u0275dir=l.lG2({type:U,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(O,Z){1&O&&l.NdJ("input",function(et){return Z._handleInput(et.target.value)})("blur",function(){return Z.onTouched()})("compositionstart",function(){return Z._compositionStart()})("compositionend",function(et){return Z._compositionEnd(et.target.value)})},features:[l._Bn([S]),l.qOj]});const be=new l.OlP("NgValidators"),te=new l.OlP("NgAsyncValidators"),ae=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function Te(P){return O=>{if(Y(O.value)||Y(P))return null;const Z=parseFloat(O.value);return!isNaN(Z)&&Z<P?{min:{min:P,actual:O.value}}:null}}function Re(P){return O=>{if(Y(O.value)||Y(P))return null;const Z=parseFloat(O.value);return!isNaN(Z)&&Z>P?{max:{max:P,actual:O.value}}:null}}function G(P){return Y(P.value)?{required:!0}:null}function Ee(P){return!0===P.value?null:{required:!0}}function Ie(P){return Y(P.value)||ae.test(P.value)?null:{email:!0}}function Le(P){return O=>Y(O.value)||!ce(O.value)?null:O.value.length<P?{minlength:{requiredLength:P,actualLength:O.value.length}}:null}function ne(P){return O=>ce(O.value)&&O.value.length>P?{maxlength:{requiredLength:P,actualLength:O.value.length}}:null}function Pe(P){if(!P)return He;let O,Z;return"string"==typeof P?(Z="","^"!==P.charAt(0)&&(Z+="^"),Z+=P,"$"!==P.charAt(P.length-1)&&(Z+="$"),O=new RegExp(Z)):(Z=P.toString(),O=P),Me=>{if(Y(Me.value))return null;const et=Me.value;return O.test(et)?null:{pattern:{requiredPattern:Z,actualValue:et}}}}function He(P){return null}function ze(P){return null!=P}function dt(P){const O=(0,l.QGY)(P)?(0,j.D)(P):P;return(0,l.CqO)(O),O}function nt(P){let O={};return P.forEach(Z=>{O=null!=Z?Object.assign(Object.assign({},O),Z):O}),0===Object.keys(O).length?null:O}function kt(P,O){return O.map(Z=>Z(P))}function Pt(P){return P.map(O=>function(P){return!P.validate}(O)?O:Z=>O.validate(Z))}function en(P){if(!P)return null;const O=P.filter(ze);return 0==O.length?null:function(Z){return nt(kt(Z,O))}}function Nt(P){return null!=P?en(Pt(P)):null}function je(P){if(!P)return null;const O=P.filter(ze);return 0==O.length?null:function(Z){const Me=kt(Z,O).map(dt);return(0,I.D)(Me).pipe((0,m.U)(nt))}}function Ft(P){return null!=P?je(Pt(P)):null}function sn(P,O){return null===P?[O]:Array.isArray(P)?[...P,O]:[P,O]}function nn(P){return P._rawValidators}function zt(P){return P._rawAsyncValidators}function an(P){return P?Array.isArray(P)?P:[P]:[]}function On(P,O){return Array.isArray(P)?P.includes(O):P===O}function Dn(P,O){const Z=an(O);return an(P).forEach(et=>{On(Z,et)||Z.push(et)}),Z}function fi(P,O){return an(O).filter(Z=>!On(P,Z))}class ge{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(O){this._rawValidators=O||[],this._composedValidatorFn=Nt(this._rawValidators)}_setAsyncValidators(O){this._rawAsyncValidators=O||[],this._composedAsyncValidatorFn=Ft(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(O){this._onDestroyCallbacks.push(O)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(O=>O()),this._onDestroyCallbacks=[]}reset(O){this.control&&this.control.reset(O)}hasError(O,Z){return!!this.control&&this.control.hasError(O,Z)}getError(O,Z){return this.control?this.control.getError(O,Z):null}}class $t extends ge{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Dt extends ge{get formDirective(){return null}get path(){return null}}class qe{constructor(O){this._cd=O}is(O){var Z,Me,et;return"submitted"===O?!!(null===(Z=this._cd)||void 0===Z?void 0:Z.submitted):!!(null===(et=null===(Me=this._cd)||void 0===Me?void 0:Me.control)||void 0===et?void 0:et[O])}}class St extends qe{constructor(O){super(O)}}St.\u0275fac=function(O){return new(O||St)(l.Y36($t,2))},St.\u0275dir=l.lG2({type:St,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(O,Z){2&O&&l.ekj("ng-untouched",Z.is("untouched"))("ng-touched",Z.is("touched"))("ng-pristine",Z.is("pristine"))("ng-dirty",Z.is("dirty"))("ng-valid",Z.is("valid"))("ng-invalid",Z.is("invalid"))("ng-pending",Z.is("pending"))},features:[l.qOj]});class Ht extends qe{constructor(O){super(O)}}Ht.\u0275fac=function(O){return new(O||Ht)(l.Y36(Dt,10))},Ht.\u0275dir=l.lG2({type:Ht,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(O,Z){2&O&&l.ekj("ng-untouched",Z.is("untouched"))("ng-touched",Z.is("touched"))("ng-pristine",Z.is("pristine"))("ng-dirty",Z.is("dirty"))("ng-valid",Z.is("valid"))("ng-invalid",Z.is("invalid"))("ng-pending",Z.is("pending"))("ng-submitted",Z.is("submitted"))},features:[l.qOj]});function cn(P,O){return[...O.path,P]}function Nn(P,O){Tn(P,O),O.valueAccessor.writeValue(P.value),function(P,O){O.valueAccessor.registerOnChange(Z=>{P._pendingValue=Z,P._pendingChange=!0,P._pendingDirty=!0,"change"===P.updateOn&&$i(P,O)})}(P,O),function(P,O){const Z=(Me,et)=>{O.valueAccessor.writeValue(Me),et&&O.viewToModelUpdate(Me)};P.registerOnChange(Z),O._registerOnDestroy(()=>{P._unregisterOnChange(Z)})}(P,O),function(P,O){O.valueAccessor.registerOnTouched(()=>{P._pendingTouched=!0,"blur"===P.updateOn&&P._pendingChange&&$i(P,O),"submit"!==P.updateOn&&P.markAsTouched()})}(P,O),function(P,O){if(O.valueAccessor.setDisabledState){const Z=Me=>{O.valueAccessor.setDisabledState(Me)};P.registerOnDisabledChange(Z),O._registerOnDestroy(()=>{P._unregisterOnDisabledChange(Z)})}}(P,O)}function _n(P,O,Z=!0){const Me=()=>{};O.valueAccessor&&(O.valueAccessor.registerOnChange(Me),O.valueAccessor.registerOnTouched(Me)),kn(P,O),P&&(O._invokeOnDestroyCallbacks(),P._registerOnCollectionChange(()=>{}))}function Fn(P,O){P.forEach(Z=>{Z.registerOnValidatorChange&&Z.registerOnValidatorChange(O)})}function Tn(P,O){const Z=nn(P);null!==O.validator?P.setValidators(sn(Z,O.validator)):"function"==typeof Z&&P.setValidators([Z]);const Me=zt(P);null!==O.asyncValidator?P.setAsyncValidators(sn(Me,O.asyncValidator)):"function"==typeof Me&&P.setAsyncValidators([Me]);const et=()=>P.updateValueAndValidity();Fn(O._rawValidators,et),Fn(O._rawAsyncValidators,et)}function kn(P,O){let Z=!1;if(null!==P){if(null!==O.validator){const et=nn(P);if(Array.isArray(et)&&et.length>0){const hn=et.filter(En=>En!==O.validator);hn.length!==et.length&&(Z=!0,P.setValidators(hn))}}if(null!==O.asyncValidator){const et=zt(P);if(Array.isArray(et)&&et.length>0){const hn=et.filter(En=>En!==O.asyncValidator);hn.length!==et.length&&(Z=!0,P.setAsyncValidators(hn))}}}const Me=()=>{};return Fn(O._rawValidators,Me),Fn(O._rawAsyncValidators,Me),Z}function $i(P,O){P._pendingDirty&&P.markAsDirty(),P.setValue(P._pendingValue,{emitModelToViewChange:!1}),O.viewToModelUpdate(P._pendingValue),P._pendingChange=!1}function yr(P,O){Tn(P,O)}function es(P,O){if(!P.hasOwnProperty("model"))return!1;const Z=P.model;return!!Z.isFirstChange()||!Object.is(O,Z.currentValue)}function Hs(P,O){P._syncPendingControls(),O.forEach(Z=>{const Me=Z.control;"submit"===Me.updateOn&&Me._pendingChange&&(Z.viewToModelUpdate(Me._pendingValue),Me._pendingChange=!1)})}function ps(P,O){if(!O)return null;let Z,Me,et;return Array.isArray(O),O.forEach(hn=>{hn.constructor===U?Z=hn:function(P){return Object.getPrototypeOf(P.constructor)===v}(hn)?Me=hn:et=hn}),et||Me||Z||null}function Or(P,O){const Z=P.indexOf(O);Z>-1&&P.splice(Z,1)}const Qe="VALID",ft="INVALID",mn="PENDING",Wt="DISABLED";function di(P){return(sr(P)?P.validators:P)||null}function zi(P){return Array.isArray(P)?Nt(P):P||null}function _r(P,O){return(sr(O)?O.asyncValidators:P)||null}function yo(P){return Array.isArray(P)?Ft(P):P||null}function sr(P){return null!=P&&!Array.isArray(P)&&"object"==typeof P}class Qr{constructor(O,Z){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=O,this._rawAsyncValidators=Z,this._composedValidatorFn=zi(this._rawValidators),this._composedAsyncValidatorFn=yo(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(O){this._rawValidators=this._composedValidatorFn=O}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(O){this._rawAsyncValidators=this._composedAsyncValidatorFn=O}get parent(){return this._parent}get valid(){return this.status===Qe}get invalid(){return this.status===ft}get pending(){return this.status==mn}get disabled(){return this.status===Wt}get enabled(){return this.status!==Wt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(O){this._rawValidators=O,this._composedValidatorFn=zi(O)}setAsyncValidators(O){this._rawAsyncValidators=O,this._composedAsyncValidatorFn=yo(O)}addValidators(O){this.setValidators(Dn(O,this._rawValidators))}addAsyncValidators(O){this.setAsyncValidators(Dn(O,this._rawAsyncValidators))}removeValidators(O){this.setValidators(fi(O,this._rawValidators))}removeAsyncValidators(O){this.setAsyncValidators(fi(O,this._rawAsyncValidators))}hasValidator(O){return On(this._rawValidators,O)}hasAsyncValidator(O){return On(this._rawAsyncValidators,O)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(O={}){this.touched=!0,this._parent&&!O.onlySelf&&this._parent.markAsTouched(O)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(O=>O.markAllAsTouched())}markAsUntouched(O={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(Z=>{Z.markAsUntouched({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}markAsDirty(O={}){this.pristine=!1,this._parent&&!O.onlySelf&&this._parent.markAsDirty(O)}markAsPristine(O={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(Z=>{Z.markAsPristine({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}markAsPending(O={}){this.status=mn,!1!==O.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!O.onlySelf&&this._parent.markAsPending(O)}disable(O={}){const Z=this._parentMarkedDirty(O.onlySelf);this.status=Wt,this.errors=null,this._forEachChild(Me=>{Me.disable(Object.assign(Object.assign({},O),{onlySelf:!0}))}),this._updateValue(),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},O),{skipPristineCheck:Z})),this._onDisabledChange.forEach(Me=>Me(!0))}enable(O={}){const Z=this._parentMarkedDirty(O.onlySelf);this.status=Qe,this._forEachChild(Me=>{Me.enable(Object.assign(Object.assign({},O),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},O),{skipPristineCheck:Z})),this._onDisabledChange.forEach(Me=>Me(!1))}_updateAncestors(O){this._parent&&!O.onlySelf&&(this._parent.updateValueAndValidity(O),O.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(O){this._parent=O}updateValueAndValidity(O={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Qe||this.status===mn)&&this._runAsyncValidator(O.emitEvent)),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!O.onlySelf&&this._parent.updateValueAndValidity(O)}_updateTreeValidity(O={emitEvent:!0}){this._forEachChild(Z=>Z._updateTreeValidity(O)),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wt:Qe}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(O){if(this.asyncValidator){this.status=mn,this._hasOwnPendingAsyncValidator=!0;const Z=dt(this.asyncValidator(this));this._asyncValidationSubscription=Z.subscribe(Me=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Me,{emitEvent:O})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(O,Z={}){this.errors=O,this._updateControlsErrors(!1!==Z.emitEvent)}get(O){return function(P,O,Z){if(null==O||(Array.isArray(O)||(O=O.split(Z)),Array.isArray(O)&&0===O.length))return null;let Me=P;return O.forEach(et=>{Me=Me instanceof Zr?Me.controls.hasOwnProperty(et)?Me.controls[et]:null:Me instanceof Us&&Me.at(et)||null}),Me}(this,O,".")}getError(O,Z){const Me=Z?this.get(Z):this;return Me&&Me.errors?Me.errors[O]:null}hasError(O,Z){return!!this.getError(O,Z)}get root(){let O=this;for(;O._parent;)O=O._parent;return O}_updateControlsErrors(O){this.status=this._calculateStatus(),O&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(O)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Wt:this.errors?ft:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mn)?mn:this._anyControlsHaveStatus(ft)?ft:Qe}_anyControlsHaveStatus(O){return this._anyControls(Z=>Z.status===O)}_anyControlsDirty(){return this._anyControls(O=>O.dirty)}_anyControlsTouched(){return this._anyControls(O=>O.touched)}_updatePristine(O={}){this.pristine=!this._anyControlsDirty(),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}_updateTouched(O={}){this.touched=this._anyControlsTouched(),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}_isBoxedValue(O){return"object"==typeof O&&null!==O&&2===Object.keys(O).length&&"value"in O&&"disabled"in O}_registerOnCollectionChange(O){this._onCollectionChange=O}_setUpdateStrategy(O){sr(O)&&null!=O.updateOn&&(this._updateOn=O.updateOn)}_parentMarkedDirty(O){const Z=this._parent&&this._parent.dirty;return!O&&!!Z&&!this._parent._anyControlsDirty()}}class Ts extends Qr{constructor(O=null,Z,Me){super(di(Z),_r(Me,Z)),this._onChange=[],this._applyFormState(O),this._setUpdateStrategy(Z),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(O,Z={}){this.value=this._pendingValue=O,this._onChange.length&&!1!==Z.emitModelToViewChange&&this._onChange.forEach(Me=>Me(this.value,!1!==Z.emitViewToModelChange)),this.updateValueAndValidity(Z)}patchValue(O,Z={}){this.setValue(O,Z)}reset(O=null,Z={}){this._applyFormState(O),this.markAsPristine(Z),this.markAsUntouched(Z),this.setValue(this.value,Z),this._pendingChange=!1}_updateValue(){}_anyControls(O){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(O){this._onChange.push(O)}_unregisterOnChange(O){Or(this._onChange,O)}registerOnDisabledChange(O){this._onDisabledChange.push(O)}_unregisterOnDisabledChange(O){Or(this._onDisabledChange,O)}_forEachChild(O){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange))&&(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0)}_applyFormState(O){this._isBoxedValue(O)?(this.value=this._pendingValue=O.value,O.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=O}}class Zr extends Qr{constructor(O,Z,Me){super(di(Z),_r(Me,Z)),this.controls=O,this._initObservables(),this._setUpdateStrategy(Z),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(O,Z){return this.controls[O]?this.controls[O]:(this.controls[O]=Z,Z.setParent(this),Z._registerOnCollectionChange(this._onCollectionChange),Z)}addControl(O,Z,Me={}){this.registerControl(O,Z),this.updateValueAndValidity({emitEvent:Me.emitEvent}),this._onCollectionChange()}removeControl(O,Z={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}setControl(O,Z,Me={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],Z&&this.registerControl(O,Z),this.updateValueAndValidity({emitEvent:Me.emitEvent}),this._onCollectionChange()}contains(O){return this.controls.hasOwnProperty(O)&&this.controls[O].enabled}setValue(O,Z={}){this._checkAllValuesPresent(O),Object.keys(O).forEach(Me=>{this._throwIfControlMissing(Me),this.controls[Me].setValue(O[Me],{onlySelf:!0,emitEvent:Z.emitEvent})}),this.updateValueAndValidity(Z)}patchValue(O,Z={}){null!=O&&(Object.keys(O).forEach(Me=>{this.controls[Me]&&this.controls[Me].patchValue(O[Me],{onlySelf:!0,emitEvent:Z.emitEvent})}),this.updateValueAndValidity(Z))}reset(O={},Z={}){this._forEachChild((Me,et)=>{Me.reset(O[et],{onlySelf:!0,emitEvent:Z.emitEvent})}),this._updatePristine(Z),this._updateTouched(Z),this.updateValueAndValidity(Z)}getRawValue(){return this._reduceChildren({},(O,Z,Me)=>(O[Me]=Z instanceof Ts?Z.value:Z.getRawValue(),O))}_syncPendingControls(){let O=this._reduceChildren(!1,(Z,Me)=>!!Me._syncPendingControls()||Z);return O&&this.updateValueAndValidity({onlySelf:!0}),O}_throwIfControlMissing(O){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[O])throw new Error(`Cannot find form control with name: ${O}.`)}_forEachChild(O){Object.keys(this.controls).forEach(Z=>{const Me=this.controls[Z];Me&&O(Me,Z)})}_setUpControls(){this._forEachChild(O=>{O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(O){for(const Z of Object.keys(this.controls)){const Me=this.controls[Z];if(this.contains(Z)&&O(Me))return!0}return!1}_reduceValue(){return this._reduceChildren({},(O,Z,Me)=>((Z.enabled||this.disabled)&&(O[Me]=Z.value),O))}_reduceChildren(O,Z){let Me=O;return this._forEachChild((et,hn)=>{Me=Z(Me,et,hn)}),Me}_allControlsDisabled(){for(const O of Object.keys(this.controls))if(this.controls[O].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(O){this._forEachChild((Z,Me)=>{if(void 0===O[Me])throw new Error(`Must supply a value for form control with name: '${Me}'.`)})}}class Us extends Qr{constructor(O,Z,Me){super(di(Z),_r(Me,Z)),this.controls=O,this._initObservables(),this._setUpdateStrategy(Z),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(O){return this.controls[O]}push(O,Z={}){this.controls.push(O),this._registerControl(O),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}insert(O,Z,Me={}){this.controls.splice(O,0,Z),this._registerControl(Z),this.updateValueAndValidity({emitEvent:Me.emitEvent})}removeAt(O,Z={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),this.controls.splice(O,1),this.updateValueAndValidity({emitEvent:Z.emitEvent})}setControl(O,Z,Me={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),this.controls.splice(O,1),Z&&(this.controls.splice(O,0,Z),this._registerControl(Z)),this.updateValueAndValidity({emitEvent:Me.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(O,Z={}){this._checkAllValuesPresent(O),O.forEach((Me,et)=>{this._throwIfControlMissing(et),this.at(et).setValue(Me,{onlySelf:!0,emitEvent:Z.emitEvent})}),this.updateValueAndValidity(Z)}patchValue(O,Z={}){null!=O&&(O.forEach((Me,et)=>{this.at(et)&&this.at(et).patchValue(Me,{onlySelf:!0,emitEvent:Z.emitEvent})}),this.updateValueAndValidity(Z))}reset(O=[],Z={}){this._forEachChild((Me,et)=>{Me.reset(O[et],{onlySelf:!0,emitEvent:Z.emitEvent})}),this._updatePristine(Z),this._updateTouched(Z),this.updateValueAndValidity(Z)}getRawValue(){return this.controls.map(O=>O instanceof Ts?O.value:O.getRawValue())}clear(O={}){this.controls.length<1||(this._forEachChild(Z=>Z._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:O.emitEvent}))}_syncPendingControls(){let O=this.controls.reduce((Z,Me)=>!!Me._syncPendingControls()||Z,!1);return O&&this.updateValueAndValidity({onlySelf:!0}),O}_throwIfControlMissing(O){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(O))throw new Error(`Cannot find form control at index ${O}`)}_forEachChild(O){this.controls.forEach((Z,Me)=>{O(Z,Me)})}_updateValue(){this.value=this.controls.filter(O=>O.enabled||this.disabled).map(O=>O.value)}_anyControls(O){return this.controls.some(Z=>Z.enabled&&O(Z))}_setUpControls(){this._forEachChild(O=>this._registerControl(O))}_checkAllValuesPresent(O){this._forEachChild((Z,Me)=>{if(void 0===O[Me])throw new Error(`Must supply a value for form control at index: ${Me}.`)})}_allControlsDisabled(){for(const O of this.controls)if(O.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(O){O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange)}}const Hi={provide:Dt,useExisting:(0,l.Gpc)(()=>Gi)},Zn=Promise.resolve(null);class Gi extends Dt{constructor(O,Z){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new l.vpe,this.form=new Zr({},Nt(O),Ft(Z))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(O){Zn.then(()=>{const Z=this._findContainer(O.path);O.control=Z.registerControl(O.name,O.control),Nn(O.control,O),O.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(O)})}getControl(O){return this.form.get(O.path)}removeControl(O){Zn.then(()=>{const Z=this._findContainer(O.path);Z&&Z.removeControl(O.name),Or(this._directives,O)})}addFormGroup(O){Zn.then(()=>{const Z=this._findContainer(O.path),Me=new Zr({});yr(Me,O),Z.registerControl(O.name,Me),Me.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(O){Zn.then(()=>{const Z=this._findContainer(O.path);Z&&Z.removeControl(O.name)})}getFormGroup(O){return this.form.get(O.path)}updateModel(O,Z){Zn.then(()=>{this.form.get(O.path).setValue(Z)})}setValue(O){this.control.setValue(O)}onSubmit(O){return this.submitted=!0,Hs(this.form,this._directives),this.ngSubmit.emit(O),!1}onReset(){this.resetForm()}resetForm(O){this.form.reset(O),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(O){return O.pop(),O.length?this.form.get(O):this.form}}Gi.\u0275fac=function(O){return new(O||Gi)(l.Y36(be,10),l.Y36(te,10))},Gi.\u0275dir=l.lG2({type:Gi,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(O,Z){1&O&&l.NdJ("submit",function(et){return Z.onSubmit(et)})("reset",function(){return Z.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([Hi]),l.qOj]});class pr extends Dt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return cn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}pr.\u0275fac=function(){let P;return function(Z){return(P||(P=l.n5z(pr)))(Z||pr)}}(),pr.\u0275dir=l.lG2({type:pr,features:[l.qOj]});const or={provide:Dt,useExisting:(0,l.Gpc)(()=>lr)};class lr extends pr{constructor(O,Z,Me){super(),this._parent=O,this._setValidators(Z),this._setAsyncValidators(Me)}_checkParentType(){!(this._parent instanceof lr)&&this._parent}}lr.\u0275fac=function(O){return new(O||lr)(l.Y36(Dt,5),l.Y36(be,10),l.Y36(te,10))},lr.\u0275dir=l.lG2({type:lr,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[l._Bn([or]),l.qOj]});const ns={provide:$t,useExisting:(0,l.Gpc)(()=>Xi)},ai=Promise.resolve(null);class Xi extends $t{constructor(O,Z,Me,et){super(),this.control=new Ts,this._registered=!1,this.update=new l.vpe,this._parent=O,this._setValidators(Z),this._setAsyncValidators(Me),this.valueAccessor=ps(0,et)}ngOnChanges(O){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in O&&this._updateDisabled(O),es(O,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?cn(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(O){this.viewModel=O,this.update.emit(O)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Nn(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(O){ai.then(()=>{this.control.setValue(O,{emitViewToModelChange:!1})})}_updateDisabled(O){const Z=O.isDisabled.currentValue,Me=""===Z||Z&&"false"!==Z;ai.then(()=>{Me&&!this.control.disabled?this.control.disable():!Me&&this.control.disabled&&this.control.enable()})}}Xi.\u0275fac=function(O){return new(O||Xi)(l.Y36(Dt,9),l.Y36(be,10),l.Y36(te,10),l.Y36(w,10))},Xi.\u0275dir=l.lG2({type:Xi,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([ns]),l.qOj,l.TTD]});class ji{}ji.\u0275fac=function(O){return new(O||ji)},ji.\u0275dir=l.lG2({type:ji,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});const Er={provide:w,useExisting:(0,l.Gpc)(()=>Bi),multi:!0};class Bi extends v{writeValue(O){const Z=null==O?"":O;this.setProperty("value",Z)}registerOnChange(O){this.onChange=Z=>{O(""==Z?null:parseFloat(Z))}}}Bi.\u0275fac=function(){let P;return function(Z){return(P||(P=l.n5z(Bi)))(Z||Bi)}}(),Bi.\u0275dir=l.lG2({type:Bi,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(O,Z){1&O&&l.NdJ("input",function(et){return Z.onChange(et.target.value)})("blur",function(){return Z.onTouched()})},features:[l._Bn([Er]),l.qOj]});const ar={provide:w,useExisting:(0,l.Gpc)(()=>Et),multi:!0};class Rr{}Rr.\u0275fac=function(O){return new(O||Rr)},Rr.\u0275mod=l.oAB({type:Rr}),Rr.\u0275inj=l.cJS({});class is{constructor(){this._accessors=[]}add(O,Z){this._accessors.push([O,Z])}remove(O){for(let Z=this._accessors.length-1;Z>=0;--Z)if(this._accessors[Z][1]===O)return void this._accessors.splice(Z,1)}select(O){this._accessors.forEach(Z=>{this._isSameGroup(Z,O)&&Z[1]!==O&&Z[1].fireUncheck(O.value)})}_isSameGroup(O,Z){return!!O[0].control&&(O[0]._parent===Z._control._parent&&O[1].name===Z.name)}}is.\u0275fac=function(O){return new(O||is)},is.\u0275prov=l.Yz7({token:is,factory:is.\u0275fac,providedIn:Rr});class Et extends v{constructor(O,Z,Me,et){super(O,Z),this._registry=Me,this._injector=et,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get($t),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(O){this._state=O===this.value,this.setProperty("checked",this._state)}registerOnChange(O){this._fn=O,this.onChange=()=>{O(this.value),this._registry.select(this)}}fireUncheck(O){this.writeValue(O)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}}Et.\u0275fac=function(O){return new(O||Et)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(is),l.Y36(l.zs3))},Et.\u0275dir=l.lG2({type:Et,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(O,Z){1&O&&l.NdJ("change",function(){return Z.onChange()})("blur",function(){return Z.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[l._Bn([ar]),l.qOj]});const Rt={provide:w,useExisting:(0,l.Gpc)(()=>Tt),multi:!0};class Tt extends v{writeValue(O){this.setProperty("value",parseFloat(O))}registerOnChange(O){this.onChange=Z=>{O(""==Z?null:parseFloat(Z))}}}Tt.\u0275fac=function(){let P;return function(Z){return(P||(P=l.n5z(Tt)))(Z||Tt)}}(),Tt.\u0275dir=l.lG2({type:Tt,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(O,Z){1&O&&l.NdJ("change",function(et){return Z.onChange(et.target.value)})("input",function(et){return Z.onChange(et.target.value)})("blur",function(){return Z.onTouched()})},features:[l._Bn([Rt]),l.qOj]});const wn=new l.OlP("NgModelWithFormControlWarning"),In={provide:$t,useExisting:(0,l.Gpc)(()=>Qn)};class Qn extends $t{constructor(O,Z,Me,et){super(),this._ngModelWarningConfig=et,this.update=new l.vpe,this._ngModelWarningSent=!1,this._setValidators(O),this._setAsyncValidators(Z),this.valueAccessor=ps(0,Me)}set isDisabled(O){}ngOnChanges(O){if(this._isControlChanged(O)){const Z=O.form.previousValue;Z&&_n(Z,this,!1),Nn(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}es(O,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&_n(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(O){this.viewModel=O,this.update.emit(O)}_isControlChanged(O){return O.hasOwnProperty("form")}}Qn._ngModelWarningSentOnce=!1,Qn.\u0275fac=function(O){return new(O||Qn)(l.Y36(be,10),l.Y36(te,10),l.Y36(w,10),l.Y36(wn,8))},Qn.\u0275dir=l.lG2({type:Qn,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[l._Bn([In]),l.qOj,l.TTD]});const $n={provide:Dt,useExisting:(0,l.Gpc)(()=>mi)};class mi extends Dt{constructor(O,Z){super(),this.validators=O,this.asyncValidators=Z,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(O),this._setAsyncValidators(Z)}ngOnChanges(O){this._checkFormPresent(),O.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(kn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(O){const Z=this.form.get(O.path);return Nn(Z,O),Z.updateValueAndValidity({emitEvent:!1}),this.directives.push(O),Z}getControl(O){return this.form.get(O.path)}removeControl(O){_n(O.control||null,O,!1),Or(this.directives,O)}addFormGroup(O){this._setUpFormContainer(O)}removeFormGroup(O){this._cleanUpFormContainer(O)}getFormGroup(O){return this.form.get(O.path)}addFormArray(O){this._setUpFormContainer(O)}removeFormArray(O){this._cleanUpFormContainer(O)}getFormArray(O){return this.form.get(O.path)}updateModel(O,Z){this.form.get(O.path).setValue(Z)}onSubmit(O){return this.submitted=!0,Hs(this.form,this.directives),this.ngSubmit.emit(O),!1}onReset(){this.resetForm()}resetForm(O){this.form.reset(O),this.submitted=!1}_updateDomValue(){this.directives.forEach(O=>{const Z=O.control,Me=this.form.get(O.path);Z!==Me&&(_n(Z||null,O),Me instanceof Ts&&(Nn(Me,O),O.control=Me))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(O){const Z=this.form.get(O.path);yr(Z,O),Z.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(O){if(this.form){const Z=this.form.get(O.path);Z&&function(P,O){return kn(P,O)}(Z,O)&&Z.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Tn(this.form,this),this._oldForm&&kn(this._oldForm,this)}_checkFormPresent(){this.form}}mi.\u0275fac=function(O){return new(O||mi)(l.Y36(be,10),l.Y36(te,10))},mi.\u0275dir=l.lG2({type:mi,selectors:[["","formGroup",""]],hostBindings:function(O,Z){1&O&&l.NdJ("submit",function(et){return Z.onSubmit(et)})("reset",function(){return Z.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([$n]),l.qOj,l.TTD]});const xi={provide:Dt,useExisting:(0,l.Gpc)(()=>Ri)};class Ri extends pr{constructor(O,Z,Me){super(),this._parent=O,this._setValidators(Z),this._setAsyncValidators(Me)}_checkParentType(){Is(this._parent)}}Ri.\u0275fac=function(O){return new(O||Ri)(l.Y36(Dt,13),l.Y36(be,10),l.Y36(te,10))},Ri.\u0275dir=l.lG2({type:Ri,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[l._Bn([xi]),l.qOj]});const Mi={provide:Dt,useExisting:(0,l.Gpc)(()=>Wr)};class Wr extends Dt{constructor(O,Z,Me){super(),this._parent=O,this._setValidators(Z),this._setAsyncValidators(Me)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return cn(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Is(this._parent)}}function Is(P){return!(P instanceof Ri||P instanceof mi||P instanceof Wr)}Wr.\u0275fac=function(O){return new(O||Wr)(l.Y36(Dt,13),l.Y36(be,10),l.Y36(te,10))},Wr.\u0275dir=l.lG2({type:Wr,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[l._Bn([Mi]),l.qOj]});const Vt={provide:$t,useExisting:(0,l.Gpc)(()=>he)};class he extends $t{constructor(O,Z,Me,et,hn){super(),this._ngModelWarningConfig=hn,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=O,this._setValidators(Z),this._setAsyncValidators(Me),this.valueAccessor=ps(0,et)}set isDisabled(O){}ngOnChanges(O){this._added||this._setUpControl(),es(O,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(O){this.viewModel=O,this.update.emit(O)}get path(){return cn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}he._ngModelWarningSentOnce=!1,he.\u0275fac=function(O){return new(O||he)(l.Y36(Dt,13),l.Y36(be,10),l.Y36(te,10),l.Y36(w,10),l.Y36(wn,8))},he.\u0275dir=l.lG2({type:he,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([Vt]),l.qOj,l.TTD]});const ke={provide:w,useExisting:(0,l.Gpc)(()=>yn),multi:!0};function vt(P,O){return null==P?`${O}`:(O&&"object"==typeof O&&(O="Object"),`${P}: ${O}`.slice(0,50))}class yn extends v{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(O){this._compareWith=O}writeValue(O){this.value=O;const Z=this._getOptionId(O);null==Z&&this.setProperty("selectedIndex",-1);const Me=vt(Z,O);this.setProperty("value",Me)}registerOnChange(O){this.onChange=Z=>{this.value=this._getOptionValue(Z),O(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(O){for(const Z of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Z),O))return Z;return null}_getOptionValue(O){const Z=O.split(":")[0];return this._optionMap.has(Z)?this._optionMap.get(Z):O}}yn.\u0275fac=function(){let P;return function(Z){return(P||(P=l.n5z(yn)))(Z||yn)}}(),yn.\u0275dir=l.lG2({type:yn,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(O,Z){1&O&&l.NdJ("change",function(et){return Z.onChange(et.target.value)})("blur",function(){return Z.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([ke]),l.qOj]});class ui{constructor(O,Z,Me){this._element=O,this._renderer=Z,this._select=Me,this._select&&(this.id=this._select._registerOption())}set ngValue(O){null!=this._select&&(this._select._optionMap.set(this.id,O),this._setElementValue(vt(this.id,O)),this._select.writeValue(this._select.value))}set value(O){this._setElementValue(O),this._select&&this._select.writeValue(this._select.value)}_setElementValue(O){this._renderer.setProperty(this._element.nativeElement,"value",O)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}ui.\u0275fac=function(O){return new(O||ui)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(yn,9))},ui.\u0275dir=l.lG2({type:ui,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});const Oi={provide:w,useExisting:(0,l.Gpc)(()=>Pn),multi:!0};function Dr(P,O){return null==P?`${O}`:("string"==typeof O&&(O=`'${O}'`),O&&"object"==typeof O&&(O="Object"),`${P}: ${O}`.slice(0,50))}class Pn extends v{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(O){this._compareWith=O}writeValue(O){let Z;if(this.value=O,Array.isArray(O)){const Me=O.map(et=>this._getOptionId(et));Z=(et,hn)=>{et._setSelected(Me.indexOf(hn.toString())>-1)}}else Z=(Me,et)=>{Me._setSelected(!1)};this._optionMap.forEach(Z)}registerOnChange(O){this.onChange=Z=>{const Me=[],et=Z.selectedOptions;if(void 0!==et){const hn=et;for(let En=0;En<hn.length;En++){const vi=hn[En],Zi=this._getOptionValue(vi.value);Me.push(Zi)}}else{const hn=Z.options;for(let En=0;En<hn.length;En++){const vi=hn[En];if(vi.selected){const Zi=this._getOptionValue(vi.value);Me.push(Zi)}}}this.value=Me,O(Me)}}_registerOption(O){const Z=(this._idCounter++).toString();return this._optionMap.set(Z,O),Z}_getOptionId(O){for(const Z of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Z)._value,O))return Z;return null}_getOptionValue(O){const Z=O.split(":")[0];return this._optionMap.has(Z)?this._optionMap.get(Z)._value:O}}Pn.\u0275fac=function(){let P;return function(Z){return(P||(P=l.n5z(Pn)))(Z||Pn)}}(),Pn.\u0275dir=l.lG2({type:Pn,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(O,Z){1&O&&l.NdJ("change",function(et){return Z.onChange(et.target)})("blur",function(){return Z.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([Oi]),l.qOj]});class oi{constructor(O,Z,Me){this._element=O,this._renderer=Z,this._select=Me,this._select&&(this.id=this._select._registerOption(this))}set ngValue(O){null!=this._select&&(this._value=O,this._setElementValue(Dr(this.id,O)),this._select.writeValue(this._select.value))}set value(O){this._select?(this._value=O,this._setElementValue(Dr(this.id,O)),this._select.writeValue(this._select.value)):this._setElementValue(O)}_setElementValue(O){this._renderer.setProperty(this._element.nativeElement,"value",O)}_setSelected(O){this._renderer.setProperty(this._element.nativeElement,"selected",O)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function Cr(P){return"number"==typeof P?P:parseInt(P,10)}function Fs(P){return"number"==typeof P?P:parseFloat(P)}oi.\u0275fac=function(O){return new(O||oi)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(Pn,9))},oi.\u0275dir=l.lG2({type:oi,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});class Br{constructor(){this._validator=He}ngOnChanges(O){if(this.inputName in O){const Z=this.normalizeInput(O[this.inputName].currentValue);this._validator=this.enabled()?this.createValidator(Z):He,this._onChange&&this._onChange()}}validate(O){return this._validator(O)}registerOnValidatorChange(O){this._onChange=O}enabled(){return null!=this[this.inputName]}}Br.\u0275fac=function(O){return new(O||Br)},Br.\u0275dir=l.lG2({type:Br,features:[l.TTD]});const eo={provide:be,useExisting:(0,l.Gpc)(()=>gs),multi:!0};class gs extends Br{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=O=>Fs(O),this.createValidator=O=>Re(O)}}gs.\u0275fac=function(){let P;return function(Z){return(P||(P=l.n5z(gs)))(Z||gs)}}(),gs.\u0275dir=l.lG2({type:gs,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(O,Z){2&O&&l.uIk("max",Z.enabled()?Z.max:null)},inputs:{max:"max"},features:[l._Bn([eo]),l.qOj]});const ys={provide:be,useExisting:(0,l.Gpc)(()=>zr),multi:!0};class zr extends Br{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=O=>Fs(O),this.createValidator=O=>Te(O)}}zr.\u0275fac=function(){let P;return function(Z){return(P||(P=l.n5z(zr)))(Z||zr)}}(),zr.\u0275dir=l.lG2({type:zr,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(O,Z){2&O&&l.uIk("min",Z.enabled()?Z.min:null)},inputs:{min:"min"},features:[l._Bn([ys]),l.qOj]});const ea={provide:be,useExisting:(0,l.Gpc)(()=>ur),multi:!0},Gr={provide:be,useExisting:(0,l.Gpc)(()=>io),multi:!0};class ur{constructor(){this._required=!1}get required(){return this._required}set required(O){this._required=null!=O&&!1!==O&&"false"!=`${O}`,this._onChange&&this._onChange()}validate(O){return this.required?G(O):null}registerOnValidatorChange(O){this._onChange=O}}ur.\u0275fac=function(O){return new(O||ur)},ur.\u0275dir=l.lG2({type:ur,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(O,Z){2&O&&l.uIk("required",Z.required?"":null)},inputs:{required:"required"},features:[l._Bn([ea])]});class io extends ur{validate(O){return this.required?Ee(O):null}}io.\u0275fac=function(){let P;return function(Z){return(P||(P=l.n5z(io)))(Z||io)}}(),io.\u0275dir=l.lG2({type:io,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(O,Z){2&O&&l.uIk("required",Z.required?"":null)},features:[l._Bn([Gr]),l.qOj]});const Vo={provide:be,useExisting:(0,l.Gpc)(()=>qr),multi:!0};class qr{constructor(){this._enabled=!1}set email(O){this._enabled=""===O||!0===O||"true"===O,this._onChange&&this._onChange()}validate(O){return this._enabled?Ie(O):null}registerOnValidatorChange(O){this._onChange=O}}qr.\u0275fac=function(O){return new(O||qr)},qr.\u0275dir=l.lG2({type:qr,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[l._Bn([Vo])]});const Ho={provide:be,useExisting:(0,l.Gpc)(()=>to),multi:!0};class to extends Br{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=O=>Cr(O),this.createValidator=O=>Le(O)}}to.\u0275fac=function(){let P;return function(Z){return(P||(P=l.n5z(to)))(Z||to)}}(),to.\u0275dir=l.lG2({type:to,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(O,Z){2&O&&l.uIk("minlength",Z.enabled()?Z.minlength:null)},inputs:{minlength:"minlength"},features:[l._Bn([Ho]),l.qOj]});const rs={provide:be,useExisting:(0,l.Gpc)(()=>Eo),multi:!0};class Eo extends Br{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=O=>Cr(O),this.createValidator=O=>ne(O)}}Eo.\u0275fac=function(){let P;return function(Z){return(P||(P=l.n5z(Eo)))(Z||Eo)}}(),Eo.\u0275dir=l.lG2({type:Eo,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(O,Z){2&O&&l.uIk("maxlength",Z.enabled()?Z.maxlength:null)},inputs:{maxlength:"maxlength"},features:[l._Bn([rs]),l.qOj]});const Ls={provide:be,useExisting:(0,l.Gpc)(()=>R),multi:!0};class R{constructor(){this._validator=He}ngOnChanges(O){"pattern"in O&&(this._createValidator(),this._onChange&&this._onChange())}validate(O){return this._validator(O)}registerOnValidatorChange(O){this._onChange=O}_createValidator(){this._validator=Pe(this.pattern)}}R.\u0275fac=function(O){return new(O||R)},R.\u0275dir=l.lG2({type:R,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(O,Z){2&O&&l.uIk("pattern",Z.pattern?Z.pattern:null)},inputs:{pattern:"pattern"},features:[l._Bn([Ls]),l.TTD]});class Ve{}Ve.\u0275fac=function(O){return new(O||Ve)},Ve.\u0275mod=l.oAB({type:Ve,declarations:[ji,ui,oi,U,Bi,Tt,x,yn,Pn,Et,St,Ht,ur,to,Eo,R,io,qr,zr,gs],imports:[Rr],exports:[ji,ui,oi,U,Bi,Tt,x,yn,Pn,Et,St,Ht,ur,to,Eo,R,io,qr,zr,gs]}),Ve.\u0275inj=l.cJS({imports:[[Rr]]});class Ge{}Ge.\u0275fac=function(O){return new(O||Ge)},Ge.\u0275mod=l.oAB({type:Ge,declarations:[Xi,lr,Gi],exports:[Ve,Xi,lr,Gi]}),Ge.\u0275inj=l.cJS({imports:[Ve]});class Xe{static withConfig(O){return{ngModule:Xe,providers:[{provide:wn,useValue:O.warnOnNgModelWithFormControl}]}}}Xe.\u0275fac=function(O){return new(O||Xe)},Xe.\u0275mod=l.oAB({type:Xe,declarations:[Qn,mi,he,Ri,Wr],exports:[Ve,Qn,mi,he,Ri,Wr]}),Xe.\u0275inj=l.cJS({imports:[Ve]});class Lt{group(O,Z=null){const Me=this._reduceControls(O);let En,et=null,hn=null;return null!=Z&&(void 0!==(P=Z).asyncValidators||void 0!==P.validators||void 0!==P.updateOn?(et=null!=Z.validators?Z.validators:null,hn=null!=Z.asyncValidators?Z.asyncValidators:null,En=null!=Z.updateOn?Z.updateOn:void 0):(et=null!=Z.validator?Z.validator:null,hn=null!=Z.asyncValidator?Z.asyncValidator:null)),new Zr(Me,{asyncValidators:hn,updateOn:En,validators:et});var P}control(O,Z,Me){return new Ts(O,Z,Me)}array(O,Z,Me){const et=O.map(hn=>this._createControl(hn));return new Us(et,Z,Me)}_reduceControls(O){const Z={};return Object.keys(O).forEach(Me=>{Z[Me]=this._createControl(O[Me])}),Z}_createControl(O){if(O instanceof Ts||O instanceof Zr||O instanceof Us)return O;if(Array.isArray(O)){const Z=O[0],Me=O.length>1?O[1]:null,et=O.length>2?O[2]:null;return this.control(Z,Me,et)}return this.control(O)}}Lt.\u0275fac=function(O){return new(O||Lt)},Lt.\u0275prov=l.Yz7({token:Lt,factory:Lt.\u0275fac,providedIn:Xe});new l.GfV("13.1.0")},1866:(V,k,L)=>{"use strict";var l,d;function A(d){if(":"!=d[0])return[null,d];const e=d.indexOf(":",1);if(-1===e)throw new Error(`Unsupported format "${d}" expecting ":namespace:name"`);return[d.slice(1,e),d.slice(e+1)]}function j(d){return"ng-container"===A(d)[1]}function I(d){return"ng-content"===A(d)[1]}function b(d){return null===d?null:A(d)[0]}function v(d,e){return d?`:${d}:${e}`:e}L.d(k,{y:()=>g0}),(d=l||(l={}))[d.RAW_TEXT=0]="RAW_TEXT",d[d.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",d[d.PARSABLE_DATA=2]="PARSABLE_DATA";class w{constructor({closedByChildren:e,implicitNamespacePrefix:o,contentType:c=l.PARSABLE_DATA,closedByParent:y=!1,isVoid:H=!1,ignoreFirstLf:re=!1,preventNamespaceInheritance:Ae=!1}={}){this.closedByChildren={},this.closedByParent=!1,this.canSelfClose=!1,e&&e.length>0&&e.forEach(Ke=>this.closedByChildren[Ke]=!0),this.isVoid=H,this.closedByParent=y||H,this.implicitNamespacePrefix=o||null,this.contentType=c,this.ignoreFirstLf=re,this.preventNamespaceInheritance=Ae}isClosedByChild(e){return this.isVoid||e.toLowerCase()in this.closedByChildren}getContentType(e){if("object"==typeof this.contentType){const o=void 0===e?void 0:this.contentType[e];return null!=o?o:this.contentType.default}return this.contentType}}let T,x;function S(d){var e,o;return x||(T=new w,x={base:new w({isVoid:!0}),meta:new w({isVoid:!0}),area:new w({isVoid:!0}),embed:new w({isVoid:!0}),link:new w({isVoid:!0}),img:new w({isVoid:!0}),input:new w({isVoid:!0}),param:new w({isVoid:!0}),hr:new w({isVoid:!0}),br:new w({isVoid:!0}),source:new w({isVoid:!0}),track:new w({isVoid:!0}),wbr:new w({isVoid:!0}),p:new w({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new w({closedByChildren:["tbody","tfoot"]}),tbody:new w({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new w({closedByChildren:["tbody"],closedByParent:!0}),tr:new w({closedByChildren:["tr"],closedByParent:!0}),td:new w({closedByChildren:["td","th"],closedByParent:!0}),th:new w({closedByChildren:["td","th"],closedByParent:!0}),col:new w({isVoid:!0}),svg:new w({implicitNamespacePrefix:"svg"}),foreignObject:new w({implicitNamespacePrefix:"svg",preventNamespaceInheritance:!0}),math:new w({implicitNamespacePrefix:"math"}),li:new w({closedByChildren:["li"],closedByParent:!0}),dt:new w({closedByChildren:["dt","dd"]}),dd:new w({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new w({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new w({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new w({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new w({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new w({closedByChildren:["optgroup"],closedByParent:!0}),option:new w({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new w({ignoreFirstLf:!0}),listing:new w({ignoreFirstLf:!0}),style:new w({contentType:l.RAW_TEXT}),script:new w({contentType:l.RAW_TEXT}),title:new w({contentType:{default:l.ESCAPABLE_RAW_TEXT,svg:l.PARSABLE_DATA}}),textarea:new w({contentType:l.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})}),null!==(o=null!==(e=x[d])&&void 0!==e?e:x[d.toLowerCase()])&&void 0!==o?o:T}const N=new RegExp("(\\:not\\()|(([\\.\\#]?)[-\\w]+)|(?:\\[([-.\\w*\\\\$]+)(?:=([\"']?)([^\\]\"']*)\\5)?\\])|(\\))|(\\s*,\\s*)","g");class F{constructor(){this.element=null,this.classNames=[],this.attrs=[],this.notSelectors=[]}static parse(e){const o=[],c=(Ke,st)=>{st.notSelectors.length>0&&!st.element&&0==st.classNames.length&&0==st.attrs.length&&(st.element="*"),Ke.push(st)};let H,y=new F,re=y,Ae=!1;for(N.lastIndex=0;H=N.exec(e);){if(H[1]){if(Ae)throw new Error("Nesting :not in a selector is not allowed");Ae=!0,re=new F,y.notSelectors.push(re)}const Ke=H[2];if(Ke){const At=H[3];"#"===At?re.addAttribute("id",Ke.substr(1)):"."===At?re.addClassName(Ke.substr(1)):re.setElement(Ke)}const st=H[4];if(st&&re.addAttribute(re.unescapeAttribute(st),H[6]),H[7]&&(Ae=!1,re=y),H[8]){if(Ae)throw new Error("Multiple selectors in :not are not supported");c(o,y),y=re=new F}}return c(o,y),o}unescapeAttribute(e){let o="",c=!1;for(let y=0;y<e.length;y++){const H=e.charAt(y);if("\\"!==H){if("$"===H&&!c)throw new Error(`Error in attribute selector "${e}". Unescaped "$" is not supported. Please escape with "\\$".`);c=!1,o+=H}else c=!0}return o}escapeAttribute(e){return e.replace(/\\/g,"\\\\").replace(/\$/g,"\\$")}isElementSelector(){return this.hasElementSelector()&&0==this.classNames.length&&0==this.attrs.length&&0===this.notSelectors.length}hasElementSelector(){return!!this.element}setElement(e=null){this.element=e}getMatchingElementTemplate(){const e=this.element||"div",o=this.classNames.length>0?` class="${this.classNames.join(" ")}"`:"";let c="";for(let y=0;y<this.attrs.length;y+=2){c+=` ${this.attrs[y]}${""!==this.attrs[y+1]?`="${this.attrs[y+1]}"`:""}`}return S(e).isVoid?`<${e}${o}${c}/>`:`<${e}${o}${c}></${e}>`}getAttrs(){const e=[];return this.classNames.length>0&&e.push("class",this.classNames.join(" ")),e.concat(this.attrs)}addAttribute(e,o=""){this.attrs.push(e,o&&o.toLowerCase()||"")}addClassName(e){this.classNames.push(e.toLowerCase())}toString(){let e=this.element||"";if(this.classNames&&this.classNames.forEach(o=>e+=`.${o}`),this.attrs)for(let o=0;o<this.attrs.length;o+=2){const c=this.escapeAttribute(this.attrs[o]),y=this.attrs[o+1];e+=`[${c}${y?"="+y:""}]`}return this.notSelectors.forEach(o=>e+=`:not(${o})`),e}}class U{constructor(){this._elementMap=new Map,this._elementPartialMap=new Map,this._classMap=new Map,this._classPartialMap=new Map,this._attrValueMap=new Map,this._attrValuePartialMap=new Map,this._listContexts=[]}static createNotMatcher(e){const o=new U;return o.addSelectables(e,null),o}addSelectables(e,o){let c=null;e.length>1&&(c=new Y(e),this._listContexts.push(c));for(let y=0;y<e.length;y++)this._addSelectable(e[y],o,c)}_addSelectable(e,o,c){let y=this;const H=e.element,re=e.classNames,Ae=e.attrs,Ke=new ce(e,o,c);if(H&&(0===Ae.length&&0===re.length?this._addTerminal(y._elementMap,H,Ke):y=this._addPartial(y._elementPartialMap,H)),re)for(let st=0;st<re.length;st++){const At=0===Ae.length&&st===re.length-1,ln=re[st];At?this._addTerminal(y._classMap,ln,Ke):y=this._addPartial(y._classPartialMap,ln)}if(Ae)for(let st=0;st<Ae.length;st+=2){const At=st===Ae.length-2,ln=Ae[st],Vn=Ae[st+1];if(At){const Wn=y._attrValueMap;let pi=Wn.get(ln);pi||(pi=new Map,Wn.set(ln,pi)),this._addTerminal(pi,Vn,Ke)}else{const Wn=y._attrValuePartialMap;let pi=Wn.get(ln);pi||(pi=new Map,Wn.set(ln,pi)),y=this._addPartial(pi,Vn)}}}_addTerminal(e,o,c){let y=e.get(o);y||(y=[],e.set(o,y)),y.push(c)}_addPartial(e,o){let c=e.get(o);return c||(c=new U,e.set(o,c)),c}match(e,o){let c=!1;const y=e.element,H=e.classNames,re=e.attrs;for(let Ae=0;Ae<this._listContexts.length;Ae++)this._listContexts[Ae].alreadyMatched=!1;if(c=this._matchTerminal(this._elementMap,y,e,o)||c,c=this._matchPartial(this._elementPartialMap,y,e,o)||c,H)for(let Ae=0;Ae<H.length;Ae++){const Ke=H[Ae];c=this._matchTerminal(this._classMap,Ke,e,o)||c,c=this._matchPartial(this._classPartialMap,Ke,e,o)||c}if(re)for(let Ae=0;Ae<re.length;Ae+=2){const Ke=re[Ae],st=re[Ae+1],At=this._attrValueMap.get(Ke);st&&(c=this._matchTerminal(At,"",e,o)||c),c=this._matchTerminal(At,st,e,o)||c;const ln=this._attrValuePartialMap.get(Ke);st&&(c=this._matchPartial(ln,"",e,o)||c),c=this._matchPartial(ln,st,e,o)||c}return c}_matchTerminal(e,o,c,y){if(!e||"string"!=typeof o)return!1;let H=e.get(o)||[];const re=e.get("*");if(re&&(H=H.concat(re)),0===H.length)return!1;let Ae,Ke=!1;for(let st=0;st<H.length;st++)Ae=H[st],Ke=Ae.finalize(c,y)||Ke;return Ke}_matchPartial(e,o,c,y){if(!e||"string"!=typeof o)return!1;const H=e.get(o);return!!H&&H.match(c,y)}}class Y{constructor(e){this.selectors=e,this.alreadyMatched=!1}}class ce{constructor(e,o,c){this.selector=e,this.cbContext=o,this.listContext=c,this.notSelectors=e.notSelectors}finalize(e,o){let c=!0;return this.notSelectors.length>0&&(!this.listContext||!this.listContext.alreadyMatched)&&(c=!U.createNotMatcher(this.notSelectors).match(e,null)),c&&o&&(!this.listContext||!this.listContext.alreadyMatched)&&(this.listContext&&(this.listContext.alreadyMatched=!0),o(this.selector,this.cbContext)),c}}Dn("Inject",d=>({token:d})),Dn("InjectionToken",d=>({_desc:d,\u0275prov:void 0})),Dn("Attribute",d=>({attributeName:d})),Dn("ContentChildren",(d,e={})=>Object.assign({selector:d,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:true},e)),Dn("ContentChild",(d,e={})=>Object.assign({selector:d,first:!0,isViewQuery:!1,descendants:!0},e)),Dn("ViewChildren",(d,e={})=>Object.assign({selector:d,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:true},e)),Dn("ViewChild",(d,e)=>Object.assign({selector:d,first:!0,isViewQuery:!0,descendants:!0},e)),Dn("Directive",(d={})=>d);var Le,ne;!function(d){d[d.Emulated=0]="Emulated",d[d.None=2]="None",d[d.ShadowDom=3]="ShadowDom"}(Le||(Le={})),function(d){d[d.OnPush=0]="OnPush",d[d.Default=1]="Default"}(ne||(ne={}));Dn("Component",(d={})=>Object.assign({changeDetection:ne.Default},d)),Dn("Pipe",d=>Object.assign({pure:!0},d)),Dn("Input",d=>({bindingPropertyName:d})),Dn("Output",d=>({bindingPropertyName:d})),Dn("HostBinding",d=>({hostPropertyName:d})),Dn("HostListener",(d,e)=>({eventName:d,args:e})),Dn("NgModule",d=>d),Dn("Injectable",(d={})=>d);const en={name:"custom-elements"},Nt={name:"no-errors-schema"};Dn("Optional"),Dn("Self"),Dn("SkipSelf"),Dn("Host");var an,On;function Dn(d,e){function o(...c){const y=e?e(...c):{};return Object.assign({ngMetadataName:d},y)}return o.isTypeOf=c=>c&&c.ngMetadataName===d,o.ngMetadataName=d,o}function $t(d){const e=function(d){const e=d.classNames&&d.classNames.length?[8,...d.classNames]:[];return[d.element&&"*"!==d.element?d.element:"",...d.attrs,...e]}(d),o=d.notSelectors&&d.notSelectors.length?d.notSelectors.map(c=>function(d){const e=d.classNames&&d.classNames.length?[8,...d.classNames]:[];return d.element?[5,d.element,...d.attrs,...e]:d.attrs.length?[3,...d.attrs,...e]:d.classNames&&d.classNames.length?[9,...d.classNames]:[]}(c)):[];return e.concat(...o)}function Dt(d){return d?F.parse(d).map($t):[]}!function(d){d[d.NONE=0]="NONE",d[d.HTML=1]="HTML",d[d.STYLE=2]="STYLE",d[d.SCRIPT=3]="SCRIPT",d[d.URL=4]="URL",d[d.RESOURCE_URL=5]="RESOURCE_URL"}(an||(an={})),function(d){d[d.Error=0]="Error",d[d.Warning=1]="Warning",d[d.Ignore=2]="Ignore"}(On||(On={}));const We=/-+([a-z0-9])/g;function St(d,e){return Mt(d,":",e)}function Mt(d,e,o){const c=d.indexOf(e);return-1==c?o:[d.slice(0,c).trim(),d.slice(c+1).trim()]}function lt(d){throw new Error(`Internal Error: ${d}`)}Object.getPrototypeOf({});function ut(d){let e=[];for(let o=0;o<d.length;o++){let c=d.charCodeAt(o);if(c>=55296&&c<=56319&&d.length>o+1){const y=d.charCodeAt(o+1);y>=56320&&y<=57343&&(o++,c=(c-55296<<10)+y-56320+65536)}c<=127?e.push(c):c<=2047?e.push(c>>6&31|192,63&c|128):c<=65535?e.push(c>>12|224,c>>6&63|128,63&c|128):c<=2097151&&e.push(c>>18&7|240,c>>12&63|128,c>>6&63|128,63&c|128)}return e}function It(d){if("string"==typeof d)return d;if(Array.isArray(d))return"["+d.map(It).join(", ")+"]";if(null==d)return""+d;if(d.overriddenName)return`${d.overriddenName}`;if(d.name)return`${d.name}`;if(!d.toString)return"object";const e=d.toString();if(null==e)return""+e;const o=e.indexOf("\n");return-1===o?e:e.substring(0,o)}const Fn="undefined"!=typeof window&&window,Hn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,kn="undefined"!=typeof global&&global||Fn||Hn;class $i{constructor(e){this.digits=e}static zero(){return new $i([0])}static one(){return new $i([1])}clone(){return new $i(this.digits.slice())}add(e){const o=this.clone();return o.addToSelf(e),o}addToSelf(e){const o=Math.max(this.digits.length,e.digits.length);let c=0;for(let y=0;y<o;y++){let H=c;y<this.digits.length&&(H+=this.digits[y]),y<e.digits.length&&(H+=e.digits[y]),H>=10?(this.digits[y]=H-10,c=1):(this.digits[y]=H,c=0)}c>0&&(this.digits[o]=1)}toString(){let e="";for(let o=this.digits.length-1;o>=0;o--)e+=this.digits[o];return e}}class kr{constructor(e){this.powerOfTwos=[e]}getValue(){return this.powerOfTwos[0]}multiplyBy(e){const o=$i.zero();return this.multiplyByAndAddTo(e,o),o}multiplyByAndAddTo(e,o){for(let c=0;0!==e;e>>>=1,c++)if(1&e){const y=this.getMultipliedByPowerOfTwo(c);o.addToSelf(y)}}getMultipliedByPowerOfTwo(e){for(let o=this.powerOfTwos.length;o<=e;o++){const c=this.powerOfTwos[o-1];this.powerOfTwos[o]=c.add(c)}return this.powerOfTwos[e]}}function rr(d){return function(d){const e=ut(d),o=function(d,e){const o=d.length+3>>>2,c=[];for(let y=0;y<o;y++)c[y]=Hi(d,4*y,e);return c}(e,di.Big),c=8*e.length,y=function(d,e){const o=[];for(let c=0;c<d;c++)o.push(e);return o}(80);let H=1732584193,re=4023233417,Ae=2562383102,Ke=271733878,st=3285377520;o[c>>5]|=128<<24-c%32,o[15+(c+64>>9<<4)]=c;for(let At=0;At<o.length;At+=16){const ln=H,Vn=re,Wn=Ae,pi=Ke,Ar=st;for(let Fi=0;Fi<80;Fi++){y[Fi]=Fi<16?o[At+Fi]:Qr(y[Fi-3]^y[Fi-8]^y[Fi-14]^y[Fi-16],1);const fr=Qe(Fi,re,Ae,Ke),Kr=fr[0],bo=fr[1],no=[Qr(H,5),Kr,st,bo,y[Fi]].reduce(zi);st=Ke,Ke=Ae,Ae=Qr(re,30),re=H,H=no}H=zi(H,ln),re=zi(re,Vn),Ae=zi(Ae,Wn),Ke=zi(Ke,pi),st=zi(st,Ar)}return function(d){let e="";for(let o=0;o<d.length;o++){const c=Us(d,o);e+=(c>>>4).toString(16)+(15&c).toString(16)}return e.toLowerCase()}(function(d){return d.reduce((e,o)=>e.concat(function(d){let e=[];for(let o=0;o<4;o++)e.push(d>>>8*(3-o)&255);return e}(o)),[])}([H,re,Ae,Ke,st]))}(function(d){return d.map(e=>e.visit(Hs,null))}(d.nodes).join("")+`[${d.meaning}]`)}function Xr(d){return d.id||es(d)}function es(d){const e=new Or;return mn(d.nodes.map(c=>c.visit(e,null)).join(""),d.meaning)}class Yi{visitText(e,o){return e.value}visitContainer(e,o){return`[${e.children.map(c=>c.visit(this)).join(", ")}]`}visitIcu(e,o){const c=Object.keys(e.cases).map(y=>`${y} {${e.cases[y].visit(this)}}`);return`{${e.expression}, ${e.type}, ${c.join(", ")}}`}visitTagPlaceholder(e,o){return e.isVoid?`<ph tag name="${e.startName}"/>`:`<ph tag name="${e.startName}">${e.children.map(c=>c.visit(this)).join(", ")}</ph name="${e.closeName}">`}visitPlaceholder(e,o){return e.value?`<ph name="${e.name}">${e.value}</ph>`:`<ph name="${e.name}"/>`}visitIcuPlaceholder(e,o){return`<ph icu name="${e.name}">${e.value.visit(this)}</ph>`}}const Hs=new Yi;class Or extends Yi{visitIcu(e,o){let c=Object.keys(e.cases).map(y=>`${y} {${e.cases[y].visit(this)}}`);return`{${e.type}, ${c.join(", ")}}`}}function Qe(d,e,o,c){return d<20?[e&o|~e&c,1518500249]:d<40?[e^o^c,1859775393]:d<60?[e&o|e&c|o&c,2400959708]:[e^o^c,3395469782]}function ft(d){const e=ut(d);let o=Wt(e,0),c=Wt(e,102072);return 0==o&&(0==c||1==c)&&(o^=319790063,c^=-1801410264),[o,c]}function mn(d,e=""){let o=ft(d);if(e){const H=ft(e);o=function(d,e){const o=d[0],c=d[1],y=e[0],H=e[1],re=_r(c,H),Ae=re[0],Ke=re[1];return[zi(zi(o,y),Ae),Ke]}(function(d,e){const o=d[0],c=d[1];return[o<<e|c>>>32-e,c<<e|o>>>32-e]}(o,1),H)}return function(d,e){const o=ts.toThePowerOf(0).multiplyBy(e);return ts.toThePowerOf(4).multiplyByAndAddTo(d,o),o.toString()}(2147483647&o[0],o[1])}function Wt(d,e){let y,o=2654435769,c=2654435769;const H=d.length;for(y=0;y+12<=H;y+=12){o=zi(o,Hi(d,y,di.Little)),c=zi(c,Hi(d,y+4,di.Little));const re=Di(o,c,e=zi(e,Hi(d,y+8,di.Little)));o=re[0],c=re[1],e=re[2]}return o=zi(o,Hi(d,y,di.Little)),c=zi(c,Hi(d,y+4,di.Little)),e=zi(e,H),Di(o,c,e=zi(e,Hi(d,y+8,di.Little)<<8))[2]}function Di(d,e,o){return d=sr(d,e),d=sr(d,o),d^=o>>>13,e=sr(e,o),e=sr(e,d),e^=d<<8,o=sr(o,d),o=sr(o,e),o^=e>>>13,d=sr(d,e),d=sr(d,o),d^=o>>>12,e=sr(e,o),e=sr(e,d),e^=d<<16,o=sr(o,d),o=sr(o,e),o^=e>>>5,d=sr(d,e),d=sr(d,o),d^=o>>>3,e=sr(e,o),e=sr(e,d),e^=d<<10,o=sr(o,d),o=sr(o,e),[d,e,o^=e>>>15]}var di;function zi(d,e){return _r(d,e)[1]}function _r(d,e){const o=(65535&d)+(65535&e),c=(d>>>16)+(e>>>16)+(o>>>16);return[c>>>16,c<<16|65535&o]}function sr(d,e){const o=(65535&d)-(65535&e);return(d>>16)-(e>>16)+(o>>16)<<16|65535&o}function Qr(d,e){return d<<e|d>>>32-e}function Us(d,e){return e>=d.length?0:d[e]}function Hi(d,e,o){let c=0;if(o===di.Big)for(let y=0;y<4;y++)c+=Us(d,e+y)<<24-8*y;else for(let y=0;y<4;y++)c+=Us(d,e+y)<<8*y;return c}!function(d){d[d.Little=0]="Little",d[d.Big=1]="Big"}(di||(di={}));const ts=new class{constructor(e){this.base=e,this.exponents=[new kr($i.one())]}toThePowerOf(e){for(let o=this.exponents.length;o<=e;o++){const c=this.exponents[o-1].multiplyBy(this.base);this.exponents[o]=new kr(c)}return this.exponents[e]}}(256);var Lr,or;!function(d){d[d.Const=0]="Const"}(Lr||(Lr={}));class ls{constructor(e=[]){this.modifiers=e}hasModifier(e){return-1!==this.modifiers.indexOf(e)}}!function(d){d[d.Dynamic=0]="Dynamic",d[d.Bool=1]="Bool",d[d.String=2]="String",d[d.Int=3]="Int",d[d.Number=4]="Number",d[d.Function=5]="Function",d[d.Inferred=6]="Inferred",d[d.None=7]="None"}(or||(or={}));class lr extends ls{constructor(e,o){super(o),this.name=e}visitType(e,o){return e.visitBuiltinType(this,o)}}class ns extends ls{constructor(e,o,c=null){super(o),this.value=e,this.typeParams=c}visitType(e,o){return e.visitExpressionType(this,o)}}const ji=new lr(or.Dynamic),Er=new lr(or.Inferred),Bi=new lr(or.Bool),ki=(new lr(or.Int),new lr(or.Number)),Rr=new lr(or.String),Et=(new lr(or.Function),new lr(or.None));var Rt,Tt,mi,he;function wn(d,e){return null==d||null==e?d==e:d.isEquivalent(e)}function In(d,e,o){const c=d.length;if(c!==e.length)return!1;for(let y=0;y<c;y++)if(!o(d[y],e[y]))return!1;return!0}function Qn(d,e){return In(d,e,(o,c)=>o.isEquivalent(c))}!function(d){d[d.Minus=0]="Minus",d[d.Plus=1]="Plus"}(Rt||(Rt={})),function(d){d[d.Equals=0]="Equals",d[d.NotEquals=1]="NotEquals",d[d.Identical=2]="Identical",d[d.NotIdentical=3]="NotIdentical",d[d.Minus=4]="Minus",d[d.Plus=5]="Plus",d[d.Divide=6]="Divide",d[d.Multiply=7]="Multiply",d[d.Modulo=8]="Modulo",d[d.And=9]="And",d[d.Or=10]="Or",d[d.BitwiseAnd=11]="BitwiseAnd",d[d.Lower=12]="Lower",d[d.LowerEquals=13]="LowerEquals",d[d.Bigger=14]="Bigger",d[d.BiggerEquals=15]="BiggerEquals",d[d.NullishCoalesce=16]="NullishCoalesce"}(Tt||(Tt={}));class $n{constructor(e,o){this.type=e||null,this.sourceSpan=o||null}prop(e,o){return new Eo(this,e,null,o)}key(e,o,c){return new Ls(this,e,o,c)}callFn(e,o,c){return new ke(this,e,null,o,c)}instantiate(e,o,c){return new Qt(this,e,o,c)}conditional(e,o=null,c){return new Gr(this,e,o,null,c)}equals(e,o){return new rs(Tt.Equals,this,e,null,o)}notEquals(e,o){return new rs(Tt.NotEquals,this,e,null,o)}identical(e,o){return new rs(Tt.Identical,this,e,null,o)}notIdentical(e,o){return new rs(Tt.NotIdentical,this,e,null,o)}minus(e,o){return new rs(Tt.Minus,this,e,null,o)}plus(e,o){return new rs(Tt.Plus,this,e,null,o)}divide(e,o){return new rs(Tt.Divide,this,e,null,o)}multiply(e,o){return new rs(Tt.Multiply,this,e,null,o)}modulo(e,o){return new rs(Tt.Modulo,this,e,null,o)}and(e,o){return new rs(Tt.And,this,e,null,o)}bitwiseAnd(e,o,c=!0){return new rs(Tt.BitwiseAnd,this,e,null,o,c)}or(e,o){return new rs(Tt.Or,this,e,null,o)}lower(e,o){return new rs(Tt.Lower,this,e,null,o)}lowerEquals(e,o){return new rs(Tt.LowerEquals,this,e,null,o)}bigger(e,o){return new rs(Tt.Bigger,this,e,null,o)}biggerEquals(e,o){return new rs(Tt.BiggerEquals,this,e,null,o)}isBlank(e){return this.equals(de,e)}cast(e,o){return new Vo(this,e,o)}nullishCoalesce(e,o){return new rs(Tt.NullishCoalesce,this,e,null,o)}toStmt(){return new En(this,null)}}!function(d){d[d.This=0]="This",d[d.Super=1]="Super",d[d.CatchError=2]="CatchError",d[d.CatchStack=3]="CatchStack"}(mi||(mi={}));class xi extends $n{constructor(e,o,c){super(o,c),"string"==typeof e?(this.name=e,this.builtin=null):(this.name=null,this.builtin=e)}isEquivalent(e){return e instanceof xi&&this.name===e.name&&this.builtin===e.builtin}isConstant(){return!1}visitExpression(e,o){return e.visitReadVarExpr(this,o)}set(e){if(!this.name)throw new Error(`Built in variable ${this.builtin} can not be assigned to.`);return new Wr(this.name,e,null,this.sourceSpan)}}class Ri extends $n{constructor(e,o,c){super(o,c),this.expr=e}visitExpression(e,o){return e.visitTypeofExpr(this,o)}isEquivalent(e){return e instanceof Ri&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}}class Mi extends $n{constructor(e,o,c){super(o,c),this.node=e}isEquivalent(e){return e instanceof Mi&&this.node===e.node}isConstant(){return!1}visitExpression(e,o){return e.visitWrappedNodeExpr(this,o)}}class Wr extends $n{constructor(e,o,c,y){super(c||o.type,y),this.name=e,this.value=o}isEquivalent(e){return e instanceof Wr&&this.name===e.name&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,o){return e.visitWriteVarExpr(this,o)}toDeclStmt(e,o){return new et(this.name,this.value,e,o,this.sourceSpan)}toConstDecl(){return this.toDeclStmt(Er,[P.Final])}}class Is extends $n{constructor(e,o,c,y,H){super(y||c.type,H),this.receiver=e,this.index=o,this.value=c}isEquivalent(e){return e instanceof Is&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,o){return e.visitWriteKeyExpr(this,o)}}class Vt extends $n{constructor(e,o,c,y,H){super(y||c.type,H),this.receiver=e,this.name=o,this.value=c}isEquivalent(e){return e instanceof Vt&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,o){return e.visitWritePropExpr(this,o)}}!function(d){d[d.ConcatArray=0]="ConcatArray",d[d.SubscribeObservable=1]="SubscribeObservable",d[d.Bind=2]="Bind"}(he||(he={}));class ke extends $n{constructor(e,o,c,y,H=!1){super(c,y),this.fn=e,this.args=o,this.pure=H}isEquivalent(e){return e instanceof ke&&this.fn.isEquivalent(e.fn)&&Qn(this.args,e.args)&&this.pure===e.pure}isConstant(){return!1}visitExpression(e,o){return e.visitInvokeFunctionExpr(this,o)}}class vt extends $n{constructor(e,o,c,y){super(c,y),this.tag=e,this.template=o}isEquivalent(e){return e instanceof vt&&this.tag.isEquivalent(e.tag)&&In(this.template.elements,e.template.elements,(o,c)=>o.text===c.text)&&Qn(this.template.expressions,e.template.expressions)}isConstant(){return!1}visitExpression(e,o){return e.visitTaggedTemplateExpr(this,o)}}class Qt extends $n{constructor(e,o,c,y){super(c,y),this.classExpr=e,this.args=o}isEquivalent(e){return e instanceof Qt&&this.classExpr.isEquivalent(e.classExpr)&&Qn(this.args,e.args)}isConstant(){return!1}visitExpression(e,o){return e.visitInstantiateExpr(this,o)}}class yn extends $n{constructor(e,o,c){super(o,c),this.value=e}isEquivalent(e){return e instanceof yn&&this.value===e.value}isConstant(){return!0}visitExpression(e,o){return e.visitLiteralExpr(this,o)}}class ui{constructor(e,o){this.elements=e,this.expressions=o}}class Oi{constructor(e,o,c){var y;this.text=e,this.sourceSpan=o,this.rawText=null!==(y=null!=c?c:null==o?void 0:o.toString())&&void 0!==y?y:gs(Fs(e))}}class Dr{constructor(e,o){this.text=e,this.sourceSpan=o}}class si{constructor(e,o,c){this.text=e,this.sourceSpan=o,this.associatedMessage=c}}class Cr extends $n{constructor(e,o,c,y,H){super(Rr,H),this.metaBlock=e,this.messageParts=o,this.placeHolderNames=c,this.expressions=y}isEquivalent(e){return!1}isConstant(){return!1}visitExpression(e,o){return e.visitLocalizedString(this,o)}serializeI18nHead(){let e=this.metaBlock.description||"";return this.metaBlock.meaning&&(e=`${this.metaBlock.meaning}|${e}`),this.metaBlock.customId&&(e=`${e}@@${this.metaBlock.customId}`),this.metaBlock.legacyIds&&this.metaBlock.legacyIds.forEach(o=>{e=`${e}\u241f${o}`}),ys(e,this.messageParts[0].text,this.getMessagePartSourceSpan(0))}getMessagePartSourceSpan(e){var o,c;return null!==(c=null===(o=this.messageParts[e])||void 0===o?void 0:o.sourceSpan)&&void 0!==c?c:this.sourceSpan}getPlaceholderSourceSpan(e){var o,c,y,H;return null!==(H=null!==(c=null===(o=this.placeHolderNames[e])||void 0===o?void 0:o.sourceSpan)&&void 0!==c?c:null===(y=this.expressions[e])||void 0===y?void 0:y.sourceSpan)&&void 0!==H?H:this.sourceSpan}serializeI18nTemplatePart(e){var o;const c=this.placeHolderNames[e-1],y=this.messageParts[e];let H=c.text;return 0===(null===(o=c.associatedMessage)||void 0===o?void 0:o.legacyIds.length)&&(H+=`@@${mn(c.associatedMessage.messageString,c.associatedMessage.meaning)}`),ys(H,y.text,this.getMessagePartSourceSpan(e))}}const Fs=d=>d.replace(/\\/g,"\\\\"),Br=d=>d.replace(/^:/,"\\:"),eo=d=>d.replace(/:/g,"\\:"),gs=d=>d.replace(/`/g,"\\`").replace(/\${/g,"$\\{");function ys(d,e,o){return""===d?{cooked:e,raw:gs(Br(Fs(e))),range:o}:{cooked:`:${d}:${e}`,raw:gs(`:${eo(Fs(d))}:${Fs(e)}`),range:o}}class zr extends $n{constructor(e,o,c=null,y){super(o,y),this.value=e,this.typeParams=c}isEquivalent(e){return e instanceof zr&&this.value.name===e.value.name&&this.value.moduleName===e.value.moduleName&&this.value.runtime===e.value.runtime}isConstant(){return!1}visitExpression(e,o){return e.visitExternalExpr(this,o)}}class Gr extends $n{constructor(e,o,c=null,y,H){super(y||o.type,H),this.condition=e,this.falseCase=c,this.trueCase=o}isEquivalent(e){return e instanceof Gr&&this.condition.isEquivalent(e.condition)&&this.trueCase.isEquivalent(e.trueCase)&&wn(this.falseCase,e.falseCase)}isConstant(){return!1}visitExpression(e,o){return e.visitConditionalExpr(this,o)}}class ur extends $n{constructor(e,o){super(Bi,o),this.condition=e}isEquivalent(e){return e instanceof ur&&this.condition.isEquivalent(e.condition)}isConstant(){return!1}visitExpression(e,o){return e.visitNotExpr(this,o)}}class io extends $n{constructor(e,o){super(e.type,o),this.condition=e}isEquivalent(e){return e instanceof io&&this.condition.isEquivalent(e.condition)}isConstant(){return!1}visitExpression(e,o){return e.visitAssertNotNullExpr(this,o)}}class Vo extends $n{constructor(e,o,c){super(o,c),this.value=e}isEquivalent(e){return e instanceof Vo&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,o){return e.visitCastExpr(this,o)}}class qr{constructor(e,o=null){this.name=e,this.type=o}isEquivalent(e){return this.name===e.name}}class Ho extends $n{constructor(e,o,c,y,H){super(c,y),this.params=e,this.statements=o,this.name=H}isEquivalent(e){return e instanceof Ho&&Qn(this.params,e.params)&&Qn(this.statements,e.statements)}isConstant(){return!1}visitExpression(e,o){return e.visitFunctionExpr(this,o)}toDeclStmt(e,o){return new hn(e,this.params,this.statements,this.type,o,this.sourceSpan)}}class to extends $n{constructor(e,o,c,y,H=!0){super(c||ki,y),this.operator=e,this.expr=o,this.parens=H}isEquivalent(e){return e instanceof to&&this.operator===e.operator&&this.expr.isEquivalent(e.expr)}isConstant(){return!1}visitExpression(e,o){return e.visitUnaryOperatorExpr(this,o)}}class rs extends $n{constructor(e,o,c,y,H,re=!0){super(y||o.type,H),this.operator=e,this.rhs=c,this.parens=re,this.lhs=o}isEquivalent(e){return e instanceof rs&&this.operator===e.operator&&this.lhs.isEquivalent(e.lhs)&&this.rhs.isEquivalent(e.rhs)}isConstant(){return!1}visitExpression(e,o){return e.visitBinaryOperatorExpr(this,o)}}class Eo extends $n{constructor(e,o,c,y){super(c,y),this.receiver=e,this.name=o}isEquivalent(e){return e instanceof Eo&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name}isConstant(){return!1}visitExpression(e,o){return e.visitReadPropExpr(this,o)}set(e){return new Vt(this.receiver,this.name,e,null,this.sourceSpan)}}class Ls extends $n{constructor(e,o,c,y){super(c,y),this.receiver=e,this.index=o}isEquivalent(e){return e instanceof Ls&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)}isConstant(){return!1}visitExpression(e,o){return e.visitReadKeyExpr(this,o)}set(e){return new Is(this.receiver,this.index,e,null,this.sourceSpan)}}class R extends $n{constructor(e,o,c){super(o,c),this.entries=e}isConstant(){return this.entries.every(e=>e.isConstant())}isEquivalent(e){return e instanceof R&&Qn(this.entries,e.entries)}visitExpression(e,o){return e.visitLiteralArrayExpr(this,o)}}class Q{constructor(e,o,c){this.key=e,this.value=o,this.quoted=c}isEquivalent(e){return this.key===e.key&&this.value.isEquivalent(e.value)}}class ue extends $n{constructor(e,o,c){super(o,c),this.entries=e,this.valueType=null,o&&(this.valueType=o.valueType)}isEquivalent(e){return e instanceof ue&&Qn(this.entries,e.entries)}isConstant(){return this.entries.every(e=>e.value.isConstant())}visitExpression(e,o){return e.visitLiteralMapExpr(this,o)}}new xi(mi.This,null,null),new xi(mi.Super,null,null),new xi(mi.CatchError,null,null),new xi(mi.CatchStack,null,null);const Lt=new yn(null,null,null),de=new yn(null,Er,null);var P;!function(d){d[d.Final=0]="Final",d[d.Private=1]="Private",d[d.Exported=2]="Exported",d[d.Static=3]="Static"}(P||(P={}));class O{constructor(e,o,c){this.text=e,this.multiline=o,this.trailingNewline=c}toString(){return this.multiline?` ${this.text} `:this.text}}class Z extends O{constructor(e){super("",!0,!0),this.tags=e}toString(){return function(d){if(0===d.length)return"";if(1===d.length&&d[0].tagName&&!d[0].text)return`*${ii(d[0])} `;let e="*\n";for(const o of d)e+=" *",e+=ii(o).replace(/\n/g,"\n * "),e+="\n";return e+=" ",e}(this.tags)}}class Me{constructor(e=[],o=null,c){this.modifiers=e,this.sourceSpan=o,this.leadingComments=c}hasModifier(e){return-1!==this.modifiers.indexOf(e)}addLeadingComment(e){var o;this.leadingComments=null!==(o=this.leadingComments)&&void 0!==o?o:[],this.leadingComments.push(e)}}class et extends Me{constructor(e,o,c,y,H,re){super(y,H,re),this.name=e,this.value=o,this.type=c||o&&o.type||null}isEquivalent(e){return e instanceof et&&this.name===e.name&&(this.value?!!e.value&&this.value.isEquivalent(e.value):!e.value)}visitStatement(e,o){return e.visitDeclareVarStmt(this,o)}}class hn extends Me{constructor(e,o,c,y,H,re,Ae){super(H,re,Ae),this.name=e,this.params=o,this.statements=c,this.type=y||null}isEquivalent(e){return e instanceof hn&&Qn(this.params,e.params)&&Qn(this.statements,e.statements)}visitStatement(e,o){return e.visitDeclareFunctionStmt(this,o)}}class En extends Me{constructor(e,o,c){super([],o,c),this.expr=e}isEquivalent(e){return e instanceof En&&this.expr.isEquivalent(e.expr)}visitStatement(e,o){return e.visitExpressionStmt(this,o)}}class vi extends Me{constructor(e,o=null,c){super([],o,c),this.value=e}isEquivalent(e){return e instanceof vi&&this.value.isEquivalent(e.value)}visitStatement(e,o){return e.visitReturnStmt(this,o)}}class Ji extends Me{constructor(e,o,c=[],y,H){super([],y,H),this.condition=e,this.trueCase=o,this.falseCase=c}isEquivalent(e){return e instanceof Ji&&this.condition.isEquivalent(e.condition)&&Qn(this.trueCase,e.trueCase)&&Qn(this.falseCase,e.falseCase)}visitStatement(e,o){return e.visitIfStmt(this,o)}}function za(d=[]){return new Z(d)}function bi(d,e,o){return new xi(d,e,o)}function li(d,e=null,o){return new zr(d,null,e,o)}function qs(d,e,o){return new ns(d,e,o)}function ol(d){return new Ri(d)}function Ki(d,e,o){return new R(d,e,o)}function Ys(d,e=null){return new ue(d.map(o=>new Q(o.key,o.value,o.quoted)),e,null)}function K(d,e){return new ur(d,e)}function fe(d,e){return new io(d,e)}function Be(d,e,o,c,y){return new Ho(d,e,o,c,y)}function ot(d,e,o,c,y){return new Ji(d,e,o,c,y)}function Gt(d,e,o,c){return new vt(d,e,o,c)}function yt(d,e,o){return new yn(d,e,o)}function Ln(d,e,o,c,y){return new Cr(d,e,o,c,y)}function qn(d){return d instanceof yn&&null===d.value}function ii(d){let e="";if(d.tagName&&(e+=` @${d.tagName}`),d.text){if(d.text.match(/\/\*|\*\//))throw new Error('JSDoc text cannot contain "/*" and "*/"');e+=" "+d.text.replace(/@/g,"\\@")}return e}const Ui=bi("<unknown>"),ms={};class Qs extends $n{constructor(e){super(e.type),this.resolved=e,this.original=e}visitExpression(e,o){return o===ms?this.original.visitExpression(e,o):this.resolved.visitExpression(e,o)}isEquivalent(e){return e instanceof Qs&&this.resolved.isEquivalent(e.resolved)}isConstant(){return!0}fixup(e){this.resolved=e,this.shared=!0}}class Yr{constructor(e=!1){this.isClosureCompilerEnabled=e,this.statements=[],this.literals=new Map,this.literalFactories=new Map,this.injectorDefinitions=new Map,this.directiveDefinitions=new Map,this.componentDefinitions=new Map,this.pipeDefinitions=new Map,this.nextNameIndex=0}getConstLiteral(e,o){if(e instanceof yn&&!al(e)||e instanceof Qs)return e;const c=this.keyOf(e);let y=this.literals.get(c),H=!1;if(y||(y=new Qs(e),this.literals.set(c,y),H=!0),!H&&!y.shared||H&&o){const re=this.freshName();let Ae,Ke;this.isClosureCompilerEnabled&&al(e)?(Ae=bi(re).set(new Ho([],[new vi(e)])),Ke=bi(re).callFn([])):(Ae=bi(re).set(e),Ke=bi(re)),this.statements.push(Ae.toDeclStmt(Er,[P.Final])),y.fixup(Ke)}return y}getDefinition(e,o,c,y=!1){const H=this.definitionsOf(o);let re=H.get(e),Ae=!1;if(!re){const Ke=this.propertyNameOf(o);re=new Qs(c.importExpr(e).prop(Ke)),H.set(e,re),Ae=!0}if(!Ae&&!re.shared||Ae&&y){const Ke=this.freshName();this.statements.push(bi(Ke).set(re.resolved).toDeclStmt(Er,[P.Final])),re.fixup(bi(Ke))}return re}getLiteralFactory(e){if(e instanceof R){const o=e.entries.map(y=>y.isConstant()?y:Ui),c=this.keyOf(Ki(o));return this._getLiteralFactory(c,e.entries,y=>Ki(y))}{const o=Ys(e.entries.map(y=>({key:y.key,value:y.value.isConstant()?y.value:Ui,quoted:y.quoted}))),c=this.keyOf(o);return this._getLiteralFactory(c,e.entries.map(y=>y.value),y=>Ys(y.map((H,re)=>({key:e.entries[re].key,value:H,quoted:e.entries[re].quoted}))))}}_getLiteralFactory(e,o,c){let y=this.literalFactories.get(e);const H=o.filter(re=>!re.isConstant());if(!y){const re=o.map((At,ln)=>At.isConstant()?this.getConstLiteral(At,!0):bi(`a${ln}`)),Ke=Be(re.filter(sa).map(At=>new qr(At.name,ji)),[new vi(c(re))],Er),st=this.freshName();this.statements.push(bi(st).set(Ke).toDeclStmt(Er,[P.Final])),y=bi(st),this.literalFactories.set(e,y)}return{literalFactory:y,literalFactoryArguments:H}}uniqueName(e){return`${e}${this.nextNameIndex++}`}definitionsOf(e){switch(e){case 2:return this.componentDefinitions;case 1:return this.directiveDefinitions;case 0:return this.injectorDefinitions;case 3:return this.pipeDefinitions}}propertyNameOf(e){switch(e){case 2:return"\u0275cmp";case 1:return"\u0275dir";case 0:return"\u0275inj";case 3:return"\u0275pipe"}}freshName(){return this.uniqueName("_c")}keyOf(e){return e.visitExpression(new Io,ms)}}class Io{constructor(){this.visitWrappedNodeExpr=Ur,this.visitWriteVarExpr=Ur,this.visitWriteKeyExpr=Ur,this.visitWritePropExpr=Ur,this.visitInvokeFunctionExpr=Ur,this.visitTaggedTemplateExpr=Ur,this.visitInstantiateExpr=Ur,this.visitConditionalExpr=Ur,this.visitNotExpr=Ur,this.visitAssertNotNullExpr=Ur,this.visitCastExpr=Ur,this.visitFunctionExpr=Ur,this.visitUnaryOperatorExpr=Ur,this.visitBinaryOperatorExpr=Ur,this.visitReadPropExpr=Ur,this.visitReadKeyExpr=Ur,this.visitCommaExpr=Ur,this.visitLocalizedString=Ur}visitLiteralExpr(e){return`${"string"==typeof e.value?'"'+e.value+'"':e.value}`}visitLiteralArrayExpr(e,o){return`[${e.entries.map(c=>c.visitExpression(this,o)).join(",")}]`}visitLiteralMapExpr(e,o){return`{${e.entries.map(H=>`${(H=>{const re=H.quoted?'"':"";return`${re}${H.key}${re}`})(H)}:${H.value.visitExpression(this,o)}`).join(",")}`}visitExternalExpr(e){return e.value.moduleName?`EX:${e.value.moduleName}:${e.value.name}`:`EX:${e.value.runtime.name}`}visitReadVarExpr(e){return`VAR:${e.name}`}visitTypeofExpr(e,o){return`TYPEOF:${e.expr.visitExpression(this,o)}`}}function Ur(d){throw new Error(`Invalid state: Visitor ${this.constructor.name} doesn't handle ${d.constructor.name}`)}function sa(d){return d instanceof xi}function al(d){return d instanceof yn&&"string"==typeof d.value&&d.value.length>=50}const pn="@angular/core";class it{}it.NEW_METHOD="factory",it.TRANSFORM_METHOD="transform",it.PATCH_DEPS="patchedDeps",it.core={name:null,moduleName:pn},it.namespaceHTML={name:"\u0275\u0275namespaceHTML",moduleName:pn},it.namespaceMathML={name:"\u0275\u0275namespaceMathML",moduleName:pn},it.namespaceSVG={name:"\u0275\u0275namespaceSVG",moduleName:pn},it.element={name:"\u0275\u0275element",moduleName:pn},it.elementStart={name:"\u0275\u0275elementStart",moduleName:pn},it.elementEnd={name:"\u0275\u0275elementEnd",moduleName:pn},it.advance={name:"\u0275\u0275advance",moduleName:pn},it.syntheticHostProperty={name:"\u0275\u0275syntheticHostProperty",moduleName:pn},it.syntheticHostListener={name:"\u0275\u0275syntheticHostListener",moduleName:pn},it.attribute={name:"\u0275\u0275attribute",moduleName:pn},it.attributeInterpolate1={name:"\u0275\u0275attributeInterpolate1",moduleName:pn},it.attributeInterpolate2={name:"\u0275\u0275attributeInterpolate2",moduleName:pn},it.attributeInterpolate3={name:"\u0275\u0275attributeInterpolate3",moduleName:pn},it.attributeInterpolate4={name:"\u0275\u0275attributeInterpolate4",moduleName:pn},it.attributeInterpolate5={name:"\u0275\u0275attributeInterpolate5",moduleName:pn},it.attributeInterpolate6={name:"\u0275\u0275attributeInterpolate6",moduleName:pn},it.attributeInterpolate7={name:"\u0275\u0275attributeInterpolate7",moduleName:pn},it.attributeInterpolate8={name:"\u0275\u0275attributeInterpolate8",moduleName:pn},it.attributeInterpolateV={name:"\u0275\u0275attributeInterpolateV",moduleName:pn},it.classProp={name:"\u0275\u0275classProp",moduleName:pn},it.elementContainerStart={name:"\u0275\u0275elementContainerStart",moduleName:pn},it.elementContainerEnd={name:"\u0275\u0275elementContainerEnd",moduleName:pn},it.elementContainer={name:"\u0275\u0275elementContainer",moduleName:pn},it.styleMap={name:"\u0275\u0275styleMap",moduleName:pn},it.styleMapInterpolate1={name:"\u0275\u0275styleMapInterpolate1",moduleName:pn},it.styleMapInterpolate2={name:"\u0275\u0275styleMapInterpolate2",moduleName:pn},it.styleMapInterpolate3={name:"\u0275\u0275styleMapInterpolate3",moduleName:pn},it.styleMapInterpolate4={name:"\u0275\u0275styleMapInterpolate4",moduleName:pn},it.styleMapInterpolate5={name:"\u0275\u0275styleMapInterpolate5",moduleName:pn},it.styleMapInterpolate6={name:"\u0275\u0275styleMapInterpolate6",moduleName:pn},it.styleMapInterpolate7={name:"\u0275\u0275styleMapInterpolate7",moduleName:pn},it.styleMapInterpolate8={name:"\u0275\u0275styleMapInterpolate8",moduleName:pn},it.styleMapInterpolateV={name:"\u0275\u0275styleMapInterpolateV",moduleName:pn},it.classMap={name:"\u0275\u0275classMap",moduleName:pn},it.classMapInterpolate1={name:"\u0275\u0275classMapInterpolate1",moduleName:pn},it.classMapInterpolate2={name:"\u0275\u0275classMapInterpolate2",moduleName:pn},it.classMapInterpolate3={name:"\u0275\u0275classMapInterpolate3",moduleName:pn},it.classMapInterpolate4={name:"\u0275\u0275classMapInterpolate4",moduleName:pn},it.classMapInterpolate5={name:"\u0275\u0275classMapInterpolate5",moduleName:pn},it.classMapInterpolate6={name:"\u0275\u0275classMapInterpolate6",moduleName:pn},it.classMapInterpolate7={name:"\u0275\u0275classMapInterpolate7",moduleName:pn},it.classMapInterpolate8={name:"\u0275\u0275classMapInterpolate8",moduleName:pn},it.classMapInterpolateV={name:"\u0275\u0275classMapInterpolateV",moduleName:pn},it.styleProp={name:"\u0275\u0275styleProp",moduleName:pn},it.stylePropInterpolate1={name:"\u0275\u0275stylePropInterpolate1",moduleName:pn},it.stylePropInterpolate2={name:"\u0275\u0275stylePropInterpolate2",moduleName:pn},it.stylePropInterpolate3={name:"\u0275\u0275stylePropInterpolate3",moduleName:pn},it.stylePropInterpolate4={name:"\u0275\u0275stylePropInterpolate4",moduleName:pn},it.stylePropInterpolate5={name:"\u0275\u0275stylePropInterpolate5",moduleName:pn},it.stylePropInterpolate6={name:"\u0275\u0275stylePropInterpolate6",moduleName:pn},it.stylePropInterpolate7={name:"\u0275\u0275stylePropInterpolate7",moduleName:pn},it.stylePropInterpolate8={name:"\u0275\u0275stylePropInterpolate8",moduleName:pn},it.stylePropInterpolateV={name:"\u0275\u0275stylePropInterpolateV",moduleName:pn},it.nextContext={name:"\u0275\u0275nextContext",moduleName:pn},it.templateCreate={name:"\u0275\u0275template",moduleName:pn},it.text={name:"\u0275\u0275text",moduleName:pn},it.enableBindings={name:"\u0275\u0275enableBindings",moduleName:pn},it.disableBindings={name:"\u0275\u0275disableBindings",moduleName:pn},it.getCurrentView={name:"\u0275\u0275getCurrentView",moduleName:pn},it.textInterpolate={name:"\u0275\u0275textInterpolate",moduleName:pn},it.textInterpolate1={name:"\u0275\u0275textInterpolate1",moduleName:pn},it.textInterpolate2={name:"\u0275\u0275textInterpolate2",moduleName:pn},it.textInterpolate3={name:"\u0275\u0275textInterpolate3",moduleName:pn},it.textInterpolate4={name:"\u0275\u0275textInterpolate4",moduleName:pn},it.textInterpolate5={name:"\u0275\u0275textInterpolate5",moduleName:pn},it.textInterpolate6={name:"\u0275\u0275textInterpolate6",moduleName:pn},it.textInterpolate7={name:"\u0275\u0275textInterpolate7",moduleName:pn},it.textInterpolate8={name:"\u0275\u0275textInterpolate8",moduleName:pn},it.textInterpolateV={name:"\u0275\u0275textInterpolateV",moduleName:pn},it.restoreView={name:"\u0275\u0275restoreView",moduleName:pn},it.pureFunction0={name:"\u0275\u0275pureFunction0",moduleName:pn},it.pureFunction1={name:"\u0275\u0275pureFunction1",moduleName:pn},it.pureFunction2={name:"\u0275\u0275pureFunction2",moduleName:pn},it.pureFunction3={name:"\u0275\u0275pureFunction3",moduleName:pn},it.pureFunction4={name:"\u0275\u0275pureFunction4",moduleName:pn},it.pureFunction5={name:"\u0275\u0275pureFunction5",moduleName:pn},it.pureFunction6={name:"\u0275\u0275pureFunction6",moduleName:pn},it.pureFunction7={name:"\u0275\u0275pureFunction7",moduleName:pn},it.pureFunction8={name:"\u0275\u0275pureFunction8",moduleName:pn},it.pureFunctionV={name:"\u0275\u0275pureFunctionV",moduleName:pn},it.pipeBind1={name:"\u0275\u0275pipeBind1",moduleName:pn},it.pipeBind2={name:"\u0275\u0275pipeBind2",moduleName:pn},it.pipeBind3={name:"\u0275\u0275pipeBind3",moduleName:pn},it.pipeBind4={name:"\u0275\u0275pipeBind4",moduleName:pn},it.pipeBindV={name:"\u0275\u0275pipeBindV",moduleName:pn},it.hostProperty={name:"\u0275\u0275hostProperty",moduleName:pn},it.property={name:"\u0275\u0275property",moduleName:pn},it.propertyInterpolate={name:"\u0275\u0275propertyInterpolate",moduleName:pn},it.propertyInterpolate1={name:"\u0275\u0275propertyInterpolate1",moduleName:pn},it.propertyInterpolate2={name:"\u0275\u0275propertyInterpolate2",moduleName:pn},it.propertyInterpolate3={name:"\u0275\u0275propertyInterpolate3",moduleName:pn},it.propertyInterpolate4={name:"\u0275\u0275propertyInterpolate4",moduleName:pn},it.propertyInterpolate5={name:"\u0275\u0275propertyInterpolate5",moduleName:pn},it.propertyInterpolate6={name:"\u0275\u0275propertyInterpolate6",moduleName:pn},it.propertyInterpolate7={name:"\u0275\u0275propertyInterpolate7",moduleName:pn},it.propertyInterpolate8={name:"\u0275\u0275propertyInterpolate8",moduleName:pn},it.propertyInterpolateV={name:"\u0275\u0275propertyInterpolateV",moduleName:pn},it.i18n={name:"\u0275\u0275i18n",moduleName:pn},it.i18nAttributes={name:"\u0275\u0275i18nAttributes",moduleName:pn},it.i18nExp={name:"\u0275\u0275i18nExp",moduleName:pn},it.i18nStart={name:"\u0275\u0275i18nStart",moduleName:pn},it.i18nEnd={name:"\u0275\u0275i18nEnd",moduleName:pn},it.i18nApply={name:"\u0275\u0275i18nApply",moduleName:pn},it.i18nPostprocess={name:"\u0275\u0275i18nPostprocess",moduleName:pn},it.pipe={name:"\u0275\u0275pipe",moduleName:pn},it.projection={name:"\u0275\u0275projection",moduleName:pn},it.projectionDef={name:"\u0275\u0275projectionDef",moduleName:pn},it.reference={name:"\u0275\u0275reference",moduleName:pn},it.inject={name:"\u0275\u0275inject",moduleName:pn},it.injectAttribute={name:"\u0275\u0275injectAttribute",moduleName:pn},it.directiveInject={name:"\u0275\u0275directiveInject",moduleName:pn},it.invalidFactory={name:"\u0275\u0275invalidFactory",moduleName:pn},it.invalidFactoryDep={name:"\u0275\u0275invalidFactoryDep",moduleName:pn},it.templateRefExtractor={name:"\u0275\u0275templateRefExtractor",moduleName:pn},it.forwardRef={name:"forwardRef",moduleName:pn},it.resolveForwardRef={name:"resolveForwardRef",moduleName:pn},it.\u0275\u0275defineInjectable={name:"\u0275\u0275defineInjectable",moduleName:pn},it.declareInjectable={name:"\u0275\u0275ngDeclareInjectable",moduleName:pn},it.InjectableDeclaration={name:"\u0275\u0275InjectableDeclaration",moduleName:pn},it.resolveWindow={name:"\u0275\u0275resolveWindow",moduleName:pn},it.resolveDocument={name:"\u0275\u0275resolveDocument",moduleName:pn},it.resolveBody={name:"\u0275\u0275resolveBody",moduleName:pn},it.defineComponent={name:"\u0275\u0275defineComponent",moduleName:pn},it.declareComponent={name:"\u0275\u0275ngDeclareComponent",moduleName:pn},it.setComponentScope={name:"\u0275\u0275setComponentScope",moduleName:pn},it.ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleName:pn},it.ViewEncapsulation={name:"ViewEncapsulation",moduleName:pn},it.ComponentDeclaration={name:"\u0275\u0275ComponentDeclaration",moduleName:pn},it.FactoryDeclaration={name:"\u0275\u0275FactoryDeclaration",moduleName:pn},it.declareFactory={name:"\u0275\u0275ngDeclareFactory",moduleName:pn},it.FactoryTarget={name:"\u0275\u0275FactoryTarget",moduleName:pn},it.defineDirective={name:"\u0275\u0275defineDirective",moduleName:pn},it.declareDirective={name:"\u0275\u0275ngDeclareDirective",moduleName:pn},it.DirectiveDeclaration={name:"\u0275\u0275DirectiveDeclaration",moduleName:pn},it.InjectorDef={name:"\u0275\u0275InjectorDef",moduleName:pn},it.InjectorDeclaration={name:"\u0275\u0275InjectorDeclaration",moduleName:pn},it.defineInjector={name:"\u0275\u0275defineInjector",moduleName:pn},it.declareInjector={name:"\u0275\u0275ngDeclareInjector",moduleName:pn},it.NgModuleDeclaration={name:"\u0275\u0275NgModuleDeclaration",moduleName:pn},it.ModuleWithProviders={name:"ModuleWithProviders",moduleName:pn},it.defineNgModule={name:"\u0275\u0275defineNgModule",moduleName:pn},it.declareNgModule={name:"\u0275\u0275ngDeclareNgModule",moduleName:pn},it.setNgModuleScope={name:"\u0275\u0275setNgModuleScope",moduleName:pn},it.PipeDeclaration={name:"\u0275\u0275PipeDeclaration",moduleName:pn},it.definePipe={name:"\u0275\u0275definePipe",moduleName:pn},it.declarePipe={name:"\u0275\u0275ngDeclarePipe",moduleName:pn},it.declareClassMetadata={name:"\u0275\u0275ngDeclareClassMetadata",moduleName:pn},it.setClassMetadata={name:"\u0275setClassMetadata",moduleName:pn},it.queryRefresh={name:"\u0275\u0275queryRefresh",moduleName:pn},it.viewQuery={name:"\u0275\u0275viewQuery",moduleName:pn},it.loadQuery={name:"\u0275\u0275loadQuery",moduleName:pn},it.contentQuery={name:"\u0275\u0275contentQuery",moduleName:pn},it.NgOnChangesFeature={name:"\u0275\u0275NgOnChangesFeature",moduleName:pn},it.InheritDefinitionFeature={name:"\u0275\u0275InheritDefinitionFeature",moduleName:pn},it.CopyDefinitionFeature={name:"\u0275\u0275CopyDefinitionFeature",moduleName:pn},it.ProvidersFeature={name:"\u0275\u0275ProvidersFeature",moduleName:pn},it.listener={name:"\u0275\u0275listener",moduleName:pn},it.getInheritedFactory={name:"\u0275\u0275getInheritedFactory",moduleName:pn},it.sanitizeHtml={name:"\u0275\u0275sanitizeHtml",moduleName:pn},it.sanitizeStyle={name:"\u0275\u0275sanitizeStyle",moduleName:pn},it.sanitizeResourceUrl={name:"\u0275\u0275sanitizeResourceUrl",moduleName:pn},it.sanitizeScript={name:"\u0275\u0275sanitizeScript",moduleName:pn},it.sanitizeUrl={name:"\u0275\u0275sanitizeUrl",moduleName:pn},it.sanitizeUrlOrResourceUrl={name:"\u0275\u0275sanitizeUrlOrResourceUrl",moduleName:pn},it.trustConstantHtml={name:"\u0275\u0275trustConstantHtml",moduleName:pn},it.trustConstantResourceUrl={name:"\u0275\u0275trustConstantResourceUrl",moduleName:pn};class ks{constructor(e=null){this.file=e,this.sourcesContent=new Map,this.lines=[],this.lastCol0=0,this.hasMappings=!1}addSource(e,o=null){return this.sourcesContent.has(e)||this.sourcesContent.set(e,o),this}addLine(){return this.lines.push([]),this.lastCol0=0,this}addMapping(e,o,c,y){if(!this.currentLine)throw new Error("A line must be added before mappings can be added");if(null!=o&&!this.sourcesContent.has(o))throw new Error(`Unknown source file "${o}"`);if(null==e)throw new Error("The column in the generated code must be provided");if(e<this.lastCol0)throw new Error("Mapping should be added in output order");if(o&&(null==c||null==y))throw new Error("The source location must be provided when a source url is provided");return this.hasMappings=!0,this.lastCol0=e,this.currentLine.push({col0:e,sourceUrl:o,sourceLine0:c,sourceCol0:y}),this}get currentLine(){return this.lines.slice(-1)[0]}toJSON(){if(!this.hasMappings)return null;const e=new Map,o=[],c=[];Array.from(this.sourcesContent.keys()).forEach((st,At)=>{e.set(st,At),o.push(st),c.push(this.sourcesContent.get(st)||null)});let y="",H=0,re=0,Ae=0,Ke=0;return this.lines.forEach(st=>{H=0,y+=st.map(At=>{let ln=Rn(At.col0-H);return H=At.col0,null!=At.sourceUrl&&(ln+=Rn(e.get(At.sourceUrl)-re),re=e.get(At.sourceUrl),ln+=Rn(At.sourceLine0-Ae),Ae=At.sourceLine0,ln+=Rn(At.sourceCol0-Ke),Ke=At.sourceCol0),ln}).join(","),y+=";"}),y=y.slice(0,-1),{file:this.file||"",version:3,sourceRoot:"",sources:o,sourcesContent:c,mappings:y}}toJsComment(){return this.hasMappings?"//# sourceMappingURL=data:application/json;base64,"+function(d){let e="";const o=ut(d);for(let c=0;c<o.length;){const y=o[c++],H=c<o.length?o[c++]:null,re=c<o.length?o[c++]:null;e+=Ii(y>>2),e+=Ii((3&y)<<4|(null===H?0:H>>4)),e+=null===H?"=":Ii((15&H)<<2|(null===re?0:re>>6)),e+=null===H||null===re?"=":Ii(63&re)}return e}(JSON.stringify(this,null,0)):""}}function Rn(d){d=d<0?1+(-d<<1):d<<1;let e="";do{let o=31&d;(d>>=5)>0&&(o|=32),e+=Ii(o)}while(d>0);return e}function Ii(d){if(d<0||d>=64)throw new Error("Can only encode value in the range [0, 63]");return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[d]}const Mr=/'|\\|\n|\r|\$/g,Ns=/^[$A-Z_][0-9A-Z_$]*$/i,ws=bi("error",null,null),Ga=bi("stack",null,null);class yl{constructor(e){this.indent=e,this.partsLength=0,this.parts=[],this.srcSpans=[]}}class at{constructor(e){this._indent=e,this._classes=[],this._preambleLineCount=0,this._lines=[new yl(e)]}static createRoot(){return new at(0)}get _currentLine(){return this._lines[this._lines.length-1]}println(e,o=""){this.print(e||null,o,!0)}lineIsEmpty(){return 0===this._currentLine.parts.length}lineLength(){return this._currentLine.indent*"  ".length+this._currentLine.partsLength}print(e,o,c=!1){o.length>0&&(this._currentLine.parts.push(o),this._currentLine.partsLength+=o.length,this._currentLine.srcSpans.push(e&&e.sourceSpan||null)),c&&this._lines.push(new yl(this._indent))}removeEmptyLastLine(){this.lineIsEmpty()&&this._lines.pop()}incIndent(){this._indent++,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}decIndent(){this._indent--,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}pushClass(e){this._classes.push(e)}popClass(){return this._classes.pop()}get currentClass(){return this._classes.length>0?this._classes[this._classes.length-1]:null}toSource(){return this.sourceLines.map(e=>e.parts.length>0?An(e.indent)+e.parts.join(""):"").join("\n")}toSourceMapGenerator(e,o=0){const c=new ks(e);let y=!1;const H=()=>{y||(c.addSource(e," ").addMapping(0,e,0,0),y=!0)};for(let re=0;re<o;re++)c.addLine(),H();return this.sourceLines.forEach((re,Ae)=>{c.addLine();const Ke=re.srcSpans,st=re.parts;let At=re.indent*"  ".length,ln=0;for(;ln<Ke.length&&!Ke[ln];)At+=st[ln].length,ln++;for(ln<Ke.length&&0===Ae&&0===At?y=!0:H();ln<Ke.length;){const Vn=Ke[ln],Wn=Vn.start.file,pi=Vn.start.line,Ar=Vn.start.col;for(c.addSource(Wn.url,Wn.content).addMapping(At,Wn.url,pi,Ar),At+=st[ln].length,ln++;ln<Ke.length&&(Vn===Ke[ln]||!Ke[ln]);)At+=st[ln].length,ln++}}),c}setPreambleLineCount(e){return this._preambleLineCount=e}spanOf(e,o){const c=this._lines[e-this._preambleLineCount];if(c){let y=o-An(c.indent).length;for(let H=0;H<c.parts.length;H++){const re=c.parts[H];if(re.length>y)return c.srcSpans[H];y-=re.length}}return null}get sourceLines(){return this._lines.length&&0===this._lines[this._lines.length-1].parts.length?this._lines.slice(0,-1):this._lines}}function qt(d,e,o=!0){if(null==d)return null;const c=d.replace(Mr,(...H)=>"$"==H[0]?e?"\\$":"$":"\n"==H[0]?"\\n":"\r"==H[0]?"\\r":`\\${H[0]}`);return o||!Ns.test(c)?`'${c}'`:c}function An(d){let e="";for(let o=0;o<d;o++)e+="  ";return e}function rn(d,e){if(0===e)return qs(d);const o=[];for(let c=0;c<e;c++)o.push(ji);return qs(d,void 0,o)}function Sn(d){return`@${d}`}function Pi(d,e){const o=qt(e,!1,!1);return o!==e?`${d}[${o}]`:`${d}.${e}`}function cr(d,e){return`animation_${d}_${e}`}function Pr(d,e){const o=new zr({name:d,moduleName:null}),c=new rs(Tt.Identical,new Ri(o),yt("undefined")),y=new rs(Tt.Or,c,o,void 0,void 0,!0);return new rs(Tt.And,y,e)}function mr(d){const e=new Mi(d);return{value:e,type:e}}function Vi(d,e){const o=Ki(d.map(c=>c.value));return e?Be([],[new vi(o)]):o}function vs(d,e){return{expression:d,forwardRef:e}}function co({expression:d,forwardRef:e}){switch(e){case 0:case 1:return d;case 2:return Do(d)}}function Do(d){return li(it.forwardRef).callFn([Be([],[new vi(d)])])}var bs,ho;function vo(d){const e=bi("t");let o=null;const c=cu(d)?e:new rs(Tt.Or,e,d.internalType);let y=null;null!==d.deps?"invalid"!==d.deps&&(y=new Qt(c,qa(d.deps,d.target))):(o=bi(`\u0275${d.name}_BaseFactory`),y=o.callFn([c]));const H=[];let re=null;function Ae(st){const At=bi("r");H.push(At.set(Lt).toDeclStmt());const ln=null!==y?At.set(y).toStmt():li(it.invalidFactory).callFn([]).toStmt();return H.push(ot(e,[ln],[At.set(st).toStmt()])),At}if(cu(d)){const st=qa(d.delegateDeps,d.target);re=Ae(new(d.delegateType===bs.Class?Qt:ke)(d.delegate,st))}else re=function(d){return void 0!==d.expression}(d)?Ae(d.expression):y;if(null===re)H.push(li(it.invalidFactory).callFn([]).toStmt());else if(null!==o){const st=li(it.getInheritedFactory).callFn([d.internalType]),At=new rs(Tt.Or,o,o.set(st));H.push(new vi(At.callFn([c])))}else H.push(new vi(re));let Ke=Be([new qr("t",ji)],H,Er,void 0,`${d.name}_Factory`);return null!==o&&(Ke=Be([],[new et(o.name),new vi(Ke)]).callFn([],void 0,!0)),{expression:Ke,statements:[],type:Fo(d)}}function Fo(d){const e=null!==d.deps&&"invalid"!==d.deps?function(d){let e=!1;const o=d.map(c=>{const y=function(d){const e=[];return null!==d.attributeNameType&&e.push({key:"attribute",value:d.attributeNameType,quoted:!1}),d.optional&&e.push({key:"optional",value:yt(!0),quoted:!1}),d.host&&e.push({key:"host",value:yt(!0),quoted:!1}),d.self&&e.push({key:"self",value:yt(!0),quoted:!1}),d.skipSelf&&e.push({key:"skipSelf",value:yt(!0),quoted:!1}),e.length>0?Ys(e):null}(c);return null!==y?(e=!0,y):yt(null)});return e?qs(Ki(o)):Et}(d.deps):Et;return qs(li(it.FactoryDeclaration,[rn(d.type.type,d.typeArgumentCount),e]))}function qa(d,e){return d.map((o,c)=>function(d,e,o){if(null===d.token)return li(it.invalidFactoryDep).callFn([yt(o)]);if(null===d.attributeNameType){const c=0|(d.self?2:0)|(d.skipSelf?4:0)|(d.host?1:0)|(d.optional?8:0)|(e===ho.Pipe?16:0);let y=0!==c||d.optional?yt(c):null;const H=[d.token];y&&H.push(y);const re=function(d){switch(d){case ho.Component:case ho.Directive:case ho.Pipe:return it.directiveInject;case ho.NgModule:case ho.Injectable:default:return it.inject}}(e);return li(re).callFn(H)}return li(it.injectAttribute).callFn([d.token])}(o,e,c))}function cu(d){return void 0!==d.delegateType}!function(d){d[d.Class=0]="Class",d[d.Function=1]="Function"}(bs||(bs={})),function(d){d[d.Directive=0]="Directive",d[d.Component=1]="Component",d[d.Injectable=2]="Injectable",d[d.Pipe=3]="Pipe",d[d.NgModule=4]="NgModule"}(ho||(ho={}));class Kl{constructor(e,o){this.value=e,this.sourceSpan=o}visit(e){throw new Error("visit() not implemented for Comment")}}class ll{constructor(e,o){this.value=e,this.sourceSpan=o}visit(e){return e.visitText(this)}}class ql{constructor(e,o,c){this.value=e,this.sourceSpan=o,this.i18n=c}visit(e){return e.visitBoundText(this)}}class Bl{constructor(e,o,c,y,H,re){this.name=e,this.value=o,this.sourceSpan=c,this.keySpan=y,this.valueSpan=H,this.i18n=re}visit(e){return e.visitTextAttribute(this)}}class me{constructor(e,o,c,y,H,re,Ae,Ke,st){this.name=e,this.type=o,this.securityContext=c,this.value=y,this.unit=H,this.sourceSpan=re,this.keySpan=Ae,this.valueSpan=Ke,this.i18n=st}static fromBoundElementProperty(e,o){if(void 0===e.keySpan)throw new Error(`Unexpected state: keySpan must be defined for bound attributes but was not for ${e.name}: ${e.sourceSpan}`);return new me(e.name,e.type,e.securityContext,e.value,e.unit,e.sourceSpan,e.keySpan,e.valueSpan,o)}visit(e){return e.visitBoundAttribute(this)}}class z{constructor(e,o,c,y,H,re,Ae,Ke){this.name=e,this.type=o,this.handler=c,this.target=y,this.phase=H,this.sourceSpan=re,this.handlerSpan=Ae,this.keySpan=Ke}static fromParsedEvent(e){const o=0===e.type?e.targetOrPhase:null,c=1===e.type?e.targetOrPhase:null;if(void 0===e.keySpan)throw new Error(`Unexpected state: keySpan must be defined for bound event but was not for ${e.name}: ${e.sourceSpan}`);return new z(e.name,e.type,e.handler,o,c,e.sourceSpan,e.handlerSpan,e.keySpan)}visit(e){return e.visitBoundEvent(this)}}class se{constructor(e,o,c,y,H,re,Ae,Ke,st,At){this.name=e,this.attributes=o,this.inputs=c,this.outputs=y,this.children=H,this.references=re,this.sourceSpan=Ae,this.startSourceSpan=Ke,this.endSourceSpan=st,this.i18n=At}visit(e){return e.visitElement(this)}}class we{constructor(e,o,c,y,H,re,Ae,Ke,st,At,ln,Vn){this.tagName=e,this.attributes=o,this.inputs=c,this.outputs=y,this.templateAttrs=H,this.children=re,this.references=Ae,this.variables=Ke,this.sourceSpan=st,this.startSourceSpan=At,this.endSourceSpan=ln,this.i18n=Vn}visit(e){return e.visitTemplate(this)}}class $e{constructor(e,o,c,y){this.selector=e,this.attributes=o,this.sourceSpan=c,this.i18n=y,this.name="ng-content"}visit(e){return e.visitContent(this)}}class ct{constructor(e,o,c,y,H){this.name=e,this.value=o,this.sourceSpan=c,this.keySpan=y,this.valueSpan=H}visit(e){return e.visitVariable(this)}}class pt{constructor(e,o,c,y,H){this.name=e,this.value=o,this.sourceSpan=c,this.keySpan=y,this.valueSpan=H}visit(e){return e.visitReference(this)}}class un{constructor(e,o,c,y){this.vars=e,this.placeholders=o,this.sourceSpan=c,this.i18n=y}visit(e){return e.visitIcu(this)}}function Sr(d,e){const o=[];if(d.visit)for(const c of e){d.visit(c)||c.visit(d)}else for(const c of e){const y=c.visit(d);y&&o.push(y)}return o}class Bs{constructor(e,o,c,y,H,re){this.nodes=e,this.placeholders=o,this.placeholderToMessage=c,this.meaning=y,this.description=H,this.customId=re,this.id=this.customId,this.legacyIds=[],this.messageString=function(d){const e=new ad;return d.map(c=>c.visit(e)).join("")}(this.nodes),e.length?this.sources=[{filePath:e[0].sourceSpan.start.file.url,startLine:e[0].sourceSpan.start.line+1,startCol:e[0].sourceSpan.start.col+1,endLine:e[e.length-1].sourceSpan.end.line+1,endCol:e[0].sourceSpan.start.col+1}]:this.sources=[]}}class Ao{constructor(e,o){this.value=e,this.sourceSpan=o}visit(e,o){return e.visitText(this,o)}}class _o{constructor(e,o){this.children=e,this.sourceSpan=o}visit(e,o){return e.visitContainer(this,o)}}class Po{constructor(e,o,c,y){this.expression=e,this.type=o,this.cases=c,this.sourceSpan=y}visit(e,o){return e.visitIcu(this,o)}}class Da{constructor(e,o,c,y,H,re,Ae,Ke,st){this.tag=e,this.attrs=o,this.startName=c,this.closeName=y,this.children=H,this.isVoid=re,this.sourceSpan=Ae,this.startSourceSpan=Ke,this.endSourceSpan=st}visit(e,o){return e.visitTagPlaceholder(this,o)}}class ko{constructor(e,o,c){this.value=e,this.name=o,this.sourceSpan=c}visit(e,o){return e.visitPlaceholder(this,o)}}class Uo{constructor(e,o,c){this.value=e,this.name=o,this.sourceSpan=c}visit(e,o){return e.visitIcuPlaceholder(this,o)}}class ad{visitText(e){return e.value}visitContainer(e){return e.children.map(o=>o.visit(this)).join("")}visitIcu(e){const o=Object.keys(e.cases).map(c=>`${c} {${e.cases[c].visit(this)}}`);return`{${e.expressionPlaceholder}, ${e.type}, ${o.join(" ")}}`}visitTagPlaceholder(e){const o=e.children.map(c=>c.visit(this)).join("");return`{$${e.startName}}${o}{$${e.closeName}}`}visitPlaceholder(e){return`{$${e.name}}`}visitIcuPlaceholder(e){return`{$${e.name}}`}}new class{visitTag(e){const o=this._serializeAttributes(e.attrs);if(0==e.children.length)return`<${e.name}${o}/>`;const c=e.children.map(y=>y.visit(this));return`<${e.name}${o}>${c.join("")}</${e.name}>`}visitText(e){return e.value}visitDeclaration(e){return`<?xml${this._serializeAttributes(e.attrs)} ?>`}_serializeAttributes(e){const o=Object.keys(e).map(c=>`${c}="${e[c]}"`).join(" ");return o.length>0?" "+o:""}visitDoctype(e){return`<!DOCTYPE ${e.rootTag} [\n${e.dtd}\n]>`}};function Kd(d){return d.toUpperCase().replace(/[^A-Z0-9_]/g,"_")}const $o="i18n-";function Xd(d){return"i18n"===d||d.startsWith($o)}function Pc(d){return d instanceof Bs}function Rc(d){return Pc(d)&&1===d.nodes.length&&d.nodes[0]instanceof Po}function ef(d){return!!d.i18n}function W(d){return d.nodes[0]}function i(d,e=0){return`\ufffd${d}${e>0?`:${e}`:""}\ufffd`}function u(d=0){let e=d;return()=>e++}function g(d){const e={};return d.forEach((o,c)=>{e[c]=yt(o.length>1?`[${o.join("|")}]`:o[0])}),e}function C(d,e,...o){const c=d.get(e)||[];c.push(...o),d.set(e,c)}function D(d,e=0,o=0){const c=e,y=new Map,H=d instanceof Bs?d.nodes.find(re=>re instanceof _o):d;return H&&H.children.filter(re=>re instanceof ko).forEach((re,Ae)=>{const Ke=i(c+Ae,o);C(y,re.name,Ke)}),y}function B(d={},e){const o={};return d&&Object.keys(d).length&&Object.keys(d).forEach(c=>o[J(c,e)]=d[c]),o}function J(d,e=!0){const o=Kd(d);if(!e)return o;const c=o.split("_");if(1===c.length)return d.toLowerCase();let y;/^\d+$/.test(c[c.length-1])&&(y=c.pop());let H=c.shift().toLowerCase();return c.length&&(H+=c.map(re=>re.charAt(0).toUpperCase()+re.slice(1).toLowerCase()).join("")),y?`${H}_${y}`:H}function ie(d){return`MSG_${d}`.toUpperCase()}function le(d){return new et(d.name,void 0,Er,void 0,d.sourceSpan)}const De=/[-.]/,Ne="_t",Ze="ctx",ht="rf",dn="restoredCtx";function yi(d,e){let o=null;return()=>(o||(d.push(new et("_t",void 0,ji)),o=bi(e)),o)}function ni(d){throw this?new Error(`Builder ${this.constructor.name} doesn't support ${d} yet`):new Error(`Feature ${d} is not supported yet`)}function Jn(d){throw new Error(`Invalid state: Visitor ${this.constructor.name} doesn't handle ${d.constructor.name}`)}function Ti(d){return Array.isArray(d)?Ki(d.map(Ti)):yt(d,Er)}function ri(d,e){return Object.getOwnPropertyNames(d).length>0?function(d,e){return Ys(Object.getOwnPropertyNames(d).map(o=>{const c=d[o];let y,H,re,Ae;return Array.isArray(c)?([H,y]=c,re=o,Ae=H!==y):([y,H]=St(o,[o,c]),re=y,Ae=H!==y&&o.includes(":")),{key:re,quoted:De.test(re),value:e&&Ae?Ki([Ti(H),Ti(y)]):Ti(H)}}))}(d,e):null}function Wi(d){for(;qn(d[d.length-1]);)d.pop();return d}function vr(d,e){if(Array.isArray(d.predicate)){let o=[];return d.predicate.forEach(c=>{const y=c.split(",").map(H=>yt(H.trim()));o.push(...y)}),e.getConstLiteral(Ki(o),!0)}switch(d.predicate.forwardRef){case 0:case 2:return d.predicate.expression;case 1:return li(it.resolveForwardRef).callFn([d.predicate.expression])}}class Ci{constructor(){this.values=[]}set(e,o){o&&this.values.push({key:e,value:o,quoted:!1})}toLiteralMap(){return Ys(this.values)}}function As(d){const e={};return d instanceof we&&"ng-template"!==d.tagName?d.templateAttrs.forEach(o=>e[o.name]=""):(d.attributes.forEach(o=>{Xd(o.name)||(e[o.name]=o.value)}),d.inputs.forEach(o=>{e[o.name]=""}),d.outputs.forEach(o=>{e[o.name]=""})),e}function fo(d,e,o){let c=li(d,null,o);if(e.length>0)for(let y=0;y<e.length;y++)c=c.callFn(e[y],o);else c=c.callFn([],o);return c}function Ws(d){const{expressions:e,strings:o}=d;return 1===e.length&&2===o.length&&""===o[0]&&""===o[1]?1:e.length+o.length}function wa(d,e){let o=null;const c={name:d.name,type:d.type,internalType:d.internalType,typeArgumentCount:d.typeArgumentCount,deps:[],target:ho.Injectable};if(void 0!==d.useClass){const Ae=d.useClass.expression.isEquivalent(d.internalType);let Ke;void 0!==d.deps&&(Ke=d.deps),o=void 0!==Ke?vo(Object.assign(Object.assign({},c),{delegate:d.useClass.expression,delegateDeps:Ke,delegateType:bs.Class})):Ae?vo(c):{statements:[],expression:Aa(d.type.value,d.useClass.expression,e)}}else o=void 0!==d.useFactory?void 0!==d.deps?vo(Object.assign(Object.assign({},c),{delegate:d.useFactory,delegateDeps:d.deps||[],delegateType:bs.Function})):{statements:[],expression:Be([],[new vi(d.useFactory.callFn([]))])}:void 0!==d.useValue?vo(Object.assign(Object.assign({},c),{expression:d.useValue.expression})):void 0!==d.useExisting?vo(Object.assign(Object.assign({},c),{expression:li(it.inject).callFn([d.useExisting.expression])})):{statements:[],expression:Aa(d.type.value,d.internalType,e)};const y=d.internalType,H=new Ci;return H.set("token",y),H.set("factory",o.expression),null!==d.providedIn.expression.value&&H.set("providedIn",co(d.providedIn)),{expression:li(it.\u0275\u0275defineInjectable).callFn([H.toLiteralMap()],void 0,!0),type:ro(d),statements:o.statements}}function ro(d){return new ns(li(it.InjectableDeclaration,[rn(d.type.type,d.typeArgumentCount)]))}function Aa(d,e,o){if(d.node===e.node)return e.prop("\u0275fac");if(!o)return oa(e);return oa(li(it.resolveForwardRef).callFn([e]))}function oa(d){return Be([new qr("t",ji)],[new vi(d.prop("\u0275fac").callFn([bi("t")]))])}const so=[/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//];class Ro{constructor(e,o){this.start=e,this.end=o}static fromArray(e){return e?(function(d,e){if(null!=e&&(!Array.isArray(e)||2!=e.length))throw new Error(`Expected '${d}' to be an array, [start, end].`);if(null!=e){const o=e[0],c=e[1];so.forEach(y=>{if(y.test(o)||y.test(c))throw new Error(`['${o}', '${c}'] contains unusable interpolation symbol.`)})}}("interpolation",e),new Ro(e[0],e[1])):cs}}const cs=new Ro("{{","}}"),Yo=123,No=125;function fd(d){return d>=9&&d<=32||160==d}function Ia(d){return 48<=d&&d<=57}function Jd(d){return d>=97&&d<=122||d>=65&&d<=90}function pd(d){return 10===d||13===d}function eh(d){return 48<=d&&d<=55}function Pa(d){return 39===d||34===d||96===d}class Ra{constructor(e,o,c,y){this.file=e,this.offset=o,this.line=c,this.col=y}toString(){return null!=this.offset?`${this.file.url}@${this.line}:${this.col}`:this.file.url}moveBy(e){const o=this.file.content,c=o.length;let y=this.offset,H=this.line,re=this.col;for(;y>0&&e<0;)if(y--,e++,10==o.charCodeAt(y)){H--;const Ke=o.substr(0,y-1).lastIndexOf(String.fromCharCode(10));re=Ke>0?y-Ke:y}else re--;for(;y<c&&e>0;){const Ae=o.charCodeAt(y);y++,e--,10==Ae?(H++,re=0):re++}return new Ra(this.file,y,H,re)}getContext(e,o){const c=this.file.content;let y=this.offset;if(null!=y){y>c.length-1&&(y=c.length-1);let H=y,re=0,Ae=0;for(;re<e&&y>0&&(y--,re++,"\n"!=c[y]||++Ae!=o););for(re=0,Ae=0;re<e&&H<c.length-1&&(H++,re++,"\n"!=c[H]||++Ae!=o););return{before:c.substring(y,this.offset),after:c.substring(this.offset,H+1)}}return null}}class nf{constructor(e,o){this.content=e,this.url=o}}class ga{constructor(e,o,c=e,y=null){this.start=e,this.end=o,this.fullStart=c,this.details=y}toString(){return this.start.file.content.substring(this.start.offset,this.end.offset)}}var Ol;!function(d){d[d.WARNING=0]="WARNING",d[d.ERROR=1]="ERROR"}(Ol||(Ol={}));class _u{constructor(e,o,c=Ol.ERROR){this.span=e,this.msg=o,this.level=c}contextualMessage(){const e=this.span.start.getContext(100,3);return e?`${this.msg} ("${e.before}[${Ol[this.level]} ->]${e.after}")`:this.msg}toString(){const e=this.span.details?`, ${this.span.details}`:"";return`${this.contextualMessage()}: ${this.span.start}${e}`}}let Fa=0;function yu(d){return d.replace(/\W/g,"_")}const _d='(this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e})';let ju;function yd(d){var e;return(null===(e=function(){if(void 0===ju&&(ju=null,kn.trustedTypes))try{ju=kn.trustedTypes.createPolicy("angular#unsafe-jit",{createScript:d=>d})}catch(d){}return ju}())||void 0===e?void 0:e.createScript(d))||d}function Cp(...d){if(!kn.trustedTypes)return new Function(...d);const c=`(function anonymous(${d.slice(0,-1).join(",")}\n) { ${d[d.length-1]}\n})`,y=kn.eval(yd(c));return void 0===y.bind?new Function(...d):(y.toString=()=>c,y.bind(kn))}class sf{evaluateStatements(e,o,c,y){const H=new nh(c),re=at.createRoot();return o.length>0&&!function(d){return d.isEquivalent(yt("use strict").toStmt())}(o[0])&&(o=[yt("use strict").toStmt(),...o]),H.visitAllStatements(o,re),H.createReturnStmt(re),this.evaluateCode(e,re,H.getArgs(),y)}evaluateCode(e,o,c,y){let H=`"use strict";${o.toSource()}\n//# sourceURL=${e}`;const re=[],Ae=[];for(const st in c)Ae.push(c[st]),re.push(st);if(y){const st=Cp(...re.concat("return null;")).toString(),At=st.slice(0,st.indexOf("return null;")).split("\n").length-1;H+=`\n${o.toSourceMapGenerator(e,At).toJsComment()}`}const Ke=Cp(...re.concat(H));return this.executeFunction(Ke,Ae)}executeFunction(e,o){return e(...o)}}class nh extends class extends class{constructor(e){this._escapeDollarInStrings=e}printLeadingComments(e,o){if(void 0!==e.leadingComments)for(const c of e.leadingComments)c instanceof Z?o.print(e,`/*${c.toString()}*/`,c.trailingNewline):c.multiline?o.print(e,`/* ${c.text} */`,c.trailingNewline):c.text.split("\n").forEach(y=>{o.println(e,`// ${y}`)})}visitExpressionStmt(e,o){return this.printLeadingComments(e,o),e.expr.visitExpression(this,o),o.println(e,";"),null}visitReturnStmt(e,o){return this.printLeadingComments(e,o),o.print(e,"return "),e.value.visitExpression(this,o),o.println(e,";"),null}visitIfStmt(e,o){this.printLeadingComments(e,o),o.print(e,"if ("),e.condition.visitExpression(this,o),o.print(e,") {");const c=null!=e.falseCase&&e.falseCase.length>0;return e.trueCase.length<=1&&!c?(o.print(e," "),this.visitAllStatements(e.trueCase,o),o.removeEmptyLastLine(),o.print(e," ")):(o.println(),o.incIndent(),this.visitAllStatements(e.trueCase,o),o.decIndent(),c&&(o.println(e,"} else {"),o.incIndent(),this.visitAllStatements(e.falseCase,o),o.decIndent())),o.println(e,"}"),null}visitThrowStmt(e,o){return this.printLeadingComments(e,o),o.print(e,"throw "),e.error.visitExpression(this,o),o.println(e,";"),null}visitWriteVarExpr(e,o){const c=o.lineIsEmpty();return c||o.print(e,"("),o.print(e,`${e.name} = `),e.value.visitExpression(this,o),c||o.print(e,")"),null}visitWriteKeyExpr(e,o){const c=o.lineIsEmpty();return c||o.print(e,"("),e.receiver.visitExpression(this,o),o.print(e,"["),e.index.visitExpression(this,o),o.print(e,"] = "),e.value.visitExpression(this,o),c||o.print(e,")"),null}visitWritePropExpr(e,o){const c=o.lineIsEmpty();return c||o.print(e,"("),e.receiver.visitExpression(this,o),o.print(e,`.${e.name} = `),e.value.visitExpression(this,o),c||o.print(e,")"),null}visitInvokeFunctionExpr(e,o){return e.fn.visitExpression(this,o),o.print(e,"("),this.visitAllExpressions(e.args,o,","),o.print(e,")"),null}visitTaggedTemplateExpr(e,o){e.tag.visitExpression(this,o),o.print(e,"`"+e.template.elements[0].rawText);for(let c=1;c<e.template.elements.length;c++)o.print(e,"${"),e.template.expressions[c-1].visitExpression(this,o),o.print(e,`}${e.template.elements[c].rawText}`);return o.print(e,"`"),null}visitWrappedNodeExpr(e,o){throw new Error("Abstract emitter cannot visit WrappedNodeExpr.")}visitTypeofExpr(e,o){o.print(e,"typeof "),e.expr.visitExpression(this,o)}visitReadVarExpr(e,o){let c=e.name;if(null!=e.builtin)switch(e.builtin){case mi.Super:c="super";break;case mi.This:c="this";break;case mi.CatchError:c=ws.name;break;case mi.CatchStack:c=Ga.name;break;default:throw new Error(`Unknown builtin variable ${e.builtin}`)}return o.print(e,c),null}visitInstantiateExpr(e,o){return o.print(e,"new "),e.classExpr.visitExpression(this,o),o.print(e,"("),this.visitAllExpressions(e.args,o,","),o.print(e,")"),null}visitLiteralExpr(e,o){const c=e.value;return"string"==typeof c?o.print(e,qt(c,this._escapeDollarInStrings)):o.print(e,`${c}`),null}visitLocalizedString(e,o){const c=e.serializeI18nHead();o.print(e,"$localize `"+c.raw);for(let y=1;y<e.messageParts.length;y++)o.print(e,"${"),e.expressions[y-1].visitExpression(this,o),o.print(e,`}${e.serializeI18nTemplatePart(y).raw}`);return o.print(e,"`"),null}visitConditionalExpr(e,o){return o.print(e,"("),e.condition.visitExpression(this,o),o.print(e,"? "),e.trueCase.visitExpression(this,o),o.print(e,": "),e.falseCase.visitExpression(this,o),o.print(e,")"),null}visitNotExpr(e,o){return o.print(e,"!"),e.condition.visitExpression(this,o),null}visitAssertNotNullExpr(e,o){return e.condition.visitExpression(this,o),null}visitUnaryOperatorExpr(e,o){let c;switch(e.operator){case Rt.Plus:c="+";break;case Rt.Minus:c="-";break;default:throw new Error(`Unknown operator ${e.operator}`)}return e.parens&&o.print(e,"("),o.print(e,c),e.expr.visitExpression(this,o),e.parens&&o.print(e,")"),null}visitBinaryOperatorExpr(e,o){let c;switch(e.operator){case Tt.Equals:c="==";break;case Tt.Identical:c="===";break;case Tt.NotEquals:c="!=";break;case Tt.NotIdentical:c="!==";break;case Tt.And:c="&&";break;case Tt.BitwiseAnd:c="&";break;case Tt.Or:c="||";break;case Tt.Plus:c="+";break;case Tt.Minus:c="-";break;case Tt.Divide:c="/";break;case Tt.Multiply:c="*";break;case Tt.Modulo:c="%";break;case Tt.Lower:c="<";break;case Tt.LowerEquals:c="<=";break;case Tt.Bigger:c=">";break;case Tt.BiggerEquals:c=">=";break;case Tt.NullishCoalesce:c="??";break;default:throw new Error(`Unknown operator ${e.operator}`)}return e.parens&&o.print(e,"("),e.lhs.visitExpression(this,o),o.print(e,` ${c} `),e.rhs.visitExpression(this,o),e.parens&&o.print(e,")"),null}visitReadPropExpr(e,o){return e.receiver.visitExpression(this,o),o.print(e,"."),o.print(e,e.name),null}visitReadKeyExpr(e,o){return e.receiver.visitExpression(this,o),o.print(e,"["),e.index.visitExpression(this,o),o.print(e,"]"),null}visitLiteralArrayExpr(e,o){return o.print(e,"["),this.visitAllExpressions(e.entries,o,","),o.print(e,"]"),null}visitLiteralMapExpr(e,o){return o.print(e,"{"),this.visitAllObjects(c=>{o.print(e,`${qt(c.key,this._escapeDollarInStrings,c.quoted)}:`),c.value.visitExpression(this,o)},e.entries,o,","),o.print(e,"}"),null}visitCommaExpr(e,o){return o.print(e,"("),this.visitAllExpressions(e.parts,o,","),o.print(e,")"),null}visitAllExpressions(e,o,c){this.visitAllObjects(y=>y.visitExpression(this,o),e,o,c)}visitAllObjects(e,o,c,y){let H=!1;for(let re=0;re<o.length;re++)re>0&&(c.lineLength()>80?(c.print(null,y,!0),H||(c.incIndent(),c.incIndent(),H=!0)):c.print(null,y,!1)),e(o[re]);H&&(c.decIndent(),c.decIndent())}visitAllStatements(e,o){e.forEach(c=>c.visitStatement(this,o))}}{constructor(){super(!1)}visitDeclareClassStmt(e,o){return o.pushClass(e),this._visitClassConstructor(e,o),null!=e.parent&&(o.print(e,`${e.name}.prototype = Object.create(`),e.parent.visitExpression(this,o),o.println(e,".prototype);")),e.getters.forEach(c=>this._visitClassGetter(e,c,o)),e.methods.forEach(c=>this._visitClassMethod(e,c,o)),o.popClass(),null}_visitClassConstructor(e,o){o.print(e,`function ${e.name}(`),null!=e.constructorMethod&&this._visitParams(e.constructorMethod.params,o),o.println(e,") {"),o.incIndent(),null!=e.constructorMethod&&e.constructorMethod.body.length>0&&(o.println(e,"var self = this;"),this.visitAllStatements(e.constructorMethod.body,o)),o.decIndent(),o.println(e,"}")}_visitClassGetter(e,o,c){c.println(e,`Object.defineProperty(${e.name}.prototype, '${o.name}', { get: function() {`),c.incIndent(),o.body.length>0&&(c.println(e,"var self = this;"),this.visitAllStatements(o.body,c)),c.decIndent(),c.println(e,"}});")}_visitClassMethod(e,o,c){c.print(e,`${e.name}.prototype.${o.name} = function(`),this._visitParams(o.params,c),c.println(e,") {"),c.incIndent(),o.body.length>0&&(c.println(e,"var self = this;"),this.visitAllStatements(o.body,c)),c.decIndent(),c.println(e,"};")}visitWrappedNodeExpr(e,o){throw new Error("Cannot emit a WrappedNodeExpr in Javascript.")}visitReadVarExpr(e,o){if(e.builtin===mi.This)o.print(e,"self");else{if(e.builtin===mi.Super)throw new Error("'super' needs to be handled at a parent ast node, not at the variable level!");super.visitReadVarExpr(e,o)}return null}visitDeclareVarStmt(e,o){return o.print(e,`var ${e.name}`),e.value&&(o.print(e," = "),e.value.visitExpression(this,o)),o.println(e,";"),null}visitCastExpr(e,o){return e.value.visitExpression(this,o),null}visitInvokeFunctionExpr(e,o){const c=e.fn;return c instanceof xi&&c.builtin===mi.Super?(o.currentClass.parent.visitExpression(this,o),o.print(e,".call(this"),e.args.length>0&&(o.print(e,", "),this.visitAllExpressions(e.args,o,",")),o.print(e,")")):super.visitInvokeFunctionExpr(e,o),null}visitTaggedTemplateExpr(e,o){const c=e.template.elements;return e.tag.visitExpression(this,o),o.print(e,`(${_d}(`),o.print(e,`[${c.map(y=>qt(y.text,!1)).join(", ")}], `),o.print(e,`[${c.map(y=>qt(y.rawText,!1)).join(", ")}])`),e.template.expressions.forEach(y=>{o.print(e,", "),y.visitExpression(this,o)}),o.print(e,")"),null}visitFunctionExpr(e,o){return o.print(e,`function${e.name?" "+e.name:""}(`),this._visitParams(e.params,o),o.println(e,") {"),o.incIndent(),this.visitAllStatements(e.statements,o),o.decIndent(),o.print(e,"}"),null}visitDeclareFunctionStmt(e,o){return o.print(e,`function ${e.name}(`),this._visitParams(e.params,o),o.println(e,") {"),o.incIndent(),this.visitAllStatements(e.statements,o),o.decIndent(),o.println(e,"}"),null}visitTryCatchStmt(e,o){o.println(e,"try {"),o.incIndent(),this.visitAllStatements(e.bodyStmts,o),o.decIndent(),o.println(e,`} catch (${ws.name}) {`),o.incIndent();const c=[Ga.set(ws.prop("stack")).toDeclStmt(null,[P.Final])].concat(e.catchStmts);return this.visitAllStatements(c,o),o.decIndent(),o.println(e,"}"),null}visitLocalizedString(e,o){o.print(e,`$localize(${_d}(`);const c=[e.serializeI18nHead()];for(let y=1;y<e.messageParts.length;y++)c.push(e.serializeI18nTemplatePart(y));return o.print(e,`[${c.map(y=>qt(y.cooked,!1)).join(", ")}], `),o.print(e,`[${c.map(y=>qt(y.raw,!1)).join(", ")}])`),e.expressions.forEach(y=>{o.print(e,", "),y.visitExpression(this,o)}),o.print(e,")"),null}_visitParams(e,o){this.visitAllObjects(c=>o.print(null,c.name),e,o,",")}getBuiltinMethodName(e){let o;switch(e){case he.ConcatArray:o="concat";break;case he.SubscribeObservable:o="subscribe";break;case he.Bind:o="bind";break;default:throw new Error(`Unknown builtin method: ${e}`)}return o}}{constructor(e){super(),this.refResolver=e,this._evalArgNames=[],this._evalArgValues=[],this._evalExportedVars=[]}createReturnStmt(e){new vi(new ue(this._evalExportedVars.map(c=>new Q(c,bi(c),!1)))).visitStatement(this,e)}getArgs(){const e={};for(let o=0;o<this._evalArgNames.length;o++)e[this._evalArgNames[o]]=this._evalArgValues[o];return e}visitExternalExpr(e,o){return this._emitReferenceToExternal(e,this.refResolver.resolveExternalReference(e.value),o),null}visitWrappedNodeExpr(e,o){return this._emitReferenceToExternal(e,e.node,o),null}visitDeclareVarStmt(e,o){return e.hasModifier(P.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareVarStmt(e,o)}visitDeclareFunctionStmt(e,o){return e.hasModifier(P.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareFunctionStmt(e,o)}visitDeclareClassStmt(e,o){return e.hasModifier(P.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareClassStmt(e,o)}_emitReferenceToExternal(e,o,c){let y=this._evalArgValues.indexOf(o);if(-1===y){y=this._evalArgValues.length,this._evalArgValues.push(o);const H=function(d){if(!d||!d.reference)return null;const e=d.reference;if(e.__anonymousType)return e.__anonymousType;if(e.__forward_ref__)return"__forward_ref__";let o=It(e);return o.indexOf("(")>=0?(o="anonymous_"+Fa++,e.__anonymousType=o):o=yu(o),o}({reference:o})||"val";this._evalArgNames.push(`jit_${H}_${y}`)}c.print(e,this._evalArgNames[y])}}function ih(d){const e=new Ci;null!==d.providers&&e.set("providers",d.providers),d.imports.length>0&&e.set("imports",Ki(d.imports));return{expression:li(it.defineInjector).callFn([e.toLiteralMap()],void 0,!0),type:rh(d),statements:[]}}function rh(d){return new ns(li(it.InjectorDeclaration,[new ns(d.type.type)]))}class bp{constructor(e){this.context=e}resolveExternalReference(e){if("@angular/core"!==e.moduleName)throw new Error(`Cannot resolve external reference to ${e.moduleName}, only references to @angular/core are supported.`);if(!this.context.hasOwnProperty(e.name))throw new Error(`No value provided for @angular/core symbol '${e.name}'.`);return this.context[e.name]}}function Eu(d){const{internalType:e,bootstrap:o,declarations:c,imports:y,exports:H,schemas:re,containsForwardDecls:Ae,emitInline:Ke,id:st}=d,At=[],ln=new Ci;if(ln.set("type",e),o.length>0&&ln.set("bootstrap",Vi(o,Ae)),Ke)c.length>0&&ln.set("declarations",Vi(c,Ae)),y.length>0&&ln.set("imports",Vi(y,Ae)),H.length>0&&ln.set("exports",Vi(H,Ae));else{const pi=function(d){const{adjacentType:e,declarations:o,imports:c,exports:y,containsForwardDecls:H}=d,re=new Ci;if(o.length>0&&re.set("declarations",Vi(o,H)),c.length>0&&re.set("imports",Vi(c,H)),y.length>0&&re.set("exports",Vi(y,H)),0===Object.keys(re.values).length)return null;const Ke=function(d){return Pr("ngJitMode",d)}(new ke(li(it.setNgModuleScope),[e,re.toLiteralMap()])),st=new Ho([],[Ke.toStmt()]);return new ke(st,[]).toStmt()}(d);null!==pi&&At.push(pi)}null!==re&&re.length>0&&ln.set("schemas",Ki(re.map(pi=>pi.value))),null!==st&&ln.set("id",st);return{expression:li(it.defineNgModule).callFn([ln.toLiteralMap()],void 0,!0),type:Ed(d),statements:At}}function Ed({type:d,declarations:e,imports:o,exports:c}){return new ns(li(it.NgModuleDeclaration,[new ns(d.type),sh(e),sh(o),sh(c)]))}function sh(d){const e=d.map(o=>ol(o.type));return d.length>0?qs(Ki(e)):Et}function Lc(d){const e=[];e.push({key:"name",value:yt(d.pipeName),quoted:!1}),e.push({key:"type",value:d.type.value,quoted:!1}),e.push({key:"pure",value:yt(d.pure),quoted:!1});return{expression:li(it.definePipe).callFn([Ys(e)],void 0,!0),type:Sp(d),statements:[]}}function Sp(d){return new ns(li(it.PipeDeclaration,[rn(d.type.type,d.typeArgumentCount),new ns(new yn(d.pipeName))]))}class Hl{constructor(e,o,c,y){this.input=o,this.errLocation=c,this.ctxLocation=y,this.message=`Parser Error: ${e} ${c} [${o}] in ${y}`}}class Ku{constructor(e,o){this.start=e,this.end=o}toAbsolute(e){return new Ja(e+this.start,e+this.end)}}class Xo{constructor(e,o){this.span=e,this.sourceSpan=o}toString(){return"AST"}}class Bc extends Xo{constructor(e,o,c){super(e,o),this.nameSpan=c}}class Vc extends Xo{constructor(e,o,c,y,H){super(e,o),this.prefix=c,this.uninterpretedExpression=y,this.location=H}visit(e,o=null){return e.visitQuote(this,o)}toString(){return"Quote"}}class ba extends Xo{visit(e,o=null){}}class Tr extends Xo{visit(e,o=null){return e.visitImplicitReceiver(this,o)}}class Hc extends Tr{visit(e,o=null){var c;return null===(c=e.visitThisReceiver)||void 0===c?void 0:c.call(e,this,o)}}class Cd extends Xo{constructor(e,o,c){super(e,o),this.expressions=c}visit(e,o=null){return e.visitChain(this,o)}}class Zl extends Xo{constructor(e,o,c,y,H){super(e,o),this.condition=c,this.trueExp=y,this.falseExp=H}visit(e,o=null){return e.visitConditional(this,o)}}class qu extends Bc{constructor(e,o,c,y,H){super(e,o,c),this.receiver=y,this.name=H}visit(e,o=null){return e.visitPropertyRead(this,o)}}class wd extends Bc{constructor(e,o,c,y,H,re){super(e,o,c),this.receiver=y,this.name=H,this.value=re}visit(e,o=null){return e.visitPropertyWrite(this,o)}}class oh extends Bc{constructor(e,o,c,y,H){super(e,o,c),this.receiver=y,this.name=H}visit(e,o=null){return e.visitSafePropertyRead(this,o)}}class Mo extends Xo{constructor(e,o,c,y){super(e,o),this.receiver=c,this.key=y}visit(e,o=null){return e.visitKeyedRead(this,o)}}class gl extends Xo{constructor(e,o,c,y){super(e,o),this.receiver=c,this.key=y}visit(e,o=null){return e.visitSafeKeyedRead(this,o)}}class Tp extends Xo{constructor(e,o,c,y,H){super(e,o),this.receiver=c,this.key=y,this.value=H}visit(e,o=null){return e.visitKeyedWrite(this,o)}}class ah extends Bc{constructor(e,o,c,y,H,re){super(e,o,re),this.exp=c,this.name=y,this.args=H}visit(e,o=null){return e.visitPipe(this,o)}}class Za extends Xo{constructor(e,o,c){super(e,o),this.value=c}visit(e,o=null){return e.visitLiteralPrimitive(this,o)}}class lh extends Xo{constructor(e,o,c){super(e,o),this.expressions=c}visit(e,o=null){return e.visitLiteralArray(this,o)}}class dc extends Xo{constructor(e,o,c,y){super(e,o),this.keys=c,this.values=y}visit(e,o=null){return e.visitLiteralMap(this,o)}}class ma extends Xo{constructor(e,o,c,y){super(e,o),this.strings=c,this.expressions=y}visit(e,o=null){return e.visitInterpolation(this,o)}}class Il extends Xo{constructor(e,o,c,y,H){super(e,o),this.operation=c,this.left=y,this.right=H}visit(e,o=null){return e.visitBinary(this,o)}}class Sa extends Il{constructor(e,o,c,y,H,re,Ae){super(e,o,H,re,Ae),this.operator=c,this.expr=y,this.left=null,this.right=null,this.operation=null}static createMinus(e,o,c){return new Sa(e,o,"-",c,"-",new Za(e,o,0),c)}static createPlus(e,o,c){return new Sa(e,o,"+",c,"-",c,new Za(e,o,0))}visit(e,o=null){return void 0!==e.visitUnary?e.visitUnary(this,o):e.visitBinary(this,o)}}class va extends Xo{constructor(e,o,c){super(e,o),this.expression=c}visit(e,o=null){return e.visitPrefixNot(this,o)}}class Cu extends Xo{constructor(e,o,c){super(e,o),this.expression=c}visit(e,o=null){return e.visitNonNullAssert(this,o)}}class hc extends Xo{constructor(e,o,c,y,H){super(e,o),this.receiver=c,this.args=y,this.argumentSpan=H}visit(e,o=null){return e.visitCall(this,o)}}class Ja{constructor(e,o){this.start=e,this.end=o}}class Jl extends Xo{constructor(e,o,c,y,H){super(new Ku(0,null===o?0:o.length),new Ja(y,null===o?y:y+o.length)),this.ast=e,this.source=o,this.location=c,this.errors=H}visit(e,o=null){return e.visitASTWithSource?e.visitASTWithSource(this,o):this.ast.visit(e,o)}toString(){return`${this.source} in ${this.location}`}}class bd{constructor(e,o,c){this.sourceSpan=e,this.key=o,this.value=c}}class Uc{constructor(e,o,c){this.sourceSpan=e,this.key=o,this.value=c}}class uh{constructor(e,o,c,y,H,re){this.name=e,this.expression=o,this.type=c,this.sourceSpan=y,this.keySpan=H,this.valueSpan=re,this.isLiteral=this.type===pc.LITERAL_ATTR,this.isAnimation=this.type===pc.ANIMATION}}var pc;!function(d){d[d.DEFAULT=0]="DEFAULT",d[d.LITERAL_ATTR=1]="LITERAL_ATTR",d[d.ANIMATION=2]="ANIMATION"}(pc||(pc={}));class ch{constructor(e,o,c,y,H,re,Ae){this.name=e,this.targetOrPhase=o,this.type=c,this.handler=y,this.sourceSpan=H,this.handlerSpan=re,this.keySpan=Ae}}class Dp{constructor(e,o,c,y,H){this.name=e,this.value=o,this.sourceSpan=c,this.keySpan=y,this.valueSpan=H}}class af{constructor(e,o,c,y,H,re,Ae,Ke){this.name=e,this.type=o,this.securityContext=c,this.value=y,this.unit=H,this.sourceSpan=re,this.keySpan=Ae,this.valueSpan=Ke}}const Gs="@angular/core";class Ps{}Ps.ANALYZE_FOR_ENTRY_COMPONENTS={name:"ANALYZE_FOR_ENTRY_COMPONENTS",moduleName:Gs},Ps.ElementRef={name:"ElementRef",moduleName:Gs},Ps.NgModuleRef={name:"NgModuleRef",moduleName:Gs},Ps.ViewContainerRef={name:"ViewContainerRef",moduleName:Gs},Ps.ChangeDetectorRef={name:"ChangeDetectorRef",moduleName:Gs},Ps.QueryList={name:"QueryList",moduleName:Gs},Ps.TemplateRef={name:"TemplateRef",moduleName:Gs},Ps.Renderer2={name:"Renderer2",moduleName:Gs},Ps.CodegenComponentFactoryResolver={name:"\u0275CodegenComponentFactoryResolver",moduleName:Gs},Ps.ComponentFactoryResolver={name:"ComponentFactoryResolver",moduleName:Gs},Ps.ComponentFactory={name:"ComponentFactory",moduleName:Gs},Ps.ComponentRef={name:"ComponentRef",moduleName:Gs},Ps.NgModuleFactory={name:"NgModuleFactory",moduleName:Gs},Ps.createModuleFactory={name:"\u0275cmf",moduleName:Gs},Ps.moduleDef={name:"\u0275mod",moduleName:Gs},Ps.moduleProviderDef={name:"\u0275mpd",moduleName:Gs},Ps.RegisterModuleFactoryFn={name:"\u0275registerModuleFactory",moduleName:Gs},Ps.inject={name:"\u0275\u0275inject",moduleName:Gs},Ps.directiveInject={name:"\u0275\u0275directiveInject",moduleName:Gs},Ps.INJECTOR={name:"INJECTOR",moduleName:Gs},Ps.Injector={name:"Injector",moduleName:Gs},Ps.ViewEncapsulation={name:"ViewEncapsulation",moduleName:Gs},Ps.ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleName:Gs},Ps.SecurityContext={name:"SecurityContext",moduleName:Gs},Ps.LOCALE_ID={name:"LOCALE_ID",moduleName:Gs},Ps.TRANSLATIONS_FORMAT={name:"TRANSLATIONS_FORMAT",moduleName:Gs},Ps.inlineInterpolate={name:"\u0275inlineInterpolate",moduleName:Gs},Ps.interpolate={name:"\u0275interpolate",moduleName:Gs},Ps.EMPTY_ARRAY={name:"\u0275EMPTY_ARRAY",moduleName:Gs},Ps.EMPTY_MAP={name:"\u0275EMPTY_MAP",moduleName:Gs},Ps.Renderer={name:"Renderer",moduleName:Gs},Ps.RendererType2={name:"RendererType2",moduleName:Gs},Ps.ViewDefinition={name:"\u0275ViewDefinition",moduleName:Gs},Ps.createComponentFactory={name:"\u0275ccf",moduleName:Gs};class dh{}dh.event=bi("$event");class Sd{constructor(e,o){this.stmts=e,this.allowDefault=o,this.render3Stmts=e.map(c=>{if(c instanceof et&&c.name==o.name&&c.value instanceof rs){const y=c.value.lhs;return new vi(y.value)}return c})}}function hh(d,e,o,c,y,H,re,Ae){d||(d=new cf(Ae));const Ke=function(d,e){return function(d,e){const o=new Ip(d);return e.visit(o)}(d,e)}({createLiteralArrayConverter:Wn=>pi=>Ki(pi),createLiteralMapConverter:Wn=>pi=>Ys(Wn.map((Fi,fr)=>({key:Fi.key,value:pi[fr],quoted:Fi.quoted}))),createPipeConverter:Wn=>{throw new Error(`Illegal State: Actions are not allowed to contain pipes. Pipe: ${Wn}`)}},o),st=new mh(d,e,c,y,H,re),At=[];vh(Ke.visit(st,ao.Statement),At),function(d,e,o){for(let c=d-1;c>=0;c--)o.unshift(uf(e,c))}(st.temporaryCount,c,At),st.usesImplicitReceiver&&d.notifyImplicitReceiverUse();const ln=At.length-1;let Vn=null;if(ln>=0){const pi=function(d){return d instanceof En?d.expr:d instanceof vi?d.value:null}(At[ln]);pi&&(Vn=function(d){return bi(`pd_${d}`)}(c),At[ln]=Vn.set(pi.cast(ji).notIdentical(yt(!1))).toDeclStmt(null,[P.Final]))}return new Sd(At,Vn)}class Td{constructor(e,o){this.stmts=e,this.currValExpr=o}}var Ul,ao;function lf(d,e,o,c,y,H){d||(d=new cf);const re=new mh(d,e,c,H),Ae=o.visit(re,ao.Expression),Ke=wu(re,c);if(re.usesImplicitReceiver&&d.notifyImplicitReceiverUse(),0===re.temporaryCount&&y==Ul.TrySimple)return new Td([],Ae);if(y===Ul.Expression)return new Td(Ke,Ae);const st=function(d){return bi(`currVal_${d}`)}(c);return Ke.push(st.set(Ae).toDeclStmt(ji,[P.Final])),new Td(Ke,st)}function wu(d,e){const o=[];for(let c=0;c<d.temporaryCount;c++)o.push(uf(e,c));return o}function tu(d,e){return`tmp_${d}_${e}`}function uf(d,e){return new et(tu(d,e))}function Op(d,e){if(d!==ao.Expression)throw new Error(`Expected an expression, but saw ${e}`)}function ka(d,e){return d===ao.Statement?e.toStmt():e}!function(d){d[d.General=0]="General",d[d.TrySimple=1]="TrySimple",d[d.Expression=2]="Expression"}(Ul||(Ul={})),function(d){d[d.Statement=0]="Statement",d[d.Expression=1]="Expression"}(ao||(ao={}));class Ip extends class{visitImplicitReceiver(e,o){return e}visitThisReceiver(e,o){return e}visitInterpolation(e,o){return new ma(e.span,e.sourceSpan,e.strings,this.visitAll(e.expressions))}visitLiteralPrimitive(e,o){return new Za(e.span,e.sourceSpan,e.value)}visitPropertyRead(e,o){return new qu(e.span,e.sourceSpan,e.nameSpan,e.receiver.visit(this),e.name)}visitPropertyWrite(e,o){return new wd(e.span,e.sourceSpan,e.nameSpan,e.receiver.visit(this),e.name,e.value.visit(this))}visitSafePropertyRead(e,o){return new oh(e.span,e.sourceSpan,e.nameSpan,e.receiver.visit(this),e.name)}visitLiteralArray(e,o){return new lh(e.span,e.sourceSpan,this.visitAll(e.expressions))}visitLiteralMap(e,o){return new dc(e.span,e.sourceSpan,e.keys,this.visitAll(e.values))}visitUnary(e,o){switch(e.operator){case"+":return Sa.createPlus(e.span,e.sourceSpan,e.expr.visit(this));case"-":return Sa.createMinus(e.span,e.sourceSpan,e.expr.visit(this));default:throw new Error(`Unknown unary operator ${e.operator}`)}}visitBinary(e,o){return new Il(e.span,e.sourceSpan,e.operation,e.left.visit(this),e.right.visit(this))}visitPrefixNot(e,o){return new va(e.span,e.sourceSpan,e.expression.visit(this))}visitNonNullAssert(e,o){return new Cu(e.span,e.sourceSpan,e.expression.visit(this))}visitConditional(e,o){return new Zl(e.span,e.sourceSpan,e.condition.visit(this),e.trueExp.visit(this),e.falseExp.visit(this))}visitPipe(e,o){return new ah(e.span,e.sourceSpan,e.exp.visit(this),e.name,this.visitAll(e.args),e.nameSpan)}visitKeyedRead(e,o){return new Mo(e.span,e.sourceSpan,e.receiver.visit(this),e.key.visit(this))}visitKeyedWrite(e,o){return new Tp(e.span,e.sourceSpan,e.receiver.visit(this),e.key.visit(this),e.value.visit(this))}visitCall(e,o){return new hc(e.span,e.sourceSpan,e.receiver.visit(this),this.visitAll(e.args),e.argumentSpan)}visitAll(e){const o=[];for(let c=0;c<e.length;++c)o[c]=e[c].visit(this);return o}visitChain(e,o){return new Cd(e.span,e.sourceSpan,this.visitAll(e.expressions))}visitQuote(e,o){return new Vc(e.span,e.sourceSpan,e.prefix,e.uninterpretedExpression,e.location)}visitSafeKeyedRead(e,o){return new gl(e.span,e.sourceSpan,e.receiver.visit(this),e.key.visit(this))}}{constructor(e){super(),this._converterFactory=e}visitPipe(e,o){const c=[e.exp,...e.args].map(y=>y.visit(this,o));return new bu(e.span,e.sourceSpan,c,this._converterFactory.createPipeConverter(e.name,c.length))}visitLiteralArray(e,o){const c=e.expressions.map(y=>y.visit(this,o));return new bu(e.span,e.sourceSpan,c,this._converterFactory.createLiteralArrayConverter(e.expressions.length))}visitLiteralMap(e,o){const c=e.values.map(y=>y.visit(this,o));return new bu(e.span,e.sourceSpan,c,this._converterFactory.createLiteralMapConverter(e.keys))}}class mh{constructor(e,o,c,y,H,re){this._localResolver=e,this._implicitReceiver=o,this.bindingId=c,this.interpolationFunction=y,this.baseSourceSpan=H,this.implicitReceiverAccesses=re,this._nodeMap=new Map,this._resultMap=new Map,this._currentTemporary=0,this.temporaryCount=0,this.usesImplicitReceiver=!1}visitUnary(e,o){let c;switch(e.operator){case"+":c=Rt.Plus;break;case"-":c=Rt.Minus;break;default:throw new Error(`Unsupported operator ${e.operator}`)}return ka(o,new to(c,this._visit(e.expr,ao.Expression),void 0,this.convertSourceSpan(e.span)))}visitBinary(e,o){let c;switch(e.operation){case"+":c=Tt.Plus;break;case"-":c=Tt.Minus;break;case"*":c=Tt.Multiply;break;case"/":c=Tt.Divide;break;case"%":c=Tt.Modulo;break;case"&&":c=Tt.And;break;case"||":c=Tt.Or;break;case"==":c=Tt.Equals;break;case"!=":c=Tt.NotEquals;break;case"===":c=Tt.Identical;break;case"!==":c=Tt.NotIdentical;break;case"<":c=Tt.Lower;break;case">":c=Tt.Bigger;break;case"<=":c=Tt.LowerEquals;break;case">=":c=Tt.BiggerEquals;break;case"??":return this.convertNullishCoalesce(e,o);default:throw new Error(`Unsupported operation ${e.operation}`)}return ka(o,new rs(c,this._visit(e.left,ao.Expression),this._visit(e.right,ao.Expression),void 0,this.convertSourceSpan(e.span)))}visitChain(e,o){return function(d,e){if(d!==ao.Statement)throw new Error(`Expected a statement, but saw ${e}`)}(o,e),this.visitAll(e.expressions,o)}visitConditional(e,o){return ka(o,this._visit(e.condition,ao.Expression).conditional(this._visit(e.trueExp,ao.Expression),this._visit(e.falseExp,ao.Expression),this.convertSourceSpan(e.span)))}visitPipe(e,o){throw new Error(`Illegal state: Pipes should have been converted into functions. Pipe: ${e.name}`)}visitImplicitReceiver(e,o){return Op(o,e),this.usesImplicitReceiver=!0,this._implicitReceiver}visitThisReceiver(e,o){return this.visitImplicitReceiver(e,o)}visitInterpolation(e,o){Op(o,e);const c=[yt(e.expressions.length)];for(let y=0;y<e.strings.length-1;y++)c.push(yt(e.strings[y])),c.push(this._visit(e.expressions[y],ao.Expression));return c.push(yt(e.strings[e.strings.length-1])),this.interpolationFunction?this.interpolationFunction(c):e.expressions.length<=9?li(Ps.inlineInterpolate).callFn(c):li(Ps.interpolate).callFn([c[0],Ki(c.slice(1),void 0,this.convertSourceSpan(e.span))])}visitKeyedRead(e,o){const c=this.leftMostSafeNode(e);return c?this.convertSafeAccess(e,c,o):ka(o,this._visit(e.receiver,ao.Expression).key(this._visit(e.key,ao.Expression)))}visitKeyedWrite(e,o){const c=this._visit(e.receiver,ao.Expression),y=this._visit(e.key,ao.Expression),H=this._visit(e.value,ao.Expression);return c===this._implicitReceiver&&this._localResolver.maybeRestoreView(),ka(o,c.key(y).set(H))}visitLiteralArray(e,o){throw new Error("Illegal State: literal arrays should have been converted into functions")}visitLiteralMap(e,o){throw new Error("Illegal State: literal maps should have been converted into functions")}visitLiteralPrimitive(e,o){const c=null===e.value||void 0===e.value||!0===e.value||!0===e.value?Er:void 0;return ka(o,yt(e.value,c,this.convertSourceSpan(e.span)))}_getLocal(e,o){var c;return(null===(c=this._localResolver.globals)||void 0===c?void 0:c.has(e))&&o instanceof Hc?null:this._localResolver.getLocal(e)}visitPrefixNot(e,o){return ka(o,K(this._visit(e.expression,ao.Expression)))}visitNonNullAssert(e,o){return ka(o,fe(this._visit(e.expression,ao.Expression)))}visitPropertyRead(e,o){const c=this.leftMostSafeNode(e);if(c)return this.convertSafeAccess(e,c,o);{let y=null;const H=this.usesImplicitReceiver,re=this._visit(e.receiver,ao.Expression);return re===this._implicitReceiver&&(y=this._getLocal(e.name,e.receiver),y&&(this.usesImplicitReceiver=H,this.addImplicitReceiverAccess(e.name))),null==y&&(y=re.prop(e.name,this.convertSourceSpan(e.span))),ka(o,y)}}visitPropertyWrite(e,o){const c=this._visit(e.receiver,ao.Expression),y=this.usesImplicitReceiver;let H=null;if(c===this._implicitReceiver){const re=this._getLocal(e.name,e.receiver);if(re){if(!(re instanceof Eo)){const Ae=e.name,Ke=e.value instanceof qu?e.value.name:void 0;throw new Error(`Cannot assign value "${Ke}" to template variable "${Ae}". Template variables are read-only.`)}H=re,this.usesImplicitReceiver=y,this.addImplicitReceiverAccess(e.name)}}return null===H&&(H=c.prop(e.name,this.convertSourceSpan(e.span))),ka(o,H.set(this._visit(e.value,ao.Expression)))}visitSafePropertyRead(e,o){return this.convertSafeAccess(e,this.leftMostSafeNode(e),o)}visitSafeKeyedRead(e,o){return this.convertSafeAccess(e,this.leftMostSafeNode(e),o)}visitAll(e,o){return e.map(c=>this._visit(c,o))}visitQuote(e,o){throw new Error(`Quotes are not supported for evaluation!\n        Statement: ${e.uninterpretedExpression} located at ${e.location}`)}visitCall(e,o){const c=this.leftMostSafeNode(e);if(c)return this.convertSafeAccess(e,c,o);const y=this.visitAll(e.args,ao.Expression);if(e instanceof bu)return ka(o,e.converter(y));const H=e.receiver;if(H instanceof qu&&H.receiver instanceof Tr&&!(H.receiver instanceof Hc)&&"$any"===H.name){if(1!==y.length)throw new Error(`Invalid call to $any, expected 1 argument but received ${y.length||"none"}`);return ka(o,y[0].cast(ji,this.convertSourceSpan(e.span)))}return ka(o,this._visit(H,ao.Expression).callFn(y,this.convertSourceSpan(e.span)))}_visit(e,o){return this._resultMap.get(e)||(this._nodeMap.get(e)||e).visit(this,o)}convertSafeAccess(e,o,c){let H,y=this._visit(o.receiver,ao.Expression);this.needsTemporaryInSafeAccess(o.receiver)&&(H=this.allocateTemporary(),y=H.set(y),this._resultMap.set(o.receiver,H));const re=y.isBlank();o instanceof gl?this._nodeMap.set(o,new Mo(o.span,o.sourceSpan,o.receiver,o.key)):this._nodeMap.set(o,new qu(o.span,o.sourceSpan,o.nameSpan,o.receiver,o.name));const Ae=this._visit(e,ao.Expression);return this._nodeMap.delete(o),H&&this.releaseTemporary(H),ka(c,re.conditional(Lt,Ae))}convertNullishCoalesce(e,o){const c=this._visit(e.left,ao.Expression),y=this._visit(e.right,ao.Expression),H=this.allocateTemporary();return this.releaseTemporary(H),ka(o,H.set(c).notIdentical(Lt).and(H.notIdentical(yt(void 0))).conditional(H,y))}leftMostSafeNode(e){const o=(c,y)=>(this._nodeMap.get(y)||y).visit(c);return e.visit({visitUnary:c=>null,visitBinary:c=>null,visitChain:c=>null,visitConditional:c=>null,visitCall(c){return o(this,c.receiver)},visitImplicitReceiver:c=>null,visitThisReceiver:c=>null,visitInterpolation:c=>null,visitKeyedRead(c){return o(this,c.receiver)},visitKeyedWrite:c=>null,visitLiteralArray:c=>null,visitLiteralMap:c=>null,visitLiteralPrimitive:c=>null,visitPipe:c=>null,visitPrefixNot:c=>null,visitNonNullAssert:c=>null,visitPropertyRead(c){return o(this,c.receiver)},visitPropertyWrite:c=>null,visitQuote:c=>null,visitSafePropertyRead(c){return o(this,c.receiver)||c},visitSafeKeyedRead(c){return o(this,c.receiver)||c}})}needsTemporaryInSafeAccess(e){const o=(y,H)=>H&&(this._nodeMap.get(H)||H).visit(y);return e.visit({visitUnary(y){return o(this,y.expr)},visitBinary(y){return o(this,y.left)||o(this,y.right)},visitChain:y=>!1,visitConditional(y){return o(this,y.condition)||o(this,y.trueExp)||o(this,y.falseExp)},visitCall:y=>!0,visitImplicitReceiver:y=>!1,visitThisReceiver:y=>!1,visitInterpolation(y){return((y,H)=>H.some(re=>o(y,re)))(this,y.expressions)},visitKeyedRead:y=>!1,visitKeyedWrite:y=>!1,visitLiteralArray:y=>!0,visitLiteralMap:y=>!0,visitLiteralPrimitive:y=>!1,visitPipe:y=>!0,visitPrefixNot(y){return o(this,y.expression)},visitNonNullAssert(y){return o(this,y.expression)},visitPropertyRead:y=>!1,visitPropertyWrite:y=>!1,visitQuote:y=>!1,visitSafePropertyRead:y=>!1,visitSafeKeyedRead:y=>!1})}allocateTemporary(){const e=this._currentTemporary++;return this.temporaryCount=Math.max(this._currentTemporary,this.temporaryCount),new xi(tu(this.bindingId,e))}releaseTemporary(e){if(this._currentTemporary--,e.name!=tu(this.bindingId,this._currentTemporary))throw new Error(`Temporary ${e.name} released out of order`)}convertSourceSpan(e){if(this.baseSourceSpan){const o=this.baseSourceSpan.start.moveBy(e.start),c=this.baseSourceSpan.start.moveBy(e.end),y=this.baseSourceSpan.fullStart.moveBy(e.start);return new ga(o,c,y)}return null}addImplicitReceiverAccess(e){this.implicitReceiverAccesses&&this.implicitReceiverAccesses.add(e)}}function vh(d,e){Array.isArray(d)?d.forEach(o=>vh(o,e)):e.push(d)}class cf{constructor(e){this.globals=e}notifyImplicitReceiverUse(){}maybeRestoreView(){}getLocal(e){return e===dh.event.name?dh.event:null}}class bu extends hc{constructor(e,o,c,y){super(e,o,new ba(e,o),c,null),this.converter=y}}class Pp{constructor(){this.strictStyling=!0}shimCssText(e,o,c=""){const y=function(d){return d.match(cm)||[]}(e);return e=function(d){return d.replace(vf,"")}(e),e=this._insertDirectives(e),[this._scopeCssText(e,o,c),...y].join("\n")}_insertDirectives(e){return e=this._insertPolyfillDirectivesInCssText(e),this._insertPolyfillRulesInCssText(e)}_insertPolyfillDirectivesInCssText(e){return e.replace(Ad,function(...o){return o[2]+"{"})}_insertPolyfillRulesInCssText(e){return e.replace(Rp,(...o)=>{const c=o[0].replace(o[1],"").replace(o[2],"");return o[4]+c})}_scopeCssText(e,o,c){const y=this._extractUnscopedRulesFromCssText(e);return e=this._insertPolyfillHostInCssText(e),e=this._convertColonHost(e),e=this._convertColonHostContext(e),e=this._convertShadowDOMSelectors(e),o&&(e=this._scopeSelectors(e,o,c)),(e=e+"\n"+y).trim()}_extractUnscopedRulesFromCssText(e){let c,o="";for(ff.lastIndex=0;null!==(c=ff.exec(e));)o+=c[0].replace(c[2],"").replace(c[1],c[4])+"\n\n";return o}_convertColonHost(e){return e.replace(gf,(o,c,y)=>{if(c){const H=[],re=c.split(",").map(Ae=>Ae.trim());for(const Ae of re){if(!Ae)break;const Ke=Yu+Ae.replace(yh,"")+y;H.push(Ke)}return H.join(",")}return Yu+y})}_convertColonHostContext(e){return e.replace(Mp,o=>{var c;const y=[[]];let H;for(;H=$l.exec(o);){const re=(null!==(c=H[1])&&void 0!==c?c:"").trim().split(",").map(Ke=>Ke.trim()).filter(Ke=>""!==Ke),Ae=y.length;gm(y,re.length);for(let Ke=0;Ke<re.length;Ke++)for(let st=0;st<Ae;st++)y[st+Ke*Ae].push(re[Ke]);o=H[2]}return y.map(re=>function(d,e){const o=Yu;Na.lastIndex=0;const c=Na.test(e);if(0===d.length)return o+e;const y=[d.pop()||""];for(;d.length>0;){const H=y.length,re=d.pop();for(let Ae=0;Ae<H;Ae++){const Ke=y[Ae];y[2*H+Ae]=Ke+" "+re,y[H+Ae]=re+" "+Ke,y[Ae]=re+Ke}}return y.map(H=>c?`${H}${e}`:`${H}${o}${e}, ${H} ${o}${e}`).join(",")}(re,o)).join(", ")})}_convertShadowDOMSelectors(e){return kp.reduce((o,c)=>o.replace(c," "),e)}_scopeSelectors(e,o,c){return _f(e,y=>{let H=y.selector,re=y.content;return"@"!==y.selector[0]?H=this._scopeSelector(y.selector,o,c,this.strictStyling):y.selector.startsWith("@media")||y.selector.startsWith("@supports")||y.selector.startsWith("@document")?re=this._scopeSelectors(y.content,o,c):(y.selector.startsWith("@font-face")||y.selector.startsWith("@page"))&&(re=this._stripScopingSelectors(y.content)),new wh(H,re)})}_stripScopingSelectors(e){return _f(e,o=>{const c=o.selector.replace(mf," ").replace(Fp," ");return new wh(c,o.content)})}_scopeSelector(e,o,c,y){return e.split(",").map(H=>H.trim().split(mf)).map(H=>{const[re,...Ae]=H;return[(st=>this._selectorNeedsScoping(st,o)?y?this._applyStrictSelectorScope(st,o,c):this._applySelectorScope(st,o,c):st)(re),...Ae].join(" ")}).join(", ")}_selectorNeedsScoping(e,o){return!this._makeScopeMatcher(o).test(e)}_makeScopeMatcher(e){return e=e.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),new RegExp("^("+e+")"+am,"m")}_applySelectorScope(e,o,c){return this._applySimpleSelectorScope(e,o,c)}_applySimpleSelectorScope(e,o,c){if(Na.lastIndex=0,Na.test(e)){const y=this.strictStyling?`[${c}]`:o;return e.replace(Fp,(H,re)=>re.replace(/([^:]*)(:*)(.*)/,(Ae,Ke,st,At)=>Ke+y+st+At)).replace(Na,y+" ")}return o+" "+e}_applyStrictSelectorScope(e,o,c){const H="["+(o=o.replace(/\[is=([^\]]*)\]/g,(Ar,...Fi)=>Fi[0]))+"]",re=Ar=>{let Fi=Ar.trim();if(!Fi)return"";if(Ar.indexOf(Yu)>-1)Fi=this._applySimpleSelectorScope(Ar,o,c);else{const fr=Ar.replace(Na,"");if(fr.length>0){const Kr=fr.match(/([^:]*)(:*)(.*)/);Kr&&(Fi=Kr[1]+H+Kr[2]+Kr[3])}}return Fi},Ae=new hf(e);let At,Ke="",st=0;const ln=/( |>|\+|~(?!=))\s*/g;let Wn=!((e=Ae.content()).indexOf(Yu)>-1);for(;null!==(At=ln.exec(e));){const Ar=At[1],Fi=e.slice(st,At.index).trim();Wn=Wn||Fi.indexOf(Yu)>-1,Ke+=`${Wn?re(Fi):Fi} ${Ar} `,st=ln.lastIndex}const pi=e.substring(st);return Wn=Wn||pi.indexOf(Yu)>-1,Ke+=Wn?re(pi):pi,Ae.restore(Ke)}_insertPolyfillHostInCssText(e){return e.replace(Np,pf).replace(lm,yh)}}class hf{constructor(e){this.placeholders=[],this.index=0,e=this._escapeRegexMatches(e,/(\[[^\]]*\])/g),e=this._escapeRegexMatches(e,/(\\.)/g),this._content=e.replace(/(:nth-[-\w]+)(\([^)]+\))/g,(o,c,y)=>{const H=`__ph-${this.index}__`;return this.placeholders.push(y),this.index++,c+H})}restore(e){return e.replace(/__ph-(\d+)__/g,(o,c)=>this.placeholders[+c])}content(){return this._content}_escapeRegexMatches(e,o){return e.replace(o,(c,y)=>{const H=`__ph-${this.index}__`;return this.placeholders.push(y),this.index++,H})}}const Ad=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,Rp=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,ff=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,yh="-shadowcsshost",pf="-shadowcsscontext",Eh="(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",gf=new RegExp(yh+Eh,"gim"),Mp=new RegExp(pf+Eh,"gim"),$l=new RegExp(pf+Eh,"im"),Yu=yh+"-no-combinator",Fp=/-shadowcsshost-no-combinator([^\s]*)/,kp=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],mf=/(?:>>>)|(?:\/deep\/)|(?:::ng-deep)/g,am="([>\\s~+[.,{:][\\s\\S]*)?$",Na=/-shadowcsshost/gim,lm=/:host/gim,Np=/:host-context/gim,vf=/\/\*[\s\S]*?\*\//g;const cm=/\/\*\s*#\s*source(Mapping)?URL=[\s\S]+?\*\//g;const Ch="%BLOCK%",fm=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g,pm=/%QUOTED%/g,as=new Map([["{","}"]]),Lp=new Map([['"','"'],["'","'"]]);class wh{constructor(e,o){this.selector=e,this.content=o}}function _f(d,e){const o=Pl(d,Lp,"%QUOTED%"),c=Pl(o.escapedString,as,Ch);let y=0,H=0;return c.escapedString.replace(fm,(...re)=>{const Ae=re[2];let Ke="",st=re[4],At="";st&&st.startsWith("{"+Ch)&&(Ke=c.blocks[y++],st=st.substring(Ch.length+1),At="{");const ln=e(new wh(Ae,Ke));return`${re[1]}${ln.selector}${re[3]}${At}${ln.content}${st}`}).replace(pm,()=>o.blocks[H++])}class bh{constructor(e,o){this.escapedString=e,this.blocks=o}}function Pl(d,e,o){const c=[],y=[];let Ke,st,H=0,re=0,Ae=-1;for(let At=0;At<d.length;At++){const ln=d[At];"\\"===ln?At++:ln===st?(H--,0===H&&(y.push(d.substring(Ae,At)),c.push(o),re=At,Ae=-1,Ke=st=void 0)):ln===Ke?H++:0===H&&e.has(ln)&&(Ke=ln,st=e.get(ln),H=1,Ae=At+1,c.push(d.substring(re,Ae)))}return-1!==Ae?(y.push(d.substring(Ae)),c.push(o)):c.push(d.substring(re)),new bh(c.join(""),y)}function gm(d,e){const o=d.length;for(let c=1;c<e;c++)for(let y=0;y<o;y++)d[y+c*o]=d[y].slice(0)}function nu(d){const e=d.charCodeAt(0);if(e==d.charCodeAt(d.length-1)&&(39==e||34==e)){const c=d.substring(1,d.length-1);-1==c.indexOf("'")&&-1==c.indexOf('"')&&(d=c)}return d}function Sh(d){return d.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}class Ef{constructor(e){this._directiveExpr=e,this._hasInitialValues=!1,this.hasBindings=!1,this.hasBindingsWithPipes=!1,this._classMapInput=null,this._styleMapInput=null,this._singleStyleInputs=null,this._singleClassInputs=null,this._lastStylingInput=null,this._firstStylingInput=null,this._stylesIndex=new Map,this._classesIndex=new Map,this._initialStyleValues=[],this._initialClassValues=[]}registerBoundInput(e){let o=null,c=e.name;switch(e.type){case 0:o=this.registerInputBasedOnName(c,e.value,e.sourceSpan);break;case 3:o=this.registerStyleInput(c,!1,e.value,e.sourceSpan,e.unit);break;case 2:o=this.registerClassInput(c,!1,e.value,e.sourceSpan)}return!!o}registerInputBasedOnName(e,o,c){let y=null;const H=e.substring(0,6),re="style"===e||"style."===H||"style!"===H;if(re||!re&&("class"===e||"class."===H||"class!"===H)){const Ke="."!==e.charAt(5),st=e.substr(Ke?5:6);y=re?this.registerStyleInput(st,Ke,o,c):this.registerClassInput(st,Ke,o,c)}return y}registerStyleInput(e,o,c,y,H){if(xh(c))return null;(function(d){return d.startsWith("--")})(e)||(e=Sh(e));const{property:re,hasOverrideFlag:Ae,suffix:Ke}=mm(e),st={name:re,suffix:H="string"==typeof H&&0!==H.length?H:Ke,value:c,sourceSpan:y,hasOverrideFlag:Ae};return o?this._styleMapInput=st:((this._singleStyleInputs=this._singleStyleInputs||[]).push(st),Th(this._stylesIndex,re)),this._lastStylingInput=st,this._firstStylingInput=this._firstStylingInput||st,this._checkForPipes(c),this.hasBindings=!0,st}registerClassInput(e,o,c,y){if(xh(c))return null;const{property:H,hasOverrideFlag:re}=mm(e),Ae={name:H,value:c,sourceSpan:y,hasOverrideFlag:re,suffix:null};return o?this._classMapInput=Ae:((this._singleClassInputs=this._singleClassInputs||[]).push(Ae),Th(this._classesIndex,H)),this._lastStylingInput=Ae,this._firstStylingInput=this._firstStylingInput||Ae,this._checkForPipes(c),this.hasBindings=!0,Ae}_checkForPipes(e){e instanceof Jl&&e.ast instanceof ah&&(this.hasBindingsWithPipes=!0)}registerStyleAttr(e){this._initialStyleValues=function(d){const e=[];let o=0,c=0,y=0,H=0,re=0,Ae=null,Ke=!1;for(;o<d.length;)switch(d.charCodeAt(o++)){case 40:c++;break;case 41:c--;break;case 39:Ke=Ke||H>0,0===y?y=39:39===y&&92!==d.charCodeAt(o-1)&&(y=0);break;case 34:Ke=Ke||H>0,0===y?y=34:34===y&&92!==d.charCodeAt(o-1)&&(y=0);break;case 58:!Ae&&0===c&&0===y&&(Ae=Sh(d.substring(re,o-1).trim()),H=o);break;case 59:if(Ae&&H>0&&0===c&&0===y){const At=d.substring(H,o-1).trim();e.push(Ae,Ke?nu(At):At),re=o,H=0,Ae=null,Ke=!1}}if(Ae&&H){const st=d.substr(H).trim();e.push(Ae,Ke?nu(st):st)}return e}(e),this._hasInitialValues=!0}registerClassAttr(e){this._initialClassValues=e.trim().split(/\s+/g),this._hasInitialValues=!0}populateInitialStylingAttrs(e){if(this._initialClassValues.length){e.push(yt(1));for(let o=0;o<this._initialClassValues.length;o++)e.push(yt(this._initialClassValues[o]))}if(this._initialStyleValues.length){e.push(yt(2));for(let o=0;o<this._initialStyleValues.length;o+=2)e.push(yt(this._initialStyleValues[o]),yt(this._initialStyleValues[o+1]))}}assignHostAttrs(e,o){this._directiveExpr&&(e.length||this._hasInitialValues)&&(this.populateInitialStylingAttrs(e),o.set("hostAttrs",Ki(e)))}buildClassMapInstruction(e){return this._classMapInput?this._buildMapBasedInstruction(e,!0,this._classMapInput):null}buildStyleMapInstruction(e){return this._styleMapInput?this._buildMapBasedInstruction(e,!1,this._styleMapInput):null}_buildMapBasedInstruction(e,o,c){let y=2;const H=c.value.visit(e);let re;return H instanceof ma?(y+=H.expressions.length,re=o?function(d){switch(Ws(d)){case 1:return it.classMap;case 3:return it.classMapInterpolate1;case 5:return it.classMapInterpolate2;case 7:return it.classMapInterpolate3;case 9:return it.classMapInterpolate4;case 11:return it.classMapInterpolate5;case 13:return it.classMapInterpolate6;case 15:return it.classMapInterpolate7;case 17:return it.classMapInterpolate8;default:return it.classMapInterpolateV}}(H):function(d){switch(Ws(d)){case 1:return it.styleMap;case 3:return it.styleMapInterpolate1;case 5:return it.styleMapInterpolate2;case 7:return it.styleMapInterpolate3;case 9:return it.styleMapInterpolate4;case 11:return it.styleMapInterpolate5;case 13:return it.styleMapInterpolate6;case 15:return it.styleMapInterpolate7;case 17:return it.styleMapInterpolate8;default:return it.styleMapInterpolateV}}(H)):re=o?it.classMap:it.styleMap,{reference:re,calls:[{supportsInterpolation:!0,sourceSpan:c.sourceSpan,allocateBindingSlots:y,params:Ae=>{const Ke=Ae(H);return Array.isArray(Ke)?Ke:[Ke]}}]}}_buildSingleInputs(e,o,c,y,H){const re=[];return o.forEach(Ae=>{const Ke=re[re.length-1],st=Ae.value.visit(c);let At=e,ln=2;st instanceof ma&&(ln+=st.expressions.length,y&&(At=y(st)));const Vn={sourceSpan:Ae.sourceSpan,allocateBindingSlots:ln,supportsInterpolation:!!y,params:Wn=>{const pi=[];pi.push(yt(Ae.name));const Ar=Wn(st);return Array.isArray(Ar)?pi.push(...Ar):pi.push(Ar),!H&&null!==Ae.suffix&&pi.push(yt(Ae.suffix)),pi}};Ke&&Ke.reference===At?Ke.calls.push(Vn):re.push({reference:At,calls:[Vn]})}),re}_buildClassInputs(e){return this._singleClassInputs?this._buildSingleInputs(it.classProp,this._singleClassInputs,e,null,!0):[]}_buildStyleInputs(e){return this._singleStyleInputs?this._buildSingleInputs(it.styleProp,this._singleStyleInputs,e,Cf,!1):[]}buildUpdateLevelInstructions(e){const o=[];if(this.hasBindings){const c=this.buildStyleMapInstruction(e);c&&o.push(c);const y=this.buildClassMapInstruction(e);y&&o.push(y),o.push(...this._buildStyleInputs(e)),o.push(...this._buildClassInputs(e))}return o}}function Th(d,e){d.has(e)||d.set(e,d.size)}function mm(d){let e=!1;const o=d.indexOf("!important");-1!==o&&(d=o>0?d.substring(0,o):"",e=!0);let c=null,y=d;const H=d.lastIndexOf(".");return H>0&&(c=d.substr(H+1),y=d.substring(0,H)),{property:y,suffix:c,hasOverrideFlag:e}}function Cf(d){switch(Ws(d)){case 1:return it.styleProp;case 3:return it.stylePropInterpolate1;case 5:return it.stylePropInterpolate2;case 7:return it.stylePropInterpolate3;case 9:return it.stylePropInterpolate4;case 11:return it.stylePropInterpolate5;case 13:return it.stylePropInterpolate6;case 15:return it.stylePropInterpolate7;case 17:return it.stylePropInterpolate8;default:return it.stylePropInterpolateV}}function xh(d){return d instanceof Jl&&(d=d.ast),d instanceof ba}var xs;!function(d){d[d.Character=0]="Character",d[d.Identifier=1]="Identifier",d[d.PrivateIdentifier=2]="PrivateIdentifier",d[d.Keyword=3]="Keyword",d[d.String=4]="String",d[d.Operator=5]="Operator",d[d.Number=6]="Number",d[d.Error=7]="Error"}(xs||(xs={}));const vm=["var","let","as","null","undefined","true","false","if","else","this"];class bf{tokenize(e){const o=new Em(e),c=[];let y=o.scanToken();for(;null!=y;)c.push(y),y=o.scanToken();return c}}class Su{constructor(e,o,c,y,H){this.index=e,this.end=o,this.type=c,this.numValue=y,this.strValue=H}isCharacter(e){return this.type==xs.Character&&this.numValue==e}isNumber(){return this.type==xs.Number}isString(){return this.type==xs.String}isOperator(e){return this.type==xs.Operator&&this.strValue==e}isIdentifier(){return this.type==xs.Identifier}isPrivateIdentifier(){return this.type==xs.PrivateIdentifier}isKeyword(){return this.type==xs.Keyword}isKeywordLet(){return this.type==xs.Keyword&&"let"==this.strValue}isKeywordAs(){return this.type==xs.Keyword&&"as"==this.strValue}isKeywordNull(){return this.type==xs.Keyword&&"null"==this.strValue}isKeywordUndefined(){return this.type==xs.Keyword&&"undefined"==this.strValue}isKeywordTrue(){return this.type==xs.Keyword&&"true"==this.strValue}isKeywordFalse(){return this.type==xs.Keyword&&"false"==this.strValue}isKeywordThis(){return this.type==xs.Keyword&&"this"==this.strValue}isError(){return this.type==xs.Error}toNumber(){return this.type==xs.Number?this.numValue:-1}toString(){switch(this.type){case xs.Character:case xs.Identifier:case xs.Keyword:case xs.Operator:case xs.PrivateIdentifier:case xs.String:case xs.Error:return this.strValue;case xs.Number:return this.numValue.toString();default:return null}}}function xd(d,e,o){return new Su(d,e,xs.Character,o,String.fromCharCode(o))}function Up(d,e,o){return new Su(d,e,xs.Operator,0,o)}const Od=new Su(-1,-1,xs.Character,0,"");class Em{constructor(e){this.input=e,this.peek=0,this.index=-1,this.length=e.length,this.advance()}advance(){this.peek=++this.index>=this.length?0:this.input.charCodeAt(this.index)}scanToken(){const e=this.input,o=this.length;let c=this.peek,y=this.index;for(;c<=32;){if(++y>=o){c=0;break}c=e.charCodeAt(y)}if(this.peek=c,this.index=y,y>=o)return null;if(zp(c))return this.scanIdentifier();if(Ia(c))return this.scanNumber(y);const H=y;switch(c){case 46:return this.advance(),Ia(this.peek)?this.scanNumber(H):xd(H,this.index,46);case 40:case 41:case Yo:case No:case 91:case 93:case 44:case 58:case 59:return this.scanCharacter(H,c);case 39:case 34:return this.scanString();case 35:return this.scanPrivateIdentifier();case 43:case 45:case 42:case 47:case 37:case 94:return this.scanOperator(H,String.fromCharCode(c));case 63:return this.scanQuestion(H);case 60:case 62:return this.scanComplexOperator(H,String.fromCharCode(c),61,"=");case 33:case 61:return this.scanComplexOperator(H,String.fromCharCode(c),61,"=",61,"=");case 38:return this.scanComplexOperator(H,"&",38,"&");case 124:return this.scanComplexOperator(H,"|",124,"|");case 160:for(;fd(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error(`Unexpected character [${String.fromCharCode(c)}]`,0)}scanCharacter(e,o){return this.advance(),xd(e,this.index,o)}scanOperator(e,o){return this.advance(),Up(e,this.index,o)}scanComplexOperator(e,o,c,y,H,re){this.advance();let Ae=o;return this.peek==c&&(this.advance(),Ae+=y),null!=H&&this.peek==H&&(this.advance(),Ae+=re),Up(e,this.index,Ae)}scanIdentifier(){const e=this.index;for(this.advance();Gp(this.peek);)this.advance();const o=this.input.substring(e,this.index);return vm.indexOf(o)>-1?function(d,e,o){return new Su(d,e,xs.Keyword,0,o)}(e,this.index,o):function(d,e,o){return new Su(d,e,xs.Identifier,0,o)}(e,this.index,o)}scanPrivateIdentifier(){const e=this.index;if(this.advance(),!zp(this.peek))return this.error("Invalid character [#]",-1);for(;Gp(this.peek);)this.advance();const o=this.input.substring(e,this.index);return function(d,e,o){return new Su(d,e,xs.PrivateIdentifier,0,o)}(e,this.index,o)}scanNumber(e){let o=this.index===e,c=!1;for(this.advance();;){if(!Ia(this.peek))if(95===this.peek){if(!Ia(this.input.charCodeAt(this.index-1))||!Ia(this.input.charCodeAt(this.index+1)))return this.error("Invalid numeric separator",0);c=!0}else if(46===this.peek)o=!1;else{if(!Nv(this.peek))break;if(this.advance(),Lv(this.peek)&&this.advance(),!Ia(this.peek))return this.error("Invalid exponent",-1);o=!1}this.advance()}let y=this.input.substring(e,this.index);c&&(y=y.replace(/_/g,""));const H=o?function(d){const e=parseInt(d);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+d);return e}(y):parseFloat(y);return function(d,e,o){return new Su(d,e,xs.Number,o,"")}(e,this.index,H)}scanString(){const e=this.index,o=this.peek;this.advance();let c="",y=this.index;const H=this.input;for(;this.peek!=o;)if(92==this.peek){let Ae;if(c+=H.substring(y,this.index),this.advance(),this.peek=this.peek,117==this.peek){const Ke=H.substring(this.index+1,this.index+5);if(!/^[0-9a-f]+$/i.test(Ke))return this.error(`Invalid unicode escape [\\u${Ke}]`,0);Ae=parseInt(Ke,16);for(let st=0;st<5;st++)this.advance()}else Ae=Bv(this.peek),this.advance();c+=String.fromCharCode(Ae),y=this.index}else{if(0==this.peek)return this.error("Unterminated quote",0);this.advance()}const re=H.substring(y,this.index);return this.advance(),function(d,e,o){return new Su(d,e,xs.String,0,o)}(e,this.index,c+re)}scanQuestion(e){this.advance();let o="?";return(63===this.peek||46===this.peek)&&(o+=46===this.peek?".":"?",this.advance()),Up(e,this.index,o)}error(e,o){const c=this.index+o;return function(d,e,o){return new Su(d,e,xs.Error,0,o)}(c,this.index,`Lexer Error: ${e} at column ${c} in expression [${this.input}]`)}}function zp(d){return 97<=d&&d<=122||65<=d&&d<=90||95==d||36==d}function Gp(d){return Jd(d)||Ia(d)||95==d||36==d}function Nv(d){return 101==d||69==d}function Lv(d){return 45==d||43==d}function Bv(d){switch(d){case 110:return 10;case 102:return 12;case 114:return 13;case 116:return 9;case 118:return 11;default:return d}}class Cm{constructor(e,o,c){this.strings=e,this.expressions=o,this.offsets=c}}class wm{constructor(e,o,c){this.templateBindings=e,this.warnings=o,this.errors=c}}class Tu{constructor(e){this._lexer=e,this.errors=[],this.simpleExpressionChecker=Gc}parseAction(e,o,c,y=cs){this._checkNoInterpolation(e,o,y);const H=this._stripComments(e),re=this._lexer.tokenize(this._stripComments(e)),Ae=new zc(e,o,c,re,H.length,!0,this.errors,e.length-H.length).parseChain();return new Jl(Ae,e,o,c,this.errors)}parseBinding(e,o,c,y=cs){const H=this._parseBindingAst(e,o,c,y);return new Jl(H,e,o,c,this.errors)}checkSimpleExpression(e){const o=new this.simpleExpressionChecker;return e.visit(o),o.errors}parseSimpleBinding(e,o,c,y=cs){const H=this._parseBindingAst(e,o,c,y),re=this.checkSimpleExpression(H);return re.length>0&&this._reportError(`Host binding expression cannot contain ${re.join(" ")}`,e,o),new Jl(H,e,o,c,this.errors)}_reportError(e,o,c,y){this.errors.push(new Hl(e,o,c,y))}_parseBindingAst(e,o,c,y){const H=this._parseQuote(e,o,c);if(null!=H)return H;this._checkNoInterpolation(e,o,y);const re=this._stripComments(e),Ae=this._lexer.tokenize(re);return new zc(e,o,c,Ae,re.length,!1,this.errors,e.length-re.length).parseChain()}_parseQuote(e,o,c){if(null==e)return null;const y=e.indexOf(":");if(-1==y)return null;const H=e.substring(0,y).trim();if(!function(d){if(0==d.length)return!1;const e=new Em(d);if(!zp(e.peek))return!1;for(e.advance();0!==e.peek;){if(!Gp(e.peek))return!1;e.advance()}return!0}(H))return null;const re=e.substring(y+1),Ae=new Ku(0,e.length);return new Vc(Ae,Ae.toAbsolute(c),H,re,o)}parseTemplateBindings(e,o,c,y,H){const re=this._lexer.tokenize(o);return new zc(o,c,H,re,o.length,!1,this.errors,0).parseTemplateBindings({source:e,span:new Ja(y,y+e.length)})}parseInterpolation(e,o,c,y=cs){const{strings:H,expressions:re,offsets:Ae}=this.splitInterpolation(e,o,y);if(0===re.length)return null;const Ke=[];for(let st=0;st<re.length;++st){const At=re[st].text,ln=this._stripComments(At),Vn=this._lexer.tokenize(ln),Wn=new zc(e,o,c,Vn,ln.length,!1,this.errors,Ae[st]+(At.length-ln.length)).parseChain();Ke.push(Wn)}return this.createInterpolationAst(H.map(st=>st.text),Ke,e,o,c)}parseInterpolationExpression(e,o,c){const y=this._stripComments(e),H=this._lexer.tokenize(y),re=new zc(e,o,c,H,y.length,!1,this.errors,0).parseChain();return this.createInterpolationAst(["",""],[re],e,o,c)}createInterpolationAst(e,o,c,y,H){const re=new Ku(0,c.length),Ae=new ma(re,re.toAbsolute(H),e,o);return new Jl(Ae,c,y,H,this.errors)}splitInterpolation(e,o,c=cs){const y=[],H=[],re=[];let Ae=0,Ke=!1,st=!1,{start:At,end:ln}=c;for(;Ae<e.length;)if(Ke){const Vn=Ae,Wn=Vn+At.length,pi=this._getInterpolationEndIndex(e,ln,Wn);if(-1===pi){Ke=!1,st=!0;break}const Ar=pi+ln.length,Fi=e.substring(Wn,pi);0===Fi.trim().length&&this._reportError("Blank expressions are not allowed in interpolated strings",e,`at column ${Ae} in`,o),H.push({text:Fi,start:Vn,end:Ar}),re.push(Wn),Ae=Ar,Ke=!1}else{const Vn=Ae;Ae=e.indexOf(At,Ae),-1===Ae&&(Ae=e.length);const Wn=e.substring(Vn,Ae);y.push({text:Wn,start:Vn,end:Ae}),Ke=!0}if(!Ke)if(st){const Vn=y[y.length-1];Vn.text+=e.substring(Ae),Vn.end=e.length}else y.push({text:e.substring(Ae),start:Ae,end:e.length});return new Cm(y,H,re)}wrapLiteralPrimitive(e,o,c){const y=new Ku(0,null==e?0:e.length);return new Jl(new Za(y,y.toAbsolute(c),e),e,o,c,this.errors)}_stripComments(e){const o=this._commentStart(e);return null!=o?e.substring(0,o).trim():e}_commentStart(e){let o=null;for(let c=0;c<e.length-1;c++){const y=e.charCodeAt(c),H=e.charCodeAt(c+1);if(47===y&&47==H&&null==o)return c;o===y?o=null:null==o&&Pa(y)&&(o=y)}return null}_checkNoInterpolation(e,o,{start:c,end:y}){let H=-1,re=-1;for(const Ae of this._forEachUnquotedChar(e,0))if(-1===H)e.startsWith(c)&&(H=Ae);else if(re=this._getInterpolationEndIndex(e,y,Ae),re>-1)break;H>-1&&re>-1&&this._reportError(`Got interpolation (${c}${y}) where expression was expected`,e,`at column ${H} in`,o)}_getInterpolationEndIndex(e,o,c){for(const y of this._forEachUnquotedChar(e,c)){if(e.startsWith(o,y))return y;if(e.startsWith("//",y))return e.indexOf(o,y)}return-1}*_forEachUnquotedChar(e,o){let c=null,y=0;for(let H=o;H<e.length;H++){const re=e[H];!Pa(e.charCodeAt(H))||null!==c&&c!==re||y%2!=0?null===c&&(yield H):c=null===c?re:null,y="\\"===re?y+1:0}}}class Sf extends Tu{constructor(){super(...arguments),this.simpleExpressionChecker=jp}}var Wc;!function(d){d[d.None=0]="None",d[d.Writable=1]="Writable"}(Wc||(Wc={}));class zc{constructor(e,o,c,y,H,re,Ae,Ke){this.input=e,this.location=o,this.absoluteOffset=c,this.tokens=y,this.inputLength=H,this.parseAction=re,this.errors=Ae,this.offset=Ke,this.rparensExpected=0,this.rbracketsExpected=0,this.rbracesExpected=0,this.context=Wc.None,this.sourceSpanCache=new Map,this.index=0}peek(e){const o=this.index+e;return o<this.tokens.length?this.tokens[o]:Od}get next(){return this.peek(0)}get atEOF(){return this.index>=this.tokens.length}get inputIndex(){return this.atEOF?this.currentEndIndex:this.next.index+this.offset}get currentEndIndex(){return this.index>0?this.peek(-1).end+this.offset:0===this.tokens.length?this.inputLength+this.offset:this.next.index+this.offset}get currentAbsoluteOffset(){return this.absoluteOffset+this.inputIndex}span(e,o){let c=this.currentEndIndex;if(void 0!==o&&o>this.currentEndIndex&&(c=o),e>c){const y=c;c=e,e=y}return new Ku(e,c)}sourceSpan(e,o){const c=`${e}@${this.inputIndex}:${o}`;return this.sourceSpanCache.has(c)||this.sourceSpanCache.set(c,this.span(e,o).toAbsolute(this.absoluteOffset)),this.sourceSpanCache.get(c)}advance(){this.index++}withContext(e,o){this.context|=e;const c=o();return this.context^=e,c}consumeOptionalCharacter(e){return!!this.next.isCharacter(e)&&(this.advance(),!0)}peekKeywordLet(){return this.next.isKeywordLet()}peekKeywordAs(){return this.next.isKeywordAs()}expectCharacter(e){this.consumeOptionalCharacter(e)||this.error(`Missing expected ${String.fromCharCode(e)}`)}consumeOptionalOperator(e){return!!this.next.isOperator(e)&&(this.advance(),!0)}expectOperator(e){this.consumeOptionalOperator(e)||this.error(`Missing expected operator ${e}`)}prettyPrintToken(e){return e===Od?"end of input":`token ${e}`}expectIdentifierOrKeyword(){const e=this.next;return e.isIdentifier()||e.isKeyword()?(this.advance(),e.toString()):(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier or keyword"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier or keyword`),null)}expectIdentifierOrKeywordOrString(){const e=this.next;return e.isIdentifier()||e.isKeyword()||e.isString()?(this.advance(),e.toString()):(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier, keyword or string"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier, keyword, or string`),"")}parseChain(){const e=[],o=this.inputIndex;for(;this.index<this.tokens.length;){const c=this.parsePipe();if(e.push(c),this.consumeOptionalCharacter(59))for(this.parseAction||this.error("Binding expression cannot contain chained expression");this.consumeOptionalCharacter(59););else this.index<this.tokens.length&&this.error(`Unexpected token '${this.next}'`)}if(0==e.length){const c=this.offset,y=this.offset+this.inputLength;return new ba(this.span(c,y),this.sourceSpan(c,y))}return 1==e.length?e[0]:new Cd(this.span(o),this.sourceSpan(o),e)}parsePipe(){const e=this.inputIndex;let o=this.parseExpression();if(this.consumeOptionalOperator("|")){this.parseAction&&this.error("Cannot have a pipe in an action expression");do{const c=this.inputIndex;let H,re,y=this.expectIdentifierOrKeyword();null!==y?H=this.sourceSpan(c):(y="",re=-1!==this.next.index?this.next.index:this.inputLength+this.offset,H=new Ku(re,re).toAbsolute(this.absoluteOffset));const Ae=[];for(;this.consumeOptionalCharacter(58);)Ae.push(this.parseExpression());o=new ah(this.span(e),this.sourceSpan(e,re),o,y,Ae,H)}while(this.consumeOptionalOperator("|"))}return o}parseExpression(){return this.parseConditional()}parseConditional(){const e=this.inputIndex,o=this.parseLogicalOr();if(this.consumeOptionalOperator("?")){const c=this.parsePipe();let y;if(this.consumeOptionalCharacter(58))y=this.parsePipe();else{const H=this.inputIndex,re=this.input.substring(e,H);this.error(`Conditional expression ${re} requires all 3 expressions`),y=new ba(this.span(e),this.sourceSpan(e))}return new Zl(this.span(e),this.sourceSpan(e),o,c,y)}return o}parseLogicalOr(){const e=this.inputIndex;let o=this.parseLogicalAnd();for(;this.consumeOptionalOperator("||");){const c=this.parseLogicalAnd();o=new Il(this.span(e),this.sourceSpan(e),"||",o,c)}return o}parseLogicalAnd(){const e=this.inputIndex;let o=this.parseNullishCoalescing();for(;this.consumeOptionalOperator("&&");){const c=this.parseNullishCoalescing();o=new Il(this.span(e),this.sourceSpan(e),"&&",o,c)}return o}parseNullishCoalescing(){const e=this.inputIndex;let o=this.parseEquality();for(;this.consumeOptionalOperator("??");){const c=this.parseEquality();o=new Il(this.span(e),this.sourceSpan(e),"??",o,c)}return o}parseEquality(){const e=this.inputIndex;let o=this.parseRelational();for(;this.next.type==xs.Operator;){const c=this.next.strValue;switch(c){case"==":case"===":case"!=":case"!==":this.advance();const y=this.parseRelational();o=new Il(this.span(e),this.sourceSpan(e),c,o,y);continue}break}return o}parseRelational(){const e=this.inputIndex;let o=this.parseAdditive();for(;this.next.type==xs.Operator;){const c=this.next.strValue;switch(c){case"<":case">":case"<=":case">=":this.advance();const y=this.parseAdditive();o=new Il(this.span(e),this.sourceSpan(e),c,o,y);continue}break}return o}parseAdditive(){const e=this.inputIndex;let o=this.parseMultiplicative();for(;this.next.type==xs.Operator;){const c=this.next.strValue;switch(c){case"+":case"-":this.advance();let y=this.parseMultiplicative();o=new Il(this.span(e),this.sourceSpan(e),c,o,y);continue}break}return o}parseMultiplicative(){const e=this.inputIndex;let o=this.parsePrefix();for(;this.next.type==xs.Operator;){const c=this.next.strValue;switch(c){case"*":case"%":case"/":this.advance();let y=this.parsePrefix();o=new Il(this.span(e),this.sourceSpan(e),c,o,y);continue}break}return o}parsePrefix(){if(this.next.type==xs.Operator){const e=this.inputIndex;let c;switch(this.next.strValue){case"+":return this.advance(),c=this.parsePrefix(),Sa.createPlus(this.span(e),this.sourceSpan(e),c);case"-":return this.advance(),c=this.parsePrefix(),Sa.createMinus(this.span(e),this.sourceSpan(e),c);case"!":return this.advance(),c=this.parsePrefix(),new va(this.span(e),this.sourceSpan(e),c)}}return this.parseCallChain()}parseCallChain(){const e=this.inputIndex;let o=this.parsePrimary();for(;;)if(this.consumeOptionalCharacter(46))o=this.parseAccessMemberOrCall(o,e,!1);else if(this.consumeOptionalOperator("?."))o=this.consumeOptionalCharacter(91)?this.parseKeyedReadOrWrite(o,e,!0):this.parseAccessMemberOrCall(o,e,!0);else if(this.consumeOptionalCharacter(91))o=this.parseKeyedReadOrWrite(o,e,!1);else if(this.consumeOptionalCharacter(40)){const c=this.inputIndex;this.rparensExpected++;const y=this.parseCallArguments(),H=this.span(c,this.inputIndex).toAbsolute(this.absoluteOffset);this.rparensExpected--,this.expectCharacter(41),o=new hc(this.span(e),this.sourceSpan(e),o,y,H)}else{if(!this.consumeOptionalOperator("!"))return o;o=new Cu(this.span(e),this.sourceSpan(e),o)}}parsePrimary(){const e=this.inputIndex;if(this.consumeOptionalCharacter(40)){this.rparensExpected++;const o=this.parsePipe();return this.rparensExpected--,this.expectCharacter(41),o}if(this.next.isKeywordNull())return this.advance(),new Za(this.span(e),this.sourceSpan(e),null);if(this.next.isKeywordUndefined())return this.advance(),new Za(this.span(e),this.sourceSpan(e),void 0);if(this.next.isKeywordTrue())return this.advance(),new Za(this.span(e),this.sourceSpan(e),!0);if(this.next.isKeywordFalse())return this.advance(),new Za(this.span(e),this.sourceSpan(e),!1);if(this.next.isKeywordThis())return this.advance(),new Hc(this.span(e),this.sourceSpan(e));if(this.consumeOptionalCharacter(91)){this.rbracketsExpected++;const o=this.parseExpressionList(93);return this.rbracketsExpected--,this.expectCharacter(93),new lh(this.span(e),this.sourceSpan(e),o)}if(this.next.isCharacter(Yo))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMemberOrCall(new Tr(this.span(e),this.sourceSpan(e)),e,!1);if(this.next.isNumber()){const o=this.next.toNumber();return this.advance(),new Za(this.span(e),this.sourceSpan(e),o)}if(this.next.isString()){const o=this.next.toString();return this.advance(),new Za(this.span(e),this.sourceSpan(e),o)}return this.next.isPrivateIdentifier()?(this._reportErrorForPrivateIdentifier(this.next,null),new ba(this.span(e),this.sourceSpan(e))):this.index>=this.tokens.length?(this.error(`Unexpected end of expression: ${this.input}`),new ba(this.span(e),this.sourceSpan(e))):(this.error(`Unexpected token ${this.next}`),new ba(this.span(e),this.sourceSpan(e)))}parseExpressionList(e){const o=[];do{if(this.next.isCharacter(e))break;o.push(this.parsePipe())}while(this.consumeOptionalCharacter(44));return o}parseLiteralMap(){const e=[],o=[],c=this.inputIndex;if(this.expectCharacter(Yo),!this.consumeOptionalCharacter(No)){this.rbracesExpected++;do{const y=this.inputIndex,H=this.next.isString(),re=this.expectIdentifierOrKeywordOrString();if(e.push({key:re,quoted:H}),H)this.expectCharacter(58),o.push(this.parsePipe());else if(this.consumeOptionalCharacter(58))o.push(this.parsePipe());else{const Ae=this.span(y),Ke=this.sourceSpan(y);o.push(new qu(Ae,Ke,Ke,new Tr(Ae,Ke),re))}}while(this.consumeOptionalCharacter(44));this.rbracesExpected--,this.expectCharacter(No)}return new dc(this.span(c),this.sourceSpan(c),e,o)}parseAccessMemberOrCall(e,o,c){const y=this.inputIndex,H=this.withContext(Wc.Writable,()=>{var Ke;const st=null!==(Ke=this.expectIdentifierOrKeyword())&&void 0!==Ke?Ke:"";return 0===st.length&&this.error("Expected identifier for property access",e.span.end),st}),re=this.sourceSpan(y);let Ae;if(c)this.consumeOptionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),Ae=new ba(this.span(o),this.sourceSpan(o))):Ae=new oh(this.span(o),this.sourceSpan(o),re,e,H);else if(this.consumeOptionalOperator("=")){if(!this.parseAction)return this.error("Bindings cannot contain assignments"),new ba(this.span(o),this.sourceSpan(o));const Ke=this.parseConditional();Ae=new wd(this.span(o),this.sourceSpan(o),re,e,H,Ke)}else Ae=new qu(this.span(o),this.sourceSpan(o),re,e,H);if(this.consumeOptionalCharacter(40)){const Ke=this.inputIndex;this.rparensExpected++;const st=this.parseCallArguments(),At=this.span(Ke,this.inputIndex).toAbsolute(this.absoluteOffset);this.expectCharacter(41),this.rparensExpected--;const ln=this.span(o),Vn=this.sourceSpan(o);return new hc(ln,Vn,Ae,st,At)}return Ae}parseCallArguments(){if(this.next.isCharacter(41))return[];const e=[];do{e.push(this.parsePipe())}while(this.consumeOptionalCharacter(44));return e}expectTemplateBindingKey(){let e="",o=!1;const c=this.currentAbsoluteOffset;do{e+=this.expectIdentifierOrKeywordOrString(),o=this.consumeOptionalOperator("-"),o&&(e+="-")}while(o);return{source:e,span:new Ja(c,c+e.length)}}parseTemplateBindings(e){const o=[];for(o.push(...this.parseDirectiveKeywordBindings(e));this.index<this.tokens.length;){const c=this.parseLetBinding();if(c)o.push(c);else{const y=this.expectTemplateBindingKey(),H=this.parseAsBinding(y);H?o.push(H):(y.source=e.source+y.source.charAt(0).toUpperCase()+y.source.substring(1),o.push(...this.parseDirectiveKeywordBindings(y)))}this.consumeStatementTerminator()}return new wm(o,[],this.errors)}parseKeyedReadOrWrite(e,o,c){return this.withContext(Wc.Writable,()=>{this.rbracketsExpected++;const y=this.parsePipe();if(y instanceof ba&&this.error("Key access cannot be empty"),this.rbracketsExpected--,this.expectCharacter(93),!this.consumeOptionalOperator("="))return c?new gl(this.span(o),this.sourceSpan(o),e,y):new Mo(this.span(o),this.sourceSpan(o),e,y);if(!c){const H=this.parseConditional();return new Tp(this.span(o),this.sourceSpan(o),e,y,H)}return this.error("The '?.' operator cannot be used in the assignment"),new ba(this.span(o),this.sourceSpan(o))})}parseDirectiveKeywordBindings(e){const o=[];this.consumeOptionalCharacter(58);const c=this.getDirectiveBoundTarget();let y=this.currentAbsoluteOffset;const H=this.parseAsBinding(e);H||(this.consumeStatementTerminator(),y=this.currentAbsoluteOffset);const re=new Ja(e.span.start,y);return o.push(new Uc(re,e,c)),H&&o.push(H),o}getDirectiveBoundTarget(){if(this.next===Od||this.peekKeywordAs()||this.peekKeywordLet())return null;const e=this.parsePipe(),{start:o,end:c}=e.span,y=this.input.substring(o,c);return new Jl(e,y,this.location,this.absoluteOffset+o,this.errors)}parseAsBinding(e){if(!this.peekKeywordAs())return null;this.advance();const o=this.expectTemplateBindingKey();this.consumeStatementTerminator();const c=new Ja(e.span.start,this.currentAbsoluteOffset);return new bd(c,o,e)}parseLetBinding(){if(!this.peekKeywordLet())return null;const e=this.currentAbsoluteOffset;this.advance();const o=this.expectTemplateBindingKey();let c=null;this.consumeOptionalOperator("=")&&(c=this.expectTemplateBindingKey()),this.consumeStatementTerminator();const y=new Ja(e,this.currentAbsoluteOffset);return new bd(y,o,c)}consumeStatementTerminator(){this.consumeOptionalCharacter(59)||this.consumeOptionalCharacter(44)}error(e,o=null){this.errors.push(new Hl(e,this.input,this.locationText(o),this.location)),this.skip()}locationText(e=null){return null==e&&(e=this.index),e<this.tokens.length?`at column ${this.tokens[e].index+1} in`:"at the end of the expression"}_reportErrorForPrivateIdentifier(e,o){let c=`Private identifiers are not supported. Unexpected private identifier: ${e}`;null!==o&&(c+=`, ${o}`),this.error(c)}skip(){let e=this.next;for(;!(!(this.index<this.tokens.length)||e.isCharacter(59)||e.isOperator("|")||!(this.rparensExpected<=0)&&e.isCharacter(41)||!(this.rbracesExpected<=0)&&e.isCharacter(No)||!(this.rbracketsExpected<=0)&&e.isCharacter(93)||this.context&Wc.Writable&&e.isOperator("="));)this.next.isError()&&this.errors.push(new Hl(this.next.toString(),this.input,this.locationText(),this.location)),this.advance(),e=this.next}}class Gc{constructor(){this.errors=[]}visitImplicitReceiver(e,o){}visitThisReceiver(e,o){}visitInterpolation(e,o){}visitLiteralPrimitive(e,o){}visitPropertyRead(e,o){}visitPropertyWrite(e,o){}visitSafePropertyRead(e,o){}visitCall(e,o){}visitLiteralArray(e,o){this.visitAll(e.expressions,o)}visitLiteralMap(e,o){this.visitAll(e.values,o)}visitUnary(e,o){}visitBinary(e,o){}visitPrefixNot(e,o){}visitNonNullAssert(e,o){}visitConditional(e,o){}visitPipe(e,o){this.errors.push("pipes")}visitKeyedRead(e,o){}visitKeyedWrite(e,o){}visitAll(e,o){return e.map(c=>c.visit(this,o))}visitChain(e,o){}visitQuote(e,o){}visitSafeKeyedRead(e,o){}}class jp extends class{visit(e,o){e.visit(this,o)}visitUnary(e,o){this.visit(e.expr,o)}visitBinary(e,o){this.visit(e.left,o),this.visit(e.right,o)}visitChain(e,o){this.visitAll(e.expressions,o)}visitConditional(e,o){this.visit(e.condition,o),this.visit(e.trueExp,o),this.visit(e.falseExp,o)}visitPipe(e,o){this.visit(e.exp,o),this.visitAll(e.args,o)}visitImplicitReceiver(e,o){}visitThisReceiver(e,o){}visitInterpolation(e,o){this.visitAll(e.expressions,o)}visitKeyedRead(e,o){this.visit(e.receiver,o),this.visit(e.key,o)}visitKeyedWrite(e,o){this.visit(e.receiver,o),this.visit(e.key,o),this.visit(e.value,o)}visitLiteralArray(e,o){this.visitAll(e.expressions,o)}visitLiteralMap(e,o){this.visitAll(e.values,o)}visitLiteralPrimitive(e,o){}visitPrefixNot(e,o){this.visit(e.expression,o)}visitNonNullAssert(e,o){this.visit(e.expression,o)}visitPropertyRead(e,o){this.visit(e.receiver,o)}visitPropertyWrite(e,o){this.visit(e.receiver,o),this.visit(e.value,o)}visitSafePropertyRead(e,o){this.visit(e.receiver,o)}visitSafeKeyedRead(e,o){this.visit(e.receiver,o),this.visit(e.key,o)}visitCall(e,o){this.visit(e.receiver,o),this.visitAll(e.args,o)}visitQuote(e,o){}visitAll(e,o){for(const c of e)this.visit(c,o)}}{constructor(){super(...arguments),this.errors=[]}visitPipe(){this.errors.push("pipes")}}class Id{constructor(e,o){this.sourceSpan=e,this.i18n=o}}class Rl extends Id{constructor(e,o,c,y){super(o,y),this.value=e,this.tokens=c}visit(e,o){return e.visitText(this,o)}}class jc extends Id{constructor(e,o,c,y,H,re){super(y,re),this.switchValue=e,this.type=o,this.cases=c,this.switchValueSourceSpan=H}visit(e,o){return e.visitExpansion(this,o)}}class Kp{constructor(e,o,c,y,H){this.value=e,this.expression=o,this.sourceSpan=c,this.valueSourceSpan=y,this.expSourceSpan=H}visit(e,o){return e.visitExpansionCase(this,o)}}class Kc extends Id{constructor(e,o,c,y,H,re,Ae){super(c,Ae),this.name=e,this.value=o,this.keySpan=y,this.valueSpan=H,this.valueTokens=re}visit(e,o){return e.visitAttribute(this,o)}}class qc extends Id{constructor(e,o,c,y,H,re=null,Ae){super(y,Ae),this.name=e,this.attrs=o,this.children=c,this.startSourceSpan=H,this.endSourceSpan=re}visit(e,o){return e.visitElement(this,o)}}class Yc{constructor(e,o){this.value=e,this.sourceSpan=o}visit(e,o){return e.visitComment(this,o)}}function Os(d,e,o=null){const c=[],y=d.visit?H=>d.visit(H,o)||H.visit(d,o):H=>H.visit(d,o);return e.forEach(H=>{const re=y(H);re&&c.push(re)}),c}const gc={AElig:"\xc6",AMP:"&",amp:"&",Aacute:"\xc1",Abreve:"\u0102",Acirc:"\xc2",Acy:"\u0410",Afr:"\u{1d504}",Agrave:"\xc0",Alpha:"\u0391",Amacr:"\u0100",And:"\u2a53",Aogon:"\u0104",Aopf:"\u{1d538}",ApplyFunction:"\u2061",af:"\u2061",Aring:"\xc5",angst:"\xc5",Ascr:"\u{1d49c}",Assign:"\u2254",colone:"\u2254",coloneq:"\u2254",Atilde:"\xc3",Auml:"\xc4",Backslash:"\u2216",setminus:"\u2216",setmn:"\u2216",smallsetminus:"\u2216",ssetmn:"\u2216",Barv:"\u2ae7",Barwed:"\u2306",doublebarwedge:"\u2306",Bcy:"\u0411",Because:"\u2235",becaus:"\u2235",because:"\u2235",Bernoullis:"\u212c",Bscr:"\u212c",bernou:"\u212c",Beta:"\u0392",Bfr:"\u{1d505}",Bopf:"\u{1d539}",Breve:"\u02d8",breve:"\u02d8",Bumpeq:"\u224e",HumpDownHump:"\u224e",bump:"\u224e",CHcy:"\u0427",COPY:"\xa9",copy:"\xa9",Cacute:"\u0106",Cap:"\u22d2",CapitalDifferentialD:"\u2145",DD:"\u2145",Cayleys:"\u212d",Cfr:"\u212d",Ccaron:"\u010c",Ccedil:"\xc7",Ccirc:"\u0108",Cconint:"\u2230",Cdot:"\u010a",Cedilla:"\xb8",cedil:"\xb8",CenterDot:"\xb7",centerdot:"\xb7",middot:"\xb7",Chi:"\u03a7",CircleDot:"\u2299",odot:"\u2299",CircleMinus:"\u2296",ominus:"\u2296",CirclePlus:"\u2295",oplus:"\u2295",CircleTimes:"\u2297",otimes:"\u2297",ClockwiseContourIntegral:"\u2232",cwconint:"\u2232",CloseCurlyDoubleQuote:"\u201d",rdquo:"\u201d",rdquor:"\u201d",CloseCurlyQuote:"\u2019",rsquo:"\u2019",rsquor:"\u2019",Colon:"\u2237",Proportion:"\u2237",Colone:"\u2a74",Congruent:"\u2261",equiv:"\u2261",Conint:"\u222f",DoubleContourIntegral:"\u222f",ContourIntegral:"\u222e",conint:"\u222e",oint:"\u222e",Copf:"\u2102",complexes:"\u2102",Coproduct:"\u2210",coprod:"\u2210",CounterClockwiseContourIntegral:"\u2233",awconint:"\u2233",Cross:"\u2a2f",Cscr:"\u{1d49e}",Cup:"\u22d3",CupCap:"\u224d",asympeq:"\u224d",DDotrahd:"\u2911",DJcy:"\u0402",DScy:"\u0405",DZcy:"\u040f",Dagger:"\u2021",ddagger:"\u2021",Darr:"\u21a1",Dashv:"\u2ae4",DoubleLeftTee:"\u2ae4",Dcaron:"\u010e",Dcy:"\u0414",Del:"\u2207",nabla:"\u2207",Delta:"\u0394",Dfr:"\u{1d507}",DiacriticalAcute:"\xb4",acute:"\xb4",DiacriticalDot:"\u02d9",dot:"\u02d9",DiacriticalDoubleAcute:"\u02dd",dblac:"\u02dd",DiacriticalGrave:"`",grave:"`",DiacriticalTilde:"\u02dc",tilde:"\u02dc",Diamond:"\u22c4",diam:"\u22c4",diamond:"\u22c4",DifferentialD:"\u2146",dd:"\u2146",Dopf:"\u{1d53b}",Dot:"\xa8",DoubleDot:"\xa8",die:"\xa8",uml:"\xa8",DotDot:"\u20dc",DotEqual:"\u2250",doteq:"\u2250",esdot:"\u2250",DoubleDownArrow:"\u21d3",Downarrow:"\u21d3",dArr:"\u21d3",DoubleLeftArrow:"\u21d0",Leftarrow:"\u21d0",lArr:"\u21d0",DoubleLeftRightArrow:"\u21d4",Leftrightarrow:"\u21d4",hArr:"\u21d4",iff:"\u21d4",DoubleLongLeftArrow:"\u27f8",Longleftarrow:"\u27f8",xlArr:"\u27f8",DoubleLongLeftRightArrow:"\u27fa",Longleftrightarrow:"\u27fa",xhArr:"\u27fa",DoubleLongRightArrow:"\u27f9",Longrightarrow:"\u27f9",xrArr:"\u27f9",DoubleRightArrow:"\u21d2",Implies:"\u21d2",Rightarrow:"\u21d2",rArr:"\u21d2",DoubleRightTee:"\u22a8",vDash:"\u22a8",DoubleUpArrow:"\u21d1",Uparrow:"\u21d1",uArr:"\u21d1",DoubleUpDownArrow:"\u21d5",Updownarrow:"\u21d5",vArr:"\u21d5",DoubleVerticalBar:"\u2225",par:"\u2225",parallel:"\u2225",shortparallel:"\u2225",spar:"\u2225",DownArrow:"\u2193",ShortDownArrow:"\u2193",darr:"\u2193",downarrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21f5",duarr:"\u21f5",DownBreve:"\u0311",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295e",DownLeftVector:"\u21bd",leftharpoondown:"\u21bd",lhard:"\u21bd",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295f",DownRightVector:"\u21c1",rhard:"\u21c1",rightharpoondown:"\u21c1",DownRightVectorBar:"\u2957",DownTee:"\u22a4",top:"\u22a4",DownTeeArrow:"\u21a7",mapstodown:"\u21a7",Dscr:"\u{1d49f}",Dstrok:"\u0110",ENG:"\u014a",ETH:"\xd0",Eacute:"\xc9",Ecaron:"\u011a",Ecirc:"\xca",Ecy:"\u042d",Edot:"\u0116",Efr:"\u{1d508}",Egrave:"\xc8",Element:"\u2208",in:"\u2208",isin:"\u2208",isinv:"\u2208",Emacr:"\u0112",EmptySmallSquare:"\u25fb",EmptyVerySmallSquare:"\u25ab",Eogon:"\u0118",Eopf:"\u{1d53c}",Epsilon:"\u0395",Equal:"\u2a75",EqualTilde:"\u2242",eqsim:"\u2242",esim:"\u2242",Equilibrium:"\u21cc",rightleftharpoons:"\u21cc",rlhar:"\u21cc",Escr:"\u2130",expectation:"\u2130",Esim:"\u2a73",Eta:"\u0397",Euml:"\xcb",Exists:"\u2203",exist:"\u2203",ExponentialE:"\u2147",ee:"\u2147",exponentiale:"\u2147",Fcy:"\u0424",Ffr:"\u{1d509}",FilledSmallSquare:"\u25fc",FilledVerySmallSquare:"\u25aa",blacksquare:"\u25aa",squarf:"\u25aa",squf:"\u25aa",Fopf:"\u{1d53d}",ForAll:"\u2200",forall:"\u2200",Fouriertrf:"\u2131",Fscr:"\u2131",GJcy:"\u0403",GT:">",gt:">",Gamma:"\u0393",Gammad:"\u03dc",Gbreve:"\u011e",Gcedil:"\u0122",Gcirc:"\u011c",Gcy:"\u0413",Gdot:"\u0120",Gfr:"\u{1d50a}",Gg:"\u22d9",ggg:"\u22d9",Gopf:"\u{1d53e}",GreaterEqual:"\u2265",ge:"\u2265",geq:"\u2265",GreaterEqualLess:"\u22db",gel:"\u22db",gtreqless:"\u22db",GreaterFullEqual:"\u2267",gE:"\u2267",geqq:"\u2267",GreaterGreater:"\u2aa2",GreaterLess:"\u2277",gl:"\u2277",gtrless:"\u2277",GreaterSlantEqual:"\u2a7e",geqslant:"\u2a7e",ges:"\u2a7e",GreaterTilde:"\u2273",gsim:"\u2273",gtrsim:"\u2273",Gscr:"\u{1d4a2}",Gt:"\u226b",NestedGreaterGreater:"\u226b",gg:"\u226b",HARDcy:"\u042a",Hacek:"\u02c7",caron:"\u02c7",Hat:"^",Hcirc:"\u0124",Hfr:"\u210c",Poincareplane:"\u210c",HilbertSpace:"\u210b",Hscr:"\u210b",hamilt:"\u210b",Hopf:"\u210d",quaternions:"\u210d",HorizontalLine:"\u2500",boxh:"\u2500",Hstrok:"\u0126",HumpEqual:"\u224f",bumpe:"\u224f",bumpeq:"\u224f",IEcy:"\u0415",IJlig:"\u0132",IOcy:"\u0401",Iacute:"\xcd",Icirc:"\xce",Icy:"\u0418",Idot:"\u0130",Ifr:"\u2111",Im:"\u2111",image:"\u2111",imagpart:"\u2111",Igrave:"\xcc",Imacr:"\u012a",ImaginaryI:"\u2148",ii:"\u2148",Int:"\u222c",Integral:"\u222b",int:"\u222b",Intersection:"\u22c2",bigcap:"\u22c2",xcap:"\u22c2",InvisibleComma:"\u2063",ic:"\u2063",InvisibleTimes:"\u2062",it:"\u2062",Iogon:"\u012e",Iopf:"\u{1d540}",Iota:"\u0399",Iscr:"\u2110",imagline:"\u2110",Itilde:"\u0128",Iukcy:"\u0406",Iuml:"\xcf",Jcirc:"\u0134",Jcy:"\u0419",Jfr:"\u{1d50d}",Jopf:"\u{1d541}",Jscr:"\u{1d4a5}",Jsercy:"\u0408",Jukcy:"\u0404",KHcy:"\u0425",KJcy:"\u040c",Kappa:"\u039a",Kcedil:"\u0136",Kcy:"\u041a",Kfr:"\u{1d50e}",Kopf:"\u{1d542}",Kscr:"\u{1d4a6}",LJcy:"\u0409",LT:"<",lt:"<",Lacute:"\u0139",Lambda:"\u039b",Lang:"\u27ea",Laplacetrf:"\u2112",Lscr:"\u2112",lagran:"\u2112",Larr:"\u219e",twoheadleftarrow:"\u219e",Lcaron:"\u013d",Lcedil:"\u013b",Lcy:"\u041b",LeftAngleBracket:"\u27e8",lang:"\u27e8",langle:"\u27e8",LeftArrow:"\u2190",ShortLeftArrow:"\u2190",larr:"\u2190",leftarrow:"\u2190",slarr:"\u2190",LeftArrowBar:"\u21e4",larrb:"\u21e4",LeftArrowRightArrow:"\u21c6",leftrightarrows:"\u21c6",lrarr:"\u21c6",LeftCeiling:"\u2308",lceil:"\u2308",LeftDoubleBracket:"\u27e6",lobrk:"\u27e6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21c3",dharl:"\u21c3",downharpoonleft:"\u21c3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230a",lfloor:"\u230a",LeftRightArrow:"\u2194",harr:"\u2194",leftrightarrow:"\u2194",LeftRightVector:"\u294e",LeftTee:"\u22a3",dashv:"\u22a3",LeftTeeArrow:"\u21a4",mapstoleft:"\u21a4",LeftTeeVector:"\u295a",LeftTriangle:"\u22b2",vartriangleleft:"\u22b2",vltri:"\u22b2",LeftTriangleBar:"\u29cf",LeftTriangleEqual:"\u22b4",ltrie:"\u22b4",trianglelefteq:"\u22b4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21bf",uharl:"\u21bf",upharpoonleft:"\u21bf",LeftUpVectorBar:"\u2958",LeftVector:"\u21bc",leftharpoonup:"\u21bc",lharu:"\u21bc",LeftVectorBar:"\u2952",LessEqualGreater:"\u22da",leg:"\u22da",lesseqgtr:"\u22da",LessFullEqual:"\u2266",lE:"\u2266",leqq:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",lg:"\u2276",LessLess:"\u2aa1",LessSlantEqual:"\u2a7d",leqslant:"\u2a7d",les:"\u2a7d",LessTilde:"\u2272",lesssim:"\u2272",lsim:"\u2272",Lfr:"\u{1d50f}",Ll:"\u22d8",Lleftarrow:"\u21da",lAarr:"\u21da",Lmidot:"\u013f",LongLeftArrow:"\u27f5",longleftarrow:"\u27f5",xlarr:"\u27f5",LongLeftRightArrow:"\u27f7",longleftrightarrow:"\u27f7",xharr:"\u27f7",LongRightArrow:"\u27f6",longrightarrow:"\u27f6",xrarr:"\u27f6",Lopf:"\u{1d543}",LowerLeftArrow:"\u2199",swarr:"\u2199",swarrow:"\u2199",LowerRightArrow:"\u2198",searr:"\u2198",searrow:"\u2198",Lsh:"\u21b0",lsh:"\u21b0",Lstrok:"\u0141",Lt:"\u226a",NestedLessLess:"\u226a",ll:"\u226a",Map:"\u2905",Mcy:"\u041c",MediumSpace:"\u205f",Mellintrf:"\u2133",Mscr:"\u2133",phmmat:"\u2133",Mfr:"\u{1d510}",MinusPlus:"\u2213",mnplus:"\u2213",mp:"\u2213",Mopf:"\u{1d544}",Mu:"\u039c",NJcy:"\u040a",Nacute:"\u0143",Ncaron:"\u0147",Ncedil:"\u0145",Ncy:"\u041d",NegativeMediumSpace:"\u200b",NegativeThickSpace:"\u200b",NegativeThinSpace:"\u200b",NegativeVeryThinSpace:"\u200b",ZeroWidthSpace:"\u200b",NewLine:"\n",Nfr:"\u{1d511}",NoBreak:"\u2060",NonBreakingSpace:"\xa0",nbsp:"\xa0",Nopf:"\u2115",naturals:"\u2115",Not:"\u2aec",NotCongruent:"\u2262",nequiv:"\u2262",NotCupCap:"\u226d",NotDoubleVerticalBar:"\u2226",npar:"\u2226",nparallel:"\u2226",nshortparallel:"\u2226",nspar:"\u2226",NotElement:"\u2209",notin:"\u2209",notinva:"\u2209",NotEqual:"\u2260",ne:"\u2260",NotEqualTilde:"\u2242\u0338",nesim:"\u2242\u0338",NotExists:"\u2204",nexist:"\u2204",nexists:"\u2204",NotGreater:"\u226f",ngt:"\u226f",ngtr:"\u226f",NotGreaterEqual:"\u2271",nge:"\u2271",ngeq:"\u2271",NotGreaterFullEqual:"\u2267\u0338",ngE:"\u2267\u0338",ngeqq:"\u2267\u0338",NotGreaterGreater:"\u226b\u0338",nGtv:"\u226b\u0338",NotGreaterLess:"\u2279",ntgl:"\u2279",NotGreaterSlantEqual:"\u2a7e\u0338",ngeqslant:"\u2a7e\u0338",nges:"\u2a7e\u0338",NotGreaterTilde:"\u2275",ngsim:"\u2275",NotHumpDownHump:"\u224e\u0338",nbump:"\u224e\u0338",NotHumpEqual:"\u224f\u0338",nbumpe:"\u224f\u0338",NotLeftTriangle:"\u22ea",nltri:"\u22ea",ntriangleleft:"\u22ea",NotLeftTriangleBar:"\u29cf\u0338",NotLeftTriangleEqual:"\u22ec",nltrie:"\u22ec",ntrianglelefteq:"\u22ec",NotLess:"\u226e",nless:"\u226e",nlt:"\u226e",NotLessEqual:"\u2270",nle:"\u2270",nleq:"\u2270",NotLessGreater:"\u2278",ntlg:"\u2278",NotLessLess:"\u226a\u0338",nLtv:"\u226a\u0338",NotLessSlantEqual:"\u2a7d\u0338",nleqslant:"\u2a7d\u0338",nles:"\u2a7d\u0338",NotLessTilde:"\u2274",nlsim:"\u2274",NotNestedGreaterGreater:"\u2aa2\u0338",NotNestedLessLess:"\u2aa1\u0338",NotPrecedes:"\u2280",npr:"\u2280",nprec:"\u2280",NotPrecedesEqual:"\u2aaf\u0338",npre:"\u2aaf\u0338",npreceq:"\u2aaf\u0338",NotPrecedesSlantEqual:"\u22e0",nprcue:"\u22e0",NotReverseElement:"\u220c",notni:"\u220c",notniva:"\u220c",NotRightTriangle:"\u22eb",nrtri:"\u22eb",ntriangleright:"\u22eb",NotRightTriangleBar:"\u29d0\u0338",NotRightTriangleEqual:"\u22ed",nrtrie:"\u22ed",ntrianglerighteq:"\u22ed",NotSquareSubset:"\u228f\u0338",NotSquareSubsetEqual:"\u22e2",nsqsube:"\u22e2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22e3",nsqsupe:"\u22e3",NotSubset:"\u2282\u20d2",nsubset:"\u2282\u20d2",vnsub:"\u2282\u20d2",NotSubsetEqual:"\u2288",nsube:"\u2288",nsubseteq:"\u2288",NotSucceeds:"\u2281",nsc:"\u2281",nsucc:"\u2281",NotSucceedsEqual:"\u2ab0\u0338",nsce:"\u2ab0\u0338",nsucceq:"\u2ab0\u0338",NotSucceedsSlantEqual:"\u22e1",nsccue:"\u22e1",NotSucceedsTilde:"\u227f\u0338",NotSuperset:"\u2283\u20d2",nsupset:"\u2283\u20d2",vnsup:"\u2283\u20d2",NotSupersetEqual:"\u2289",nsupe:"\u2289",nsupseteq:"\u2289",NotTilde:"\u2241",nsim:"\u2241",NotTildeEqual:"\u2244",nsime:"\u2244",nsimeq:"\u2244",NotTildeFullEqual:"\u2247",ncong:"\u2247",NotTildeTilde:"\u2249",nap:"\u2249",napprox:"\u2249",NotVerticalBar:"\u2224",nmid:"\u2224",nshortmid:"\u2224",nsmid:"\u2224",Nscr:"\u{1d4a9}",Ntilde:"\xd1",Nu:"\u039d",OElig:"\u0152",Oacute:"\xd3",Ocirc:"\xd4",Ocy:"\u041e",Odblac:"\u0150",Ofr:"\u{1d512}",Ograve:"\xd2",Omacr:"\u014c",Omega:"\u03a9",ohm:"\u03a9",Omicron:"\u039f",Oopf:"\u{1d546}",OpenCurlyDoubleQuote:"\u201c",ldquo:"\u201c",OpenCurlyQuote:"\u2018",lsquo:"\u2018",Or:"\u2a54",Oscr:"\u{1d4aa}",Oslash:"\xd8",Otilde:"\xd5",Otimes:"\u2a37",Ouml:"\xd6",OverBar:"\u203e",oline:"\u203e",OverBrace:"\u23de",OverBracket:"\u23b4",tbrk:"\u23b4",OverParenthesis:"\u23dc",PartialD:"\u2202",part:"\u2202",Pcy:"\u041f",Pfr:"\u{1d513}",Phi:"\u03a6",Pi:"\u03a0",PlusMinus:"\xb1",plusmn:"\xb1",pm:"\xb1",Popf:"\u2119",primes:"\u2119",Pr:"\u2abb",Precedes:"\u227a",pr:"\u227a",prec:"\u227a",PrecedesEqual:"\u2aaf",pre:"\u2aaf",preceq:"\u2aaf",PrecedesSlantEqual:"\u227c",prcue:"\u227c",preccurlyeq:"\u227c",PrecedesTilde:"\u227e",precsim:"\u227e",prsim:"\u227e",Prime:"\u2033",Product:"\u220f",prod:"\u220f",Proportional:"\u221d",prop:"\u221d",propto:"\u221d",varpropto:"\u221d",vprop:"\u221d",Pscr:"\u{1d4ab}",Psi:"\u03a8",QUOT:'"',quot:'"',Qfr:"\u{1d514}",Qopf:"\u211a",rationals:"\u211a",Qscr:"\u{1d4ac}",RBarr:"\u2910",drbkarow:"\u2910",REG:"\xae",circledR:"\xae",reg:"\xae",Racute:"\u0154",Rang:"\u27eb",Rarr:"\u21a0",twoheadrightarrow:"\u21a0",Rarrtl:"\u2916",Rcaron:"\u0158",Rcedil:"\u0156",Rcy:"\u0420",Re:"\u211c",Rfr:"\u211c",real:"\u211c",realpart:"\u211c",ReverseElement:"\u220b",SuchThat:"\u220b",ni:"\u220b",niv:"\u220b",ReverseEquilibrium:"\u21cb",leftrightharpoons:"\u21cb",lrhar:"\u21cb",ReverseUpEquilibrium:"\u296f",duhar:"\u296f",Rho:"\u03a1",RightAngleBracket:"\u27e9",rang:"\u27e9",rangle:"\u27e9",RightArrow:"\u2192",ShortRightArrow:"\u2192",rarr:"\u2192",rightarrow:"\u2192",srarr:"\u2192",RightArrowBar:"\u21e5",rarrb:"\u21e5",RightArrowLeftArrow:"\u21c4",rightleftarrows:"\u21c4",rlarr:"\u21c4",RightCeiling:"\u2309",rceil:"\u2309",RightDoubleBracket:"\u27e7",robrk:"\u27e7",RightDownTeeVector:"\u295d",RightDownVector:"\u21c2",dharr:"\u21c2",downharpoonright:"\u21c2",RightDownVectorBar:"\u2955",RightFloor:"\u230b",rfloor:"\u230b",RightTee:"\u22a2",vdash:"\u22a2",RightTeeArrow:"\u21a6",map:"\u21a6",mapsto:"\u21a6",RightTeeVector:"\u295b",RightTriangle:"\u22b3",vartriangleright:"\u22b3",vrtri:"\u22b3",RightTriangleBar:"\u29d0",RightTriangleEqual:"\u22b5",rtrie:"\u22b5",trianglerighteq:"\u22b5",RightUpDownVector:"\u294f",RightUpTeeVector:"\u295c",RightUpVector:"\u21be",uharr:"\u21be",upharpoonright:"\u21be",RightUpVectorBar:"\u2954",RightVector:"\u21c0",rharu:"\u21c0",rightharpoonup:"\u21c0",RightVectorBar:"\u2953",Ropf:"\u211d",reals:"\u211d",RoundImplies:"\u2970",Rrightarrow:"\u21db",rAarr:"\u21db",Rscr:"\u211b",realine:"\u211b",Rsh:"\u21b1",rsh:"\u21b1",RuleDelayed:"\u29f4",SHCHcy:"\u0429",SHcy:"\u0428",SOFTcy:"\u042c",Sacute:"\u015a",Sc:"\u2abc",Scaron:"\u0160",Scedil:"\u015e",Scirc:"\u015c",Scy:"\u0421",Sfr:"\u{1d516}",ShortUpArrow:"\u2191",UpArrow:"\u2191",uarr:"\u2191",uparrow:"\u2191",Sigma:"\u03a3",SmallCircle:"\u2218",compfn:"\u2218",Sopf:"\u{1d54a}",Sqrt:"\u221a",radic:"\u221a",Square:"\u25a1",squ:"\u25a1",square:"\u25a1",SquareIntersection:"\u2293",sqcap:"\u2293",SquareSubset:"\u228f",sqsub:"\u228f",sqsubset:"\u228f",SquareSubsetEqual:"\u2291",sqsube:"\u2291",sqsubseteq:"\u2291",SquareSuperset:"\u2290",sqsup:"\u2290",sqsupset:"\u2290",SquareSupersetEqual:"\u2292",sqsupe:"\u2292",sqsupseteq:"\u2292",SquareUnion:"\u2294",sqcup:"\u2294",Sscr:"\u{1d4ae}",Star:"\u22c6",sstarf:"\u22c6",Sub:"\u22d0",Subset:"\u22d0",SubsetEqual:"\u2286",sube:"\u2286",subseteq:"\u2286",Succeeds:"\u227b",sc:"\u227b",succ:"\u227b",SucceedsEqual:"\u2ab0",sce:"\u2ab0",succeq:"\u2ab0",SucceedsSlantEqual:"\u227d",sccue:"\u227d",succcurlyeq:"\u227d",SucceedsTilde:"\u227f",scsim:"\u227f",succsim:"\u227f",Sum:"\u2211",sum:"\u2211",Sup:"\u22d1",Supset:"\u22d1",Superset:"\u2283",sup:"\u2283",supset:"\u2283",SupersetEqual:"\u2287",supe:"\u2287",supseteq:"\u2287",THORN:"\xde",TRADE:"\u2122",trade:"\u2122",TSHcy:"\u040b",TScy:"\u0426",Tab:"\t",Tau:"\u03a4",Tcaron:"\u0164",Tcedil:"\u0162",Tcy:"\u0422",Tfr:"\u{1d517}",Therefore:"\u2234",there4:"\u2234",therefore:"\u2234",Theta:"\u0398",ThickSpace:"\u205f\u200a",ThinSpace:"\u2009",thinsp:"\u2009",Tilde:"\u223c",sim:"\u223c",thicksim:"\u223c",thksim:"\u223c",TildeEqual:"\u2243",sime:"\u2243",simeq:"\u2243",TildeFullEqual:"\u2245",cong:"\u2245",TildeTilde:"\u2248",ap:"\u2248",approx:"\u2248",asymp:"\u2248",thickapprox:"\u2248",thkap:"\u2248",Topf:"\u{1d54b}",TripleDot:"\u20db",tdot:"\u20db",Tscr:"\u{1d4af}",Tstrok:"\u0166",Uacute:"\xda",Uarr:"\u219f",Uarrocir:"\u2949",Ubrcy:"\u040e",Ubreve:"\u016c",Ucirc:"\xdb",Ucy:"\u0423",Udblac:"\u0170",Ufr:"\u{1d518}",Ugrave:"\xd9",Umacr:"\u016a",UnderBar:"_",lowbar:"_",UnderBrace:"\u23df",UnderBracket:"\u23b5",bbrk:"\u23b5",UnderParenthesis:"\u23dd",Union:"\u22c3",bigcup:"\u22c3",xcup:"\u22c3",UnionPlus:"\u228e",uplus:"\u228e",Uogon:"\u0172",Uopf:"\u{1d54c}",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21c5",udarr:"\u21c5",UpDownArrow:"\u2195",updownarrow:"\u2195",varr:"\u2195",UpEquilibrium:"\u296e",udhar:"\u296e",UpTee:"\u22a5",bot:"\u22a5",bottom:"\u22a5",perp:"\u22a5",UpTeeArrow:"\u21a5",mapstoup:"\u21a5",UpperLeftArrow:"\u2196",nwarr:"\u2196",nwarrow:"\u2196",UpperRightArrow:"\u2197",nearr:"\u2197",nearrow:"\u2197",Upsi:"\u03d2",upsih:"\u03d2",Upsilon:"\u03a5",Uring:"\u016e",Uscr:"\u{1d4b0}",Utilde:"\u0168",Uuml:"\xdc",VDash:"\u22ab",Vbar:"\u2aeb",Vcy:"\u0412",Vdash:"\u22a9",Vdashl:"\u2ae6",Vee:"\u22c1",bigvee:"\u22c1",xvee:"\u22c1",Verbar:"\u2016",Vert:"\u2016",VerticalBar:"\u2223",mid:"\u2223",shortmid:"\u2223",smid:"\u2223",VerticalLine:"|",verbar:"|",vert:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",wr:"\u2240",wreath:"\u2240",VeryThinSpace:"\u200a",hairsp:"\u200a",Vfr:"\u{1d519}",Vopf:"\u{1d54d}",Vscr:"\u{1d4b1}",Vvdash:"\u22aa",Wcirc:"\u0174",Wedge:"\u22c0",bigwedge:"\u22c0",xwedge:"\u22c0",Wfr:"\u{1d51a}",Wopf:"\u{1d54e}",Wscr:"\u{1d4b2}",Xfr:"\u{1d51b}",Xi:"\u039e",Xopf:"\u{1d54f}",Xscr:"\u{1d4b3}",YAcy:"\u042f",YIcy:"\u0407",YUcy:"\u042e",Yacute:"\xdd",Ycirc:"\u0176",Ycy:"\u042b",Yfr:"\u{1d51c}",Yopf:"\u{1d550}",Yscr:"\u{1d4b4}",Yuml:"\u0178",ZHcy:"\u0416",Zacute:"\u0179",Zcaron:"\u017d",Zcy:"\u0417",Zdot:"\u017b",Zeta:"\u0396",Zfr:"\u2128",zeetrf:"\u2128",Zopf:"\u2124",integers:"\u2124",Zscr:"\u{1d4b5}",aacute:"\xe1",abreve:"\u0103",ac:"\u223e",mstpos:"\u223e",acE:"\u223e\u0333",acd:"\u223f",acirc:"\xe2",acy:"\u0430",aelig:"\xe6",afr:"\u{1d51e}",agrave:"\xe0",alefsym:"\u2135",aleph:"\u2135",alpha:"\u03b1",amacr:"\u0101",amalg:"\u2a3f",and:"\u2227",wedge:"\u2227",andand:"\u2a55",andd:"\u2a5c",andslope:"\u2a58",andv:"\u2a5a",ang:"\u2220",angle:"\u2220",ange:"\u29a4",angmsd:"\u2221",measuredangle:"\u2221",angmsdaa:"\u29a8",angmsdab:"\u29a9",angmsdac:"\u29aa",angmsdad:"\u29ab",angmsdae:"\u29ac",angmsdaf:"\u29ad",angmsdag:"\u29ae",angmsdah:"\u29af",angrt:"\u221f",angrtvb:"\u22be",angrtvbd:"\u299d",angsph:"\u2222",angzarr:"\u237c",aogon:"\u0105",aopf:"\u{1d552}",apE:"\u2a70",apacir:"\u2a6f",ape:"\u224a",approxeq:"\u224a",apid:"\u224b",apos:"'",aring:"\xe5",ascr:"\u{1d4b6}",ast:"*",midast:"*",atilde:"\xe3",auml:"\xe4",awint:"\u2a11",bNot:"\u2aed",backcong:"\u224c",bcong:"\u224c",backepsilon:"\u03f6",bepsi:"\u03f6",backprime:"\u2035",bprime:"\u2035",backsim:"\u223d",bsim:"\u223d",backsimeq:"\u22cd",bsime:"\u22cd",barvee:"\u22bd",barwed:"\u2305",barwedge:"\u2305",bbrktbrk:"\u23b6",bcy:"\u0431",bdquo:"\u201e",ldquor:"\u201e",bemptyv:"\u29b0",beta:"\u03b2",beth:"\u2136",between:"\u226c",twixt:"\u226c",bfr:"\u{1d51f}",bigcirc:"\u25ef",xcirc:"\u25ef",bigodot:"\u2a00",xodot:"\u2a00",bigoplus:"\u2a01",xoplus:"\u2a01",bigotimes:"\u2a02",xotime:"\u2a02",bigsqcup:"\u2a06",xsqcup:"\u2a06",bigstar:"\u2605",starf:"\u2605",bigtriangledown:"\u25bd",xdtri:"\u25bd",bigtriangleup:"\u25b3",xutri:"\u25b3",biguplus:"\u2a04",xuplus:"\u2a04",bkarow:"\u290d",rbarr:"\u290d",blacklozenge:"\u29eb",lozf:"\u29eb",blacktriangle:"\u25b4",utrif:"\u25b4",blacktriangledown:"\u25be",dtrif:"\u25be",blacktriangleleft:"\u25c2",ltrif:"\u25c2",blacktriangleright:"\u25b8",rtrif:"\u25b8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20e5",bnequiv:"\u2261\u20e5",bnot:"\u2310",bopf:"\u{1d553}",bowtie:"\u22c8",boxDL:"\u2557",boxDR:"\u2554",boxDl:"\u2556",boxDr:"\u2553",boxH:"\u2550",boxHD:"\u2566",boxHU:"\u2569",boxHd:"\u2564",boxHu:"\u2567",boxUL:"\u255d",boxUR:"\u255a",boxUl:"\u255c",boxUr:"\u2559",boxV:"\u2551",boxVH:"\u256c",boxVL:"\u2563",boxVR:"\u2560",boxVh:"\u256b",boxVl:"\u2562",boxVr:"\u255f",boxbox:"\u29c9",boxdL:"\u2555",boxdR:"\u2552",boxdl:"\u2510",boxdr:"\u250c",boxhD:"\u2565",boxhU:"\u2568",boxhd:"\u252c",boxhu:"\u2534",boxminus:"\u229f",minusb:"\u229f",boxplus:"\u229e",plusb:"\u229e",boxtimes:"\u22a0",timesb:"\u22a0",boxuL:"\u255b",boxuR:"\u2558",boxul:"\u2518",boxur:"\u2514",boxv:"\u2502",boxvH:"\u256a",boxvL:"\u2561",boxvR:"\u255e",boxvh:"\u253c",boxvl:"\u2524",boxvr:"\u251c",brvbar:"\xa6",bscr:"\u{1d4b7}",bsemi:"\u204f",bsol:"\\",bsolb:"\u29c5",bsolhsub:"\u27c8",bull:"\u2022",bullet:"\u2022",bumpE:"\u2aae",cacute:"\u0107",cap:"\u2229",capand:"\u2a44",capbrcup:"\u2a49",capcap:"\u2a4b",capcup:"\u2a47",capdot:"\u2a40",caps:"\u2229\ufe00",caret:"\u2041",ccaps:"\u2a4d",ccaron:"\u010d",ccedil:"\xe7",ccirc:"\u0109",ccups:"\u2a4c",ccupssm:"\u2a50",cdot:"\u010b",cemptyv:"\u29b2",cent:"\xa2",cfr:"\u{1d520}",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",chi:"\u03c7",cir:"\u25cb",cirE:"\u29c3",circ:"\u02c6",circeq:"\u2257",cire:"\u2257",circlearrowleft:"\u21ba",olarr:"\u21ba",circlearrowright:"\u21bb",orarr:"\u21bb",circledS:"\u24c8",oS:"\u24c8",circledast:"\u229b",oast:"\u229b",circledcirc:"\u229a",ocir:"\u229a",circleddash:"\u229d",odash:"\u229d",cirfnint:"\u2a10",cirmid:"\u2aef",cirscir:"\u29c2",clubs:"\u2663",clubsuit:"\u2663",colon:":",comma:",",commat:"@",comp:"\u2201",complement:"\u2201",congdot:"\u2a6d",copf:"\u{1d554}",copysr:"\u2117",crarr:"\u21b5",cross:"\u2717",cscr:"\u{1d4b8}",csub:"\u2acf",csube:"\u2ad1",csup:"\u2ad0",csupe:"\u2ad2",ctdot:"\u22ef",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22de",curlyeqprec:"\u22de",cuesc:"\u22df",curlyeqsucc:"\u22df",cularr:"\u21b6",curvearrowleft:"\u21b6",cularrp:"\u293d",cup:"\u222a",cupbrcap:"\u2a48",cupcap:"\u2a46",cupcup:"\u2a4a",cupdot:"\u228d",cupor:"\u2a45",cups:"\u222a\ufe00",curarr:"\u21b7",curvearrowright:"\u21b7",curarrm:"\u293c",curlyvee:"\u22ce",cuvee:"\u22ce",curlywedge:"\u22cf",cuwed:"\u22cf",curren:"\xa4",cwint:"\u2231",cylcty:"\u232d",dHar:"\u2965",dagger:"\u2020",daleth:"\u2138",dash:"\u2010",hyphen:"\u2010",dbkarow:"\u290f",rBarr:"\u290f",dcaron:"\u010f",dcy:"\u0434",ddarr:"\u21ca",downdownarrows:"\u21ca",ddotseq:"\u2a77",eDDot:"\u2a77",deg:"\xb0",delta:"\u03b4",demptyv:"\u29b1",dfisht:"\u297f",dfr:"\u{1d521}",diamondsuit:"\u2666",diams:"\u2666",digamma:"\u03dd",gammad:"\u03dd",disin:"\u22f2",div:"\xf7",divide:"\xf7",divideontimes:"\u22c7",divonx:"\u22c7",djcy:"\u0452",dlcorn:"\u231e",llcorner:"\u231e",dlcrop:"\u230d",dollar:"$",dopf:"\u{1d555}",doteqdot:"\u2251",eDot:"\u2251",dotminus:"\u2238",minusd:"\u2238",dotplus:"\u2214",plusdo:"\u2214",dotsquare:"\u22a1",sdotb:"\u22a1",drcorn:"\u231f",lrcorner:"\u231f",drcrop:"\u230c",dscr:"\u{1d4b9}",dscy:"\u0455",dsol:"\u29f6",dstrok:"\u0111",dtdot:"\u22f1",dtri:"\u25bf",triangledown:"\u25bf",dwangle:"\u29a6",dzcy:"\u045f",dzigrarr:"\u27ff",eacute:"\xe9",easter:"\u2a6e",ecaron:"\u011b",ecir:"\u2256",eqcirc:"\u2256",ecirc:"\xea",ecolon:"\u2255",eqcolon:"\u2255",ecy:"\u044d",edot:"\u0117",efDot:"\u2252",fallingdotseq:"\u2252",efr:"\u{1d522}",eg:"\u2a9a",egrave:"\xe8",egs:"\u2a96",eqslantgtr:"\u2a96",egsdot:"\u2a98",el:"\u2a99",elinters:"\u23e7",ell:"\u2113",els:"\u2a95",eqslantless:"\u2a95",elsdot:"\u2a97",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",emptyv:"\u2205",varnothing:"\u2205",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",eng:"\u014b",ensp:"\u2002",eogon:"\u0119",eopf:"\u{1d556}",epar:"\u22d5",eparsl:"\u29e3",eplus:"\u2a71",epsi:"\u03b5",epsilon:"\u03b5",epsiv:"\u03f5",straightepsilon:"\u03f5",varepsilon:"\u03f5",equals:"=",equest:"\u225f",questeq:"\u225f",equivDD:"\u2a78",eqvparsl:"\u29e5",erDot:"\u2253",risingdotseq:"\u2253",erarr:"\u2971",escr:"\u212f",eta:"\u03b7",eth:"\xf0",euml:"\xeb",euro:"\u20ac",excl:"!",fcy:"\u0444",female:"\u2640",ffilig:"\ufb03",fflig:"\ufb00",ffllig:"\ufb04",ffr:"\u{1d523}",filig:"\ufb01",fjlig:"fj",flat:"\u266d",fllig:"\ufb02",fltns:"\u25b1",fnof:"\u0192",fopf:"\u{1d557}",fork:"\u22d4",pitchfork:"\u22d4",forkv:"\u2ad9",fpartint:"\u2a0d",frac12:"\xbd",half:"\xbd",frac13:"\u2153",frac14:"\xbc",frac15:"\u2155",frac16:"\u2159",frac18:"\u215b",frac23:"\u2154",frac25:"\u2156",frac34:"\xbe",frac35:"\u2157",frac38:"\u215c",frac45:"\u2158",frac56:"\u215a",frac58:"\u215d",frac78:"\u215e",frasl:"\u2044",frown:"\u2322",sfrown:"\u2322",fscr:"\u{1d4bb}",gEl:"\u2a8c",gtreqqless:"\u2a8c",gacute:"\u01f5",gamma:"\u03b3",gap:"\u2a86",gtrapprox:"\u2a86",gbreve:"\u011f",gcirc:"\u011d",gcy:"\u0433",gdot:"\u0121",gescc:"\u2aa9",gesdot:"\u2a80",gesdoto:"\u2a82",gesdotol:"\u2a84",gesl:"\u22db\ufe00",gesles:"\u2a94",gfr:"\u{1d524}",gimel:"\u2137",gjcy:"\u0453",glE:"\u2a92",gla:"\u2aa5",glj:"\u2aa4",gnE:"\u2269",gneqq:"\u2269",gnap:"\u2a8a",gnapprox:"\u2a8a",gne:"\u2a88",gneq:"\u2a88",gnsim:"\u22e7",gopf:"\u{1d558}",gscr:"\u210a",gsime:"\u2a8e",gsiml:"\u2a90",gtcc:"\u2aa7",gtcir:"\u2a7a",gtdot:"\u22d7",gtrdot:"\u22d7",gtlPar:"\u2995",gtquest:"\u2a7c",gtrarr:"\u2978",gvertneqq:"\u2269\ufe00",gvnE:"\u2269\ufe00",hardcy:"\u044a",harrcir:"\u2948",harrw:"\u21ad",leftrightsquigarrow:"\u21ad",hbar:"\u210f",hslash:"\u210f",planck:"\u210f",plankv:"\u210f",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",mldr:"\u2026",hercon:"\u22b9",hfr:"\u{1d525}",hksearow:"\u2925",searhk:"\u2925",hkswarow:"\u2926",swarhk:"\u2926",hoarr:"\u21ff",homtht:"\u223b",hookleftarrow:"\u21a9",larrhk:"\u21a9",hookrightarrow:"\u21aa",rarrhk:"\u21aa",hopf:"\u{1d559}",horbar:"\u2015",hscr:"\u{1d4bd}",hstrok:"\u0127",hybull:"\u2043",iacute:"\xed",icirc:"\xee",icy:"\u0438",iecy:"\u0435",iexcl:"\xa1",ifr:"\u{1d526}",igrave:"\xec",iiiint:"\u2a0c",qint:"\u2a0c",iiint:"\u222d",tint:"\u222d",iinfin:"\u29dc",iiota:"\u2129",ijlig:"\u0133",imacr:"\u012b",imath:"\u0131",inodot:"\u0131",imof:"\u22b7",imped:"\u01b5",incare:"\u2105",infin:"\u221e",infintie:"\u29dd",intcal:"\u22ba",intercal:"\u22ba",intlarhk:"\u2a17",intprod:"\u2a3c",iprod:"\u2a3c",iocy:"\u0451",iogon:"\u012f",iopf:"\u{1d55a}",iota:"\u03b9",iquest:"\xbf",iscr:"\u{1d4be}",isinE:"\u22f9",isindot:"\u22f5",isins:"\u22f4",isinsv:"\u22f3",itilde:"\u0129",iukcy:"\u0456",iuml:"\xef",jcirc:"\u0135",jcy:"\u0439",jfr:"\u{1d527}",jmath:"\u0237",jopf:"\u{1d55b}",jscr:"\u{1d4bf}",jsercy:"\u0458",jukcy:"\u0454",kappa:"\u03ba",kappav:"\u03f0",varkappa:"\u03f0",kcedil:"\u0137",kcy:"\u043a",kfr:"\u{1d528}",kgreen:"\u0138",khcy:"\u0445",kjcy:"\u045c",kopf:"\u{1d55c}",kscr:"\u{1d4c0}",lAtail:"\u291b",lBarr:"\u290e",lEg:"\u2a8b",lesseqqgtr:"\u2a8b",lHar:"\u2962",lacute:"\u013a",laemptyv:"\u29b4",lambda:"\u03bb",langd:"\u2991",lap:"\u2a85",lessapprox:"\u2a85",laquo:"\xab",larrbfs:"\u291f",larrfs:"\u291d",larrlp:"\u21ab",looparrowleft:"\u21ab",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21a2",leftarrowtail:"\u21a2",lat:"\u2aab",latail:"\u2919",late:"\u2aad",lates:"\u2aad\ufe00",lbarr:"\u290c",lbbrk:"\u2772",lbrace:"{",lcub:"{",lbrack:"[",lsqb:"[",lbrke:"\u298b",lbrksld:"\u298f",lbrkslu:"\u298d",lcaron:"\u013e",lcedil:"\u013c",lcy:"\u043b",ldca:"\u2936",ldrdhar:"\u2967",ldrushar:"\u294b",ldsh:"\u21b2",le:"\u2264",leq:"\u2264",leftleftarrows:"\u21c7",llarr:"\u21c7",leftthreetimes:"\u22cb",lthree:"\u22cb",lescc:"\u2aa8",lesdot:"\u2a7f",lesdoto:"\u2a81",lesdotor:"\u2a83",lesg:"\u22da\ufe00",lesges:"\u2a93",lessdot:"\u22d6",ltdot:"\u22d6",lfisht:"\u297c",lfr:"\u{1d529}",lgE:"\u2a91",lharul:"\u296a",lhblk:"\u2584",ljcy:"\u0459",llhard:"\u296b",lltri:"\u25fa",lmidot:"\u0140",lmoust:"\u23b0",lmoustache:"\u23b0",lnE:"\u2268",lneqq:"\u2268",lnap:"\u2a89",lnapprox:"\u2a89",lne:"\u2a87",lneq:"\u2a87",lnsim:"\u22e6",loang:"\u27ec",loarr:"\u21fd",longmapsto:"\u27fc",xmap:"\u27fc",looparrowright:"\u21ac",rarrlp:"\u21ac",lopar:"\u2985",lopf:"\u{1d55d}",loplus:"\u2a2d",lotimes:"\u2a34",lowast:"\u2217",loz:"\u25ca",lozenge:"\u25ca",lpar:"(",lparlt:"\u2993",lrhard:"\u296d",lrm:"\u200e",lrtri:"\u22bf",lsaquo:"\u2039",lscr:"\u{1d4c1}",lsime:"\u2a8d",lsimg:"\u2a8f",lsquor:"\u201a",sbquo:"\u201a",lstrok:"\u0142",ltcc:"\u2aa6",ltcir:"\u2a79",ltimes:"\u22c9",ltlarr:"\u2976",ltquest:"\u2a7b",ltrPar:"\u2996",ltri:"\u25c3",triangleleft:"\u25c3",lurdshar:"\u294a",luruhar:"\u2966",lvertneqq:"\u2268\ufe00",lvnE:"\u2268\ufe00",mDDot:"\u223a",macr:"\xaf",strns:"\xaf",male:"\u2642",malt:"\u2720",maltese:"\u2720",marker:"\u25ae",mcomma:"\u2a29",mcy:"\u043c",mdash:"\u2014",mfr:"\u{1d52a}",mho:"\u2127",micro:"\xb5",midcir:"\u2af0",minus:"\u2212",minusdu:"\u2a2a",mlcp:"\u2adb",models:"\u22a7",mopf:"\u{1d55e}",mscr:"\u{1d4c2}",mu:"\u03bc",multimap:"\u22b8",mumap:"\u22b8",nGg:"\u22d9\u0338",nGt:"\u226b\u20d2",nLeftarrow:"\u21cd",nlArr:"\u21cd",nLeftrightarrow:"\u21ce",nhArr:"\u21ce",nLl:"\u22d8\u0338",nLt:"\u226a\u20d2",nRightarrow:"\u21cf",nrArr:"\u21cf",nVDash:"\u22af",nVdash:"\u22ae",nacute:"\u0144",nang:"\u2220\u20d2",napE:"\u2a70\u0338",napid:"\u224b\u0338",napos:"\u0149",natur:"\u266e",natural:"\u266e",ncap:"\u2a43",ncaron:"\u0148",ncedil:"\u0146",ncongdot:"\u2a6d\u0338",ncup:"\u2a42",ncy:"\u043d",ndash:"\u2013",neArr:"\u21d7",nearhk:"\u2924",nedot:"\u2250\u0338",nesear:"\u2928",toea:"\u2928",nfr:"\u{1d52b}",nharr:"\u21ae",nleftrightarrow:"\u21ae",nhpar:"\u2af2",nis:"\u22fc",nisd:"\u22fa",njcy:"\u045a",nlE:"\u2266\u0338",nleqq:"\u2266\u0338",nlarr:"\u219a",nleftarrow:"\u219a",nldr:"\u2025",nopf:"\u{1d55f}",not:"\xac",notinE:"\u22f9\u0338",notindot:"\u22f5\u0338",notinvb:"\u22f7",notinvc:"\u22f6",notnivb:"\u22fe",notnivc:"\u22fd",nparsl:"\u2afd\u20e5",npart:"\u2202\u0338",npolint:"\u2a14",nrarr:"\u219b",nrightarrow:"\u219b",nrarrc:"\u2933\u0338",nrarrw:"\u219d\u0338",nscr:"\u{1d4c3}",nsub:"\u2284",nsubE:"\u2ac5\u0338",nsubseteqq:"\u2ac5\u0338",nsup:"\u2285",nsupE:"\u2ac6\u0338",nsupseteqq:"\u2ac6\u0338",ntilde:"\xf1",nu:"\u03bd",num:"#",numero:"\u2116",numsp:"\u2007",nvDash:"\u22ad",nvHarr:"\u2904",nvap:"\u224d\u20d2",nvdash:"\u22ac",nvge:"\u2265\u20d2",nvgt:">\u20d2",nvinfin:"\u29de",nvlArr:"\u2902",nvle:"\u2264\u20d2",nvlt:"<\u20d2",nvltrie:"\u22b4\u20d2",nvrArr:"\u2903",nvrtrie:"\u22b5\u20d2",nvsim:"\u223c\u20d2",nwArr:"\u21d6",nwarhk:"\u2923",nwnear:"\u2927",oacute:"\xf3",ocirc:"\xf4",ocy:"\u043e",odblac:"\u0151",odiv:"\u2a38",odsold:"\u29bc",oelig:"\u0153",ofcir:"\u29bf",ofr:"\u{1d52c}",ogon:"\u02db",ograve:"\xf2",ogt:"\u29c1",ohbar:"\u29b5",olcir:"\u29be",olcross:"\u29bb",olt:"\u29c0",omacr:"\u014d",omega:"\u03c9",omicron:"\u03bf",omid:"\u29b6",oopf:"\u{1d560}",opar:"\u29b7",operp:"\u29b9",or:"\u2228",vee:"\u2228",ord:"\u2a5d",order:"\u2134",orderof:"\u2134",oscr:"\u2134",ordf:"\xaa",ordm:"\xba",origof:"\u22b6",oror:"\u2a56",orslope:"\u2a57",orv:"\u2a5b",oslash:"\xf8",osol:"\u2298",otilde:"\xf5",otimesas:"\u2a36",ouml:"\xf6",ovbar:"\u233d",para:"\xb6",parsim:"\u2af3",parsl:"\u2afd",pcy:"\u043f",percnt:"%",period:".",permil:"\u2030",pertenk:"\u2031",pfr:"\u{1d52d}",phi:"\u03c6",phiv:"\u03d5",straightphi:"\u03d5",varphi:"\u03d5",phone:"\u260e",pi:"\u03c0",piv:"\u03d6",varpi:"\u03d6",planckh:"\u210e",plus:"+",plusacir:"\u2a23",pluscir:"\u2a22",plusdu:"\u2a25",pluse:"\u2a72",plussim:"\u2a26",plustwo:"\u2a27",pointint:"\u2a15",popf:"\u{1d561}",pound:"\xa3",prE:"\u2ab3",prap:"\u2ab7",precapprox:"\u2ab7",precnapprox:"\u2ab9",prnap:"\u2ab9",precneqq:"\u2ab5",prnE:"\u2ab5",precnsim:"\u22e8",prnsim:"\u22e8",prime:"\u2032",profalar:"\u232e",profline:"\u2312",profsurf:"\u2313",prurel:"\u22b0",pscr:"\u{1d4c5}",psi:"\u03c8",puncsp:"\u2008",qfr:"\u{1d52e}",qopf:"\u{1d562}",qprime:"\u2057",qscr:"\u{1d4c6}",quatint:"\u2a16",quest:"?",rAtail:"\u291c",rHar:"\u2964",race:"\u223d\u0331",racute:"\u0155",raemptyv:"\u29b3",rangd:"\u2992",range:"\u29a5",raquo:"\xbb",rarrap:"\u2975",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291e",rarrpl:"\u2945",rarrsim:"\u2974",rarrtl:"\u21a3",rightarrowtail:"\u21a3",rarrw:"\u219d",rightsquigarrow:"\u219d",ratail:"\u291a",ratio:"\u2236",rbbrk:"\u2773",rbrace:"}",rcub:"}",rbrack:"]",rsqb:"]",rbrke:"\u298c",rbrksld:"\u298e",rbrkslu:"\u2990",rcaron:"\u0159",rcedil:"\u0157",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdsh:"\u21b3",rect:"\u25ad",rfisht:"\u297d",rfr:"\u{1d52f}",rharul:"\u296c",rho:"\u03c1",rhov:"\u03f1",varrho:"\u03f1",rightrightarrows:"\u21c9",rrarr:"\u21c9",rightthreetimes:"\u22cc",rthree:"\u22cc",ring:"\u02da",rlm:"\u200f",rmoust:"\u23b1",rmoustache:"\u23b1",rnmid:"\u2aee",roang:"\u27ed",roarr:"\u21fe",ropar:"\u2986",ropf:"\u{1d563}",roplus:"\u2a2e",rotimes:"\u2a35",rpar:")",rpargt:"\u2994",rppolint:"\u2a12",rsaquo:"\u203a",rscr:"\u{1d4c7}",rtimes:"\u22ca",rtri:"\u25b9",triangleright:"\u25b9",rtriltri:"\u29ce",ruluhar:"\u2968",rx:"\u211e",sacute:"\u015b",scE:"\u2ab4",scap:"\u2ab8",succapprox:"\u2ab8",scaron:"\u0161",scedil:"\u015f",scirc:"\u015d",scnE:"\u2ab6",succneqq:"\u2ab6",scnap:"\u2aba",succnapprox:"\u2aba",scnsim:"\u22e9",succnsim:"\u22e9",scpolint:"\u2a13",scy:"\u0441",sdot:"\u22c5",sdote:"\u2a66",seArr:"\u21d8",sect:"\xa7",semi:";",seswar:"\u2929",tosa:"\u2929",sext:"\u2736",sfr:"\u{1d530}",sharp:"\u266f",shchcy:"\u0449",shcy:"\u0448",shy:"\xad",sigma:"\u03c3",sigmaf:"\u03c2",sigmav:"\u03c2",varsigma:"\u03c2",simdot:"\u2a6a",simg:"\u2a9e",simgE:"\u2aa0",siml:"\u2a9d",simlE:"\u2a9f",simne:"\u2246",simplus:"\u2a24",simrarr:"\u2972",smashp:"\u2a33",smeparsl:"\u29e4",smile:"\u2323",ssmile:"\u2323",smt:"\u2aaa",smte:"\u2aac",smtes:"\u2aac\ufe00",softcy:"\u044c",sol:"/",solb:"\u29c4",solbar:"\u233f",sopf:"\u{1d564}",spades:"\u2660",spadesuit:"\u2660",sqcaps:"\u2293\ufe00",sqcups:"\u2294\ufe00",sscr:"\u{1d4c8}",star:"\u2606",sub:"\u2282",subset:"\u2282",subE:"\u2ac5",subseteqq:"\u2ac5",subdot:"\u2abd",subedot:"\u2ac3",submult:"\u2ac1",subnE:"\u2acb",subsetneqq:"\u2acb",subne:"\u228a",subsetneq:"\u228a",subplus:"\u2abf",subrarr:"\u2979",subsim:"\u2ac7",subsub:"\u2ad5",subsup:"\u2ad3",sung:"\u266a",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",supE:"\u2ac6",supseteqq:"\u2ac6",supdot:"\u2abe",supdsub:"\u2ad8",supedot:"\u2ac4",suphsol:"\u27c9",suphsub:"\u2ad7",suplarr:"\u297b",supmult:"\u2ac2",supnE:"\u2acc",supsetneqq:"\u2acc",supne:"\u228b",supsetneq:"\u228b",supplus:"\u2ac0",supsim:"\u2ac8",supsub:"\u2ad4",supsup:"\u2ad6",swArr:"\u21d9",swnwar:"\u292a",szlig:"\xdf",target:"\u2316",tau:"\u03c4",tcaron:"\u0165",tcedil:"\u0163",tcy:"\u0442",telrec:"\u2315",tfr:"\u{1d531}",theta:"\u03b8",thetasym:"\u03d1",thetav:"\u03d1",vartheta:"\u03d1",thorn:"\xfe",times:"\xd7",timesbar:"\u2a31",timesd:"\u2a30",topbot:"\u2336",topcir:"\u2af1",topf:"\u{1d565}",topfork:"\u2ada",tprime:"\u2034",triangle:"\u25b5",utri:"\u25b5",triangleq:"\u225c",trie:"\u225c",tridot:"\u25ec",triminus:"\u2a3a",triplus:"\u2a39",trisb:"\u29cd",tritime:"\u2a3b",trpezium:"\u23e2",tscr:"\u{1d4c9}",tscy:"\u0446",tshcy:"\u045b",tstrok:"\u0167",uHar:"\u2963",uacute:"\xfa",ubrcy:"\u045e",ubreve:"\u016d",ucirc:"\xfb",ucy:"\u0443",udblac:"\u0171",ufisht:"\u297e",ufr:"\u{1d532}",ugrave:"\xf9",uhblk:"\u2580",ulcorn:"\u231c",ulcorner:"\u231c",ulcrop:"\u230f",ultri:"\u25f8",umacr:"\u016b",uogon:"\u0173",uopf:"\u{1d566}",upsi:"\u03c5",upsilon:"\u03c5",upuparrows:"\u21c8",uuarr:"\u21c8",urcorn:"\u231d",urcorner:"\u231d",urcrop:"\u230e",uring:"\u016f",urtri:"\u25f9",uscr:"\u{1d4ca}",utdot:"\u22f0",utilde:"\u0169",uuml:"\xfc",uwangle:"\u29a7",vBar:"\u2ae8",vBarv:"\u2ae9",vangrt:"\u299c",varsubsetneq:"\u228a\ufe00",vsubne:"\u228a\ufe00",varsubsetneqq:"\u2acb\ufe00",vsubnE:"\u2acb\ufe00",varsupsetneq:"\u228b\ufe00",vsupne:"\u228b\ufe00",varsupsetneqq:"\u2acc\ufe00",vsupnE:"\u2acc\ufe00",vcy:"\u0432",veebar:"\u22bb",veeeq:"\u225a",vellip:"\u22ee",vfr:"\u{1d533}",vopf:"\u{1d567}",vscr:"\u{1d4cb}",vzigzag:"\u299a",wcirc:"\u0175",wedbar:"\u2a5f",wedgeq:"\u2259",weierp:"\u2118",wp:"\u2118",wfr:"\u{1d534}",wopf:"\u{1d568}",wscr:"\u{1d4cc}",xfr:"\u{1d535}",xi:"\u03be",xnis:"\u22fb",xopf:"\u{1d569}",xscr:"\u{1d4cd}",yacute:"\xfd",yacy:"\u044f",ycirc:"\u0177",ycy:"\u044b",yen:"\xa5",yfr:"\u{1d536}",yicy:"\u0457",yopf:"\u{1d56a}",yscr:"\u{1d4ce}",yucy:"\u044e",yuml:"\xff",zacute:"\u017a",zcaron:"\u017e",zcy:"\u0437",zdot:"\u017c",zeta:"\u03b6",zfr:"\u{1d537}",zhcy:"\u0436",zigrarr:"\u21dd",zopf:"\u{1d56b}",zscr:"\u{1d4cf}",zwj:"\u200d",zwnj:"\u200c"};gc.ngsp="\ue500";class Au extends _u{constructor(e,o,c){super(c,e),this.tokenType=o}}class mc{constructor(e,o,c){this.tokens=e,this.errors=o,this.nonNormalizedIcuExpressions=c}}const Df=/\r\n?/g;function vc(d){return`Unexpected character "${0===d?"EOF":String.fromCharCode(d)}"`}function Oh(d){return`Unknown entity "${d}" - use the "&#<decimal>;" or  "&#x<hex>;" syntax`}var Rd;!function(d){d.HEX="hexadecimal",d.DEC="decimal"}(Rd||(Rd={}));class xu{constructor(e){this.error=e}}class Ih{constructor(e,o,c){this._getTagDefinition=o,this._currentTokenStart=null,this._currentTokenType=null,this._expansionCaseStack=[],this._inInterpolation=!1,this.tokens=[],this.errors=[],this.nonNormalizedIcuExpressions=[],this._tokenizeIcu=c.tokenizeExpansionForms||!1,this._interpolationConfig=c.interpolationConfig||cs,this._leadingTriviaCodePoints=c.leadingTriviaChars&&c.leadingTriviaChars.map(H=>H.codePointAt(0)||0);const y=c.range||{endPos:e.content.length,startPos:0,startLine:0,startCol:0};this._cursor=c.escapedString?new Rh(e,y):new Md(e,y),this._preserveLineEndings=c.preserveLineEndings||!1,this._escapedString=c.escapedString||!1,this._i18nNormalizeLineEndingsInICUs=c.i18nNormalizeLineEndingsInICUs||!1;try{this._cursor.init()}catch(H){this.handleError(H)}}_processCarriageReturns(e){return this._preserveLineEndings?e:e.replace(Df,"\n")}tokenize(){for(;0!==this._cursor.peek();){const e=this._cursor.clone();try{this._attemptCharCode(60)?this._attemptCharCode(33)?this._attemptCharCode(91)?this._consumeCdata(e):this._attemptCharCode(45)?this._consumeComment(e):this._consumeDocType(e):this._attemptCharCode(47)?this._consumeTagClose(e):this._consumeTagOpen(e):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeWithInterpolation(5,8,()=>this._isTextEnd(),()=>this._isTagStart())}catch(o){this.handleError(o)}}this._beginToken(24),this._endToken([])}_tokenizeExpansionForm(){if(this.isExpansionFormStart())return this._consumeExpansionFormStart(),!0;if(function(d){return d!==No}(this._cursor.peek())&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;if(this._cursor.peek()===No){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1}_beginToken(e,o=this._cursor.clone()){this._currentTokenStart=o,this._currentTokenType=e}_endToken(e,o){if(null===this._currentTokenStart)throw new Au("Programming error - attempted to end a token when there was no start to the token",this._currentTokenType,this._cursor.getSpan(o));if(null===this._currentTokenType)throw new Au("Programming error - attempted to end a token which has no token type",null,this._cursor.getSpan(this._currentTokenStart));const c={type:this._currentTokenType,parts:e,sourceSpan:(null!=o?o:this._cursor).getSpan(this._currentTokenStart,this._leadingTriviaCodePoints)};return this.tokens.push(c),this._currentTokenStart=null,this._currentTokenType=null,c}_createError(e,o){this._isInExpansionForm()&&(e+=' (Do you have an unescaped "{" in your template? Use "{{ \'{\' }}") to escape it.)');const c=new Au(e,this._currentTokenType,o);return this._currentTokenStart=null,this._currentTokenType=null,new xu(c)}handleError(e){if(e instanceof Qp&&(e=this._createError(e.msg,this._cursor.getSpan(e.cursor))),!(e instanceof xu))throw e;this.errors.push(e.error)}_attemptCharCode(e){return this._cursor.peek()===e&&(this._cursor.advance(),!0)}_attemptCharCodeCaseInsensitive(e){return!!function(d,e){return Xp(d)===Xp(e)}(this._cursor.peek(),e)&&(this._cursor.advance(),!0)}_requireCharCode(e){const o=this._cursor.clone();if(!this._attemptCharCode(e))throw this._createError(vc(this._cursor.peek()),this._cursor.getSpan(o))}_attemptStr(e){const o=e.length;if(this._cursor.charsLeft()<o)return!1;const c=this._cursor.clone();for(let y=0;y<o;y++)if(!this._attemptCharCode(e.charCodeAt(y)))return this._cursor=c,!1;return!0}_attemptStrCaseInsensitive(e){for(let o=0;o<e.length;o++)if(!this._attemptCharCodeCaseInsensitive(e.charCodeAt(o)))return!1;return!0}_requireStr(e){const o=this._cursor.clone();if(!this._attemptStr(e))throw this._createError(vc(this._cursor.peek()),this._cursor.getSpan(o))}_attemptCharCodeUntilFn(e){for(;!e(this._cursor.peek());)this._cursor.advance()}_requireCharCodeUntilFn(e,o){const c=this._cursor.clone();if(this._attemptCharCodeUntilFn(e),this._cursor.diff(c)<o)throw this._createError(vc(this._cursor.peek()),this._cursor.getSpan(c))}_attemptUntilChar(e){for(;this._cursor.peek()!==e;)this._cursor.advance()}_readChar(){const e=String.fromCodePoint(this._cursor.peek());return this._cursor.advance(),e}_consumeEntity(e){this._beginToken(9);const o=this._cursor.clone();if(this._cursor.advance(),this._attemptCharCode(35)){const c=this._attemptCharCode(120)||this._attemptCharCode(88),y=this._cursor.clone();if(this._attemptCharCodeUntilFn(xf),59!=this._cursor.peek()){this._cursor.advance();const re=c?Rd.HEX:Rd.DEC;throw this._createError(function(d,e){return`Unable to parse entity "${e}" - ${d} character reference entities must end with ";"`}(re,this._cursor.getChars(o)),this._cursor.getSpan())}const H=this._cursor.getChars(y);this._cursor.advance();try{const re=parseInt(H,c?16:10);this._endToken([String.fromCharCode(re),this._cursor.getChars(o)])}catch(re){throw this._createError(Oh(this._cursor.getChars(o)),this._cursor.getSpan())}}else{const c=this._cursor.clone();if(this._attemptCharCodeUntilFn(Tm),59!=this._cursor.peek())this._beginToken(e,o),this._cursor=c,this._endToken(["&"]);else{const y=this._cursor.getChars(c);this._cursor.advance();const H=gc[y];if(!H)throw this._createError(Oh(y),this._cursor.getSpan(o));this._endToken([H,`&${y};`])}}}_consumeRawText(e,o){this._beginToken(e?6:7);const c=[];for(;;){const y=this._cursor.clone(),H=o();if(this._cursor=y,H)break;e&&38===this._cursor.peek()?(this._endToken([this._processCarriageReturns(c.join(""))]),c.length=0,this._consumeEntity(6),this._beginToken(6)):c.push(this._readChar())}this._endToken([this._processCarriageReturns(c.join(""))])}_consumeComment(e){this._beginToken(10,e),this._requireCharCode(45),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("--\x3e")),this._beginToken(11),this._requireStr("--\x3e"),this._endToken([])}_consumeCdata(e){this._beginToken(12,e),this._requireStr("CDATA["),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("]]>")),this._beginToken(13),this._requireStr("]]>"),this._endToken([])}_consumeDocType(e){this._beginToken(18,e);const o=this._cursor.clone();this._attemptUntilChar(62);const c=this._cursor.getChars(o);this._cursor.advance(),this._endToken([c])}_consumePrefixAndName(){const e=this._cursor.clone();let c,o="";for(;58!==this._cursor.peek()&&!Ph(this._cursor.peek());)this._cursor.advance();58===this._cursor.peek()?(o=this._cursor.getChars(e),this._cursor.advance(),c=this._cursor.clone()):c=e,this._requireCharCodeUntilFn(Sm,""===o?0:1);return[o,this._cursor.getChars(c)]}_consumeTagOpen(e){let o,c,y;try{if(!Jd(this._cursor.peek()))throw this._createError(vc(this._cursor.peek()),this._cursor.getSpan(e));for(y=this._consumeTagOpenStart(e),c=y.parts[0],o=y.parts[1],this._attemptCharCodeUntilFn(el);47!==this._cursor.peek()&&62!==this._cursor.peek()&&60!==this._cursor.peek()&&0!==this._cursor.peek();)this._consumeAttributeName(),this._attemptCharCodeUntilFn(el),this._attemptCharCode(61)&&(this._attemptCharCodeUntilFn(el),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(el);this._consumeTagOpenEnd()}catch(re){if(re instanceof xu)return void(y?y.type=4:(this._beginToken(5,e),this._endToken(["<"])));throw re}const H=this._getTagDefinition(o).getContentType(c);H===l.RAW_TEXT?this._consumeRawTextWithTagClose(c,o,!1):H===l.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(c,o,!0)}_consumeRawTextWithTagClose(e,o,c){this._consumeRawText(c,()=>!!(this._attemptCharCode(60)&&this._attemptCharCode(47)&&(this._attemptCharCodeUntilFn(el),this._attemptStrCaseInsensitive(o)))&&(this._attemptCharCodeUntilFn(el),this._attemptCharCode(62))),this._beginToken(3),this._requireCharCodeUntilFn(y=>62===y,3),this._cursor.advance(),this._endToken([e,o])}_consumeTagOpenStart(e){this._beginToken(0,e);const o=this._consumePrefixAndName();return this._endToken(o)}_consumeAttributeName(){const e=this._cursor.peek();if(39===e||34===e)throw this._createError(vc(e),this._cursor.getSpan());this._beginToken(14);const o=this._consumePrefixAndName();this._endToken(o)}_consumeAttributeValue(){if(39===this._cursor.peek()||34===this._cursor.peek()){const o=this._cursor.peek();this._consumeQuote(o);const c=()=>this._cursor.peek()===o;this._consumeWithInterpolation(16,17,c,c),this._consumeQuote(o)}else{const o=()=>Sm(this._cursor.peek());this._consumeWithInterpolation(16,17,o,o)}}_consumeQuote(e){this._beginToken(15),this._requireCharCode(e),this._endToken([String.fromCodePoint(e)])}_consumeTagOpenEnd(){const e=this._attemptCharCode(47)?2:1;this._beginToken(e),this._requireCharCode(62),this._endToken([])}_consumeTagClose(e){this._beginToken(3,e),this._attemptCharCodeUntilFn(el);const o=this._consumePrefixAndName();this._attemptCharCodeUntilFn(el),this._requireCharCode(62),this._endToken(o)}_consumeExpansionFormStart(){this._beginToken(19),this._requireCharCode(Yo),this._endToken([]),this._expansionCaseStack.push(19),this._beginToken(7);const e=this._readUntil(44),o=this._processCarriageReturns(e);if(this._i18nNormalizeLineEndingsInICUs)this._endToken([o]);else{const y=this._endToken([e]);o!==e&&this.nonNormalizedIcuExpressions.push(y)}this._requireCharCode(44),this._attemptCharCodeUntilFn(el),this._beginToken(7);const c=this._readUntil(44);this._endToken([c]),this._requireCharCode(44),this._attemptCharCodeUntilFn(el)}_consumeExpansionCaseStart(){this._beginToken(20);const e=this._readUntil(Yo).trim();this._endToken([e]),this._attemptCharCodeUntilFn(el),this._beginToken(21),this._requireCharCode(Yo),this._endToken([]),this._attemptCharCodeUntilFn(el),this._expansionCaseStack.push(21)}_consumeExpansionCaseEnd(){this._beginToken(22),this._requireCharCode(No),this._endToken([]),this._attemptCharCodeUntilFn(el),this._expansionCaseStack.pop()}_consumeExpansionFormEnd(){this._beginToken(23),this._requireCharCode(No),this._endToken([]),this._expansionCaseStack.pop()}_consumeWithInterpolation(e,o,c,y){this._beginToken(e);const H=[];for(;!c();){const re=this._cursor.clone();this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(this._endToken([this._processCarriageReturns(H.join(""))],re),H.length=0,this._consumeInterpolation(o,re,y),this._beginToken(e)):38===this._cursor.peek()?(this._endToken([this._processCarriageReturns(H.join(""))]),H.length=0,this._consumeEntity(e),this._beginToken(e)):H.push(this._readChar())}this._inInterpolation=!1,this._endToken([this._processCarriageReturns(H.join(""))])}_consumeInterpolation(e,o,c){const y=[];this._beginToken(e,o),y.push(this._interpolationConfig.start);const H=this._cursor.clone();let re=null,Ae=!1;for(;0!==this._cursor.peek()&&(null===c||!c());){const Ke=this._cursor.clone();if(this._isTagStart())return this._cursor=Ke,y.push(this._getProcessedChars(H,Ke)),void this._endToken(y);if(null===re){if(this._attemptStr(this._interpolationConfig.end))return y.push(this._getProcessedChars(H,Ke)),y.push(this._interpolationConfig.end),void this._endToken(y);this._attemptStr("//")&&(Ae=!0)}const st=this._cursor.peek();this._cursor.advance(),92===st?this._cursor.advance():st===re?re=null:!Ae&&null===re&&Pa(st)&&(re=st)}y.push(this._getProcessedChars(H,this._cursor)),this._endToken(y)}_getProcessedChars(e,o){return this._processCarriageReturns(o.getChars(e))}_isTextEnd(){return!!(this._isTagStart()||0===this._cursor.peek()||this._tokenizeIcu&&!this._inInterpolation&&(this.isExpansionFormStart()||this._cursor.peek()===No&&this._isInExpansionCase()))}_isTagStart(){if(60===this._cursor.peek()){const e=this._cursor.clone();e.advance();const o=e.peek();if(97<=o&&o<=122||65<=o&&o<=90||47===o||33===o)return!0}return!1}_readUntil(e){const o=this._cursor.clone();return this._attemptUntilChar(e),this._cursor.getChars(o)}_isInExpansionCase(){return this._expansionCaseStack.length>0&&21===this._expansionCaseStack[this._expansionCaseStack.length-1]}_isInExpansionForm(){return this._expansionCaseStack.length>0&&19===this._expansionCaseStack[this._expansionCaseStack.length-1]}isExpansionFormStart(){if(this._cursor.peek()!==Yo)return!1;if(this._interpolationConfig){const e=this._cursor.clone(),o=this._attemptStr(this._interpolationConfig.start);return this._cursor=e,!o}return!0}}function el(d){return!fd(d)||0===d}function Sm(d){return fd(d)||62===d||60===d||47===d||39===d||34===d||61===d||0===d}function Ph(d){return(d<97||122<d)&&(d<65||90<d)&&(d<48||d>57)}function xf(d){return 59===d||0===d||!function(d){return d>=97&&d<=102||d>=65&&d<=70||Ia(d)}(d)}function Tm(d){return 59===d||0===d||!Jd(d)}function Xp(d){return d>=97&&d<=122?d-97+65:d}class Md{constructor(e,o){if(e instanceof Md){this.file=e.file,this.input=e.input,this.end=e.end;const c=e.state;this.state={peek:c.peek,offset:c.offset,line:c.line,column:c.column}}else{if(!o)throw new Error("Programming error: the range argument must be provided with a file argument.");this.file=e,this.input=e.content,this.end=o.endPos,this.state={peek:-1,offset:o.startPos,line:o.startLine,column:o.startCol}}}clone(){return new Md(this)}peek(){return this.state.peek}charsLeft(){return this.end-this.state.offset}diff(e){return this.state.offset-e.state.offset}advance(){this.advanceState(this.state)}init(){this.updatePeek(this.state)}getSpan(e,o){let c=e=e||this;if(o)for(;this.diff(e)>0&&-1!==o.indexOf(e.peek());)c===e&&(e=e.clone()),e.advance();const y=this.locationFromCursor(e),H=this.locationFromCursor(this),re=c!==e?this.locationFromCursor(c):y;return new ga(y,H,re)}getChars(e){return this.input.substring(e.state.offset,this.state.offset)}charAt(e){return this.input.charCodeAt(e)}advanceState(e){if(e.offset>=this.end)throw this.state=e,new Qp('Unexpected character "EOF"',this);const o=this.charAt(e.offset);10===o?(e.line++,e.column=0):pd(o)||e.column++,e.offset++,this.updatePeek(e)}updatePeek(e){e.peek=e.offset>=this.end?0:this.charAt(e.offset)}locationFromCursor(e){return new Ra(e.file,e.state.offset,e.state.line,e.state.column)}}class Rh extends Md{constructor(e,o){e instanceof Rh?(super(e),this.internalState=Object.assign({},e.internalState)):(super(e,o),this.internalState=this.state)}advance(){this.state=this.internalState,super.advance(),this.processEscapeSequence()}init(){super.init(),this.processEscapeSequence()}clone(){return new Rh(this)}getChars(e){const o=e.clone();let c="";for(;o.internalState.offset<this.internalState.offset;)c+=String.fromCodePoint(o.peek()),o.advance();return c}processEscapeSequence(){const e=()=>this.internalState.peek;if(92===e())if(this.internalState=Object.assign({},this.state),this.advanceState(this.internalState),110===e())this.state.peek=10;else if(114===e())this.state.peek=13;else if(118===e())this.state.peek=11;else if(116===e())this.state.peek=9;else if(98===e())this.state.peek=8;else if(102===e())this.state.peek=12;else if(117===e())if(this.advanceState(this.internalState),e()===Yo){this.advanceState(this.internalState);const o=this.clone();let c=0;for(;e()!==No;)this.advanceState(this.internalState),c++;this.state.peek=this.decodeHexDigits(o,c)}else{const o=this.clone();this.advanceState(this.internalState),this.advanceState(this.internalState),this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(o,4)}else if(120===e()){this.advanceState(this.internalState);const o=this.clone();this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(o,2)}else if(eh(e())){let o="",c=0,y=this.clone();for(;eh(e())&&c<3;)y=this.clone(),o+=String.fromCodePoint(e()),this.advanceState(this.internalState),c++;this.state.peek=parseInt(o,8),this.internalState=y.internalState}else pd(this.internalState.peek)?(this.advanceState(this.internalState),this.state=this.internalState):this.state.peek=this.internalState.peek}decodeHexDigits(e,o){const c=this.input.substr(e.internalState.offset,o),y=parseInt(c,16);if(isNaN(y))throw e.state=e.internalState,new Qp("Invalid hexadecimal escape sequence",e);return y}}class Qp{constructor(e,o){this.msg=e,this.cursor=o}}class iu extends _u{constructor(e,o,c){super(o,c),this.elementName=e}static create(e,o,c){return new iu(e,o,c)}}class Xc{constructor(e,o){this.rootNodes=e,this.errors=o}}class Of{constructor(e,o){this.tokens=e,this.getTagDefinition=o,this._index=-1,this._elementStack=[],this.rootNodes=[],this.errors=[],this._advance()}build(){for(;24!==this._peek.type;)0===this._peek.type||4===this._peek.type?this._consumeStartTag(this._advance()):3===this._peek.type?this._consumeEndTag(this._advance()):12===this._peek.type?(this._closeVoidElement(),this._consumeCdata(this._advance())):10===this._peek.type?(this._closeVoidElement(),this._consumeComment(this._advance())):5===this._peek.type||7===this._peek.type||6===this._peek.type?(this._closeVoidElement(),this._consumeText(this._advance())):19===this._peek.type?this._consumeExpansion(this._advance()):this._advance()}_advance(){const e=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],e}_advanceIf(e){return this._peek.type===e?this._advance():null}_consumeCdata(e){this._consumeText(this._advance()),this._advanceIf(13)}_consumeComment(e){const o=this._advanceIf(7);this._advanceIf(11);const c=null!=o?o.parts[0].trim():null;this._addToParent(new Yc(c,e.sourceSpan))}_consumeExpansion(e){const o=this._advance(),c=this._advance(),y=[];for(;20===this._peek.type;){const re=this._parseExpansionCase();if(!re)return;y.push(re)}if(23!==this._peek.type)return void this.errors.push(iu.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."));const H=new ga(e.sourceSpan.start,this._peek.sourceSpan.end,e.sourceSpan.fullStart);this._addToParent(new jc(o.parts[0],c.parts[0],y,H,o.sourceSpan)),this._advance()}_parseExpansionCase(){const e=this._advance();if(21!==this._peek.type)return this.errors.push(iu.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;const o=this._advance(),c=this._collectExpansionExpTokens(o);if(!c)return null;const y=this._advance();c.push({type:24,parts:[],sourceSpan:y.sourceSpan});const H=new Of(c,this.getTagDefinition);if(H.build(),H.errors.length>0)return this.errors=this.errors.concat(H.errors),null;const re=new ga(e.sourceSpan.start,y.sourceSpan.end,e.sourceSpan.fullStart),Ae=new ga(o.sourceSpan.start,y.sourceSpan.end,o.sourceSpan.fullStart);return new Kp(e.parts[0],H.rootNodes,re,e.sourceSpan,Ae)}_collectExpansionExpTokens(e){const o=[],c=[21];for(;;){if((19===this._peek.type||21===this._peek.type)&&c.push(this._peek.type),22===this._peek.type){if(!tl(c,21))return this.errors.push(iu.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(c.pop(),0===c.length)return o}if(23===this._peek.type){if(!tl(c,19))return this.errors.push(iu.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;c.pop()}if(24===this._peek.type)return this.errors.push(iu.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;o.push(this._advance())}}_consumeText(e){const o=[e],c=e.sourceSpan;let y=e.parts[0];if(y.length>0&&"\n"===y[0]){const H=this._getParentElement();null!=H&&0===H.children.length&&this.getTagDefinition(H.name).ignoreFirstLf&&(y=y.substring(1),o[0]={type:e.type,sourceSpan:e.sourceSpan,parts:[y]})}for(;8===this._peek.type||5===this._peek.type||9===this._peek.type;)e=this._advance(),o.push(e),8===e.type?y+=e.parts.join("").replace(/&([^;]+);/g,If):9===e.type?y+=e.parts[0]:y+=e.parts.join("");if(y.length>0){const H=e.sourceSpan;this._addToParent(new Rl(y,new ga(c.start,H.end,c.fullStart,c.details),o))}}_closeVoidElement(){const e=this._getParentElement();e&&this.getTagDefinition(e.name).isVoid&&this._elementStack.pop()}_consumeStartTag(e){const[o,c]=e.parts,y=[];for(;14===this._peek.type;)y.push(this._consumeAttr(this._advance()));const H=this._getElementFullName(o,c,this._getParentElement());let re=!1;if(2===this._peek.type){this._advance(),re=!0;const ln=this.getTagDefinition(H);ln.canSelfClose||null!==b(H)||ln.isVoid||this.errors.push(iu.create(H,e.sourceSpan,`Only void and foreign elements can be self closed "${e.parts[1]}"`))}else 1===this._peek.type&&(this._advance(),re=!1);const Ae=this._peek.sourceSpan.fullStart,Ke=new ga(e.sourceSpan.start,Ae,e.sourceSpan.fullStart),st=new ga(e.sourceSpan.start,Ae,e.sourceSpan.fullStart),At=new qc(H,y,[],Ke,st,void 0);this._pushElement(At),re?this._popElement(H,Ke):4===e.type&&(this._popElement(H,null),this.errors.push(iu.create(H,Ke,`Opening tag "${H}" not terminated.`)))}_pushElement(e){const o=this._getParentElement();o&&this.getTagDefinition(o.name).isClosedByChild(e.name)&&this._elementStack.pop(),this._addToParent(e),this._elementStack.push(e)}_consumeEndTag(e){const o=this._getElementFullName(e.parts[0],e.parts[1],this._getParentElement());if(this.getTagDefinition(o).isVoid)this.errors.push(iu.create(o,e.sourceSpan,`Void elements do not have end tags "${e.parts[1]}"`));else if(!this._popElement(o,e.sourceSpan)){const c=`Unexpected closing tag "${o}". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags`;this.errors.push(iu.create(o,e.sourceSpan,c))}}_popElement(e,o){let c=!1;for(let y=this._elementStack.length-1;y>=0;y--){const H=this._elementStack[y];if(H.name===e)return H.endSourceSpan=o,H.sourceSpan.end=null!==o?o.end:H.sourceSpan.end,this._elementStack.splice(y,this._elementStack.length-y),!c;this.getTagDefinition(H.name).closedByParent||(c=!0)}return!1}_consumeAttr(e){const o=v(e.parts[0],e.parts[1]);let c=e.sourceSpan.end;15===this._peek.type&&this._advance();let y="";const H=[];let re,Ae;if(16===this._peek.type)for(re=this._peek.sourceSpan,Ae=this._peek.sourceSpan.end;16===this._peek.type||17===this._peek.type||9===this._peek.type;){const At=this._advance();H.push(At),17===At.type?y+=At.parts.join("").replace(/&([^;]+);/g,If):9===At.type?y+=At.parts[0]:y+=At.parts.join(""),Ae=c=At.sourceSpan.end}15===this._peek.type&&(c=this._advance().sourceSpan.end);const st=re&&Ae&&new ga(re.start,Ae,re.fullStart);return new Kc(o,y,new ga(e.sourceSpan.start,c,e.sourceSpan.fullStart),e.sourceSpan,st,H.length>0?H:void 0,void 0)}_getParentElement(){return this._elementStack.length>0?this._elementStack[this._elementStack.length-1]:null}_addToParent(e){const o=this._getParentElement();null!=o?o.children.push(e):this.rootNodes.push(e)}_getElementFullName(e,o,c){if(""===e&&(""===(e=this.getTagDefinition(o).implicitNamespacePrefix||"")&&null!=c)){const y=A(c.name)[1];this.getTagDefinition(y).preventNamespaceInheritance||(e=b(c.name))}return v(e,o)}}function tl(d,e){return d.length>0&&d[d.length-1]===e}function If(d,e){return void 0!==gc[e]?gc[e]||d:/^#x[a-f0-9]+$/i.test(e)?String.fromCodePoint(parseInt(e.slice(2),16)):/^#\d+$/.test(e)?String.fromCodePoint(parseInt(e.slice(1),10)):d}class Zp extends class{constructor(e){this.getTagDefinition=e}parse(e,o,c){const y=function(d,e,o,c={}){const y=new Ih(new nf(d,e),o,c);return y.tokenize(),new mc(function(d){const e=[];let o;for(let c=0;c<d.length;c++){const y=d[c];o&&5===o.type&&5===y.type||o&&16===o.type&&16===y.type?(o.parts[0]+=y.parts[0],o.sourceSpan.end=y.sourceSpan.end):(o=y,e.push(o))}return e}(y.tokens),y.errors,y.nonNormalizedIcuExpressions)}(e,o,this.getTagDefinition,c),H=new Of(y.tokens,this.getTagDefinition);return H.build(),new Xc(H.rootNodes,y.errors.concat(H.errors))}}{constructor(){super(S)}parse(e,o,c){return super.parse(e,o,c)}}const Qu="ngPreserveWhitespaces",hs=new Set(["pre","template","textarea","script","style"]),Pf=" \f\n\r\t\v\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff",nl=new RegExp(`[^${Pf}]`),zo=new RegExp(`[${Pf}]{2,}`,"g");function Ou(d){return d.replace(new RegExp("\ue500","g")," ")}class Rf{visitElement(e,o){return hs.has(e.name)||function(d){return d.some(e=>e.name===Qu)}(e.attrs)?new qc(e.name,Os(this,e.attrs),e.children,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n):new qc(e.name,e.attrs,function(d,e){const o=[];return e.forEach((c,y)=>{const H={prev:e[y-1],next:e[y+1]},re=c.visit(d,H);re&&o.push(re)}),o}(this,e.children),e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}visitAttribute(e,o){return e.name!==Qu?e:null}visitText(e,o){const c=e.value.match(nl),y=o&&(o.prev instanceof jc||o.next instanceof jc);if(c||y){const H=e.tokens.map(Ae=>5===Ae.type?function({type:d,parts:e,sourceSpan:o}){return{type:d,parts:[eg(e[0])],sourceSpan:o}}(Ae):Ae),re=eg(e.value);return new Rl(re,e.sourceSpan,H,e.i18n)}return null}visitComment(e,o){return e}visitExpansion(e,o){return e}visitExpansionCase(e,o){return e}}function eg(d){return Ou(d).replace(zo," ")}function Ff(d,e=!1){return Ys(Object.keys(d).map(o=>({key:o,quoted:e,value:d[o]})))}let Wl;function Mh(){return Wl||(Wl={},_c(an.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),_c(an.STYLE,["*|style"]),_c(an.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","img|srcset","input|src","ins|cite","q|cite","source|src","source|srcset","track|src","video|poster","video|src"]),_c(an.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])),Wl}function _c(d,e){for(const o of e)Wl[o.toLowerCase()]=d}const kf=["[Element]|textContent,%classList,className,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*copy,*cut,*paste,*search,*selectstart,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerHTML,#scrollLeft,#scrollTop,slot,*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored","[HTMLElement]^[Element]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate","abbr,address,article,aside,b,bdi,bdo,cite,code,dd,dfn,dt,em,figcaption,figure,footer,header,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate","media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,src,%srcObject,#volume",":svg:^[HTMLElement]|*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!autofocus,!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,!allowFullscreen,frameBorder,height,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,#height,#hspace,!isMap,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocapitalize,autocomplete,!autofocus,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,src,text,type","select^[HTMLElement]|autocomplete,!autofocus,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","shadow^[HTMLElement]|","slot^[HTMLElement]|name","source^[HTMLElement]|media,sizes,src,srcset,type","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocapitalize,autocomplete,!autofocus,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|#height,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime",":svg:cursor^:svg:|"],Nf={class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Lf=Object.keys(Nf).reduce((d,e)=>(d[Nf[e]]=e,d),{});class Fd extends class{}{constructor(){super(),this._schema={},this._eventSchema={},kf.forEach(e=>{const o={},c=new Set,[y,H]=e.split("|"),re=H.split(","),[Ae,Ke]=y.split("^");Ae.split(",").forEach(At=>{this._schema[At.toLowerCase()]=o,this._eventSchema[At.toLowerCase()]=c});const st=Ke&&this._schema[Ke.toLowerCase()];if(st){Object.keys(st).forEach(At=>{o[At]=st[At]});for(const At of this._eventSchema[Ke.toLowerCase()])c.add(At)}re.forEach(At=>{if(At.length>0)switch(At[0]){case"*":c.add(At.substring(1));break;case"!":o[At.substring(1)]="boolean";break;case"#":o[At.substring(1)]="number";break;case"%":o[At.substring(1)]="object";break;default:o[At]="string"}})})}hasProperty(e,o,c){if(c.some(H=>H.name===Nt.name))return!0;if(e.indexOf("-")>-1){if(j(e)||I(e))return!1;if(c.some(H=>H.name===en.name))return!0}return!!(this._schema[e.toLowerCase()]||this._schema.unknown)[o]}hasElement(e,o){return!!(o.some(c=>c.name===Nt.name)||e.indexOf("-")>-1&&(j(e)||I(e)||o.some(c=>c.name===en.name)))||!!this._schema[e.toLowerCase()]}securityContext(e,o,c){c&&(o=this.getMappedPropName(o)),e=e.toLowerCase(),o=o.toLowerCase();let y=Mh()[e+"|"+o];return y||(y=Mh()["*|"+o],y||an.NONE)}getMappedPropName(e){return Nf[e]||e}getDefaultComponentElementName(){return"ng-component"}validateProperty(e){if(e.toLowerCase().startsWith("on")){return{error:!0,msg:`Binding to event property '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...\nIf '${e}' is a directive input, make sure the directive is imported by the current module.`}}return{error:!1}}validateAttribute(e){if(e.toLowerCase().startsWith("on")){return{error:!0,msg:`Binding to event attribute '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...`}}return{error:!1}}allKnownElementNames(){return Object.keys(this._schema)}allKnownAttributesOfElement(e){const o=this._schema[e.toLowerCase()]||this._schema.unknown;return Object.keys(o).map(c=>{var y;return null!==(y=Lf[c])&&void 0!==y?y:c})}allKnownEventsOfElement(e){var o;return Array.from(null!==(o=this._eventSchema[e.toLowerCase()])&&void 0!==o?o:[])}normalizeAnimationStyleProperty(e){return function(d){return d.replace(We,(...e)=>e[1].toUpperCase())}(e)}normalizeAnimationStyleValue(e,o,c){let y="";const H=c.toString().trim();let re=null;if(function(d){switch(d){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}(e)&&0!==c&&"0"!==c)if("number"==typeof c)y="px";else{const Ae=c.match(/^[+-]?[\d\.]+([a-z]*)$/);Ae&&0==Ae[1].length&&(re=`Please provide a CSS unit value for ${o}:${c}`)}return{error:re,value:H+y}}}const Nh=new Set(["iframe|srcdoc","*|innerhtml","*|outerhtml","embed|src","object|codebase","object|data"]);function ng(d,e){return d=d.toLowerCase(),e=e.toLowerCase(),Nh.has(d+"|"+e)||Nh.has("*|"+e)}const Lh="animate-";class rg{constructor(e,o,c,y){this._exprParser=e,this._interpolationConfig=o,this._schemaRegistry=c,this.errors=y}get interpolationConfig(){return this._interpolationConfig}createBoundHostProperties(e,o){const c=[];for(const y of Object.keys(e)){const H=e[y];"string"==typeof H?this.parsePropertyBinding(y,H,!0,o,o.start.offset,void 0,[],c,o):this._reportError(`Value of the host property binding "${y}" needs to be a string representing an expression but got "${H}" (${typeof H})`,o)}return c}createDirectiveHostPropertyAsts(e,o,c){const y=this.createBoundHostProperties(e,c);return y&&y.map(H=>this.createBoundElementProperty(o,H))}createDirectiveHostEventAsts(e,o){const c=[];for(const y of Object.keys(e)){const H=e[y];"string"==typeof H?this.parseEvent(y,H,o,o,[],c,o):this._reportError(`Value of the host listener "${y}" needs to be a string representing an expression but got "${H}" (${typeof H})`,o)}return c}parseInterpolation(e,o){const c=o.start.toString(),y=o.fullStart.offset;try{const H=this._exprParser.parseInterpolation(e,c,y,this._interpolationConfig);return H&&this._reportExpressionParserErrors(H.errors,o),H}catch(H){return this._reportError(`${H}`,o),this._exprParser.wrapLiteralPrimitive("ERROR",c,y)}}parseInterpolationExpression(e,o){const c=o.start.toString(),y=o.start.offset;try{const H=this._exprParser.parseInterpolationExpression(e,c,y);return H&&this._reportExpressionParserErrors(H.errors,o),H}catch(H){return this._reportError(`${H}`,o),this._exprParser.wrapLiteralPrimitive("ERROR",c,y)}}parseInlineTemplateBinding(e,o,c,y,H,re,Ae,Ke){const st=c.start.offset+"*".length,At=this._parseTemplateBindings(e,o,c,st,y);for(const ln of At){const Vn=La(c,ln.sourceSpan),Wn=ln.key.source,pi=La(c,ln.key.span);if(ln instanceof bd){const Ar=ln.value?ln.value.source:"$implicit",Fi=ln.value?La(c,ln.value.span):void 0;Ae.push(new Dp(Wn,Ar,Vn,pi,Fi))}else if(ln.value){const Ar=Ke?Vn:c,Fi=La(c,ln.value.ast.sourceSpan);this._parsePropertyAst(Wn,ln.value,Ar,pi,Fi,H,re)}else H.push([Wn,""]),this.parseLiteralAttr(Wn,null,pi,y,void 0,H,re,pi)}}_parseTemplateBindings(e,o,c,y,H){const re=c.start.toString();try{const Ae=this._exprParser.parseTemplateBindings(e,o,re,y,H);return this._reportExpressionParserErrors(Ae.errors,c),Ae.warnings.forEach(Ke=>{this._reportError(Ke,c,Ol.WARNING)}),Ae.templateBindings}catch(Ae){return this._reportError(`${Ae}`,c),[]}}parseLiteralAttr(e,o,c,y,H,re,Ae,Ke){zl(e)?(e=e.substring(1),void 0!==Ke&&(Ke=La(Ke,new Ja(Ke.start.offset+1,Ke.end.offset))),o&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',c,Ol.ERROR),this._parseAnimation(e,o,c,y,Ke,H,re,Ae)):Ae.push(new uh(e,this._exprParser.wrapLiteralPrimitive(o,"",y),pc.LITERAL_ATTR,c,Ke,H))}parsePropertyBinding(e,o,c,y,H,re,Ae,Ke,st){0===e.length&&this._reportError("Property name is missing in binding",y);let At=!1;e.startsWith(Lh)?(At=!0,e=e.substring(Lh.length),void 0!==st&&(st=La(st,new Ja(st.start.offset+Lh.length,st.end.offset)))):zl(e)&&(At=!0,e=e.substring(1),void 0!==st&&(st=La(st,new Ja(st.start.offset+1,st.end.offset)))),At?this._parseAnimation(e,o,y,H,st,re,Ae,Ke):this._parsePropertyAst(e,this._parseBinding(o,c,re||y,H),y,st,re,Ae,Ke)}parsePropertyInterpolation(e,o,c,y,H,re,Ae){const Ke=this.parseInterpolation(o,y||c);return!!Ke&&(this._parsePropertyAst(e,Ke,c,Ae,y,H,re),!0)}_parsePropertyAst(e,o,c,y,H,re,Ae){re.push([e,o.source]),Ae.push(new uh(e,o,pc.DEFAULT,c,y,H))}_parseAnimation(e,o,c,y,H,re,Ae,Ke){0===e.length&&this._reportError("Animation trigger is missing",c);const st=this._parseBinding(o||"undefined",!1,re||c,y);Ae.push([e,st.source]),Ke.push(new uh(e,st,pc.ANIMATION,c,H,re))}_parseBinding(e,o,c,y){const H=(c&&c.start||"(unknown)").toString();try{const re=o?this._exprParser.parseSimpleBinding(e,H,y,this._interpolationConfig):this._exprParser.parseBinding(e,H,y,this._interpolationConfig);return re&&this._reportExpressionParserErrors(re.errors,c),re}catch(re){return this._reportError(`${re}`,c),this._exprParser.wrapLiteralPrimitive("ERROR",H,y)}}createBoundElementProperty(e,o,c=!1,y=!0){if(o.isAnimation)return new af(o.name,4,an.NONE,o.expression,null,o.sourceSpan,o.keySpan,o.valueSpan);let re,H=null,Ae=null;const Ke=o.name.split(".");let st;if(Ke.length>1)if("attr"==Ke[0]){Ae=Ke.slice(1).join("."),c||this._validatePropertyOrAttributeName(Ae,o.sourceSpan,!0),st=Ec(this._schemaRegistry,e,Ae,!0);const At=Ae.indexOf(":");if(At>-1){const ln=Ae.substring(0,At),Vn=Ae.substring(At+1);Ae=v(ln,Vn)}re=1}else"class"==Ke[0]?(Ae=Ke[1],re=2,st=[an.NONE]):"style"==Ke[0]&&(H=Ke.length>2?Ke[2]:null,Ae=Ke[1],re=3,st=[an.STYLE]);if(null===Ae){const At=this._schemaRegistry.getMappedPropName(o.name);Ae=y?At:o.name,st=Ec(this._schemaRegistry,e,At,!1),re=0,c||this._validatePropertyOrAttributeName(At,o.sourceSpan,!1)}return new af(Ae,re,st[0],o.expression,H,o.sourceSpan,o.keySpan,o.valueSpan)}parseEvent(e,o,c,y,H,re,Ae){0===e.length&&this._reportError("Event name is missing in binding",c),zl(e)?(e=e.substr(1),void 0!==Ae&&(Ae=La(Ae,new Ja(Ae.start.offset+1,Ae.end.offset))),this._parseAnimationEvent(e,o,c,y,re,Ae)):this._parseRegularEvent(e,o,c,y,H,re,Ae)}calcPossibleSecurityContexts(e,o,c){const y=this._schemaRegistry.getMappedPropName(o);return Ec(this._schemaRegistry,e,y,c)}_parseAnimationEvent(e,o,c,y,H,re){const Ae=function(d,e){return Mt(d,".",e)}(e,[e,""]),Ke=Ae[0],st=Ae[1].toLowerCase(),At=this._parseAction(o,y);H.push(new ch(Ke,st,1,At,c,y,re)),0===Ke.length&&this._reportError("Animation event name is missing in binding",c),st?"start"!==st&&"done"!==st&&this._reportError(`The provided animation output phase value "${st}" for "@${Ke}" is not supported (use start or done)`,c):this._reportError(`The animation trigger output event (@${Ke}) is missing its phase value name (start or done are currently supported)`,c)}_parseRegularEvent(e,o,c,y,H,re,Ae){const[Ke,st]=St(e,[null,e]),At=this._parseAction(o,y);H.push([e,At.source]),re.push(new ch(st,Ke,0,At,c,y,Ae))}_parseAction(e,o){const c=(o&&o.start||"(unknown").toString(),y=o&&o.start?o.start.offset:0;try{const H=this._exprParser.parseAction(e,c,y,this._interpolationConfig);return H&&this._reportExpressionParserErrors(H.errors,o),!H||H.ast instanceof ba?(this._reportError("Empty expressions are not allowed",o),this._exprParser.wrapLiteralPrimitive("ERROR",c,y)):H}catch(H){return this._reportError(`${H}`,o),this._exprParser.wrapLiteralPrimitive("ERROR",c,y)}}_reportError(e,o,c=Ol.ERROR){this.errors.push(new _u(o,e,c))}_reportExpressionParserErrors(e,o){for(const c of e)this._reportError(c.message,o)}_validatePropertyOrAttributeName(e,o,c){const y=c?this._schemaRegistry.validateAttribute(e):this._schemaRegistry.validateProperty(e);y.error&&this._reportError(y.msg,o,Ol.ERROR)}}function zl(d){return"@"==d[0]}function Ec(d,e,o,c){const y=[];return F.parse(e).forEach(H=>{const re=H.element?[H.element]:d.allKnownElementNames(),Ae=new Set(H.notSelectors.filter(st=>st.isElementSelector()).map(st=>st.element)),Ke=re.filter(st=>!Ae.has(st));y.push(...Ke.map(st=>d.securityContext(st,o,c)))}),0===y.length?[an.NONE]:Array.from(new Set(y)).sort()}function La(d,e){const o=e.start-d.start.offset,c=e.end-d.end.offset;return new ga(d.start.moveBy(o),d.end.moveBy(c),d.fullStart.moveBy(o),d.details)}const Pm=/^([^:/?#]+):/;function ag(d){let e=null,o=null,c=null,y=!1,H="";d.attrs.forEach(Ke=>{const st=Ke.name.toLowerCase();"select"==st?e=Ke.value:"href"==st?o=Ke.value:"rel"==st?c=Ke.value:"ngNonBindable"==Ke.name?y=!0:"ngProjectAs"==Ke.name&&Ke.value.length>0&&(H=Ke.value)}),e=function(d){return null===d||0===d.length?"*":d}(e);const re=d.name.toLowerCase();let Ae=Ba.OTHER;return I(re)?Ae=Ba.NG_CONTENT:"style"==re?Ae=Ba.STYLE:"script"==re?Ae=Ba.SCRIPT:"link"==re&&"stylesheet"==c&&(Ae=Ba.STYLESHEET),new Mm(Ae,e,o,y,H)}var Ba;!function(d){d[d.NG_CONTENT=0]="NG_CONTENT",d[d.STYLE=1]="STYLE",d[d.STYLESHEET=2]="STYLESHEET",d[d.SCRIPT=3]="SCRIPT",d[d.OTHER=4]="OTHER"}(Ba||(Ba={}));class Mm{constructor(e,o,c,y,H){this.type=e,this.selectAttr=o,this.hrefAttr=c,this.nonBindable=y,this.projectAs=H}}const lg=/^(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.*)$/,Zu_BANANA_BOX={start:"[(",end:")]"},Zu_PROPERTY={start:"[",end:"]"},Zu_EVENT={start:"(",end:")"};class $f{constructor(e,o){this.bindingParser=e,this.options=o,this.errors=[],this.styles=[],this.styleUrls=[],this.ngContentSelectors=[],this.commentNodes=[],this.inI18nBlock=!1}visitElement(e){const o=Pc(e.i18n);o&&(this.inI18nBlock&&this.reportError("Cannot mark an element as translatable inside of a translatable section. Please remove the nested i18n marker.",e.sourceSpan),this.inI18nBlock=!0);const c=ag(e);if(c.type===Ba.SCRIPT)return null;if(c.type===Ba.STYLE){const Fi=function(d){return 1===d.children.length&&d.children[0]instanceof Rl?d.children[0].value:null}(e);return null!==Fi&&this.styles.push(Fi),null}if(c.type===Ba.STYLESHEET&&function(d){if(null==d||0===d.length||"/"==d[0])return!1;const e=d.match(Pm);return null===e||"package"==e[1]||"asset"==e[1]}(c.hrefAttr))return this.styleUrls.push(c.hrefAttr),null;const y=function(d){return"ng-template"===A(d)[1]}(e.name),H=[],re=[],Ae=[],Ke=[],st=[],At={},ln=[],Vn=[];let Wn=!1;for(const Fi of e.attrs){let fr=!1;const Kr=Va(Fi.name);let bo=!1;if(Fi.i18n&&(At[Fi.name]=Fi.i18n),Kr.startsWith("*")){Wn&&this.reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",Fi.sourceSpan),bo=!0,Wn=!0;const no=Fi.value,ia=Kr.substring("*".length),Ll=[],Zh=Fi.valueSpan?Fi.valueSpan.start.offset:Fi.sourceSpan.start.offset+Fi.name.length;this.bindingParser.parseInlineTemplateBinding(ia,no,Fi.sourceSpan,Zh,[],ln,Ll,!0),Vn.push(...Ll.map(xo=>new ct(xo.name,xo.value,xo.sourceSpan,xo.keySpan,xo.valueSpan)))}else fr=this.parseAttribute(y,Fi,[],H,re,Ae,Ke);!fr&&!bo&&st.push(this.visitAttribute(Fi))}const pi=Os(c.nonBindable?ca:this,e.children);let Ar;if(c.type===Ba.NG_CONTENT){e.children&&!e.children.every(Kr=>function(d){return d instanceof Rl&&0==d.value.trim().length}(Kr)||function(d){return d instanceof Yc}(Kr))&&this.reportError("<ng-content> element cannot have content.",e.sourceSpan);const Fi=c.selectAttr,fr=e.attrs.map(Kr=>this.visitAttribute(Kr));Ar=new $e(Fi,fr,e.sourceSpan,e.i18n),this.ngContentSelectors.push(Fi)}else if(y){const Fi=this.extractAttributes(e.name,H,At);Ar=new we(e.name,st,Fi.bound,re,[],pi,Ke,Ae,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}else{const Fi=this.extractAttributes(e.name,H,At);Ar=new se(e.name,st,Fi.bound,re,pi,Ke,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}if(Wn){const Fi=this.extractAttributes("ng-template",ln,At),fr=[];Fi.literal.forEach(no=>fr.push(no)),Fi.bound.forEach(no=>fr.push(no));const Kr=Ar instanceof se?{attributes:Ar.attributes,inputs:Ar.inputs,outputs:Ar.outputs}:{attributes:[],inputs:[],outputs:[]},bo=y&&o?void 0:e.i18n;Ar=new we(Ar.name,Kr.attributes,Kr.inputs,Kr.outputs,fr,[Ar],[],Vn,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,bo)}return o&&(this.inI18nBlock=!1),Ar}visitAttribute(e){return new Bl(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}visitText(e){return this._visitTextWithInterpolation(e.value,e.sourceSpan,e.i18n)}visitExpansion(e){if(!e.i18n)return null;if(!Pc(e.i18n))throw new Error(`Invalid type "${e.i18n.constructor}" for "i18n" property of ${e.sourceSpan.toString()}. Expected a "Message"`);const o=e.i18n,c={},y={};return Object.keys(o.placeholders).forEach(H=>{const re=o.placeholders[H];if(H.startsWith("VAR_")){const Ae=H.trim(),Ke=this.bindingParser.parseInterpolationExpression(re.text,re.sourceSpan);c[Ae]=new ql(Ke,re.sourceSpan)}else y[H]=this._visitTextWithInterpolation(re.text,re.sourceSpan)}),new un(c,y,e.sourceSpan,o)}visitExpansionCase(e){return null}visitComment(e){return this.options.collectCommentNodes&&this.commentNodes.push(new Kl(e.value||"",e.sourceSpan)),null}extractAttributes(e,o,c){const y=[],H=[];return o.forEach(re=>{const Ae=c[re.name];if(re.isLiteral)H.push(new Bl(re.name,re.expression.source||"",re.sourceSpan,re.keySpan,re.valueSpan,Ae));else{const Ke=this.bindingParser.createBoundElementProperty(e,re,!0,!1);y.push(me.fromBoundElementProperty(Ke,Ae))}}),{bound:y,literal:H}}parseAttribute(e,o,c,y,H,re,Ae){const Ke=Va(o.name),st=o.value,At=o.sourceSpan,ln=o.valueSpan?o.valueSpan.start.offset:At.start.offset;function Vn(fr,Kr,bo){const no=o.name.length-Ke.length,ia=fr.start.moveBy(Kr.length+no),Ll=ia.moveBy(bo.length);return new ga(ia,Ll,ia,bo)}const Wn=Ke.match(lg);if(Wn){if(null!=Wn[1]){const fr=Wn[7],Kr=Vn(At,Wn[1],fr);this.bindingParser.parsePropertyBinding(fr,st,!1,At,ln,o.valueSpan,c,y,Kr)}else if(Wn[2])if(e){const fr=Wn[7],Kr=Vn(At,Wn[2],fr);this.parseVariable(fr,st,At,Kr,o.valueSpan,re)}else this.reportError('"let-" is only supported on ng-template elements.',At);else if(Wn[3]){const fr=Wn[7],Kr=Vn(At,Wn[3],fr);this.parseReference(fr,st,At,Kr,o.valueSpan,Ae)}else if(Wn[4]){const fr=[],Kr=Wn[7],bo=Vn(At,Wn[4],Kr);this.bindingParser.parseEvent(Kr,st,At,o.valueSpan||At,c,fr,bo),Hh(fr,H)}else if(Wn[5]){const fr=Wn[7],Kr=Vn(At,Wn[5],fr);this.bindingParser.parsePropertyBinding(fr,st,!1,At,ln,o.valueSpan,c,y,Kr),this.parseAssignmentEvent(fr,st,At,o.valueSpan,c,H,Kr)}else if(Wn[6]){const fr=Vn(At,"",Ke);this.bindingParser.parseLiteralAttr(Ke,st,At,ln,o.valueSpan,c,y,fr)}return!0}let pi=null;if(Ke.startsWith(Zu_BANANA_BOX.start)?pi=Zu_BANANA_BOX:Ke.startsWith(Zu_PROPERTY.start)?pi=Zu_PROPERTY:Ke.startsWith(Zu_EVENT.start)&&(pi=Zu_EVENT),null!==pi&&Ke.endsWith(pi.end)&&Ke.length>pi.start.length+pi.end.length){const fr=Ke.substring(pi.start.length,Ke.length-pi.end.length),Kr=Vn(At,pi.start,fr);if(pi.start===Zu_BANANA_BOX.start)this.bindingParser.parsePropertyBinding(fr,st,!1,At,ln,o.valueSpan,c,y,Kr),this.parseAssignmentEvent(fr,st,At,o.valueSpan,c,H,Kr);else if(pi.start===Zu_PROPERTY.start)this.bindingParser.parsePropertyBinding(fr,st,!1,At,ln,o.valueSpan,c,y,Kr);else{const bo=[];this.bindingParser.parseEvent(fr,st,At,o.valueSpan||At,c,bo,Kr),Hh(bo,H)}return!0}const Ar=Vn(At,"",Ke);return this.bindingParser.parsePropertyInterpolation(Ke,st,At,o.valueSpan,c,y,Ar)}_visitTextWithInterpolation(e,o,c){const y=Ou(e),H=this.bindingParser.parseInterpolation(y,o);return H?new ql(H,o,c):new ll(y,o)}parseVariable(e,o,c,y,H,re){e.indexOf("-")>-1?this.reportError('"-" is not allowed in variable names',c):0===e.length&&this.reportError("Variable does not have a name",c),re.push(new ct(e,o,c,y,H))}parseReference(e,o,c,y,H,re){e.indexOf("-")>-1?this.reportError('"-" is not allowed in reference names',c):0===e.length?this.reportError("Reference does not have a name",c):re.some(Ae=>Ae.name===e)&&this.reportError(`Reference "#${e}" is defined more than once`,c),re.push(new pt(e,o,c,y,H))}parseAssignmentEvent(e,o,c,y,H,re,Ae){const Ke=[];this.bindingParser.parseEvent(`${e}Change`,`${o}=$event`,c,y||c,H,Ke,Ae),Hh(Ke,re)}reportError(e,o,c=Ol.ERROR){this.errors.push(new _u(o,e,c))}}const ca=new class{visitElement(e){const o=ag(e);if(o.type===Ba.SCRIPT||o.type===Ba.STYLE||o.type===Ba.STYLESHEET)return null;const c=Os(this,e.children,null);return new se(e.name,Os(this,e.attrs),[],[],c,[],e.sourceSpan,e.startSourceSpan,e.endSourceSpan)}visitComment(e){return null}visitAttribute(e){return new Bl(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}visitText(e){return new ll(e.value,e.sourceSpan)}visitExpansion(e){return null}visitExpansionCase(e){return null}};function Va(d){return/^data-/i.test(d)?d.substring(5):d}function Hh(d,e){e.push(...d.map(o=>z.fromParsedEvent(o)))}var ru;!function(d){d[d.ELEMENT=0]="ELEMENT",d[d.TEMPLATE=1]="TEMPLATE"}(ru||(ru={}));class pg{constructor(e,o,c=0,y=null,H,re){this.index=e,this.ref=o,this.level=c,this.templateIndex=y,this.meta=H,this.registry=re,this.bindings=new Set,this.placeholders=new Map,this.isEmitted=!1,this._unresolvedCtxCount=0,this._registry=re||{getUniqueId:u(),icus:new Map},this.id=this._registry.getUniqueId()}appendTag(e,o,c,y){if(o.isVoid&&y)return;const H=o.isVoid||!y?o.startName:o.closeName,re={type:e,index:c,ctx:this.id,isVoid:o.isVoid,closed:y};C(this.placeholders,H,re)}get icus(){return this._registry.icus}get isRoot(){return 0===this.level}get isResolved(){return 0===this._unresolvedCtxCount}getSerializedPlaceholders(){const e=new Map;return this.placeholders.forEach((o,c)=>e.set(c,o.map(Uv))),e}appendBinding(e){this.bindings.add(e)}appendIcu(e,o){C(this._registry.icus,e,o)}appendBoundText(e){D(e,this.bindings.size,this.id).forEach((c,y)=>C(this.placeholders,y,...c))}appendTemplate(e,o){this.appendTag(ru.TEMPLATE,e,o,!1),this.appendTag(ru.TEMPLATE,e,o,!0),this._unresolvedCtxCount++}appendElement(e,o,c){this.appendTag(ru.ELEMENT,e,o,c)}appendProjection(e,o){this.appendTag(ru.ELEMENT,e,o,!1),this.appendTag(ru.ELEMENT,e,o,!0)}forkChildContext(e,o,c){return new pg(e,this.ref,this.level+1,o,c,this._registry)}reconcileChildContext(e){["start","close"].forEach(c=>{const y=e.meta[`${c}Name`],re=(this.placeholders.get(y)||[]).find(gg(this.id,e.templateIndex));re&&(re.ctx=e.id)}),e.placeholders.forEach((c,y)=>{const H=this.placeholders.get(y);if(!H)return void this.placeholders.set(y,c);const re=H.findIndex(gg(e.id,e.templateIndex));if(re>=0){const Ae=y.startsWith("CLOSE");if(y.endsWith("NG-TEMPLATE"))H.splice(re+(Ae?0:1),0,...c);else{c[Ae?c.length-1:0].tmpl=H[re],H.splice(re,1,...c)}}else H.push(...c);this.placeholders.set(y,H)}),this._unresolvedCtxCount--}}function Ld(d,e,o,c){return i(`${c?"/":""}${d}${e}`,o)}function Wf(d,{index:e,ctx:o,isVoid:c},y){return c?Ld(d,e,o)+Ld(d,e,o,!0):Ld(d,e,o,y)}function gg(d,e){return o=>"object"==typeof o&&o.type===ru.TEMPLATE&&o.index===e&&o.ctx===d}function Uv(d){const e=(y,H)=>Wf("#",y,H),o=(y,H)=>Wf("*",y,H);switch(d.type){case ru.ELEMENT:return d.closed?e(d,!0)+(d.tmpl?o(d.tmpl,!0):""):d.tmpl?o(d.tmpl)+e(d)+(d.isVoid?o(d.tmpl,!0):""):e(d);case ru.TEMPLATE:return o(d,d.closed);default:return d}}const Uh=new class{visitText(e){return e.value}visitContainer(e){return e.children.map(o=>o.visit(this)).join("")}visitIcu(e){const o=Object.keys(e.cases).map(y=>`${y} {${e.cases[y].visit(this)}}`);return`{${e.expressionPlaceholder}, ${e.type}, ${o.join(" ")}}`}visitTagPlaceholder(e){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map(o=>o.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e){return this.formatPh(e.name)}visitIcuPlaceholder(e,o){return this.formatPh(e.name)}formatPh(e){return`{${J(e,!1)}}`}};function mg(d){return d.visit(Uh)}const zf={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"};class vg{constructor(){this._placeHolderNameCounts={},this._signatureToName={}}getStartTagPlaceholderName(e,o,c){const y=this._hashTag(e,o,c);if(this._signatureToName[y])return this._signatureToName[y];const H=e.toUpperCase(),re=zf[H]||`TAG_${H}`,Ae=this._generateUniqueName(c?re:`START_${re}`);return this._signatureToName[y]=Ae,Ae}getCloseTagPlaceholderName(e){const o=this._hashClosingTag(e);if(this._signatureToName[o])return this._signatureToName[o];const c=e.toUpperCase(),y=zf[c]||`TAG_${c}`,H=this._generateUniqueName(`CLOSE_${y}`);return this._signatureToName[o]=H,H}getPlaceholderName(e,o){const c=e.toUpperCase(),y=`PH: ${c}=${o}`;if(this._signatureToName[y])return this._signatureToName[y];const H=this._generateUniqueName(c);return this._signatureToName[y]=H,H}getUniquePlaceholder(e){return this._generateUniqueName(e.toUpperCase())}_hashTag(e,o,c){return`<${e}`+Object.keys(o).sort().map(Ae=>` ${Ae}=${o[Ae]}`).join("")+(c?"/>":`></${e}>`)}_hashClosingTag(e){return this._hashTag(`/${e}`,{},!1)}_generateUniqueName(e){if(!this._placeHolderNameCounts.hasOwnProperty(e))return this._placeHolderNameCounts[e]=1,e;const c=this._placeHolderNameCounts[e];return this._placeHolderNameCounts[e]=c+1,`${e}_${c}`}}const $v=new Tu(new bf);function Ta(d){const e=new zv($v,d);return(o,c,y,H,re)=>e.toI18nMessage(o,c,y,H,re)}function Wv(d,e){return e}class zv{constructor(e,o){this._expressionParser=e,this._interpolationConfig=o}toI18nMessage(e,o="",c="",y="",H){const re={isIcu:1==e.length&&e[0]instanceof jc,icuDepth:0,placeholderRegistry:new vg,placeholderToContent:{},placeholderToMessage:{},visitNodeFn:H||Wv},Ae=Os(this,e,re);return new Bs(Ae,re.placeholderToContent,re.placeholderToMessage,o,c,y)}visitElement(e,o){var c;const y=Os(this,e.children,o),H={};e.attrs.forEach(At=>{H[At.name]=At.value});const re=S(e.name).isVoid,Ae=o.placeholderRegistry.getStartTagPlaceholderName(e.name,H,re);o.placeholderToContent[Ae]={text:e.startSourceSpan.toString(),sourceSpan:e.startSourceSpan};let Ke="";re||(Ke=o.placeholderRegistry.getCloseTagPlaceholderName(e.name),o.placeholderToContent[Ke]={text:`</${e.name}>`,sourceSpan:null!==(c=e.endSourceSpan)&&void 0!==c?c:e.sourceSpan});const st=new Da(e.name,H,Ae,Ke,y,re,e.sourceSpan,e.startSourceSpan,e.endSourceSpan);return o.visitNodeFn(e,st)}visitAttribute(e,o){const c=void 0===e.valueTokens||1===e.valueTokens.length?new Ao(e.value,e.valueSpan||e.sourceSpan):this._visitTextWithInterpolation(e.valueTokens,e.valueSpan||e.sourceSpan,o,e.i18n);return o.visitNodeFn(e,c)}visitText(e,o){const c=1===e.tokens.length?new Ao(e.value,e.sourceSpan):this._visitTextWithInterpolation(e.tokens,e.sourceSpan,o,e.i18n);return o.visitNodeFn(e,c)}visitComment(e,o){return null}visitExpansion(e,o){o.icuDepth++;const c={},y=new Po(e.switchValue,e.type,c,e.sourceSpan);if(e.cases.forEach(Ae=>{c[Ae.value]=new _o(Ae.expression.map(Ke=>Ke.visit(this,o)),Ae.expSourceSpan)}),o.icuDepth--,o.isIcu||o.icuDepth>0){const Ae=o.placeholderRegistry.getUniquePlaceholder(`VAR_${e.type}`);return y.expressionPlaceholder=Ae,o.placeholderToContent[Ae]={text:e.switchValue,sourceSpan:e.switchValueSourceSpan},o.visitNodeFn(e,y)}const H=o.placeholderRegistry.getPlaceholderName("ICU",e.sourceSpan.toString());o.placeholderToMessage[H]=this.toI18nMessage([e],"","","",void 0);const re=new Uo(y,H,e.sourceSpan);return o.visitNodeFn(e,re)}visitExpansionCase(e,o){throw new Error("Unreachable code")}_visitTextWithInterpolation(e,o,c,y){const H=[];let re=!1;for(const Ae of e)switch(Ae.type){case 8:case 17:re=!0;const Ke=Ae.parts[1],st=Vm(Ke)||"INTERPOLATION",At=c.placeholderRegistry.getPlaceholderName(st,Ke);c.placeholderToContent[At]={text:Ae.parts.join(""),sourceSpan:Ae.sourceSpan},H.push(new ko(Ke,At,Ae.sourceSpan));break;default:if(Ae.parts[0].length>0){const ln=H[H.length-1];ln instanceof Ao?(ln.value+=Ae.parts[0],ln.sourceSpan=new ga(ln.sourceSpan.start,Ae.sourceSpan.end,ln.sourceSpan.fullStart,ln.sourceSpan.details)):H.push(new Ao(Ae.parts[0],Ae.sourceSpan))}}return re?(function(d,e){if(e instanceof Bs&&(function(d){const e=d.nodes;if(1!==e.length||!(e[0]instanceof _o))throw new Error("Unexpected previous i18n message - expected it to consist of only a single `Container` node.")}(e),e=e.nodes[0]),e instanceof _o){!function(d,e){if(d.length!==e.length)throw new Error("The number of i18n message children changed between first and second pass.");if(d.some((o,c)=>e[c].constructor!==o.constructor))throw new Error("The types of the i18n message children changed between first and second pass.")}(e.children,d);for(let o=0;o<d.length;o++)d[o].sourceSpan=e.children[o].sourceSpan}}(H,y),new _o(H,o)):H[0]}}const Cg=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*("|')([\s\S]*?)\1[\s\S]*\)/g;function Vm(d){return d.split(Cg)[2]}class su extends _u{constructor(e,o){super(e,o)}}const Gf=(d,e)=>(d instanceof Id&&(e instanceof Uo&&d.i18n instanceof Bs&&(e.previousMessage=d.i18n),d.i18n=e),e);class wg{constructor(e=cs,o=!1,c=!1){this.interpolationConfig=e,this.keepI18nAttrs=o,this.enableI18nLegacyMessageIdFormat=c,this.hasI18nMeta=!1,this._errors=[],this._createI18nMessage=Ta(this.interpolationConfig)}_generateI18nMessage(e,o="",c){const{meaning:y,description:H,customId:re}=this._parseMetadata(o),Ae=this._createI18nMessage(e,y,H,re,c);return this._setMessageId(Ae,o),this._setLegacyIds(Ae,o),Ae}visitAllWithErrors(e){const o=e.map(c=>c.visit(this,null));return new Xc(o,this._errors)}visitElement(e){let o;if(function(d){return d.attrs.some(e=>Xd(e.name))}(e)){this.hasI18nMeta=!0;const c=[],y={};for(const H of e.attrs)if("i18n"===H.name){const re=e.i18n||H.value;o=this._generateI18nMessage(e.children,re,Gf),0===o.nodes.length&&(o=void 0),e.i18n=o}else if(H.name.startsWith($o)){const re=H.name.slice($o.length);ng(e.name,re)?this._reportError(H,`Translating attribute '${re}' is disallowed for security reasons.`):y[re]=H.value}else c.push(H);if(Object.keys(y).length)for(const H of c){const re=y[H.name];void 0!==re&&H.value&&(H.i18n=this._generateI18nMessage([H],H.i18n||re))}this.keepI18nAttrs||(e.attrs=c)}return Os(this,e.children,o),e}visitExpansion(e,o){let c;const y=e.i18n;if(this.hasI18nMeta=!0,y instanceof Uo){const H=y.name;c=this._generateI18nMessage([e],y);W(c).name=H,null!==o&&(o.placeholderToMessage[H]=c)}else c=this._generateI18nMessage([e],o||y);return e.i18n=c,e}visitText(e){return e}visitAttribute(e){return e}visitComment(e){return e}visitExpansionCase(e){return e}_parseMetadata(e){return"string"==typeof e?function(d=""){let e,o,c;if(d=d.trim()){const y=d.indexOf("@@"),H=d.indexOf("|");let re;[re,e]=y>-1?[d.slice(0,y),d.slice(y+2)]:[d,""],[o,c]=H>-1?[re.slice(0,H),re.slice(H+1)]:["",re]}return{customId:e,meaning:o,description:c}}(e):e instanceof Bs?e:{}}_setMessageId(e,o){e.id||(e.id=o instanceof Bs&&o.id||Xr(e))}_setLegacyIds(e,o){if(this.enableI18nLegacyMessageIdFormat)e.legacyIds=[rr(e),es(e)];else if("string"!=typeof o){const c=o instanceof Bs?o:o instanceof Uo?o.previousMessage:void 0;e.legacyIds=c?c.legacyIds:[]}}_reportError(e,o){this._errors.push(new su(e.sourceSpan,o))}}function zm(d,e,o,c){const y=function(d){return d.nodes.map(e=>e.visit($h,null)).join("")}(e),H=[yt(y)];Object.keys(c).length&&H.push(Ff(c,!0));const re=o.set(bi("goog.getMsg").callFn(H)).toConstDecl(),Ae=function(d){const e=[];return d.description&&e.push({tagName:"desc",text:d.description}),d.meaning&&e.push({tagName:"meaning",text:d.meaning}),0==e.length?null:za(e)}(e);null!==Ae&&re.addLeadingComment(Ae);return[re,new En(d.set(o))]}const $h=new class{formatPh(e){return`{$${J(e)}}`}visitText(e){return e.value}visitContainer(e){return e.children.map(o=>o.visit(this)).join("")}visitIcu(e){return mg(e)}visitTagPlaceholder(e){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map(o=>o.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e){return this.formatPh(e.name)}visitIcuPlaceholder(e,o){return this.formatPh(e.name)}};function jm(d,e,o){const{messageParts:c,placeHolders:y}=function(d){const e=[],o=new Bd(d.placeholderToMessage,e);return d.nodes.forEach(c=>c.visit(o)),function(d){const e=[],o=[];d[0]instanceof si&&e.push(Ml(d[0].sourceSpan.start));for(let c=0;c<d.length;c++){const y=d[c];y instanceof Dr?e.push(y):(o.push(y),d[c-1]instanceof si&&e.push(Ml(d[c-1].sourceSpan.end)))}return d[d.length-1]instanceof si&&e.push(Ml(d[d.length-1].sourceSpan.end)),{messageParts:e,placeHolders:o}}(e)}(e),H=function(d){const e=d.nodes[0],o=d.nodes[d.nodes.length-1];return new ga(e.sourceSpan.fullStart,o.sourceSpan.end,e.sourceSpan.fullStart,e.sourceSpan.details)}(e),re=y.map(st=>o[st.text]),Ae=Ln(e,c,y,re,H),Ke=d.set(Ae);return[new En(Ke)]}class Bd{constructor(e,o){this.placeholderToMessage=e,this.pieces=o}visitText(e){if(this.pieces[this.pieces.length-1]instanceof Dr)this.pieces[this.pieces.length-1].text+=e.value;else{const o=new ga(e.sourceSpan.fullStart,e.sourceSpan.end,e.sourceSpan.fullStart,e.sourceSpan.details);this.pieces.push(new Dr(e.value,o))}}visitContainer(e){e.children.forEach(o=>o.visit(this))}visitIcu(e){this.pieces.push(new Dr(mg(e),e.sourceSpan))}visitTagPlaceholder(e){var o,c;this.pieces.push(this.createPlaceholderPiece(e.startName,null!==(o=e.startSourceSpan)&&void 0!==o?o:e.sourceSpan)),e.isVoid||(e.children.forEach(y=>y.visit(this)),this.pieces.push(this.createPlaceholderPiece(e.closeName,null!==(c=e.endSourceSpan)&&void 0!==c?c:e.sourceSpan)))}visitPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.name,e.sourceSpan))}visitIcuPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.name,e.sourceSpan,this.placeholderToMessage[e.name]))}createPlaceholderPiece(e,o,c){return new si(J(e,!1),o,c)}}function Ml(d){return new Dr("",new ga(d,d))}const Ju=new Set(["$event"]),Jc=new Map([["window",it.resolveWindow],["document",it.resolveDocument],["body",it.resolveBody]]),Fl=[" ","\n","\r","\t"];function ou(d,e){return ot(bi(ht).bitwiseAnd(yt(d),null,!1),e)}function Sc(d,e=null,o=null){const{type:c,name:y,target:H,phase:re,handler:Ae}=d;if(H&&!Jc.has(H))throw new Error(`Unexpected global target '${H}' defined for '${y}' event.\n        Supported list of global targets: ${Array.from(Jc.keys())}.`);const st=new Set,At=null===o||0===o.bindingLevel?bi(Ze):o.getOrCreateSharedContextVar(0),ln=hh(o,At,Ae,"b",()=>lt("Unexpected interpolation"),d.handlerSpan,st,Ju),Vn=[];o&&(Vn.push(...o.variableDeclarations()),Vn.unshift(...o.restoreViewStatement())),Vn.push(...ln.render3Stmts);const Wn=1===c?function(d,e){return`@${d}.${e}`}(y,re):y,pi=e&&yu(e),Ar=[];st.has("$event")&&Ar.push(new qr("$event",ji));const Fi=Be(Ar,Vn,Er,null,pi),fr=[yt(Wn),Fi];return H&&fr.push(yt(!1),li(Jc.get(H))),fr}class Pu{constructor(e,o,c=0,y,H,re,Ae,Ke,st,At,ln,Vn,Wn,pi,Ar=function(){return{prepareStatements:[],constExpressions:[],i18nVarRefsCache:new Map}}()){this.constantPool=e,this.level=c,this.contextName=y,this.i18nContext=H,this.templateIndex=re,this.templateName=Ae,this.directiveMatcher=Ke,this.directives=st,this.pipeTypeByName=At,this.pipes=ln,this._namespace=Vn,this.i18nUseExternalIds=pi,this._constants=Ar,this._dataIndex=0,this._bindingContext=0,this._prefixCode=[],this._creationCodeFns=[],this._updateCodeFns=[],this._currentIndex=0,this._tempVariables=[],this._nestedTemplateFns=[],this._unsupported=ni,this.i18n=null,this._pureFunctionSlots=0,this._bindingSlots=0,this._ngContentReservedSlots=[],this._ngContentSelectorsOffset=0,this._implicitReceiverExpr=null,this.visitReference=Jn,this.visitVariable=Jn,this.visitTextAttribute=Jn,this.visitBoundAttribute=Jn,this.visitBoundEvent=Jn,this._bindingScope=o.nestedScope(c),this.fileBasedI18nSuffix=Wn.replace(/[^A-Za-z0-9]/g,"_")+"_",this._valueConverter=new tc(e,()=>this.allocateDataSlot(),Fi=>this.allocatePureFunctionSlots(Fi),(Fi,fr,Kr,bo)=>{const no=At.get(Fi);no&&this.pipes.add(no),this._bindingScope.set(this.level,fr,bo),this.creationInstruction(null,it.pipe,[yt(Kr),yt(Fi)])})}buildTemplateFunction(e,o,c=0,y){this._ngContentSelectorsOffset=c,this._namespace!==it.namespaceHTML&&this.creationInstruction(null,this._namespace),o.forEach(Wn=>this.registerContextVariables(Wn));const H=this.i18nContext||Pc(y)&&!Rc(y)&&!(function(d){return 1===d.length&&d[0]instanceof se}(e)&&e[0].i18n===y),re=Zf(e);if(H&&this.i18nStart(null,y,re),Sr(this,e),this._pureFunctionSlots+=this._bindingSlots,this._valueConverter.updatePipeSlotOffsets(this._bindingSlots),this._nestedTemplateFns.forEach(Wn=>Wn()),0===this.level&&this._ngContentReservedSlots.length){const Wn=[];if(this._ngContentReservedSlots.length>1||"*"!==this._ngContentReservedSlots[0]){const pi=this._ngContentReservedSlots.map(Ar=>"*"!==Ar?Dt(Ar):Ar);Wn.push(this.constantPool.getConstLiteral(Ti(pi),!0))}this.creationInstruction(null,it.projectionDef,Wn,!0)}H&&this.i18nEnd(null,re);const Ae=this._creationCodeFns.map(Wn=>Wn()),Ke=this._updateCodeFns.map(Wn=>Wn()),st=this._bindingScope.viewSnapshotStatements(),At=this._bindingScope.variableDeclarations().concat(this._tempVariables),ln=Ae.length>0?[ou(1,st.concat(Ae))]:[],Vn=Ke.length>0?[ou(2,At.concat(Ke))]:[];return Be([new qr(ht,ki),new qr(Ze,null)],[...this._prefixCode,...ln,...Vn],Er,null,this.templateName)}getLocal(e){return this._bindingScope.get(e)}notifyImplicitReceiverUse(){this._bindingScope.notifyImplicitReceiverUse()}maybeRestoreView(){this._bindingScope.maybeRestoreView()}i18nTranslate(e,o={},c,y){const H=c||this.i18nGenerateMainBlockVar(),Ae=function(d,e,o,c={},y){const H=[le(e),ot(tp(),zm(e,d,o,B(c,!0)),jm(e,d,B(c,!1)))];return y&&H.push(new En(e.set(y(e)))),H}(e,H,this.i18nGenerateClosureVar(e.id),o,y);return this._constants.prepareStatements.push(...Ae),H}registerContextVariables(e){const o=this._bindingScope.freshReferenceName(),c=this.level,y=bi(e.name+o);this._bindingScope.set(c,e.name,y,1,(H,re)=>{let Ae;if(H.bindingLevel===c)H.isListenerScope()&&H.hasRestoreViewVariable()?(Ae=bi(dn),H.notifyRestoredViewContextUse()):Ae=bi(Ze);else{Ae=H.getSharedContextName(c)||Wh(re)}return[y.set(Ae.prop(e.value||"$implicit")).toConstDecl()]})}i18nAppendBindings(e){e.length>0&&e.forEach(o=>this.i18n.appendBinding(o))}i18nBindProps(e){const o={};return Object.keys(e).forEach(c=>{const y=e[c];if(y instanceof ll)o[c]=yt(y.value);else{const H=y.value.visit(this._valueConverter);if(this.allocateBindingSlots(H),H instanceof ma){const{strings:re,expressions:Ae}=H,{id:Ke,bindings:st}=this.i18n,At=function(d,e=0,o=0){if(!d.length)return"";let c="";const y=d.length-1;for(let H=0;H<y;H++)c+=`${d[H]}${i(e+H,o)}`;return c+=d[y],c}(re,st.size,Ke);this.i18nAppendBindings(Ae),o[c]=yt(At)}}}),o}i18nGenerateMainBlockVar(){return bi(this.constantPool.uniqueName("i18n_"))}i18nGenerateClosureVar(e){let o;const c=this.fileBasedI18nSuffix.toUpperCase();if(this.i18nUseExternalIds){const y=ie("EXTERNAL_"),H=this.constantPool.uniqueName(c);o=`${y}${yu(e)}$$${H}`}else{const y=ie(c);o=this.constantPool.uniqueName(y)}return bi(o)}i18nUpdateRef(e){const{icus:o,meta:c,isRoot:y,isResolved:H,isEmitted:re}=e;if(y&&H&&!re&&!Rc(c)){e.isEmitted=!0;const Ae=e.getSerializedPlaceholders();let Ke={},st=Ae.size?g(Ae):{};o.size&&o.forEach((Vn,Wn)=>{if(1===Vn.length)st[Wn]=Vn[0];else{const pi=i(`I18N_EXP_${Wn}`);st[Wn]=yt(pi),Ke[Wn]=Ki(Vn)}});let ln;(Array.from(Ae.values()).some(Vn=>Vn.length>1)||Object.keys(Ke).length)&&(ln=Vn=>{const Wn=[Vn];return Object.keys(Ke).length&&Wn.push(Ff(Ke,!0)),au(null,it.i18nPostprocess,Wn)}),this.i18nTranslate(c,st,e.ref,ln)}}i18nStart(e=null,o,c){const y=this.allocateDataSlot();this.i18n=this.i18nContext?this.i18nContext.forkChildContext(y,this.templateIndex,o):new pg(y,this.i18nGenerateMainBlockVar(),0,this.templateIndex,o);const{id:H,ref:re}=this.i18n,Ae=[yt(y),this.addToConsts(re)];H>0&&Ae.push(yt(H)),this.creationInstruction(e,c?it.i18n:it.i18nStart,Ae)}i18nEnd(e=null,o){if(!this.i18n)throw new Error("i18nEnd is executed with no i18n context present");this.i18nContext?(this.i18nContext.reconcileChildContext(this.i18n),this.i18nUpdateRef(this.i18nContext)):this.i18nUpdateRef(this.i18n);const{index:c,bindings:y}=this.i18n;if(y.size){const H=[];y.forEach(re=>{H.push({sourceSpan:e,value:()=>this.convertPropertyBinding(re)})}),this.updateInstructionChainWithAdvance(this.getConstCount()-1,it.i18nExp,H),this.updateInstruction(e,it.i18nApply,[yt(c)])}o||this.creationInstruction(e,it.i18nEnd),this.i18n=null}i18nAttributesInstruction(e,o,c){let y=!1;const H=[],re=[];if(o.forEach(Ae=>{const Ke=Ae.i18n,st=Ae.value.visit(this._valueConverter);if(this.allocateBindingSlots(st),st instanceof ma){const ln=g(D(Ke));H.push(yt(Ae.name),this.i18nTranslate(Ke,ln)),st.expressions.forEach(Vn=>{y=!0,re.push({sourceSpan:c,value:()=>this.convertPropertyBinding(Vn)})})}}),re.length>0&&this.updateInstructionChainWithAdvance(e,it.i18nExp,re),H.length>0){const Ae=yt(this.allocateDataSlot()),Ke=this.addToConsts(Ki(H));this.creationInstruction(c,it.i18nAttributes,[Ae,Ke]),y&&this.updateInstruction(c,it.i18nApply,[Ae])}}getNamespaceInstruction(e){switch(e){case"math":return it.namespaceMathML;case"svg":return it.namespaceSVG;default:return it.namespaceHTML}}addNamespaceInstruction(e,o){this._namespace=e,this.creationInstruction(o.startSourceSpan,e)}interpolatedUpdateInstruction(e,o,c,y,H,re){this.updateInstructionWithAdvance(o,y.sourceSpan,e,()=>[yt(c),...this.getUpdateInstructionArguments(H),...re])}visitContent(e){const o=this.allocateDataSlot(),c=this._ngContentSelectorsOffset+this._ngContentReservedSlots.length,y=[yt(o)];this._ngContentReservedSlots.push(e.selector);const H=e.attributes.filter(Ae=>"select"!==Ae.name.toLowerCase()),re=this.getAttributeExpressions(e.name,H,[],[]);re.length>0?y.push(yt(c),Ki(re)):0!==c&&y.push(yt(c)),this.creationInstruction(e.sourceSpan,it.projection,y),this.i18n&&this.i18n.appendProjection(e.i18n,o)}visitElement(e){var o,c;const y=this.allocateDataSlot(),H=new Ef(null);let re=!1;const Ae=Pc(e.i18n)&&!Rc(e.i18n),Ke=[],[st,At]=A(e.name),ln=j(e.name);for(const Ks of e.attributes){const{name:Jo,value:Bo}=Ks;"ngNonBindable"===Jo?re=!0:"style"===Jo?H.registerStyleAttr(Bo):"class"===Jo?H.registerClassAttr(Bo):Ke.push(Ks)}this.matchDirectives(e.name,e);const Vn=[yt(y)];ln||Vn.push(yt(At));const Wn=[],pi=[];e.inputs.forEach(Ks=>{H.registerBoundInput(Ks)||(0===Ks.type&&Ks.i18n?pi.push(Ks):Wn.push(Ks))});const Ar=this.getAttributeExpressions(e.name,Ke,Wn,e.outputs,H,[],pi);Vn.push(this.addAttrsToConsts(Ar));const Fi=this.prepareRefsArray(e.references);Vn.push(this.addToConsts(Fi));const fr=this._namespace,Kr=this.getNamespaceInstruction(st);Kr!==fr&&this.addNamespaceInstruction(Kr,e),this.i18n&&this.i18n.appendElement(e.i18n,y);const bo=!Ae&&this.i18n?!Zf(e.children):e.children.length>0,no=!H.hasBindingsWithPipes&&0===e.outputs.length&&0===pi.length&&!bo,ia=!no&&Zf(e.children);if(no)this.creationInstruction(e.sourceSpan,ln?it.elementContainer:it.element,Wi(Vn));else{if(this.creationInstruction(e.startSourceSpan,ln?it.elementContainerStart:it.elementStart,Wi(Vn)),re&&this.creationInstruction(e.startSourceSpan,it.disableBindings),pi.length>0&&this.i18nAttributesInstruction(y,pi,null!==(o=e.startSourceSpan)&&void 0!==o?o:e.sourceSpan),e.outputs.length>0){const Ks=e.outputs.map(Jo=>({sourceSpan:Jo.sourceSpan,params:this.prepareListenerParameter(e.name,Jo,y)}));this.creationInstructionChain(it.listener,Ks)}Ae&&this.i18nStart(e.startSourceSpan,e.i18n,ia)}const Ll=H.buildUpdateLevelInstructions(this._valueConverter),Zh=Ll.length-1;for(let Ks=0;Ks<=Zh;Ks++){const Jo=Ll[Ks];this._bindingSlots+=this.processStylingUpdateInstruction(y,Jo)}const xo=yt(void 0),rl=[],Lu=[];if(Wn.forEach(Ks=>{const Jo=Ks.type;if(4===Jo){const Bo=Ks.value.visit(this._valueConverter),sl=!(Bo instanceof Za)||!!Bo.value;this.allocateBindingSlots(Bo),rl.push({name:Sn(Ks.name),sourceSpan:Ks.sourceSpan,value:()=>sl?this.convertPropertyBinding(Bo):xo})}else{if(Ks.i18n)return;const Bo=Ks.value.visit(this._valueConverter);if(void 0!==Bo){const sl=[],[Gd,Bu]=A(Ks.name),xv=1===Jo,Wg=Qf(Ks.securityContext,xv);if(Wg&&sl.push(Wg),Gd){const zg=yt(Gd);Wg?sl.push(zg):sl.push(yt(null),zg)}if(this.allocateBindingSlots(Bo),0===Jo)Bo instanceof ma?this.interpolatedUpdateInstruction(Xf(Bo),y,Bu,Ks,Bo,sl):rl.push({name:Bu,sourceSpan:Ks.sourceSpan,value:()=>this.convertPropertyBinding(Bo),params:sl});else if(1===Jo)if(Bo instanceof ma&&Ws(Bo)>1)this.interpolatedUpdateInstruction(function(d){switch(Ws(d)){case 3:return it.attributeInterpolate1;case 5:return it.attributeInterpolate2;case 7:return it.attributeInterpolate3;case 9:return it.attributeInterpolate4;case 11:return it.attributeInterpolate5;case 13:return it.attributeInterpolate6;case 15:return it.attributeInterpolate7;case 17:return it.attributeInterpolate8;default:return it.attributeInterpolateV}}(Bo),y,Bu,Ks,Bo,sl);else{const zg=Bo instanceof ma?Bo.expressions[0]:Bo;Lu.push({name:Bu,sourceSpan:Ks.sourceSpan,value:()=>this.convertPropertyBinding(zg),params:sl})}else this.updateInstructionWithAdvance(y,Ks.sourceSpan,it.classProp,()=>[yt(y),yt(Bu),this.convertPropertyBinding(Bo),...sl])}}}),rl.length>0&&this.updateInstructionChainWithAdvance(y,it.property,rl),Lu.length>0&&this.updateInstructionChainWithAdvance(y,it.attribute,Lu),Sr(this,e.children),!Ae&&this.i18n&&this.i18n.appendElement(e.i18n,y,!0),!no){const Ks=null!==(c=e.endSourceSpan)&&void 0!==c?c:e.sourceSpan;Ae&&this.i18nEnd(Ks,ia),re&&this.creationInstruction(Ks,it.enableBindings),this.creationInstruction(Ks,ln?it.elementContainerEnd:it.elementEnd)}}visitTemplate(e){var o;const c="ng-template",y=this.allocateDataSlot();this.i18n&&this.i18n.appendTemplate(e.i18n,y);const H=e.tagName?A(e.tagName)[1]:e.tagName,re=`${this.contextName}${e.tagName?"_"+yu(e.tagName):""}_${y}`,Ae=`${re}_Template`,Ke=[yt(y),bi(Ae),yt(H)];this.matchDirectives(c,e);const st=this.getAttributeExpressions(c,e.attributes,e.inputs,e.outputs,void 0,e.templateAttrs);if(Ke.push(this.addAttrsToConsts(st)),e.references&&e.references.length){const ln=this.prepareRefsArray(e.references);Ke.push(this.addToConsts(ln)),Ke.push(li(it.templateRefExtractor))}const At=new Pu(this.constantPool,this._bindingScope,this.level+1,re,this.i18n,y,Ae,this.directiveMatcher,this.directives,this.pipeTypeByName,this.pipes,this._namespace,this.fileBasedI18nSuffix,this.i18nUseExternalIds,this._constants);if(this._nestedTemplateFns.push(()=>{const ln=At.buildTemplateFunction(e.children,e.variables,this._ngContentReservedSlots.length+this._ngContentSelectorsOffset,e.i18n);this.constantPool.statements.push(ln.toDeclStmt(Ae)),At._ngContentReservedSlots.length&&this._ngContentReservedSlots.push(...At._ngContentReservedSlots)}),this.creationInstruction(e.sourceSpan,it.templateCreate,()=>(Ke.splice(2,0,yt(At.getConstCount()),yt(At.getVarCount())),Wi(Ke))),this.templatePropertyBindings(y,e.templateAttrs),H===c){const[ln,Vn]=function(d,e){const o=[],c=[];for(const y of d)(e(y)?o:c).push(y);return[o,c]}(e.inputs,ef);if(ln.length>0&&this.i18nAttributesInstruction(y,ln,null!==(o=e.startSourceSpan)&&void 0!==o?o:e.sourceSpan),Vn.length>0&&this.templatePropertyBindings(y,Vn),e.outputs.length>0){const Wn=e.outputs.map(pi=>({sourceSpan:pi.sourceSpan,params:this.prepareListenerParameter("ng_template",pi,y)}));this.creationInstructionChain(it.listener,Wn)}}}visitBoundText(e){if(this.i18n){const y=e.value.visit(this._valueConverter);return this.allocateBindingSlots(y),void(y instanceof ma&&(this.i18n.appendBoundText(e.i18n),this.i18nAppendBindings(y.expressions)))}const o=this.allocateDataSlot();this.creationInstruction(e.sourceSpan,it.text,[yt(o)]);const c=e.value.visit(this._valueConverter);this.allocateBindingSlots(c),c instanceof ma?this.updateInstructionWithAdvance(o,e.sourceSpan,function(d){switch(Ws(d)){case 1:return it.textInterpolate;case 3:return it.textInterpolate1;case 5:return it.textInterpolate2;case 7:return it.textInterpolate3;case 9:return it.textInterpolate4;case 11:return it.textInterpolate5;case 13:return it.textInterpolate6;case 15:return it.textInterpolate7;case 17:return it.textInterpolate8;default:return it.textInterpolateV}}(c),()=>this.getUpdateInstructionArguments(c)):lt("Text nodes should be interpolated and never bound directly.")}visitText(e){this.i18n||this.creationInstruction(e.sourceSpan,it.text,[yt(this.allocateDataSlot()),yt(e.value)])}visitIcu(e){let o=!1;this.i18n||(o=!0,this.i18nStart(null,e.i18n,!0));const c=this.i18n,y=this.i18nBindProps(e.vars),H=this.i18nBindProps(e.placeholders),re=e.i18n,Ae=Ke=>{const At=B(Object.assign(Object.assign({},y),H),!1);return au(null,it.i18nPostprocess,[Ke,Ff(At,!0)])};if(Rc(c.meta))this.i18nTranslate(re,{},c.ref,Ae);else{const Ke=this.i18nTranslate(re,{},void 0,Ae);c.appendIcu(W(re).name,Ke)}return o&&this.i18nEnd(null,!0),null}allocateDataSlot(){return this._dataIndex++}getConstCount(){return this._dataIndex}getVarCount(){return this._pureFunctionSlots}getConsts(){return this._constants}getNgContentSelectors(){return this._ngContentReservedSlots.length?this.constantPool.getConstLiteral(Ti(this._ngContentReservedSlots),!0):null}bindingContext(){return""+this._bindingContext++}templatePropertyBindings(e,o){const c=[];o.forEach(y=>{if(y instanceof me){const H=y.value.visit(this._valueConverter);if(void 0!==H)if(this.allocateBindingSlots(H),H instanceof ma){const re=[];this.interpolatedUpdateInstruction(Xf(H),e,y.name,y,H,re)}else c.push({name:y.name,sourceSpan:y.sourceSpan,value:()=>this.convertPropertyBinding(H)})}}),c.length>0&&this.updateInstructionChainWithAdvance(e,it.property,c)}instructionFn(e,o,c,y,H=!1){e[H?"unshift":"push"](()=>{const re=Array.isArray(y)?y:y();return au(o,c,re).toStmt()})}processStylingUpdateInstruction(e,o){let c=0;if(o){const y=[];o.calls.forEach(H=>{c+=H.allocateBindingSlots,y.push({sourceSpan:H.sourceSpan,value:()=>H.params(re=>H.supportsInterpolation&&re instanceof ma?this.getUpdateInstructionArguments(re):this.convertPropertyBinding(re))})}),this.updateInstructionChainWithAdvance(e,o.reference,y)}return c}creationInstruction(e,o,c,y){this.instructionFn(this._creationCodeFns,e,o,c||[],y)}creationInstructionChain(e,o){const c=o.length?o[0].sourceSpan:null;this._creationCodeFns.push(()=>fo(e,o.map(y=>y.params()),c).toStmt())}updateInstructionWithAdvance(e,o,c,y){this.addAdvanceInstructionIfNecessary(e,o),this.updateInstruction(o,c,y)}updateInstruction(e,o,c){this.instructionFn(this._updateCodeFns,e,o,c||[])}updateInstructionChain(e,o){const c=o.length?o[0].sourceSpan:null;this._updateCodeFns.push(()=>{const y=o.map(H=>{const re=H.value(),Ae=Array.isArray(re)?re:[re];return H.params&&Ae.push(...H.params),H.name&&Ae.unshift(yt(H.name)),Ae});return fo(e,y,c).toStmt()})}updateInstructionChainWithAdvance(e,o,c){this.addAdvanceInstructionIfNecessary(e,c.length?c[0].sourceSpan:null),this.updateInstructionChain(o,c)}addAdvanceInstructionIfNecessary(e,o){if(e!==this._currentIndex){const c=e-this._currentIndex;if(c<1)throw new Error("advance instruction can only go forwards");this.instructionFn(this._updateCodeFns,o,it.advance,[yt(c)]),this._currentIndex=e}}allocatePureFunctionSlots(e){const o=this._pureFunctionSlots;return this._pureFunctionSlots+=e,o}allocateBindingSlots(e){this._bindingSlots+=e instanceof ma?e.expressions.length:1}getImplicitReceiverExpr(){return this._implicitReceiverExpr?this._implicitReceiverExpr:this._implicitReceiverExpr=0===this.level?bi(Ze):this._bindingScope.getOrCreateSharedContextVar(0)}convertPropertyBinding(e){const o=lf(this,this.getImplicitReceiverExpr(),e,this.bindingContext(),Ul.Expression,()=>lt("Unexpected interpolation")),c=o.currValExpr;return this._tempVariables.push(...o.stmts),c}getUpdateInstructionArguments(e){const{args:o,stmts:c}=function(d,e,o,c){const y=new mh(d,e,c,void 0),H=o.visit(y,ao.Expression);y.usesImplicitReceiver&&d.notifyImplicitReceiverUse();const re=wu(y,c);let Ae=H.args.slice(1);if(o instanceof ma){const Ke=o.strings;3===Ae.length&&""===Ke[0]&&""===Ke[1]?Ae=[Ae[1]]:Ae.length>=19&&(Ae=[Ki(Ae)])}return{stmts:re,args:Ae}}(this,this.getImplicitReceiverExpr(),e,this.bindingContext());return this._tempVariables.push(...c),o}matchDirectives(e,o){if(this.directiveMatcher){const c=Yf(e,As(o));this.directiveMatcher.match(c,(y,H)=>{this.directives.add(H)})}}getAttributeExpressions(e,o,c,y,H,re=[],Ae=[]){const Ke=new Set,st=[];let At;for(const Vn of o)if("ngProjectAs"===Vn.name&&(At=Vn),Vn.i18n){const{i18nVarRefsCache:Wn}=this._constants;let pi;Wn.has(Vn.i18n)?pi=Wn.get(Vn.i18n):(pi=this.i18nTranslate(Vn.i18n),Wn.set(Vn.i18n,pi)),st.push(yt(Vn.name),pi)}else st.push(...Ua(Vn.name),Xm(e,Vn));function ln(Vn,Wn){"string"==typeof Vn?Ke.has(Vn)||(st.push(...Ua(Vn)),void 0!==Wn&&st.push(Wn),Ke.add(Vn)):st.push(yt(Vn))}if(At&&st.push(...function(d){const e=Dt(d.value)[0];return[yt(5),Ti(e)]}(At)),H&&H.populateInitialStylingAttrs(st),c.length||y.length){const Vn=st.length;for(let Wn=0;Wn<c.length;Wn++){const pi=c[Wn];4!==pi.type&&1!==pi.type&&ln(pi.name)}for(let Wn=0;Wn<y.length;Wn++){const pi=y[Wn];1!==pi.type&&ln(pi.name)}st.length!==Vn&&st.splice(Vn,0,yt(3))}return re.length&&(st.push(yt(4)),re.forEach(Vn=>ln(Vn.name))),Ae.length&&(st.push(yt(6)),Ae.forEach(Vn=>ln(Vn.name))),st}addToConsts(e){if(qn(e))return de;const o=this._constants.constExpressions;for(let c=0;c<o.length;c++)if(o[c].isEquivalent(e))return yt(c);return yt(o.push(e)-1)}addAttrsToConsts(e){return e.length>0?this.addToConsts(Ki(e)):de}prepareRefsArray(e){if(!e||0===e.length)return de;return Ti(Ag(e.map(c=>{const y=this.allocateDataSlot(),H=this._bindingScope.freshReferenceName(),re=this.level,Ae=bi(H);return this._bindingScope.set(re,c.name,Ae,0,(Ke,st)=>{const At=st>0?[Wh(st).toStmt()]:[],ln=Ae.set(li(it.reference).callFn([yt(y)]));return At.concat(ln.toConstDecl())},!0),[c.name,c.value]})))}prepareListenerParameter(e,o,c){return()=>{const y=o.name,H=1===o.type?cr(y,o.phase):yu(y),re=`${this.templateName}_${e}_${H}_${c}_listener`,Ae=this._bindingScope.nestedScope(this._bindingScope.bindingLevel,Ju);return Sc(o,re,Ae)}}}class tc extends class{visitImplicitReceiver(e,o){return e}visitThisReceiver(e,o){return e}visitInterpolation(e,o){const c=this.visitAll(e.expressions);return c!==e.expressions?new ma(e.span,e.sourceSpan,e.strings,c):e}visitLiteralPrimitive(e,o){return e}visitPropertyRead(e,o){const c=e.receiver.visit(this);return c!==e.receiver?new qu(e.span,e.sourceSpan,e.nameSpan,c,e.name):e}visitPropertyWrite(e,o){const c=e.receiver.visit(this),y=e.value.visit(this);return c!==e.receiver||y!==e.value?new wd(e.span,e.sourceSpan,e.nameSpan,c,e.name,y):e}visitSafePropertyRead(e,o){const c=e.receiver.visit(this);return c!==e.receiver?new oh(e.span,e.sourceSpan,e.nameSpan,c,e.name):e}visitLiteralArray(e,o){const c=this.visitAll(e.expressions);return c!==e.expressions?new lh(e.span,e.sourceSpan,c):e}visitLiteralMap(e,o){const c=this.visitAll(e.values);return c!==e.values?new dc(e.span,e.sourceSpan,e.keys,c):e}visitUnary(e,o){const c=e.expr.visit(this);if(c!==e.expr)switch(e.operator){case"+":return Sa.createPlus(e.span,e.sourceSpan,c);case"-":return Sa.createMinus(e.span,e.sourceSpan,c);default:throw new Error(`Unknown unary operator ${e.operator}`)}return e}visitBinary(e,o){const c=e.left.visit(this),y=e.right.visit(this);return c!==e.left||y!==e.right?new Il(e.span,e.sourceSpan,e.operation,c,y):e}visitPrefixNot(e,o){const c=e.expression.visit(this);return c!==e.expression?new va(e.span,e.sourceSpan,c):e}visitNonNullAssert(e,o){const c=e.expression.visit(this);return c!==e.expression?new Cu(e.span,e.sourceSpan,c):e}visitConditional(e,o){const c=e.condition.visit(this),y=e.trueExp.visit(this),H=e.falseExp.visit(this);return c!==e.condition||y!==e.trueExp||H!==e.falseExp?new Zl(e.span,e.sourceSpan,c,y,H):e}visitPipe(e,o){const c=e.exp.visit(this),y=this.visitAll(e.args);return c!==e.exp||y!==e.args?new ah(e.span,e.sourceSpan,c,e.name,y,e.nameSpan):e}visitKeyedRead(e,o){const c=e.receiver.visit(this),y=e.key.visit(this);return c!==e.receiver||y!==e.key?new Mo(e.span,e.sourceSpan,c,y):e}visitKeyedWrite(e,o){const c=e.receiver.visit(this),y=e.key.visit(this),H=e.value.visit(this);return c!==e.receiver||y!==e.key||H!==e.value?new Tp(e.span,e.sourceSpan,c,y,H):e}visitAll(e){const o=[];let c=!1;for(let y=0;y<e.length;++y){const H=e[y],re=H.visit(this);o[y]=re,c=c||re!==H}return c?o:e}visitChain(e,o){const c=this.visitAll(e.expressions);return c!==e.expressions?new Cd(e.span,e.sourceSpan,c):e}visitCall(e,o){const c=e.receiver.visit(this),y=this.visitAll(e.args);return c!==e.receiver||y!==e.args?new hc(e.span,e.sourceSpan,c,y,e.argumentSpan):e}visitQuote(e,o){return e}visitSafeKeyedRead(e,o){const c=e.receiver.visit(this),y=e.key.visit(this);return c!==e.receiver||y!==e.key?new gl(e.span,e.sourceSpan,c,y):e}}{constructor(e,o,c,y){super(),this.constantPool=e,this.allocateSlot=o,this.allocatePureFunctionSlots=c,this.definePipe=y,this._pipeBindExprs=[]}visitPipe(e,o){const c=this.allocateSlot(),y=`PIPE:${c}`,H=this.allocatePureFunctionSlots(2+e.args.length),re=new qu(e.span,e.sourceSpan,e.nameSpan,new Tr(e.span,e.sourceSpan),y),{identifier:Ae,isVarLength:Ke}=function(d){const e=ed[d.length];return{identifier:e||it.pipeBindV,isVarLength:!e}}(e.args);this.definePipe(e.name,y,c,li(Ae));const st=[e.exp,...e.args],At=Ke?this.visitAll([new lh(e.span,e.sourceSpan,st)]):this.visitAll(st),ln=new hc(e.span,e.sourceSpan,re,[new Za(e.span,e.sourceSpan,c),new Za(e.span,e.sourceSpan,H),...At],null);return this._pipeBindExprs.push(ln),ln}updatePipeSlotOffsets(e){this._pipeBindExprs.forEach(o=>{o.args[1].value+=e})}visitLiteralArray(e,o){return new bu(e.span,e.sourceSpan,this.visitAll(e.expressions),c=>{const y=Ki(c);return qf(this.constantPool,y,this.allocatePureFunctionSlots)})}visitLiteralMap(e,o){return new bu(e.span,e.sourceSpan,this.visitAll(e.values),c=>{const y=Ys(c.map((H,re)=>({key:e.keys[re].key,value:H,quoted:e.keys[re].quoted})));return qf(this.constantPool,y,this.allocatePureFunctionSlots)})}}const ed=[it.pipeBind1,it.pipeBind2,it.pipeBind3,it.pipeBind4];const nd=[it.pureFunction0,it.pureFunction1,it.pureFunction2,it.pureFunction3,it.pureFunction4,it.pureFunction5,it.pureFunction6,it.pureFunction7,it.pureFunction8];function au(d,e,o){return li(e,null,d).callFn(o,d)}function Wh(d){return li(it.nextContext).callFn(d>1?[yt(d)]:[])}function qf(d,e,o){const{literalFactory:c,literalFactoryArguments:y}=d.getLiteralFactory(e),H=o(1+y.length),{identifier:re,isVarLength:Ae}=function(d){const e=nd[d.length];return{identifier:e||it.pureFunctionV,isVarLength:!e}}(y),Ke=[yt(H),c];return Ae?Ke.push(Ki(y)):Ke.push(...y),li(re).callFn(Ke)}function Ua(d){const[e,o]=A(d),c=yt(o);return e?[yt(0),yt(e),c]:[c]}const Ru="$$shared_ctx$$";class Hd{constructor(e=0,o=null,c){if(this.bindingLevel=e,this.parent=o,this.globals=c,this.map=new Map,this.referenceNameIndex=0,this.restoreViewVariable=null,this.usesRestoredViewContext=!1,void 0!==c)for(const y of c)this.set(0,y,bi(y))}static createRootScope(){return new Hd}get(e){let o=this;for(;o;){let c=o.map.get(e);if(null!=c)return o!==this&&(c={retrievalLevel:c.retrievalLevel,lhs:c.lhs,declareLocalCallback:c.declareLocalCallback,declare:!1,priority:c.priority},this.map.set(e,c),this.maybeGenerateSharedContextVar(c),this.maybeRestoreView()),c.declareLocalCallback&&!c.declare&&(c.declare=!0),c.lhs;o=o.parent}return 0===this.bindingLevel?null:this.getComponentProperty(e)}set(e,o,c,y=0,H,re){if(this.map.has(o)){if(re)return this;lt(`The name ${o} is already defined in scope to be ${this.map.get(o)}`)}return this.map.set(o,{retrievalLevel:e,lhs:c,declare:!1,declareLocalCallback:H,priority:y}),this}getLocal(e){return this.get(e)}notifyImplicitReceiverUse(){0!==this.bindingLevel&&(this.map.get(Ru+0).declare=!0)}nestedScope(e,o){const c=new Hd(e,this,o);return e>0&&c.generateSharedContextVar(0),c}getOrCreateSharedContextVar(e){const o=Ru+e;return this.map.has(o)||this.generateSharedContextVar(e),this.map.get(o).lhs}getSharedContextName(e){const o=this.map.get(Ru+e);return o&&o.declare?o.lhs:null}maybeGenerateSharedContextVar(e){if(1===e.priority&&e.retrievalLevel<this.bindingLevel){const o=this.map.get(Ru+e.retrievalLevel);o?o.declare=!0:this.generateSharedContextVar(e.retrievalLevel)}}generateSharedContextVar(e){const o=bi(Ze+this.freshReferenceName());this.map.set(Ru+e,{retrievalLevel:e,lhs:o,declareLocalCallback:(c,y)=>[o.set(Wh(y)).toConstDecl()],declare:!1,priority:2})}getComponentProperty(e){const o=this.map.get(Ru+0);return o.declare=!0,this.maybeRestoreView(),o.lhs.prop(e)}maybeRestoreView(){this.isListenerScope()&&(this.parent.restoreViewVariable||(this.parent.restoreViewVariable=bi(this.parent.freshReferenceName())),this.restoreViewVariable=this.parent.restoreViewVariable)}restoreViewStatement(){const e=[];if(this.restoreViewVariable){const o=au(null,it.restoreView,[this.restoreViewVariable]);e.push(this.usesRestoredViewContext?bi(dn).set(o).toConstDecl():o.toStmt())}return e}viewSnapshotStatements(){return this.restoreViewVariable?[this.restoreViewVariable.set(au(null,it.getCurrentView,[])).toConstDecl()]:[]}isListenerScope(){return this.parent&&this.parent.bindingLevel===this.bindingLevel}variableDeclarations(){let e=0;return Array.from(this.map.values()).filter(o=>o.declare).sort((o,c)=>c.retrievalLevel-o.retrievalLevel||c.priority-o.priority).reduce((o,c)=>{const y=this.bindingLevel-c.retrievalLevel,H=c.declareLocalCallback(this,y-e);return e=y,o.concat(H)},[])}freshReferenceName(){let e=this;for(;e.parent;)e=e.parent;return"_r"+e.referenceNameIndex++}hasRestoreViewVariable(){return!!this.restoreViewVariable}notifyRestoredViewContextUse(){this.usesRestoredViewContext=!0}}function Yf(d,e){const o=new F,c=A(d)[1];return o.setElement(c),Object.getOwnPropertyNames(e).forEach(y=>{const H=A(y)[1],re=e[y];o.addAttribute(H,re),"class"===y.toLowerCase()&&re.trim().split(/\s+/).forEach(Ke=>o.addClassName(Ke))}),o}function Xf(d){switch(Ws(d)){case 1:return it.propertyInterpolate;case 3:return it.propertyInterpolate1;case 5:return it.propertyInterpolate2;case 7:return it.propertyInterpolate3;case 9:return it.propertyInterpolate4;case 11:return it.propertyInterpolate5;case 13:return it.propertyInterpolate6;case 15:return it.propertyInterpolate7;case 17:return it.propertyInterpolate8;default:return it.propertyInterpolateV}}function Gh(d,e,o={}){const{interpolationConfig:c,preserveWhitespaces:y,enableI18nLegacyMessageIdFormat:H}=o,re=Ud(c),Ke=(new Zp).parse(d,e,Object.assign(Object.assign({leadingTriviaChars:Fl},o),{tokenizeExpansionForms:!0}));if(!o.alwaysAttemptHtmlToR3AstConversion&&Ke.errors&&Ke.errors.length>0){const bo={interpolationConfig:c,preserveWhitespaces:y,errors:Ke.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return o.collectCommentNodes&&(bo.commentNodes=[]),bo}let st=Ke.rootNodes;const At=new wg(c,!y,H),ln=At.visitAllWithErrors(st);if(!o.alwaysAttemptHtmlToR3AstConversion&&ln.errors&&ln.errors.length>0){const bo={interpolationConfig:c,preserveWhitespaces:y,errors:ln.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return o.collectCommentNodes&&(bo.commentNodes=[]),bo}st=ln.rootNodes,y||(st=Os(new Rf,st),At.hasI18nMeta&&(st=Os(new wg(c,!1),st)));const{nodes:Vn,errors:Wn,styleUrls:pi,styles:Ar,ngContentSelectors:Fi,commentNodes:fr}=function(d,e,o){const c=new $f(e,o),re={nodes:Os(c,d),errors:e.errors.concat(c.errors),styleUrls:c.styleUrls,styles:c.styles,ngContentSelectors:c.ngContentSelectors};return o.collectCommentNodes&&(re.commentNodes=c.commentNodes),re}(st,re,{collectCommentNodes:!!o.collectCommentNodes});Wn.push(...Ke.errors,...ln.errors);const Kr={interpolationConfig:c,preserveWhitespaces:y,errors:Wn.length>0?Wn:null,nodes:Vn,styleUrls:pi,styles:Ar,ngContentSelectors:Fi};return o.collectCommentNodes&&(Kr.commentNodes=fr),Kr}const Sg=new Fd;function Ud(d=cs){return new rg(new Sf(new bf),d,Sg,[])}function Qf(d,e){switch(d){case an.HTML:return li(it.sanitizeHtml);case an.SCRIPT:return li(it.sanitizeScript);case an.STYLE:return e?li(it.sanitizeStyle):null;case an.URL:return li(it.sanitizeUrl);case an.RESOURCE_URL:return li(it.sanitizeResourceUrl);default:return null}}function Xm(d,e){const o=Ti(e.value);if(!ng(d,e.name))return o;switch(Sg.securityContext(d,e.name,!0)){case an.HTML:return Gt(li(it.trustConstantHtml),new ui([new Oi(e.value)],[]),void 0,e.valueSpan);case an.RESOURCE_URL:return Gt(li(it.trustConstantResourceUrl),new ui([new Oi(e.value)],[]),void 0,e.valueSpan);default:return o}}function Dg(d){return d instanceof ll||d instanceof ql||d instanceof un}function Zf(d){return d.every(Dg)}const Jf="ngI18nClosureMode";function tp(){return ol(bi(Jf)).notIdentical(yt("undefined",Rr)).and(bi(Jf))}function Ag(d){return d.reduce((e,o)=>{const c=Array.isArray(o)?Ag(o):o;return e.concat(c)},[])}const Qm=/attr\.([^\]]+)/;function xg(d,e,o){const c=new Ci,y=Dt(d.selector);return c.set("type",d.internalType),y.length>0&&c.set("selectors",Ti(y)),d.queries.length>0&&c.set("contentQueries",function(d,e,o){const c=[],y=[],H=yi(y,"_t");for(const Ae of d){c.push(li(it.contentQuery).callFn([bi("dirIndex"),...Pg(Ae,e)]).toStmt());const Ke=H(),st=li(it.loadQuery).callFn([]),At=li(it.queryRefresh).callFn([Ke.set(st)]),ln=bi(Ze).prop(Ae.propertyName).set(Ae.first?Ke.prop("first"):Ke);y.push(At.and(ln).toStmt())}const re=o?`${o}_ContentQueries`:null;return Be([new qr(ht,ki),new qr(Ze,null),new qr("dirIndex",null)],[ou(1,c),ou(2,y)],Er,null,re)}(d.queries,e,d.name)),d.viewQueries.length&&c.set("viewQuery",function(d,e,o){const c=[],y=[],H=yi(y,Ne);d.forEach(Ae=>{const Ke=li(it.viewQuery).callFn(Pg(Ae,e));c.push(Ke.toStmt());const st=H(),At=li(it.loadQuery).callFn([]),ln=li(it.queryRefresh).callFn([st.set(At)]),Vn=bi(Ze).prop(Ae.propertyName).set(Ae.first?st.prop("first"):st);y.push(ln.and(Vn).toStmt())});const re=o?`${o}_Query`:null;return Be([new qr(ht,ki),new qr(Ze,null)],[ou(1,c),ou(2,y)],Er,null,re)}(d.viewQueries,e,d.name)),c.set("hostBindings",function(d,e,o,c,y,H,re){const Ae=bi(Ze),Ke=new Ef(Ae),{styleAttr:st,classAttr:At}=d.specialAttributes;void 0!==st&&Ke.registerStyleAttr(st),void 0!==At&&Ke.registerClassAttr(At);const ln=[],Vn=[],Wn=e,pi=o.createDirectiveHostEventAsts(d.listeners,Wn);if(pi&&pi.length){const xo=function(d,e){const o=[],c=[],y=[];return d.forEach(H=>{let re=H.name&&yu(H.name);const Ae=1===H.type?cr(re,H.targetOrPhase):re,Ke=e&&re?`${e}_${Ae}_HostBindingHandler`:null,st=Sc(z.fromParsedEvent(H),Ke);1==H.type?c.push(st):o.push(st)}),c.length>0&&y.push(fo(it.syntheticHostListener,c).toStmt()),o.length>0&&y.push(fo(it.listener,o).toStmt()),y}(pi,H);ln.push(...xo)}const Ar=o.createBoundHostProperties(d.properties,Wn),Fi=[];let Kr,fr=0;Ar&&Ar.forEach(xo=>{Ke.registerInputBasedOnName(xo.name,xo.expression,Wn)?fr+=2:(Fi.push(xo),fr++)});const bo=()=>{if(!Kr){Kr=new tc(c,()=>lt("Unexpected node"),rl=>{const Lu=fr;return fr+=rl,Lu},()=>lt("Unexpected pipe"))}return Kr},no=[],ia=[],Ll=[];Fi.forEach(xo=>{const rl=xo.expression.visit(bo()),Lu=E(Ae,rl),{bindingName:Ks,instruction:Jo,isAttribute:Bo}=function(d){let o,e=d.name;const c=e.match(Qm);return c?(e=c[1],o=it.attribute):d.isAnimation?(e=Sn(e),o=it.syntheticHostProperty):o=it.hostProperty,{bindingName:e,instruction:o,isAttribute:!!c}}(xo),sl=o.calcPossibleSecurityContexts(y,Ks,Bo).filter(xv=>xv!==an.NONE);let Gd=null;sl.length&&(Gd=2===sl.length&&sl.indexOf(an.URL)>-1&&sl.indexOf(an.RESOURCE_URL)>-1?li(it.sanitizeUrlOrResourceUrl):Qf(sl[0],Bo));const Bu=[yt(Ks),Lu.currValExpr];Gd&&Bu.push(Gd),Vn.push(...Lu.stmts),Jo===it.hostProperty?no.push(Bu):Jo===it.attribute?ia.push(Bu):Jo===it.syntheticHostProperty?Ll.push(Bu):Vn.push(li(Jo).callFn(Bu).toStmt())}),no.length>0&&Vn.push(fo(it.hostProperty,no).toStmt()),ia.length>0&&Vn.push(fo(it.attribute,ia).toStmt()),Ll.length>0&&Vn.push(fo(it.syntheticHostProperty,Ll).toStmt());const Zh=function(d){const e=[];for(let o of Object.getOwnPropertyNames(d)){const c=d[o];e.push(yt(o),c)}return e}(d.attributes);if(Ke.assignHostAttrs(Zh,re),Ke.hasBindings&&Ke.buildUpdateLevelInstructions(bo()).forEach(xo=>{if(xo.calls.length>0){const rl=[];xo.calls.forEach(Lu=>{fr+=Math.max(Lu.allocateBindingSlots-2,0),rl.push(function(d,e,o){return d.params(c=>o(e,c).currValExpr)}(Lu,Ae,E))}),Vn.push(fo(xo.reference,rl).toStmt())}}),fr&&re.set("hostVars",yt(fr)),ln.length>0||Vn.length>0){const xo=H?`${H}_HostBindings`:null,rl=[];return ln.length>0&&rl.push(ou(1,ln)),Vn.length>0&&rl.push(ou(2,Vn)),Be([new qr(ht,ki),new qr(Ze,null)],rl,Er,null,xo)}return null}(d.host,d.typeSourceSpan,o,e,d.selector||"",d.name,c)),c.set("inputs",ri(d.inputs,!0)),c.set("outputs",ri(d.outputs)),null!==d.exportAs&&c.set("exportAs",Ki(d.exportAs.map(H=>yt(H)))),c}function Og(d,e){const o=[],c=e.providers,y=e.viewProviders;if(c||y){const H=[c||new R([])];y&&H.push(y),o.push(li(it.ProvidersFeature).callFn(H))}e.usesInheritance&&o.push(li(it.InheritDefinitionFeature)),e.fullInheritance&&o.push(li(it.CopyDefinitionFeature)),e.lifecycle.usesOnChanges&&o.push(li(it.NgOnChangesFeature)),o.length&&d.set("features",Ki(o))}function ev(d,e,o){const c=xg(d,e,o);Og(c,d);const y=d.selector&&F.parse(d.selector),H=y&&y[0];if(H){const no=H.getAttrs();no.length&&c.set("attrs",e.getConstLiteral(Ki(no.map(ia=>yt(null!=ia?ia:void 0))),!0))}let re=null;if(d.directives.length>0){const no=new U;for(const{selector:ia,type:Ll}of d.directives)no.addSelectables(F.parse(ia),Ll);re=no}const Ae=d.name,Ke=Ae?`${Ae}_Template`:null,st=new Set,At=new Set,ln=d.changeDetection,Vn=d.template,Wn=new Pu(e,Hd.createRootScope(),0,Ae,null,null,Ke,re,st,d.pipes,At,it.namespaceHTML,d.relativeContextFilePath,d.i18nUseExternalIds),pi=Wn.buildTemplateFunction(Vn.nodes,[]),Ar=Wn.getNgContentSelectors();Ar&&c.set("ngContentSelectors",Ar),c.set("decls",yt(Wn.getConstCount())),c.set("vars",yt(Wn.getVarCount()));const{constExpressions:Fi,prepareStatements:fr}=Wn.getConsts();if(Fi.length>0){let no=Ki(Fi);fr.length>0&&(no=Be([],[...fr,new vi(no)])),c.set("consts",no)}if(c.set("template",pi),st.size){const ia=Ig(Ki(Array.from(st)),d.declarationListEmitMode);c.set("directives",ia)}if(At.size){const ia=Ig(Ki(Array.from(At)),d.declarationListEmitMode);c.set("pipes",ia)}if(null===d.encapsulation&&(d.encapsulation=Le.Emulated),d.styles&&d.styles.length){const ia=(d.encapsulation==Le.Emulated?function(d,e,o){const c=new Pp;return d.map(y=>c.shimCssText(y,e,o))}(d.styles,"_ngcontent-%COMP%","_nghost-%COMP%"):d.styles).map(Ll=>e.getConstLiteral(yt(Ll)));c.set("styles",Ki(ia))}else d.encapsulation===Le.Emulated&&(d.encapsulation=Le.None);d.encapsulation!==Le.Emulated&&c.set("encapsulation",yt(d.encapsulation)),null!==d.animations&&c.set("data",Ys([{key:"animation",value:d.animations,quoted:!1}])),null!=ln&&ln!==ne.Default&&c.set("changeDetection",yt(ln));return{expression:li(it.defineComponent).callFn([c.toLiteralMap()],void 0,!0),type:ip(d),statements:[]}}function ip(d){const e=Mg(d);return e.push(id(d.template.ngContentSelectors)),qs(li(it.ComponentDeclaration,e))}function Ig(d,e){switch(e){case 0:return d;case 1:return Be([],[new vi(d)]);case 2:const o=d.prop("map").callFn([li(it.resolveForwardRef)]);return Be([],[new vi(o)])}}function Pg(d,e){const o=[vr(d,e),yt(ic(d))];return d.read&&o.push(d.read),o}function ic(d){return(d.descendants?1:0)|(d.static?2:0)|(d.emitDistinctChangesOnly?4:0)}function nv(d){return qs(yt(d))}function rp(d){return qs(Ys(Object.keys(d).map(o=>({key:o,value:yt(Array.isArray(d[o])?d[o][0]:d[o]),quoted:!0}))))}function id(d){return d.length>0?qs(Ki(d.map(e=>yt(e)))):Et}function Mg(d){const e=null!==d.selector?d.selector.replace(/\n/g,""):null;return[rn(d.type.type,d.typeArgumentCount),null!==e?nv(e):Et,null!==d.exportAs?id(d.exportAs):Et,rp(d.inputs),rp(d.outputs),id(d.queries.map(o=>o.propertyName))]}function sp(d){const e=Mg(d);return qs(li(it.DirectiveDeclaration,e))}function E(d,e){return lf(null,d,e,"b",Ul.Expression,()=>lt("Unexpected interpolation"))}const gt=/^(?:\[([^\]]+)\])|(?:\(([^\)]+)\))$/;class zn{}class Kn{constructor(e=new sf){this.jitEvaluator=e,this.FactoryTarget=ho,this.ResourceLoader=zn,this.elementSchemaRegistry=new Fd}compilePipe(e,o,c){const H=Lc({name:c.name,type:mr(c.type),internalType:new Mi(c.type),typeArgumentCount:0,deps:null,pipeName:c.pipeName,pure:c.pure});return this.jitExpression(H.expression,e,o,[])}compilePipeDeclaration(e,o,c){const y=function(d){var e;return{name:d.type.name,type:mr(d.type),internalType:new Mi(d.type),typeArgumentCount:0,pipeName:d.name,deps:null,pure:null===(e=d.pure)||void 0===e||e}}(c),H=Lc(y);return this.jitExpression(H.expression,e,o,[])}compileInjectable(e,o,c){var y;const{expression:H,statements:re}=wa({name:c.name,type:mr(c.type),internalType:new Mi(c.type),typeArgumentCount:c.typeArgumentCount,providedIn:rv(c.providedIn),useClass:$d(c,ei),useFactory:Fg(c,Ni),useValue:$d(c,ir),useExisting:$d(c,Nr),deps:null===(y=c.deps)||void 0===y?void 0:y.map(kg)},!0);return this.jitExpression(H,e,o,re)}compileInjectableDeclaration(e,o,c){var y;const{expression:H,statements:re}=wa({name:c.type.name,type:mr(c.type),internalType:new Mi(c.type),typeArgumentCount:0,providedIn:rv(c.providedIn),useClass:$d(c,ei),useFactory:Fg(c,Ni),useValue:$d(c,ir),useExisting:$d(c,Nr),deps:null===(y=c.deps)||void 0===y?void 0:y.map(sv)},!0);return this.jitExpression(H,e,o,re)}compileInjector(e,o,c){const H=ih({name:c.name,type:mr(c.type),internalType:new Mi(c.type),providers:new Mi(c.providers),imports:c.imports.map(re=>new Mi(re))});return this.jitExpression(H.expression,e,o,[])}compileInjectorDeclaration(e,o,c){const y=function(d){return{name:d.type.name,type:mr(d.type),internalType:new Mi(d.type),providers:void 0!==d.providers?new Mi(d.providers):null,imports:void 0!==d.imports?d.imports.map(e=>new Mi(e)):[]}}(c),H=ih(y);return this.jitExpression(H.expression,e,o,[])}compileNgModule(e,o,c){const H=Eu({type:mr(c.type),internalType:new Mi(c.type),adjacentType:new Mi(c.type),bootstrap:c.bootstrap.map(mr),declarations:c.declarations.map(mr),imports:c.imports.map(mr),exports:c.exports.map(mr),emitInline:!0,containsForwardDecls:!1,schemas:c.schemas?c.schemas.map(mr):null,id:c.id?new Mi(c.id):null});return this.jitExpression(H.expression,e,o,[])}compileNgModuleDeclaration(e,o,c){const y=function(d){const e=new Ci;return e.set("type",new Mi(d.type)),void 0!==d.bootstrap&&e.set("bootstrap",new Mi(d.bootstrap)),void 0!==d.declarations&&e.set("declarations",new Mi(d.declarations)),void 0!==d.imports&&e.set("imports",new Mi(d.imports)),void 0!==d.exports&&e.set("exports",new Mi(d.exports)),void 0!==d.schemas&&e.set("schemas",new Mi(d.schemas)),void 0!==d.id&&e.set("id",new Mi(d.id)),li(it.defineNgModule).callFn([e.toLiteralMap()])}(c);return this.jitExpression(y,e,o,[])}compileDirective(e,o,c){const y=Ms(c);return this.compileDirectiveFromMeta(e,o,y)}compileDirectiveDeclaration(e,o,c){const H=$a(c,this.createParseSourceSpan("Directive",c.type.name,o));return this.compileDirectiveFromMeta(e,o,H)}compileDirectiveFromMeta(e,o,c){const y=new Yr,re=function(d,e,o){const c=xg(d,e,o);return Og(c,d),{expression:li(it.defineDirective).callFn([c.toLiteralMap()],void 0,!0),type:sp(d),statements:[]}}(c,y,Ud());return this.jitExpression(re.expression,e,o,y.statements)}compileComponent(e,o,c){const{template:y,interpolation:H}=Kh(c.template,c.name,o,c.preserveWhitespaces,c.interpolation),re=Object.assign(Object.assign(Object.assign({},c),Ms(c)),{selector:c.selector||this.elementSchemaRegistry.getDefaultComponentElementName(),template:y,declarationListEmitMode:0,styles:[...c.styles,...y.styles],encapsulation:c.encapsulation,interpolation:H,changeDetection:c.changeDetection,animations:null!=c.animations?new Mi(c.animations):null,viewProviders:null!=c.viewProviders?new Mi(c.viewProviders):null,relativeContextFilePath:"",i18nUseExternalIds:!0}),Ae=`ng:///${c.name}.js`;return this.compileComponentFromMeta(e,Ae,re)}compileComponentDeclaration(e,o,c){const H=function(d,e,o){var c,y,H,re,Ae,Ke;const{template:st,interpolation:At}=Kh(d.template,d.type.name,o,null!==(c=d.preserveWhitespaces)&&void 0!==c&&c,d.interpolation);return Object.assign(Object.assign({},$a(d,e)),{template:st,styles:null!==(y=d.styles)&&void 0!==y?y:[],directives:(null!==(H=d.components)&&void 0!==H?H:[]).concat(null!==(re=d.directives)&&void 0!==re?re:[]).map(_l),pipes:Gl(d.pipes),viewProviders:void 0!==d.viewProviders?new Mi(d.viewProviders):null,animations:void 0!==d.animations?new Mi(d.animations):null,changeDetection:null!==(Ae=d.changeDetection)&&void 0!==Ae?Ae:ne.Default,encapsulation:null!==(Ke=d.encapsulation)&&void 0!==Ke?Ke:Le.Emulated,interpolation:At,declarationListEmitMode:2,relativeContextFilePath:"",i18nUseExternalIds:!0})}(c,this.createParseSourceSpan("Component",c.type.name,o),o);return this.compileComponentFromMeta(e,o,H)}compileComponentFromMeta(e,o,c){const y=new Yr,re=ev(c,y,Ud(c.interpolation));return this.jitExpression(re.expression,e,o,y.statements)}compileFactory(e,o,c){const y=vo({name:c.name,type:mr(c.type),internalType:new Mi(c.type),typeArgumentCount:c.typeArgumentCount,deps:Gv(c.deps),target:c.target});return this.jitExpression(y.expression,e,o,y.statements)}compileFactoryDeclaration(e,o,c){const y=vo({name:c.type.name,type:mr(c.type),internalType:new Mi(c.type),typeArgumentCount:0,deps:Array.isArray(c.deps)?c.deps.map(sv):c.deps,target:c.target});return this.jitExpression(y.expression,e,o,y.statements)}createParseSourceSpan(e,o,c){return function(d,e,o){const y=new nf("",`in ${d} ${e} in ${o}`);return new ga(new Ra(y,-1,-1,-1),new Ra(y,-1,-1,-1))}(e,o,c)}jitExpression(e,o,c,y){const H=[...y,new et("$def",e,void 0,[P.Exported])];return this.jitEvaluator.evaluateStatements(c,H,new bp(o),!0).$def}}const ei=Object.keys({useClass:null})[0],Ni=Object.keys({useFactory:null})[0],ir=Object.keys({useValue:null})[0],Nr=Object.keys({useExisting:null})[0];function fs(d){return Object.assign(Object.assign({},d),{predicate:Rs(d.predicate),read:d.read?new Mi(d.read):null,static:d.static,emitDistinctChangesOnly:d.emitDistinctChangesOnly})}function Fr(d){var e,o,c,y;return{propertyName:d.propertyName,first:null!==(e=d.first)&&void 0!==e&&e,predicate:Rs(d.predicate),descendants:null!==(o=d.descendants)&&void 0!==o&&o,read:d.read?new Mi(d.read):null,static:null!==(c=d.static)&&void 0!==c&&c,emitDistinctChangesOnly:null===(y=d.emitDistinctChangesOnly)||void 0===y||y}}function Rs(d){return Array.isArray(d)?d:vs(new Mi(d),1)}function Ms(d){const e=av(d.inputs||[]),o=av(d.outputs||[]),c=d.propMetadata,y={},H={};for(const re in c)c.hasOwnProperty(re)&&c[re].forEach(Ae=>{Yv(Ae)?y[re]=Ae.bindingPropertyName?[Ae.bindingPropertyName,re]:re:N_(Ae)&&(H[re]=Ae.bindingPropertyName||re)});return Object.assign(Object.assign({},d),{typeArgumentCount:0,typeSourceSpan:d.typeSourceSpan,type:mr(d.type),internalType:new Mi(d.type),deps:null,host:Kv(d.propMetadata,d.typeSourceSpan,d.host),inputs:Object.assign(Object.assign({},e),y),outputs:Object.assign(Object.assign({},o),H),queries:d.queries.map(fs),providers:null!=d.providers?new Mi(d.providers):null,viewQueries:d.viewQueries.map(fs),fullInheritance:!1})}function $a(d,e){var o,c,y,H,re,Ae,Ke,st;return{name:d.type.name,type:mr(d.type),typeSourceSpan:e,internalType:new Mi(d.type),selector:null!==(o=d.selector)&&void 0!==o?o:null,inputs:null!==(c=d.inputs)&&void 0!==c?c:{},outputs:null!==(y=d.outputs)&&void 0!==y?y:{},host:Wa(d.host),queries:(null!==(H=d.queries)&&void 0!==H?H:[]).map(Fr),viewQueries:(null!==(re=d.viewQueries)&&void 0!==re?re:[]).map(Fr),providers:void 0!==d.providers?new Mi(d.providers):null,exportAs:null!==(Ae=d.exportAs)&&void 0!==Ae?Ae:null,usesInheritance:null!==(Ke=d.usesInheritance)&&void 0!==Ke&&Ke,lifecycle:{usesOnChanges:null!==(st=d.usesOnChanges)&&void 0!==st&&st},deps:null,typeArgumentCount:0,fullInheritance:!1}}function Wa(d={}){var e,o,c;return{attributes:kl(null!==(e=d.attributes)&&void 0!==e?e:{}),listeners:null!==(o=d.listeners)&&void 0!==o?o:{},properties:null!==(c=d.properties)&&void 0!==c?c:{},specialAttributes:{classAttr:d.classAttribute,styleAttr:d.styleAttribute}}}function kl(d){const e={};for(const o of Object.keys(d))e[o]=new Mi(d[o]);return e}function _l(d){var e,o,c;return{selector:d.selector,type:new Mi(d.type),inputs:null!==(e=d.inputs)&&void 0!==e?e:[],outputs:null!==(o=d.outputs)&&void 0!==o?o:[],exportAs:null!==(c=d.exportAs)&&void 0!==c?c:null}}function Gl(d){const e=new Map;if(void 0===d)return e;for(const o of Object.keys(d)){const c=d[o];e.set(o,new Mi(c))}return e}function Kh(d,e,o,c,y){const H=y?Ro.fromArray(y):cs,re=Gh(d,o,{preserveWhitespaces:c,interpolationConfig:H});if(null!==re.errors){const Ae=re.errors.map(Ke=>Ke.toString()).join(", ");throw new Error(`Errors during JIT compilation of template for ${e}: ${Ae}`)}return{template:re,interpolation:H}}function $d(d,e){if(d.hasOwnProperty(e))return vs(new Mi(d[e]),0)}function Fg(d,e){if(d.hasOwnProperty(e))return new Mi(d[e])}function rv(d){return vs("function"==typeof d?new Mi(d):new yn(null!=d?d:null),0)}function Gv(d){return null==d?null:d.map(kg)}function kg(d){const e=null!=d.attribute,o=null===d.token?null:new Mi(d.token);return jv(e?new Mi(d.attribute):o,e,d.host,d.optional,d.self,d.skipSelf)}function sv(d){var e,o,c,y,H;const re=null!==(e=d.attribute)&&void 0!==e&&e;return jv(null===d.token?null:new Mi(d.token),re,null!==(o=d.host)&&void 0!==o&&o,null!==(c=d.optional)&&void 0!==c&&c,null!==(y=d.self)&&void 0!==y&&y,null!==(H=d.skipSelf)&&void 0!==H&&H)}function jv(d,e,o,c,y,H){return{token:d,attributeNameType:e?yt("unknown"):null,host:o,optional:c,self:y,skipSelf:H}}function Kv(d,e,o){const c=function(d){const e={},o={},c={},y={};for(const H of Object.keys(d)){const re=d[H],Ae=H.match(gt);if(null===Ae)switch(H){case"class":if("string"!=typeof re)throw new Error("Class binding must be string");y.classAttr=re;break;case"style":if("string"!=typeof re)throw new Error("Style binding must be string");y.styleAttr=re;break;default:e[H]="string"==typeof re?yt(re):re}else if(null!=Ae[1]){if("string"!=typeof re)throw new Error("Property binding must be string");c[Ae[1]]=re}else if(null!=Ae[2]){if("string"!=typeof re)throw new Error("Event binding must be string");o[Ae[2]]=re}}return{attributes:e,listeners:o,properties:c,specialAttributes:y}}(o||{}),y=function(d,e){const o=Ud();return o.createDirectiveHostEventAsts(d.listeners,e),o.createBoundHostProperties(d.properties,e),o.errors}(c,e);if(y.length)throw new Error(y.map(H=>H.msg).join("\n"));for(const H in d)d.hasOwnProperty(H)&&d[H].forEach(re=>{qv(re)?c.properties[re.hostPropertyName||H]=Pi("this",H):ov(re)&&(c.listeners[re.eventName||H]=`${H}(${(re.args||[]).join(",")})`)});return c}function qv(d){return"HostBinding"===d.ngMetadataName}function ov(d){return"HostListener"===d.ngMetadataName}function Yv(d){return"Input"===d.ngMetadataName}function N_(d){return"Output"===d.ngMetadataName}function av(d){return d.reduce((e,o)=>{const[c,y]=o.split(",").map(H=>H.trim());return e[c]=y||c,e},{})}new class{constructor(e){this.full=e;const o=e.split(".");this.major=o[0],this.minor=o[1],this.patch=o.slice(2).join(".")}}("13.1.0");class uv{constructor({defaultEncapsulation:e=Le.Emulated,useJit:o=!0,jitDevMode:c=!1,missingTranslation:y=null,preserveWhitespaces:H,strictInjectionParameters:re}={}){this.defaultEncapsulation=e,this.useJit=!!o,this.jitDevMode=!!c,this.missingTranslation=y,this.preserveWhitespaces=function(d,e=!1){return null===d?e:d}(function(d){return void 0===d?null:d}(H)),this.strictInjectionParameters=!0===re}}var Mu;!function(d){d[d.Extract=0]="Extract",d[d.Merge=1]="Merge"}(Mu||(Mu={}));new class{constructor(){this.closedByParent=!1,this.isVoid=!1,this.ignoreFirstLf=!1,this.canSelfClose=!0,this.preventNamespaceInheritance=!1}requireExtraParent(e){return!1}isClosedByChild(e){return!1}getContentType(){return l.PARSABLE_DATA}};var y_;!function(d){d[d.Directive=0]="Directive",d[d.Component=1]="Component",d[d.Injectable=2]="Injectable",d[d.Pipe=3]="Pipe",d[d.NgModule=4]="NgModule"}(y_||(y_={}));!function(d){(d.ng||(d.ng={})).\u0275compilerFacade=new Kn}(kn);var da=L(3184),Hg=L(6362),Ug=L(318);new da.OlP("ErrorCollector"),da.rEX;const D_=[{provide:da.Sil,useFactory:()=>new da.Sil}];function up(d){for(let e=d.length-1;e>=0;e--)if(void 0!==d[e])return d[e]}function A_(d){const e=[];return d.forEach(o=>o&&e.push(...o)),e}const x_=(0,da.eFA)(da._c5,"coreDynamic",[{provide:da.QSY,useValue:{},multi:!0},{provide:da.Hhp,useClass:class{constructor(e){const o={useJit:!0,defaultEncapsulation:da.ifc.Emulated,missingTranslation:da.IMH.Warning};this._defaultOptions=[o,...e]}createCompiler(e=[]){const o=function(d){return{useJit:up(d.map(e=>e.useJit)),defaultEncapsulation:up(d.map(e=>e.defaultEncapsulation)),providers:A_(d.map(e=>e.providers)),missingTranslation:up(d.map(e=>e.missingTranslation)),preserveWhitespaces:up(d.map(e=>e.preserveWhitespaces))}}(this._defaultOptions.concat(e));return da.zs3.create([D_,{provide:uv,useFactory:()=>new uv({useJit:o.useJit,jitDevMode:(0,da.X6Q)(),defaultEncapsulation:o.defaultEncapsulation,missingTranslation:o.missingTranslation,preserveWhitespaces:o.preserveWhitespaces}),deps:[]},o.providers]).get(da.Sil)}},deps:[da.QSY]}]);class rd extends zn{get(e){let o,c;const y=new Promise((re,Ae)=>{o=re,c=Ae}),H=new XMLHttpRequest;return H.open("GET",e,!0),H.responseType="text",H.onload=function(){const re=H.response||H.responseText;let Ae=1223===H.status?204:H.status;0===Ae&&(Ae=re?200:0),200<=Ae&&Ae<=300?o(re):c(`Failed to load ${e}`)},H.onerror=function(){c(`Failed to load ${e}`)},H.send(),y}}rd.\u0275fac=function(){let d;return function(o){return(d||(d=da.n5z(rd)))(o||rd)}}(),rd.\u0275prov=da.Yz7({token:rd,factory:rd.\u0275fac});const f0=[Ug.aF,{provide:da.QSY,useValue:{providers:[{provide:zn,useClass:rd,deps:[]}]},multi:!0},{provide:da.Lbi,useValue:Hg.bD}];new da.GfV("13.1.0");const g0=(0,da.eFA)(x_,"browserDynamic",f0)},318:(V,k,L)=>{"use strict";L.d(k,{b2:()=>We,aF:()=>$t});var l=L(6362),A=L(3184);class j extends l.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class I extends j{static makeCurrent(){(0,l.HT)(new I)}onAndCancel(Qe,ft,mn){return Qe.addEventListener(ft,mn,!1),()=>{Qe.removeEventListener(ft,mn,!1)}}dispatchEvent(Qe,ft){Qe.dispatchEvent(ft)}remove(Qe){Qe.parentNode&&Qe.parentNode.removeChild(Qe)}createElement(Qe,ft){return(ft=ft||this.getDefaultDocument()).createElement(Qe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Qe){return Qe.nodeType===Node.ELEMENT_NODE}isShadowRoot(Qe){return Qe instanceof DocumentFragment}getGlobalEventTarget(Qe,ft){return"window"===ft?window:"document"===ft?Qe:"body"===ft?Qe.body:null}getBaseHref(Qe){const ft=(m=m||document.querySelector("base"),m?m.getAttribute("href"):null);return null==ft?null:function(bn){v=v||document.createElement("a"),v.setAttribute("href",bn);const Qe=v.pathname;return"/"===Qe.charAt(0)?Qe:`/${Qe}`}(ft)}resetBaseElement(){m=null}getUserAgent(){return window.navigator.userAgent}getCookie(Qe){return(0,l.Mx)(document.cookie,Qe)}}let v,m=null;const T=new A.OlP("TRANSITION_ID");const S=[{provide:A.ip1,useFactory:function(bn,Qe,ft){return()=>{ft.get(A.CZH).donePromise.then(()=>{const mn=(0,l.q)(),Wt=Qe.querySelectorAll(`style[ng-transition="${bn}"]`);for(let Di=0;Di<Wt.length;Di++)mn.remove(Wt[Di])})}},deps:[T,l.K0,A.zs3],multi:!0}];class N{static init(){(0,A.VLi)(new N)}addToWindow(Qe){A.dqk.getAngularTestability=(mn,Wt=!0)=>{const Di=Qe.findTestabilityInTree(mn,Wt);if(null==Di)throw new Error("Could not find testability for element.");return Di},A.dqk.getAllAngularTestabilities=()=>Qe.getAllTestabilities(),A.dqk.getAllAngularRootElements=()=>Qe.getAllRootElements();A.dqk.frameworkStabilizers||(A.dqk.frameworkStabilizers=[]),A.dqk.frameworkStabilizers.push(mn=>{const Wt=A.dqk.getAllAngularTestabilities();let Di=Wt.length,di=!1;const zi=function(_r){di=di||_r,Di--,0==Di&&mn(di)};Wt.forEach(function(_r){_r.whenStable(zi)})})}findTestabilityInTree(Qe,ft,mn){if(null==ft)return null;const Wt=Qe.getTestability(ft);return null!=Wt?Wt:mn?(0,l.q)().isShadowRoot(ft)?this.findTestabilityInTree(Qe,ft.host,!0):this.findTestabilityInTree(Qe,ft.parentElement,!0):null}}class F{build(){return new XMLHttpRequest}}F.\u0275fac=function(Qe){return new(Qe||F)},F.\u0275prov=A.Yz7({token:F,factory:F.\u0275fac});const U=new A.OlP("EventManagerPlugins");class Y{constructor(Qe,ft){this._zone=ft,this._eventNameToPlugin=new Map,Qe.forEach(mn=>mn.manager=this),this._plugins=Qe.slice().reverse()}addEventListener(Qe,ft,mn){return this._findPluginFor(ft).addEventListener(Qe,ft,mn)}addGlobalEventListener(Qe,ft,mn){return this._findPluginFor(ft).addGlobalEventListener(Qe,ft,mn)}getZone(){return this._zone}_findPluginFor(Qe){const ft=this._eventNameToPlugin.get(Qe);if(ft)return ft;const mn=this._plugins;for(let Wt=0;Wt<mn.length;Wt++){const Di=mn[Wt];if(Di.supports(Qe))return this._eventNameToPlugin.set(Qe,Di),Di}throw new Error(`No event manager plugin found for event ${Qe}`)}}Y.\u0275fac=function(Qe){return new(Qe||Y)(A.LFG(U),A.LFG(A.R0b))},Y.\u0275prov=A.Yz7({token:Y,factory:Y.\u0275fac});class ce{constructor(Qe){this._doc=Qe}addGlobalEventListener(Qe,ft,mn){const Wt=(0,l.q)().getGlobalEventTarget(this._doc,Qe);if(!Wt)throw new Error(`Unsupported event target ${Wt} for event ${ft}`);return this.addEventListener(Wt,ft,mn)}}class be{constructor(){this._stylesSet=new Set}addStyles(Qe){const ft=new Set;Qe.forEach(mn=>{this._stylesSet.has(mn)||(this._stylesSet.add(mn),ft.add(mn))}),this.onStylesAdded(ft)}onStylesAdded(Qe){}getAllStyles(){return Array.from(this._stylesSet)}}be.\u0275fac=function(Qe){return new(Qe||be)},be.\u0275prov=A.Yz7({token:be,factory:be.\u0275fac});class te extends be{constructor(Qe){super(),this._doc=Qe,this._hostNodes=new Map,this._hostNodes.set(Qe.head,[])}_addStylesToHost(Qe,ft,mn){Qe.forEach(Wt=>{const Di=this._doc.createElement("style");Di.textContent=Wt,mn.push(ft.appendChild(Di))})}addHost(Qe){const ft=[];this._addStylesToHost(this._stylesSet,Qe,ft),this._hostNodes.set(Qe,ft)}removeHost(Qe){const ft=this._hostNodes.get(Qe);ft&&ft.forEach(ae),this._hostNodes.delete(Qe)}onStylesAdded(Qe){this._hostNodes.forEach((ft,mn)=>{this._addStylesToHost(Qe,mn,ft)})}ngOnDestroy(){this._hostNodes.forEach(Qe=>Qe.forEach(ae))}}function ae(bn){(0,l.q)().remove(bn)}te.\u0275fac=function(Qe){return new(Qe||te)(A.LFG(l.K0))},te.\u0275prov=A.Yz7({token:te,factory:te.\u0275fac});const _e={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Te=/%COMP%/g,G="%COMP%",Ee=`_nghost-${G}`,Ie=`_ngcontent-${G}`;function Pe(bn,Qe,ft){for(let mn=0;mn<Qe.length;mn++){let Wt=Qe[mn];Array.isArray(Wt)?Pe(bn,Wt,ft):(Wt=Wt.replace(Te,bn),ft.push(Wt))}return ft}function He(bn){return Qe=>{if("__ngUnwrap__"===Qe)return bn;!1===bn(Qe)&&(Qe.preventDefault(),Qe.returnValue=!1)}}class dt{constructor(Qe,ft,mn){this.eventManager=Qe,this.sharedStylesHost=ft,this.appId=mn,this.rendererByCompId=new Map,this.defaultRenderer=new nt(Qe)}createRenderer(Qe,ft){if(!Qe||!ft)return this.defaultRenderer;switch(ft.encapsulation){case A.ifc.Emulated:{let mn=this.rendererByCompId.get(ft.id);return mn||(mn=new Pt(this.eventManager,this.sharedStylesHost,ft,this.appId),this.rendererByCompId.set(ft.id,mn)),mn.applyToHost(Qe),mn}case 1:case A.ifc.ShadowDom:return new en(this.eventManager,this.sharedStylesHost,Qe,ft);default:if(!this.rendererByCompId.has(ft.id)){const mn=Pe(ft.id,ft.styles,[]);this.sharedStylesHost.addStyles(mn),this.rendererByCompId.set(ft.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}dt.\u0275fac=function(Qe){return new(Qe||dt)(A.LFG(Y),A.LFG(te),A.LFG(A.AFp))},dt.\u0275prov=A.Yz7({token:dt,factory:dt.\u0275fac});class nt{constructor(Qe){this.eventManager=Qe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Qe,ft){return ft?document.createElementNS(_e[ft]||ft,Qe):document.createElement(Qe)}createComment(Qe){return document.createComment(Qe)}createText(Qe){return document.createTextNode(Qe)}appendChild(Qe,ft){Qe.appendChild(ft)}insertBefore(Qe,ft,mn){Qe&&Qe.insertBefore(ft,mn)}removeChild(Qe,ft){Qe&&Qe.removeChild(ft)}selectRootElement(Qe,ft){let mn="string"==typeof Qe?document.querySelector(Qe):Qe;if(!mn)throw new Error(`The selector "${Qe}" did not match any elements`);return ft||(mn.textContent=""),mn}parentNode(Qe){return Qe.parentNode}nextSibling(Qe){return Qe.nextSibling}setAttribute(Qe,ft,mn,Wt){if(Wt){ft=Wt+":"+ft;const Di=_e[Wt];Di?Qe.setAttributeNS(Di,ft,mn):Qe.setAttribute(ft,mn)}else Qe.setAttribute(ft,mn)}removeAttribute(Qe,ft,mn){if(mn){const Wt=_e[mn];Wt?Qe.removeAttributeNS(Wt,ft):Qe.removeAttribute(`${mn}:${ft}`)}else Qe.removeAttribute(ft)}addClass(Qe,ft){Qe.classList.add(ft)}removeClass(Qe,ft){Qe.classList.remove(ft)}setStyle(Qe,ft,mn,Wt){Wt&(A.JOm.DashCase|A.JOm.Important)?Qe.style.setProperty(ft,mn,Wt&A.JOm.Important?"important":""):Qe.style[ft]=mn}removeStyle(Qe,ft,mn){mn&A.JOm.DashCase?Qe.style.removeProperty(ft):Qe.style[ft]=""}setProperty(Qe,ft,mn){Qe[ft]=mn}setValue(Qe,ft){Qe.nodeValue=ft}listen(Qe,ft,mn){return"string"==typeof Qe?this.eventManager.addGlobalEventListener(Qe,ft,He(mn)):this.eventManager.addEventListener(Qe,ft,He(mn))}}"@".charCodeAt(0);class Pt extends nt{constructor(Qe,ft,mn,Wt){super(Qe),this.component=mn;const Di=Pe(Wt+"-"+mn.id,mn.styles,[]);var bn;ft.addStyles(Di),this.contentAttr=(bn=Wt+"-"+mn.id,Ie.replace(Te,bn)),this.hostAttr=function(bn){return Ee.replace(Te,bn)}(Wt+"-"+mn.id)}applyToHost(Qe){super.setAttribute(Qe,this.hostAttr,"")}createElement(Qe,ft){const mn=super.createElement(Qe,ft);return super.setAttribute(mn,this.contentAttr,""),mn}}class en extends nt{constructor(Qe,ft,mn,Wt){super(Qe),this.sharedStylesHost=ft,this.hostEl=mn,this.shadowRoot=mn.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Di=Pe(Wt.id,Wt.styles,[]);for(let di=0;di<Di.length;di++){const zi=document.createElement("style");zi.textContent=Di[di],this.shadowRoot.appendChild(zi)}}nodeOrShadowRoot(Qe){return Qe===this.hostEl?this.shadowRoot:Qe}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Qe,ft){return super.appendChild(this.nodeOrShadowRoot(Qe),ft)}insertBefore(Qe,ft,mn){return super.insertBefore(this.nodeOrShadowRoot(Qe),ft,mn)}removeChild(Qe,ft){return super.removeChild(this.nodeOrShadowRoot(Qe),ft)}parentNode(Qe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Qe)))}}class Nt extends ce{constructor(Qe){super(Qe)}supports(Qe){return!0}addEventListener(Qe,ft,mn){return Qe.addEventListener(ft,mn,!1),()=>this.removeEventListener(Qe,ft,mn)}removeEventListener(Qe,ft,mn){return Qe.removeEventListener(ft,mn)}}Nt.\u0275fac=function(Qe){return new(Qe||Nt)(A.LFG(l.K0))},Nt.\u0275prov=A.Yz7({token:Nt,factory:Nt.\u0275fac});const je=["alt","control","meta","shift"],sn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},zt={alt:bn=>bn.altKey,control:bn=>bn.ctrlKey,meta:bn=>bn.metaKey,shift:bn=>bn.shiftKey};class an extends ce{constructor(Qe){super(Qe)}supports(Qe){return null!=an.parseEventName(Qe)}addEventListener(Qe,ft,mn){const Wt=an.parseEventName(ft),Di=an.eventCallback(Wt.fullKey,mn,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,l.q)().onAndCancel(Qe,Wt.domEventName,Di))}static parseEventName(Qe){const ft=Qe.toLowerCase().split("."),mn=ft.shift();if(0===ft.length||"keydown"!==mn&&"keyup"!==mn)return null;const Wt=an._normalizeKey(ft.pop());let Di="";if(je.forEach(zi=>{const _r=ft.indexOf(zi);_r>-1&&(ft.splice(_r,1),Di+=zi+".")}),Di+=Wt,0!=ft.length||0===Wt.length)return null;const di={};return di.domEventName=mn,di.fullKey=Di,di}static getEventFullKey(Qe){let ft="",mn=function(bn){let Qe=bn.key;if(null==Qe){if(Qe=bn.keyIdentifier,null==Qe)return"Unidentified";Qe.startsWith("U+")&&(Qe=String.fromCharCode(parseInt(Qe.substring(2),16)),3===bn.location&&nn.hasOwnProperty(Qe)&&(Qe=nn[Qe]))}return sn[Qe]||Qe}(Qe);return mn=mn.toLowerCase()," "===mn?mn="space":"."===mn&&(mn="dot"),je.forEach(Wt=>{Wt!=mn&&zt[Wt](Qe)&&(ft+=Wt+".")}),ft+=mn,ft}static eventCallback(Qe,ft,mn){return Wt=>{an.getEventFullKey(Wt)===Qe&&mn.runGuarded(()=>ft(Wt))}}static _normalizeKey(Qe){return"esc"===Qe?"escape":Qe}}an.\u0275fac=function(Qe){return new(Qe||an)(A.LFG(l.K0))},an.\u0275prov=A.Yz7({token:an,factory:an.\u0275fac});const $t=[{provide:A.Lbi,useValue:l.bD},{provide:A.g9A,useValue:function(){I.makeCurrent(),N.init()},multi:!0},{provide:l.K0,useFactory:function(){return(0,A.RDi)(document),document},deps:[]}],qe=((0,A.eFA)(A._c5,"browser",$t),[{provide:A.zSh,useValue:"root"},{provide:A.qLn,useFactory:function(){return new A.qLn},deps:[]},{provide:U,useClass:Nt,multi:!0,deps:[l.K0,A.R0b,A.Lbi]},{provide:U,useClass:an,multi:!0,deps:[l.K0]},{provide:dt,useClass:dt,deps:[Y,te,A.AFp]},{provide:A.FYo,useExisting:dt},{provide:be,useExisting:te},{provide:te,useClass:te,deps:[l.K0]},{provide:A.dDg,useClass:A.dDg,deps:[A.R0b]},{provide:Y,useClass:Y,deps:[U,A.R0b]},{provide:l.JF,useClass:F,deps:[]}]);class We{constructor(Qe){if(Qe)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(Qe){return{ngModule:We,providers:[{provide:A.AFp,useValue:Qe.appId},{provide:T,useExisting:A.AFp},S]}}}We.\u0275fac=function(Qe){return new(Qe||We)(A.LFG(We,12))},We.\u0275mod=A.oAB({type:We,exports:[l.ez,A.hGG]}),We.\u0275inj=A.cJS({providers:qe,imports:[l.ez,A.hGG]});class St{constructor(Qe){this._doc=Qe,this._dom=(0,l.q)()}addTag(Qe,ft=!1){return Qe?this._getOrCreateElement(Qe,ft):null}addTags(Qe,ft=!1){return Qe?Qe.reduce((mn,Wt)=>(Wt&&mn.push(this._getOrCreateElement(Wt,ft)),mn),[]):[]}getTag(Qe){return Qe&&this._doc.querySelector(`meta[${Qe}]`)||null}getTags(Qe){if(!Qe)return[];const ft=this._doc.querySelectorAll(`meta[${Qe}]`);return ft?[].slice.call(ft):[]}updateTag(Qe,ft){if(!Qe)return null;ft=ft||this._parseSelector(Qe);const mn=this.getTag(ft);return mn?this._setMetaElementAttributes(Qe,mn):this._getOrCreateElement(Qe,!0)}removeTag(Qe){this.removeTagElement(this.getTag(Qe))}removeTagElement(Qe){Qe&&this._dom.remove(Qe)}_getOrCreateElement(Qe,ft=!1){if(!ft){const Di=this._parseSelector(Qe),di=this.getTags(Di).filter(zi=>this._containsAttributes(Qe,zi))[0];if(void 0!==di)return di}const mn=this._dom.createElement("meta");return this._setMetaElementAttributes(Qe,mn),this._doc.getElementsByTagName("head")[0].appendChild(mn),mn}_setMetaElementAttributes(Qe,ft){return Object.keys(Qe).forEach(mn=>ft.setAttribute(this._getMetaKeyMap(mn),Qe[mn])),ft}_parseSelector(Qe){const ft=Qe.name?"name":"property";return`${ft}="${Qe[ft]}"`}_containsAttributes(Qe,ft){return Object.keys(Qe).every(mn=>ft.getAttribute(this._getMetaKeyMap(mn))===Qe[mn])}_getMetaKeyMap(Qe){return Ht[Qe]||Qe}}St.\u0275fac=function(Qe){return new(Qe||St)(A.LFG(l.K0))},St.\u0275prov=A.Yz7({token:St,factory:function(Qe){let ft=null;return ft=Qe?new Qe:new St((0,A.LFG)(l.K0)),ft},providedIn:"root"});const Ht={httpEquiv:"http-equiv"};class ee{constructor(Qe){this._doc=Qe}getTitle(){return this._doc.title}setTitle(Qe){this._doc.title=Qe||""}}ee.\u0275fac=function(Qe){return new(Qe||ee)(A.LFG(l.K0))},ee.\u0275prov=A.Yz7({token:ee,factory:function(Qe){let ft=null;return ft=Qe?new Qe:new ee((0,A.LFG)(l.K0)),ft},providedIn:"root"});"undefined"!=typeof window&&window;class Tn{constructor(){this.store={},this.onSerializeCallbacks={}}static init(Qe){const ft=new Tn;return ft.store=Qe,ft}get(Qe,ft){return void 0!==this.store[Qe]?this.store[Qe]:ft}set(Qe,ft){this.store[Qe]=ft}remove(Qe){delete this.store[Qe]}hasKey(Qe){return this.store.hasOwnProperty(Qe)}onSerialize(Qe,ft){this.onSerializeCallbacks[Qe]=ft}toJson(){for(const Qe in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(Qe))try{this.store[Qe]=this.onSerializeCallbacks[Qe]()}catch(ft){console.warn("Exception in onSerialize callback: ",ft)}return JSON.stringify(this.store)}}Tn.\u0275fac=function(Qe){return new(Qe||Tn)},Tn.\u0275prov=A.Yz7({token:Tn,factory:Tn.\u0275fac});class xn{}xn.\u0275fac=function(Qe){return new(Qe||xn)},xn.\u0275mod=A.oAB({type:xn}),xn.\u0275inj=A.cJS({providers:[{provide:Tn,useFactory:function(bn,Qe){const ft=bn.getElementById(Qe+"-state");let mn={};if(ft&&ft.textContent)try{mn=JSON.parse(function(bn){const Qe={"&a;":"&","&q;":'"',"&s;":"'","&l;":"<","&g;":">"};return bn.replace(/&[^;]+;/g,ft=>Qe[ft])}(ft.textContent))}catch(Wt){console.warn("Exception while restoring TransferState for app "+Qe,Wt)}return Tn.init(mn)},deps:[l.K0,A.AFp]}]});const kr={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0,doubletap:!0},yr=new A.OlP("HammerGestureConfig"),xr=new A.OlP("HammerLoader");class rr{constructor(){this.events=[],this.overrides={}}buildHammer(Qe){const ft=new Hammer(Qe,this.options);ft.get("pinch").set({enable:!0}),ft.get("rotate").set({enable:!0});for(const mn in this.overrides)ft.get(mn).set(this.overrides[mn]);return ft}}rr.\u0275fac=function(Qe){return new(Qe||rr)},rr.\u0275prov=A.Yz7({token:rr,factory:rr.\u0275fac});class Xr extends ce{constructor(Qe,ft,mn,Wt){super(Qe),this._config=ft,this.console=mn,this.loader=Wt,this._loaderPromise=null}supports(Qe){return!(!kr.hasOwnProperty(Qe.toLowerCase())&&!this.isCustomEvent(Qe)||!window.Hammer&&!this.loader)}addEventListener(Qe,ft,mn){const Wt=this.manager.getZone();if(ft=ft.toLowerCase(),!window.Hammer&&this.loader){this._loaderPromise=this._loaderPromise||this.loader();let Di=!1,di=()=>{Di=!0};return this._loaderPromise.then(()=>{window.Hammer?Di||(di=this.addEventListener(Qe,ft,mn)):di=()=>{}}).catch(()=>{di=()=>{}}),()=>{di()}}return Wt.runOutsideAngular(()=>{const Di=this._config.buildHammer(Qe),di=function(zi){Wt.runGuarded(function(){mn(zi)})};return Di.on(ft,di),()=>{Di.off(ft,di),"function"==typeof Di.destroy&&Di.destroy()}})}isCustomEvent(Qe){return this._config.events.indexOf(Qe)>-1}}Xr.\u0275fac=function(Qe){return new(Qe||Xr)(A.LFG(l.K0),A.LFG(yr),A.LFG(A.c2e),A.LFG(xr,8))},Xr.\u0275prov=A.Yz7({token:Xr,factory:Xr.\u0275fac});class es{}es.\u0275fac=function(Qe){return new(Qe||es)},es.\u0275mod=A.oAB({type:es}),es.\u0275inj=A.cJS({providers:[{provide:U,useClass:Xr,multi:!0,deps:[l.K0,yr,A.c2e,[new A.FiY,xr]]},{provide:yr,useClass:rr,deps:[]}]});class Yi{}Yi.\u0275fac=function(Qe){return new(Qe||Yi)},Yi.\u0275prov=A.Yz7({token:Yi,factory:function(Qe){let ft=null;return ft=Qe?new(Qe||Yi):A.LFG(ps),ft},providedIn:"root"});class ps extends Yi{constructor(Qe){super(),this._doc=Qe}sanitize(Qe,ft){if(null==ft)return null;switch(Qe){case A.q3G.NONE:return ft;case A.q3G.HTML:return(0,A.qzn)(ft,"HTML")?(0,A.z3N)(ft):(0,A.EiD)(this._doc,String(ft)).toString();case A.q3G.STYLE:return(0,A.qzn)(ft,"Style")?(0,A.z3N)(ft):ft;case A.q3G.SCRIPT:if((0,A.qzn)(ft,"Script"))return(0,A.z3N)(ft);throw new Error("unsafe value used in a script context");case A.q3G.URL:(0,A.yhl)(ft);return(0,A.qzn)(ft,"URL")?(0,A.z3N)(ft):(0,A.mCW)(String(ft));case A.q3G.RESOURCE_URL:if((0,A.qzn)(ft,"ResourceURL"))return(0,A.z3N)(ft);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${Qe} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(Qe){return(0,A.JVY)(Qe)}bypassSecurityTrustStyle(Qe){return(0,A.L6k)(Qe)}bypassSecurityTrustScript(Qe){return(0,A.eBb)(Qe)}bypassSecurityTrustUrl(Qe){return(0,A.LAX)(Qe)}bypassSecurityTrustResourceUrl(Qe){return(0,A.pB0)(Qe)}}ps.\u0275fac=function(Qe){return new(Qe||ps)(A.LFG(l.K0))},ps.\u0275prov=A.Yz7({token:ps,factory:function(Qe){let ft=null;return Qe?ft=new Qe:(bn=A.LFG(A.zs3),ft=new ps(bn.get(l.K0))),ft;var bn},providedIn:"root"});new A.GfV("13.1.0")},4707:(V,k,L)=>{"use strict";L.d(k,{Bz:()=>ho});var l=L(3184),A=L(253);class j extends A.x{constructor(z){super(),this._value=z}get value(){return this.getValue()}_subscribe(z){const se=super._subscribe(z);return!se.closed&&z.next(this._value),se}getValue(){const{hasError:z,thrownError:se,_value:we}=this;if(z)throw se;return this._throwIfClosed(),we}next(z){super.next(this._value=z)}}var I=L(3336),m=L(5756),b=L(2957),v=L(9173),w=L(8385),T=L(420),x=L(1054),S=L(3945),N=L(1817);function F(...me){const z=(0,T.yG)(me),se=(0,T.jO)(me),{args:we,keys:$e}=(0,m.D)(me);if(0===we.length)return(0,b.D)([],z);const ct=new I.y(function(me,z,se=v.y){return we=>{Y(z,()=>{const{length:$e}=me,ct=new Array($e);let pt=$e,un=$e;for(let jn=0;jn<$e;jn++)Y(z,()=>{const qi=(0,b.D)(me[jn],z);let Qi=!1;qi.subscribe(new S.Q(we,Sr=>{ct[jn]=Sr,Qi||(Qi=!0,un--),un||we.next(se(ct.slice()))},()=>{--pt||we.complete()}))},we)},we)}}(we,z,$e?pt=>(0,x.n)($e,pt):v.y));return se?ct.pipe((0,w.Z)(se)):ct}function Y(me,z,se){me?(0,N.f)(se,me,z):z()}var ce=L(7714),be=L(1944);function te(){return(0,be.e)((me,z)=>{let se=null;me._refCount++;const we=new S.Q(z,void 0,void 0,void 0,()=>{if(!me||me._refCount<=0||0<--me._refCount)return void(se=null);const $e=me._connection,ct=se;se=null,$e&&(!ct||$e===ct)&&$e.unsubscribe(),z.unsubscribe()});me.subscribe(we),we.closed||(se=me.connect())})}class ae extends I.y{constructor(z,se){super(),this.source=z,this.subjectFactory=se,this._subject=null,this._refCount=0,this._connection=null,(0,be.A)(z)&&(this.lift=z.lift)}_subscribe(z){return this.getSubject().subscribe(z)}getSubject(){const z=this._subject;return(!z||z.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:z}=this;this._subject=this._connection=null,null==z||z.unsubscribe()}connect(){let z=this._connection;if(!z){z=this._connection=new ce.w0;const se=this.getSubject();z.add(this.source.subscribe(new S.Q(se,void 0,()=>{this._teardown(),se.complete()},we=>{this._teardown(),se.error(we)},()=>this._teardown()))),z.closed&&(this._connection=null,z=ce.w0.EMPTY)}return z}refCount(){return te()(this)}}var _e=L(745),Te=L(4423),Re=L(9319),G=L(1954),Ee=L(591);function Ie(me,z,se,we,$e){return(ct,pt)=>{let un=se,jn=z,qi=0;ct.subscribe(new S.Q(pt,Qi=>{const Sr=qi++;jn=un?me(jn,Qi,Sr):(un=!0,Qi),we&&pt.next(jn)},$e&&(()=>{un&&pt.next(jn),pt.complete()})))}}function Le(me,z){return(0,be.e)(Ie(me,z,arguments.length>=2,!0))}var ne=L(4987);function Pe(me){return(0,be.e)((z,se)=>{let ct,we=null,$e=!1;we=z.subscribe(new S.Q(se,void 0,void 0,pt=>{ct=(0,ne.Xf)(me(pt,Pe(me)(z))),we?(we.unsubscribe(),we=null,ct.subscribe(se)):$e=!0})),$e&&(we.unsubscribe(),we=null,ct.subscribe(se))})}var He=L(116);function ze(me){return me<=0?()=>Ee.E:(0,be.e)((z,se)=>{let we=[];z.subscribe(new S.Q(se,$e=>{we.push($e),me<we.length&&we.shift()},()=>{for(const $e of we)se.next($e);se.complete()},void 0,()=>{we=null}))})}function dt(me=nt){return(0,be.e)((z,se)=>{let we=!1;z.subscribe(new S.Q(se,$e=>{we=!0,se.next($e)},()=>we?se.complete():se.error(me())))})}function nt(){return new Te.K}function kt(me){return(0,be.e)((z,se)=>{let we=!1;z.subscribe(new S.Q(se,$e=>{we=!0,se.next($e)},()=>{we||se.next(me),se.complete()}))})}var Pt=L(9295);function en(me,z){const se=arguments.length>=2;return we=>we.pipe(me?(0,He.h)(($e,ct)=>me($e,ct,we)):v.y,(0,Pt.q)(1),se?kt(z):dt(()=>new Te.K))}var je=L(635),Ft=L(2673),sn=L(4874),nn=L(3853),zt=L(9525),an=L(9337),On=L(1308),Dn=L(6362);class fi{constructor(z,se){this.id=z,this.url=se}}class ge extends fi{constructor(z,se,we="imperative",$e=null){super(z,se),this.navigationTrigger=we,this.restoredState=$e}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $t extends fi{constructor(z,se,we){super(z,se),this.urlAfterRedirects=we}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Dt extends fi{constructor(z,se,we){super(z,se),this.reason=we}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class qe extends fi{constructor(z,se,we){super(z,se),this.error=we}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class We extends fi{constructor(z,se,we,$e){super(z,se),this.urlAfterRedirects=we,this.state=$e}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _t extends fi{constructor(z,se,we,$e){super(z,se),this.urlAfterRedirects=we,this.state=$e}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class St extends fi{constructor(z,se,we,$e,ct){super(z,se),this.urlAfterRedirects=we,this.state=$e,this.shouldActivate=ct}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ht extends fi{constructor(z,se,we,$e){super(z,se),this.urlAfterRedirects=we,this.state=$e}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mt extends fi{constructor(z,se,we,$e){super(z,se),this.urlAfterRedirects=we,this.state=$e}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ee{constructor(z){this.route=z}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pe{constructor(z){this.route=z}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xe{constructor(z){this.snapshot=z}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ce{constructor(z){this.snapshot=z}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Je{constructor(z){this.snapshot=z}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lt{constructor(z){this.snapshot=z}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jt{constructor(z,se,we){this.routerEvent=z,this.position=se,this.anchor=we}toString(){const z=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${z}')`}}const Oe="primary";class Fe{constructor(z){this.params=z||{}}has(z){return Object.prototype.hasOwnProperty.call(this.params,z)}get(z){if(this.has(z)){const se=this.params[z];return Array.isArray(se)?se[0]:se}return null}getAll(z){if(this.has(z)){const se=this.params[z];return Array.isArray(se)?se:[se]}return[]}get keys(){return Object.keys(this.params)}}function ut(me){return new Fe(me)}const It="ngNavigationCancelingError";function cn(me){const z=Error("NavigationCancelingError: "+me);return z[It]=!0,z}function _n(me,z,se){const we=se.path.split("/");if(we.length>me.length||"full"===se.pathMatch&&(z.hasChildren()||we.length<me.length))return null;const $e={};for(let ct=0;ct<we.length;ct++){const pt=we[ct],un=me[ct];if(pt.startsWith(":"))$e[pt.substring(1)]=un;else if(pt!==un.path)return null}return{consumed:me.slice(0,we.length),posParams:$e}}function Hn(me,z){const se=me?Object.keys(me):void 0,we=z?Object.keys(z):void 0;if(!se||!we||se.length!=we.length)return!1;let $e;for(let ct=0;ct<se.length;ct++)if($e=se[ct],!Tn(me[$e],z[$e]))return!1;return!0}function Tn(me,z){if(Array.isArray(me)&&Array.isArray(z)){if(me.length!==z.length)return!1;const se=[...me].sort(),we=[...z].sort();return se.every(($e,ct)=>we[ct]===$e)}return me===z}function kn(me){return Array.prototype.concat.apply([],me)}function xn(me){return me.length>0?me[me.length-1]:null}function $i(me,z){for(const se in me)me.hasOwnProperty(se)&&z(me[se],se)}function kr(me){return(0,l.CqO)(me)?me:(0,l.QGY)(me)?(0,b.D)(Promise.resolve(me)):(0,_e.of)(me)}const xr={exact:function Yi(me,z,se){if(!Di(me.segments,z.segments)||!bn(me.segments,z.segments,se)||me.numberOfChildren!==z.numberOfChildren)return!1;for(const we in z.children)if(!me.children[we]||!Yi(me.children[we],z.children[we],se))return!1;return!0},subset:ps},rr={exact:function(me,z){return Hn(me,z)},subset:function(me,z){return Object.keys(z).length<=Object.keys(me).length&&Object.keys(z).every(se=>Tn(me[se],z[se]))},ignored:()=>!0};function Xr(me,z,se){return xr[se.paths](me.root,z.root,se.matrixParams)&&rr[se.queryParams](me.queryParams,z.queryParams)&&!("exact"===se.fragment&&me.fragment!==z.fragment)}function ps(me,z,se){return Or(me,z,z.segments,se)}function Or(me,z,se,we){if(me.segments.length>se.length){const $e=me.segments.slice(0,se.length);return!(!Di($e,se)||z.hasChildren()||!bn($e,se,we))}if(me.segments.length===se.length){if(!Di(me.segments,se)||!bn(me.segments,se,we))return!1;for(const $e in z.children)if(!me.children[$e]||!ps(me.children[$e],z.children[$e],we))return!1;return!0}{const $e=se.slice(0,me.segments.length),ct=se.slice(me.segments.length);return!!(Di(me.segments,$e)&&bn(me.segments,$e,we)&&me.children[Oe])&&Or(me.children[Oe],z,ct,we)}}function bn(me,z,se){return z.every((we,$e)=>rr[se](me[$e].parameters,we.parameters))}class Qe{constructor(z,se,we){this.root=z,this.queryParams=se,this.fragment=we}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ut(this.queryParams)),this._queryParamMap}toString(){return yo.serialize(this)}}class ft{constructor(z,se){this.segments=z,this.children=se,this.parent=null,$i(se,(we,$e)=>we.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sr(this)}}class mn{constructor(z,se){this.path=z,this.parameters=se}get parameterMap(){return this._parameterMap||(this._parameterMap=ut(this.parameters)),this._parameterMap}toString(){return pr(this)}}function Di(me,z){return me.length===z.length&&me.every((se,we)=>se.path===z[we].path)}class zi{}class _r{parse(z){const se=new Xi(z);return new Qe(se.parseRootSegment(),se.parseQueryParams(),se.parseFragment())}serialize(z){const se=`/${Qr(z.root,!0)}`,we=function(me){const z=Object.keys(me).map(se=>{const we=me[se];return Array.isArray(we)?we.map($e=>`${Zr(se)}=${Zr($e)}`).join("&"):`${Zr(se)}=${Zr(we)}`}).filter(se=>!!se);return z.length?`?${z.join("&")}`:""}(z.queryParams);var me;return`${se}${we}${"string"==typeof z.fragment?`#${me=z.fragment,encodeURI(me)}`:""}`}}const yo=new _r;function sr(me){return me.segments.map(z=>pr(z)).join("/")}function Qr(me,z){if(!me.hasChildren())return sr(me);if(z){const se=me.children[Oe]?Qr(me.children[Oe],!1):"",we=[];return $i(me.children,($e,ct)=>{ct!==Oe&&we.push(`${ct}:${Qr($e,!1)}`)}),we.length>0?`${se}(${we.join("//")})`:se}{const se=function(me,z){let se=[];return $i(me.children,(we,$e)=>{$e===Oe&&(se=se.concat(z(we,$e)))}),$i(me.children,(we,$e)=>{$e!==Oe&&(se=se.concat(z(we,$e)))}),se}(me,(we,$e)=>$e===Oe?[Qr(me.children[Oe],!1)]:[`${$e}:${Qr(we,!1)}`]);return 1===Object.keys(me.children).length&&null!=me.children[Oe]?`${sr(me)}/${se[0]}`:`${sr(me)}/(${se.join("//")})`}}function Ts(me){return encodeURIComponent(me).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zr(me){return Ts(me).replace(/%3B/gi,";")}function Hi(me){return Ts(me).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zn(me){return decodeURIComponent(me)}function Gi(me){return Zn(me.replace(/\+/g,"%20"))}function pr(me){return`${Hi(me.path)}${function(me){return Object.keys(me).map(z=>`;${Hi(z)}=${Hi(me[z])}`).join("")}(me.parameters)}`}const Lr=/^[^\/()?;=#]+/;function ls(me){const z=me.match(Lr);return z?z[0]:""}const or=/^[^=?&#]+/;const ns=/^[^&#]+/;class Xi{constructor(z){this.url=z,this.remaining=z}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ft([],{}):new ft([],this.parseChildren())}parseQueryParams(){const z={};if(this.consumeOptional("?"))do{this.parseQueryParam(z)}while(this.consumeOptional("&"));return z}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const z=[];for(this.peekStartsWith("(")||z.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),z.push(this.parseSegment());let se={};this.peekStartsWith("/(")&&(this.capture("/"),se=this.parseParens(!0));let we={};return this.peekStartsWith("(")&&(we=this.parseParens(!1)),(z.length>0||Object.keys(se).length>0)&&(we[Oe]=new ft(z,se)),we}parseSegment(){const z=ls(this.remaining);if(""===z&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(z),new mn(Zn(z),this.parseMatrixParams())}parseMatrixParams(){const z={};for(;this.consumeOptional(";");)this.parseParam(z);return z}parseParam(z){const se=ls(this.remaining);if(!se)return;this.capture(se);let we="";if(this.consumeOptional("=")){const $e=ls(this.remaining);$e&&(we=$e,this.capture(we))}z[Zn(se)]=Zn(we)}parseQueryParam(z){const se=function(me){const z=me.match(or);return z?z[0]:""}(this.remaining);if(!se)return;this.capture(se);let we="";if(this.consumeOptional("=")){const pt=function(me){const z=me.match(ns);return z?z[0]:""}(this.remaining);pt&&(we=pt,this.capture(we))}const $e=Gi(se),ct=Gi(we);if(z.hasOwnProperty($e)){let pt=z[$e];Array.isArray(pt)||(pt=[pt],z[$e]=pt),pt.push(ct)}else z[$e]=ct}parseParens(z){const se={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const we=ls(this.remaining),$e=this.remaining[we.length];if("/"!==$e&&")"!==$e&&";"!==$e)throw new Error(`Cannot parse url '${this.url}'`);let ct;we.indexOf(":")>-1?(ct=we.substr(0,we.indexOf(":")),this.capture(ct),this.capture(":")):z&&(ct=Oe);const pt=this.parseChildren();se[ct]=1===Object.keys(pt).length?pt[Oe]:new ft([],pt),this.consumeOptional("//")}return se}peekStartsWith(z){return this.remaining.startsWith(z)}consumeOptional(z){return!!this.peekStartsWith(z)&&(this.remaining=this.remaining.substring(z.length),!0)}capture(z){if(!this.consumeOptional(z))throw new Error(`Expected "${z}".`)}}class ji{constructor(z){this._root=z}get root(){return this._root.value}parent(z){const se=this.pathFromRoot(z);return se.length>1?se[se.length-2]:null}children(z){const se=Er(z,this._root);return se?se.children.map(we=>we.value):[]}firstChild(z){const se=Er(z,this._root);return se&&se.children.length>0?se.children[0].value:null}siblings(z){const se=Bi(z,this._root);return se.length<2?[]:se[se.length-2].children.map($e=>$e.value).filter($e=>$e!==z)}pathFromRoot(z){return Bi(z,this._root).map(se=>se.value)}}function Er(me,z){if(me===z.value)return z;for(const se of z.children){const we=Er(me,se);if(we)return we}return null}function Bi(me,z){if(me===z.value)return[z];for(const se of z.children){const we=Bi(me,se);if(we.length)return we.unshift(z),we}return[]}class ar{constructor(z,se){this.value=z,this.children=se}toString(){return`TreeNode(${this.value})`}}function ki(me){const z={};return me&&me.children.forEach(se=>z[se.value.outlet]=se),z}class Rr extends ji{constructor(z,se){super(z),this.snapshot=se,$n(this,z)}toString(){return this.snapshot.toString()}}function is(me,z){const se=function(me,z){const pt=new In([],{},{},"",{},Oe,z,null,me.root,-1,{});return new Qn("",new ar(pt,[]))}(me,z),we=new j([new mn("",{})]),$e=new j({}),ct=new j({}),pt=new j({}),un=new j(""),jn=new Rt(we,$e,pt,un,ct,Oe,z,se.root);return jn.snapshot=se.root,new Rr(new ar(jn,[]),se)}class Rt{constructor(z,se,we,$e,ct,pt,un,jn){this.url=z,this.params=se,this.queryParams=we,this.fragment=$e,this.data=ct,this.outlet=pt,this.component=un,this._futureSnapshot=jn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,je.U)(z=>ut(z)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,je.U)(z=>ut(z)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Tt(me,z="emptyOnly"){const se=me.pathFromRoot;let we=0;if("always"!==z)for(we=se.length-1;we>=1;){const $e=se[we],ct=se[we-1];if($e.routeConfig&&""===$e.routeConfig.path)we--;else{if(ct.component)break;we--}}return function(me){return me.reduce((z,se)=>({params:Object.assign(Object.assign({},z.params),se.params),data:Object.assign(Object.assign({},z.data),se.data),resolve:Object.assign(Object.assign({},z.resolve),se._resolvedData)}),{params:{},data:{},resolve:{}})}(se.slice(we))}class In{constructor(z,se,we,$e,ct,pt,un,jn,qi,Qi,Sr){this.url=z,this.params=se,this.queryParams=we,this.fragment=$e,this.data=ct,this.outlet=pt,this.component=un,this.routeConfig=jn,this._urlSegment=qi,this._lastPathIndex=Qi,this._resolve=Sr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ut(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ut(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(we=>we.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Qn extends ji{constructor(z,se){super(se),this.url=z,$n(this,se)}toString(){return mi(this._root)}}function $n(me,z){z.value._routerState=me,z.children.forEach(se=>$n(me,se))}function mi(me){const z=me.children.length>0?` { ${me.children.map(mi).join(", ")} } `:"";return`${me.value}${z}`}function xi(me){if(me.snapshot){const z=me.snapshot,se=me._futureSnapshot;me.snapshot=se,Hn(z.queryParams,se.queryParams)||me.queryParams.next(se.queryParams),z.fragment!==se.fragment&&me.fragment.next(se.fragment),Hn(z.params,se.params)||me.params.next(se.params),function(me,z){if(me.length!==z.length)return!1;for(let se=0;se<me.length;++se)if(!Hn(me[se],z[se]))return!1;return!0}(z.url,se.url)||me.url.next(se.url),Hn(z.data,se.data)||me.data.next(se.data)}else me.snapshot=me._futureSnapshot,me.data.next(me._futureSnapshot.data)}function Ri(me,z){const se=Hn(me.params,z.params)&&function(me,z){return Di(me,z)&&me.every((se,we)=>Hn(se.parameters,z[we].parameters))}(me.url,z.url),we=!me.parent!=!z.parent;return se&&!we&&(!me.parent||Ri(me.parent,z.parent))}function Wr(me,z,se){if(se&&me.shouldReuseRoute(z.value,se.value.snapshot)){const we=se.value;we._futureSnapshot=z.value;const $e=function(me,z,se){return z.children.map(we=>{for(const $e of se.children)if(me.shouldReuseRoute(we.value,$e.value.snapshot))return Wr(me,we,$e);return Wr(me,we)})}(me,z,se);return new ar(we,$e)}{if(me.shouldAttach(z.value)){const ct=me.retrieve(z.value);if(null!==ct){const pt=ct.route;return pt.value._futureSnapshot=z.value,pt.children=z.children.map(un=>Wr(me,un)),pt}}const we=function(me){return new Rt(new j(me.url),new j(me.params),new j(me.queryParams),new j(me.fragment),new j(me.data),me.outlet,me.component,me)}(z.value),$e=z.children.map(ct=>Wr(me,ct));return new ar(we,$e)}}function he(me,z,se,we,$e){if(0===se.length)return Qt(z.root,z.root,z,we,$e);const ct=function(me){if("string"==typeof me[0]&&1===me.length&&"/"===me[0])return new ui(!0,0,me);let z=0,se=!1;const we=me.reduce(($e,ct,pt)=>{if("object"==typeof ct&&null!=ct){if(ct.outlets){const un={};return $i(ct.outlets,(jn,qi)=>{un[qi]="string"==typeof jn?jn.split("/"):jn}),[...$e,{outlets:un}]}if(ct.segmentPath)return[...$e,ct.segmentPath]}return"string"!=typeof ct?[...$e,ct]:0===pt?(ct.split("/").forEach((un,jn)=>{0==jn&&"."===un||(0==jn&&""===un?se=!0:".."===un?z++:""!=un&&$e.push(un))}),$e):[...$e,ct]},[]);return new ui(se,z,we)}(se);if(ct.toRoot())return Qt(z.root,new ft([],{}),z,we,$e);const pt=function(me,z,se){if(me.isAbsolute)return new Dr(z.root,!0,0);if(-1===se.snapshot._lastPathIndex){const ct=se.snapshot._urlSegment,pt=ct===z.root;return new Dr(ct,pt,0)}const we=ke(me.commands[0])?0:1,$e=se.snapshot._lastPathIndex+we;return function(me,z,se){let we=me,$e=z,ct=se;for(;ct>$e;){if(ct-=$e,we=we.parent,!we)throw new Error("Invalid number of '../'");$e=we.segments.length}return new Dr(we,!1,$e-ct)}(se.snapshot._urlSegment,$e,me.numberOfDoubleDots)}(ct,z,me),un=pt.processChildren?Cr(pt.segmentGroup,pt.index,ct.commands):oi(pt.segmentGroup,pt.index,ct.commands);return Qt(pt.segmentGroup,un,z,we,$e)}function ke(me){return"object"==typeof me&&null!=me&&!me.outlets&&!me.segmentPath}function vt(me){return"object"==typeof me&&null!=me&&me.outlets}function Qt(me,z,se,we,$e){let ct={};return we&&$i(we,(pt,un)=>{ct[un]=Array.isArray(pt)?pt.map(jn=>`${jn}`):`${pt}`}),se.root===me?new Qe(z,ct,$e):new Qe(yn(se.root,me,z),ct,$e)}function yn(me,z,se){const we={};return $i(me.children,($e,ct)=>{we[ct]=$e===z?se:yn($e,z,se)}),new ft(me.segments,we)}class ui{constructor(z,se,we){if(this.isAbsolute=z,this.numberOfDoubleDots=se,this.commands=we,z&&we.length>0&&ke(we[0]))throw new Error("Root segment cannot have matrix parameters");const $e=we.find(vt);if($e&&$e!==xn(we))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Dr{constructor(z,se,we){this.segmentGroup=z,this.processChildren=se,this.index=we}}function oi(me,z,se){if(me||(me=new ft([],{})),0===me.segments.length&&me.hasChildren())return Cr(me,z,se);const we=function(me,z,se){let we=0,$e=z;const ct={match:!1,pathIndex:0,commandIndex:0};for(;$e<me.segments.length;){if(we>=se.length)return ct;const pt=me.segments[$e],un=se[we];if(vt(un))break;const jn=`${un}`,qi=we<se.length-1?se[we+1]:null;if($e>0&&void 0===jn)break;if(jn&&qi&&"object"==typeof qi&&void 0===qi.outlets){if(!ys(jn,qi,pt))return ct;we+=2}else{if(!ys(jn,{},pt))return ct;we++}$e++}return{match:!0,pathIndex:$e,commandIndex:we}}(me,z,se),$e=se.slice(we.commandIndex);if(we.match&&we.pathIndex<me.segments.length){const ct=new ft(me.segments.slice(0,we.pathIndex),{});return ct.children[Oe]=new ft(me.segments.slice(we.pathIndex),me.children),Cr(ct,0,$e)}return we.match&&0===$e.length?new ft(me.segments,{}):we.match&&!me.hasChildren()?Br(me,z,se):we.match?Cr(me,0,$e):Br(me,z,se)}function Cr(me,z,se){if(0===se.length)return new ft(me.segments,{});{const we=function(me){return vt(me[0])?me[0].outlets:{[Oe]:me}}(se),$e={};return $i(we,(ct,pt)=>{"string"==typeof ct&&(ct=[ct]),null!==ct&&($e[pt]=oi(me.children[pt],z,ct))}),$i(me.children,(ct,pt)=>{void 0===we[pt]&&($e[pt]=ct)}),new ft(me.segments,$e)}}function Br(me,z,se){const we=me.segments.slice(0,z);let $e=0;for(;$e<se.length;){const ct=se[$e];if(vt(ct)){const jn=eo(ct.outlets);return new ft(we,jn)}if(0===$e&&ke(se[0])){const jn=me.segments[z];we.push(new mn(jn.path,gs(se[0]))),$e++;continue}const pt=vt(ct)?ct.outlets[Oe]:`${ct}`,un=$e<se.length-1?se[$e+1]:null;pt&&un&&ke(un)?(we.push(new mn(pt,gs(un))),$e+=2):(we.push(new mn(pt,{})),$e++)}return new ft(we,{})}function eo(me){const z={};return $i(me,(se,we)=>{"string"==typeof se&&(se=[se]),null!==se&&(z[we]=Br(new ft([],{}),0,se))}),z}function gs(me){const z={};return $i(me,(se,we)=>z[we]=`${se}`),z}function ys(me,z,se){return me==se.path&&Hn(z,se.parameters)}class ea{constructor(z,se,we,$e){this.routeReuseStrategy=z,this.futureState=se,this.currState=we,this.forwardEvent=$e}activate(z){const se=this.futureState._root,we=this.currState?this.currState._root:null;this.deactivateChildRoutes(se,we,z),xi(this.futureState.root),this.activateChildRoutes(se,we,z)}deactivateChildRoutes(z,se,we){const $e=ki(se);z.children.forEach(ct=>{const pt=ct.value.outlet;this.deactivateRoutes(ct,$e[pt],we),delete $e[pt]}),$i($e,(ct,pt)=>{this.deactivateRouteAndItsChildren(ct,we)})}deactivateRoutes(z,se,we){const $e=z.value,ct=se?se.value:null;if($e===ct)if($e.component){const pt=we.getContext($e.outlet);pt&&this.deactivateChildRoutes(z,se,pt.children)}else this.deactivateChildRoutes(z,se,we);else ct&&this.deactivateRouteAndItsChildren(se,we)}deactivateRouteAndItsChildren(z,se){z.value.component&&this.routeReuseStrategy.shouldDetach(z.value.snapshot)?this.detachAndStoreRouteSubtree(z,se):this.deactivateRouteAndOutlet(z,se)}detachAndStoreRouteSubtree(z,se){const we=se.getContext(z.value.outlet),$e=we&&z.value.component?we.children:se,ct=ki(z);for(const pt of Object.keys(ct))this.deactivateRouteAndItsChildren(ct[pt],$e);if(we&&we.outlet){const pt=we.outlet.detach(),un=we.children.onOutletDeactivated();this.routeReuseStrategy.store(z.value.snapshot,{componentRef:pt,route:z,contexts:un})}}deactivateRouteAndOutlet(z,se){const we=se.getContext(z.value.outlet),$e=we&&z.value.component?we.children:se,ct=ki(z);for(const pt of Object.keys(ct))this.deactivateRouteAndItsChildren(ct[pt],$e);we&&we.outlet&&(we.outlet.deactivate(),we.children.onOutletDeactivated(),we.attachRef=null,we.resolver=null,we.route=null)}activateChildRoutes(z,se,we){const $e=ki(se);z.children.forEach(ct=>{this.activateRoutes(ct,$e[ct.value.outlet],we),this.forwardEvent(new lt(ct.value.snapshot))}),z.children.length&&this.forwardEvent(new Ce(z.value.snapshot))}activateRoutes(z,se,we){const $e=z.value,ct=se?se.value:null;if(xi($e),$e===ct)if($e.component){const pt=we.getOrCreateContext($e.outlet);this.activateChildRoutes(z,se,pt.children)}else this.activateChildRoutes(z,se,we);else if($e.component){const pt=we.getOrCreateContext($e.outlet);if(this.routeReuseStrategy.shouldAttach($e.snapshot)){const un=this.routeReuseStrategy.retrieve($e.snapshot);this.routeReuseStrategy.store($e.snapshot,null),pt.children.onOutletReAttached(un.contexts),pt.attachRef=un.componentRef,pt.route=un.route.value,pt.outlet&&pt.outlet.attach(un.componentRef,un.route.value),xi(un.route.value),this.activateChildRoutes(z,null,pt.children)}else{const un=function(me){for(let z=me.parent;z;z=z.parent){const se=z.routeConfig;if(se&&se._loadedConfig)return se._loadedConfig;if(se&&se.component)return null}return null}($e.snapshot),jn=un?un.module.componentFactoryResolver:null;pt.attachRef=null,pt.route=$e,pt.resolver=jn,pt.outlet&&pt.outlet.activateWith($e,jn),this.activateChildRoutes(z,null,pt.children)}}else this.activateChildRoutes(z,null,we)}}class ur{constructor(z,se){this.routes=z,this.module=se}}function io(me){return"function"==typeof me}function qr(me){return me instanceof Qe}const Ls=Symbol("INITIAL_VALUE");function R(){return(0,Ft.w)(me=>F(me.map(z=>z.pipe((0,Pt.q)(1),(0,sn.O)(Ls)))).pipe(Le((z,se)=>{let we=!1;return se.reduce(($e,ct,pt)=>$e!==Ls?$e:(ct===Ls&&(we=!0),we||!1!==ct&&pt!==se.length-1&&!qr(ct)?$e:ct),z)},Ls),(0,He.h)(z=>z!==Ls),(0,je.U)(z=>qr(z)?z:!0===z),(0,Pt.q)(1)))}class Q{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ue,this.attachRef=null}}class ue{constructor(){this.contexts=new Map}onChildOutletCreated(z,se){const we=this.getOrCreateContext(z);we.outlet=se,this.contexts.set(z,we)}onChildOutletDestroyed(z){const se=this.getContext(z);se&&(se.outlet=null,se.attachRef=null)}onOutletDeactivated(){const z=this.contexts;return this.contexts=new Map,z}onOutletReAttached(z){this.contexts=z}getOrCreateContext(z){let se=this.getContext(z);return se||(se=new Q,this.contexts.set(z,se)),se}getContext(z){return this.contexts.get(z)||null}}class ve{constructor(z,se,we,$e,ct){this.parentContexts=z,this.location=se,this.resolver=we,this.changeDetector=ct,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=$e||Oe,z.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const z=this.parentContexts.getContext(this.name);z&&z.route&&(z.attachRef?this.attach(z.attachRef,z.route):this.activateWith(z.route,z.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const z=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(z.instance),z}attach(z,se){this.activated=z,this._activatedRoute=se,this.location.insert(z.hostView),this.attachEvents.emit(z.instance)}deactivate(){if(this.activated){const z=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(z)}}activateWith(z,se){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=z;const $e=z._futureSnapshot.routeConfig.component,ct=(se=se||this.resolver).resolveComponentFactory($e),pt=this.parentContexts.getOrCreateContext(this.name).children,un=new Ve(z,pt,this.location.injector);this.activated=this.location.createComponent(ct,this.location.length,un),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}ve.\u0275fac=function(z){return new(z||ve)(l.Y36(ue),l.Y36(l.s_b),l.Y36(l._Vd),l.$8M("name"),l.Y36(l.sBO))},ve.\u0275dir=l.lG2({type:ve,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]});class Ve{constructor(z,se,we){this.route=z,this.childContexts=se,this.parent=we}get(z,se){return z===Rt?this.route:z===ue?this.childContexts:this.parent.get(z,se)}}class Ge{}function Xe(me,z=""){for(let se=0;se<me.length;se++){const we=me[se];Bt(we,Lt(z,we))}}function Bt(me,z){me.children&&Xe(me.children,z)}function Lt(me,z){return z?me||z.path?me&&!z.path?`${me}/`:!me&&z.path?z.path:`${me}/${z.path}`:"":me}function de(me){const z=me.children&&me.children.map(de),se=z?Object.assign(Object.assign({},me),{children:z}):Object.assign({},me);return!se.component&&(z||se.loadChildren)&&se.outlet&&se.outlet!==Oe&&(se.component=Ge),se}function P(me){return me.outlet||Oe}function O(me,z){const se=me.filter(we=>P(we)===z);return se.push(...me.filter(we=>P(we)!==z)),se}Ge.\u0275fac=function(z){return new(z||Ge)},Ge.\u0275cmp=l.Xpm({type:Ge,selectors:[["ng-component"]],decls:1,vars:0,template:function(z,se){1&z&&l._UZ(0,"router-outlet")},directives:[ve],encapsulation:2});const Z={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Me(me,z,se){var we;if(""===z.path)return"full"===z.pathMatch&&(me.hasChildren()||se.length>0)?Object.assign({},Z):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const ct=(z.matcher||_n)(se,me,z);if(!ct)return Object.assign({},Z);const pt={};$i(ct.posParams,(jn,qi)=>{pt[qi]=jn.path});const un=ct.consumed.length>0?Object.assign(Object.assign({},pt),ct.consumed[ct.consumed.length-1].parameters):pt;return{matched:!0,consumedSegments:ct.consumed,lastChild:ct.consumed.length,parameters:un,positionalParamSegments:null!==(we=ct.posParams)&&void 0!==we?we:{}}}function et(me,z,se,we,$e="corrected"){if(se.length>0&&function(me,z,se){return se.some(we=>Ir(me,z,we)&&P(we)!==Oe)}(me,se,we)){const pt=new ft(z,function(me,z,se,we){const $e={};$e[Oe]=we,we._sourceSegment=me,we._segmentIndexShift=z.length;for(const ct of se)if(""===ct.path&&P(ct)!==Oe){const pt=new ft([],{});pt._sourceSegment=me,pt._segmentIndexShift=z.length,$e[P(ct)]=pt}return $e}(me,z,we,new ft(se,me.children)));return pt._sourceSegment=me,pt._segmentIndexShift=z.length,{segmentGroup:pt,slicedSegments:[]}}if(0===se.length&&function(me,z,se){return se.some(we=>Ir(me,z,we))}(me,se,we)){const pt=new ft(me.segments,function(me,z,se,we,$e,ct){const pt={};for(const un of we)if(Ir(me,se,un)&&!$e[P(un)]){const jn=new ft([],{});jn._sourceSegment=me,jn._segmentIndexShift="legacy"===ct?me.segments.length:z.length,pt[P(un)]=jn}return Object.assign(Object.assign({},$e),pt)}(me,z,se,we,me.children,$e));return pt._sourceSegment=me,pt._segmentIndexShift=z.length,{segmentGroup:pt,slicedSegments:se}}const ct=new ft(me.segments,me.children);return ct._sourceSegment=me,ct._segmentIndexShift=z.length,{segmentGroup:ct,slicedSegments:se}}function Ir(me,z,se){return(!(me.hasChildren()||z.length>0)||"full"!==se.pathMatch)&&""===se.path}function ci(me,z,se,we){return!!(P(me)===we||we!==Oe&&Ir(z,se,me))&&("**"===me.path||Me(z,me,se).matched)}function _i(me,z,se){return 0===z.length&&!me.children[se]}class wr{constructor(z){this.segmentGroup=z||null}}class Ji{constructor(z){this.urlTree=z}}function wi(me){return new I.y(z=>z.error(new wr(me)))}function mo(me){return new I.y(z=>z.error(new Ji(me)))}function ra(me){return new I.y(z=>z.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${me}'`)))}class Oo{constructor(z,se,we,$e,ct){this.configLoader=se,this.urlSerializer=we,this.urlTree=$e,this.config=ct,this.allowRedirects=!0,this.ngModule=z.get(l.h0i)}apply(){const z=et(this.urlTree.root,[],[],this.config).segmentGroup,se=new ft(z.segments,z.children);return this.expandSegmentGroup(this.ngModule,this.config,se,Oe).pipe((0,je.U)(ct=>this.createUrlTree(wo(ct),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Pe(ct=>{if(ct instanceof Ji)return this.allowRedirects=!1,this.match(ct.urlTree);throw ct instanceof wr?this.noMatchError(ct):ct}))}match(z){return this.expandSegmentGroup(this.ngModule,this.config,z.root,Oe).pipe((0,je.U)($e=>this.createUrlTree(wo($e),z.queryParams,z.fragment))).pipe(Pe($e=>{throw $e instanceof wr?this.noMatchError($e):$e}))}noMatchError(z){return new Error(`Cannot match any routes. URL Segment: '${z.segmentGroup}'`)}createUrlTree(z,se,we){const $e=z.segments.length>0?new ft([],{[Oe]:z}):z;return new Qe($e,se,we)}expandSegmentGroup(z,se,we,$e){return 0===we.segments.length&&we.hasChildren()?this.expandChildren(z,se,we).pipe((0,je.U)(ct=>new ft([],ct))):this.expandSegment(z,we,se,we.segments,$e,!0)}expandChildren(z,se,we){const $e=[];for(const ct of Object.keys(we.children))"primary"===ct?$e.unshift(ct):$e.push(ct);return(0,b.D)($e).pipe((0,nn.b)(ct=>{const pt=we.children[ct],un=O(se,ct);return this.expandSegmentGroup(z,un,pt,ct).pipe((0,je.U)(jn=>({segment:jn,outlet:ct})))}),Le((ct,pt)=>(ct[pt.outlet]=pt.segment,ct),{}),function(me,z){const se=arguments.length>=2;return we=>we.pipe(me?(0,He.h)(($e,ct)=>me($e,ct,we)):v.y,ze(1),se?kt(z):dt(()=>new Te.K))}())}expandSegment(z,se,we,$e,ct,pt){return(0,b.D)(we).pipe((0,nn.b)(un=>this.expandSegmentAgainstRoute(z,se,we,un,$e,ct,pt).pipe(Pe(qi=>{if(qi instanceof wr)return(0,_e.of)(null);throw qi}))),en(un=>!!un),Pe((un,jn)=>{if(un instanceof Te.K||"EmptyError"===un.name){if(_i(se,$e,ct))return(0,_e.of)(new ft([],{}));throw new wr(se)}throw un}))}expandSegmentAgainstRoute(z,se,we,$e,ct,pt,un){return ci($e,se,ct,pt)?void 0===$e.redirectTo?this.matchSegmentAgainstRoute(z,se,$e,ct,pt):un&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(z,se,we,$e,ct,pt):wi(se):wi(se)}expandSegmentAgainstRouteUsingRedirect(z,se,we,$e,ct,pt){return"**"===$e.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(z,we,$e,pt):this.expandRegularSegmentAgainstRouteUsingRedirect(z,se,we,$e,ct,pt)}expandWildCardWithParamsAgainstRouteUsingRedirect(z,se,we,$e){const ct=this.applyRedirectCommands([],we.redirectTo,{});return we.redirectTo.startsWith("/")?mo(ct):this.lineralizeSegments(we,ct).pipe((0,zt.z)(pt=>{const un=new ft(pt,{});return this.expandSegment(z,un,se,pt,$e,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(z,se,we,$e,ct,pt){const{matched:un,consumedSegments:jn,lastChild:qi,positionalParamSegments:Qi}=Me(se,$e,ct);if(!un)return wi(se);const Sr=this.applyRedirectCommands(jn,$e.redirectTo,Qi);return $e.redirectTo.startsWith("/")?mo(Sr):this.lineralizeSegments($e,Sr).pipe((0,zt.z)(jr=>this.expandSegment(z,se,we,jr.concat(ct.slice(qi)),pt,!1)))}matchSegmentAgainstRoute(z,se,we,$e,ct){if("**"===we.path)return we.loadChildren?(we._loadedConfig?(0,_e.of)(we._loadedConfig):this.configLoader.load(z.injector,we)).pipe((0,je.U)(jr=>(we._loadedConfig=jr,new ft($e,{})))):(0,_e.of)(new ft($e,{}));const{matched:pt,consumedSegments:un,lastChild:jn}=Me(se,we,$e);if(!pt)return wi(se);const qi=$e.slice(jn);return this.getChildConfig(z,we,$e).pipe((0,zt.z)(Sr=>{const jr=Sr.module,Bs=Sr.routes,{segmentGroup:Ao,slicedSegments:_o}=et(se,un,qi,Bs),Po=new ft(Ao.segments,Ao.children);if(0===_o.length&&Po.hasChildren())return this.expandChildren(jr,Bs,Po).pipe((0,je.U)(Uu=>new ft(un,Uu)));if(0===Bs.length&&0===_o.length)return(0,_e.of)(new ft(un,{}));const Da=P(we)===ct;return this.expandSegment(jr,Po,Bs,_o,Da?Oe:ct,!0).pipe((0,je.U)(Uo=>new ft(un.concat(Uo.segments),Uo.children)))}))}getChildConfig(z,se,we){return se.children?(0,_e.of)(new ur(se.children,z)):se.loadChildren?void 0!==se._loadedConfig?(0,_e.of)(se._loadedConfig):this.runCanLoadGuards(z.injector,se,we).pipe((0,zt.z)($e=>{return $e?this.configLoader.load(z.injector,se).pipe((0,je.U)(ct=>(se._loadedConfig=ct,ct))):(me=se,new I.y(z=>z.error(cn(`Cannot load children because the guard of the route "path: '${me.path}'" returned false`))));var me})):(0,_e.of)(new ur([],z))}runCanLoadGuards(z,se,we){const $e=se.canLoad;if(!$e||0===$e.length)return(0,_e.of)(!0);const ct=$e.map(pt=>{const un=z.get(pt);let jn;if((me=un)&&io(me.canLoad))jn=un.canLoad(se,we);else{if(!io(un))throw new Error("Invalid CanLoad guard");jn=un(se,we)}var me;return kr(jn)});return(0,_e.of)(ct).pipe(R(),(0,an.b)(pt=>{if(!qr(pt))return;const un=cn(`Redirecting to "${this.urlSerializer.serialize(pt)}"`);throw un.url=pt,un}),(0,je.U)(pt=>!0===pt))}lineralizeSegments(z,se){let we=[],$e=se.root;for(;;){if(we=we.concat($e.segments),0===$e.numberOfChildren)return(0,_e.of)(we);if($e.numberOfChildren>1||!$e.children[Oe])return ra(z.redirectTo);$e=$e.children[Oe]}}applyRedirectCommands(z,se,we){return this.applyRedirectCreatreUrlTree(se,this.urlSerializer.parse(se),z,we)}applyRedirectCreatreUrlTree(z,se,we,$e){const ct=this.createSegmentGroup(z,se.root,we,$e);return new Qe(ct,this.createQueryParams(se.queryParams,this.urlTree.queryParams),se.fragment)}createQueryParams(z,se){const we={};return $i(z,($e,ct)=>{if("string"==typeof $e&&$e.startsWith(":")){const un=$e.substring(1);we[ct]=se[un]}else we[ct]=$e}),we}createSegmentGroup(z,se,we,$e){const ct=this.createSegments(z,se.segments,we,$e);let pt={};return $i(se.children,(un,jn)=>{pt[jn]=this.createSegmentGroup(z,un,we,$e)}),new ft(ct,pt)}createSegments(z,se,we,$e){return se.map(ct=>ct.path.startsWith(":")?this.findPosParam(z,ct,$e):this.findOrReturn(ct,we))}findPosParam(z,se,we){const $e=we[se.path.substring(1)];if(!$e)throw new Error(`Cannot redirect to '${z}'. Cannot find '${se.path}'.`);return $e}findOrReturn(z,se){let we=0;for(const $e of se){if($e.path===z.path)return se.splice(we),$e;we++}return z}}function wo(me){const z={};for(const we of Object.keys(me.children)){const ct=wo(me.children[we]);(ct.segments.length>0||ct.hasChildren())&&(z[we]=ct)}return function(me){if(1===me.numberOfChildren&&me.children[Oe]){const z=me.children[Oe];return new ft(me.segments.concat(z.segments),z.children)}return me}(new ft(me.segments,z))}function Un(me,z,se,we){return(0,Ft.w)($e=>function(me,z,se,we,$e){return new Oo(me,z,se,we,$e).apply()}(me,z,se,$e.extractedUrl,we).pipe((0,je.U)(ct=>Object.assign(Object.assign({},$e),{urlAfterRedirects:ct}))))}class Vr{constructor(z){this.path=z,this.route=this.path[this.path.length-1]}}class ha{constructor(z,se){this.component=z,this.route=se}}function $s(me,z,se){const we=me._root;return To(we,z?z._root:null,se,[we.value])}function bi(me,z,se){const we=function(me){if(!me)return null;for(let z=me.parent;z;z=z.parent){const se=z.routeConfig;if(se&&se._loadedConfig)return se._loadedConfig}return null}(z);return(we?we.module.injector:se).get(me)}function To(me,z,se,we,$e={canDeactivateChecks:[],canActivateChecks:[]}){const ct=ki(z);return me.children.forEach(pt=>{(function(me,z,se,we,$e={canDeactivateChecks:[],canActivateChecks:[]}){const ct=me.value,pt=z?z.value:null,un=se?se.getContext(me.value.outlet):null;if(pt&&ct.routeConfig===pt.routeConfig){const jn=function(me,z,se){if("function"==typeof se)return se(me,z);switch(se){case"pathParamsChange":return!Di(me.url,z.url);case"pathParamsOrQueryParamsChange":return!Di(me.url,z.url)||!Hn(me.queryParams,z.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ri(me,z)||!Hn(me.queryParams,z.queryParams);default:return!Ri(me,z)}}(pt,ct,ct.routeConfig.runGuardsAndResolvers);jn?$e.canActivateChecks.push(new Vr(we)):(ct.data=pt.data,ct._resolvedData=pt._resolvedData),ct.component?To(me,z,un?un.children:null,we,$e):To(me,z,se,we,$e),jn&&un&&un.outlet&&un.outlet.isActivated&&$e.canDeactivateChecks.push(new ha(un.outlet.component,pt))}else pt&&Ki(z,un,$e),$e.canActivateChecks.push(new Vr(we)),ct.component?To(me,null,un?un.children:null,we,$e):To(me,null,se,we,$e)})(pt,ct[pt.value.outlet],se,we.concat([pt.value]),$e),delete ct[pt.value.outlet]}),$i(ct,(pt,un)=>Ki(pt,se.getContext(un),$e)),$e}function Ki(me,z,se){const we=ki(me),$e=me.value;$i(we,(ct,pt)=>{$e.component?Ki(ct,z?z.children.getContext(pt):null,se):Ki(ct,z,se)}),$e.component&&z&&z.outlet&&z.outlet.isActivated?se.canDeactivateChecks.push(new ha(z.outlet.component,$e)):se.canDeactivateChecks.push(new ha(null,$e))}function Ys(me,z){return(0,zt.z)(se=>{const{targetSnapshot:we,currentSnapshot:$e,guards:{canActivateChecks:ct,canDeactivateChecks:pt}}=se;return 0===pt.length&&0===ct.length?(0,_e.of)(Object.assign(Object.assign({},se),{guardsResult:!0})):function(me,z,se,we){return(0,b.D)(me).pipe((0,zt.z)($e=>function(me,z,se,we,$e){const ct=z&&z.routeConfig?z.routeConfig.canDeactivate:null;if(!ct||0===ct.length)return(0,_e.of)(!0);const pt=ct.map(un=>{const jn=bi(un,z,$e);let qi;if(function(me){return me&&io(me.canDeactivate)}(jn))qi=kr(jn.canDeactivate(me,z,se,we));else{if(!io(jn))throw new Error("Invalid CanDeactivate guard");qi=kr(jn(me,z,se,we))}return qi.pipe(en())});return(0,_e.of)(pt).pipe(R())}($e.component,$e.route,se,z,we)),en($e=>!0!==$e,!0))}(pt,we,$e,me).pipe((0,zt.z)(un=>un&&function(me){return"boolean"==typeof me}(un)?function(me,z,se,we){return(0,b.D)(z).pipe((0,nn.b)($e=>(0,Re.z)(function(me,z){return null!==me&&z&&z(new xe(me)),(0,_e.of)(!0)}($e.route.parent,we),function(me,z){return null!==me&&z&&z(new Je(me)),(0,_e.of)(!0)}($e.route,we),function(me,z,se){const we=z[z.length-1],ct=z.slice(0,z.length-1).reverse().map(pt=>function(me){const z=me.routeConfig?me.routeConfig.canActivateChild:null;return z&&0!==z.length?{node:me,guards:z}:null}(pt)).filter(pt=>null!==pt).map(pt=>(0,G.P)(()=>{const un=pt.guards.map(jn=>{const qi=bi(jn,pt.node,se);let Qi;if(function(me){return me&&io(me.canActivateChild)}(qi))Qi=kr(qi.canActivateChild(we,me));else{if(!io(qi))throw new Error("Invalid CanActivateChild guard");Qi=kr(qi(we,me))}return Qi.pipe(en())});return(0,_e.of)(un).pipe(R())}));return(0,_e.of)(ct).pipe(R())}(me,$e.path,se),function(me,z,se){const we=z.routeConfig?z.routeConfig.canActivate:null;if(!we||0===we.length)return(0,_e.of)(!0);const $e=we.map(ct=>(0,G.P)(()=>{const pt=bi(ct,z,se);let un;if(function(me){return me&&io(me.canActivate)}(pt))un=kr(pt.canActivate(z,me));else{if(!io(pt))throw new Error("Invalid CanActivate guard");un=kr(pt(z,me))}return un.pipe(en())}));return(0,_e.of)($e).pipe(R())}(me,$e.route,se))),en($e=>!0!==$e,!0))}(we,ct,me,z):(0,_e.of)(un)),(0,je.U)(un=>Object.assign(Object.assign({},se),{guardsResult:un})))})}class Ln{}function qn(me){return new I.y(z=>z.error(me))}class Ei{constructor(z,se,we,$e,ct,pt){this.rootComponentType=z,this.config=se,this.urlTree=we,this.url=$e,this.paramsInheritanceStrategy=ct,this.relativeLinkResolution=pt}recognize(){const z=et(this.urlTree.root,[],[],this.config.filter(pt=>void 0===pt.redirectTo),this.relativeLinkResolution).segmentGroup,se=this.processSegmentGroup(this.config,z,Oe);if(null===se)return null;const we=new In([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Oe,this.rootComponentType,null,this.urlTree.root,-1,{}),$e=new ar(we,se),ct=new Qn(this.url,$e);return this.inheritParamsAndData(ct._root),ct}inheritParamsAndData(z){const se=z.value,we=Tt(se,this.paramsInheritanceStrategy);se.params=Object.freeze(we.params),se.data=Object.freeze(we.data),z.children.forEach($e=>this.inheritParamsAndData($e))}processSegmentGroup(z,se,we){return 0===se.segments.length&&se.hasChildren()?this.processChildren(z,se):this.processSegment(z,se,se.segments,we)}processChildren(z,se){const we=[];for(const ct of Object.keys(se.children)){const pt=se.children[ct],un=O(z,ct),jn=this.processSegmentGroup(un,pt,ct);if(null===jn)return null;we.push(...jn)}const $e=ms(we);return $e.sort((z,se)=>z.value.outlet===Oe?-1:se.value.outlet===Oe?1:z.value.outlet.localeCompare(se.value.outlet)),$e}processSegment(z,se,we,$e){for(const ct of z){const pt=this.processSegmentAgainstRoute(ct,se,we,$e);if(null!==pt)return pt}return _i(se,we,$e)?[]:null}processSegmentAgainstRoute(z,se,we,$e){if(z.redirectTo||!ci(z,se,we,$e))return null;let ct,pt=[],un=[];if("**"===z.path){const Bs=we.length>0?xn(we).parameters:{};ct=new In(we,Bs,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Io(z),P(z),z.component,z,Qs(se),Yr(se)+we.length,Ur(z))}else{const Bs=Me(se,z,we);if(!Bs.matched)return null;pt=Bs.consumedSegments,un=we.slice(Bs.lastChild),ct=new In(pt,Bs.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Io(z),P(z),z.component,z,Qs(se),Yr(se)+pt.length,Ur(z))}const jn=(me=z).children?me.children:me.loadChildren?me._loadedConfig.routes:[],{segmentGroup:qi,slicedSegments:Qi}=et(se,pt,un,jn.filter(Bs=>void 0===Bs.redirectTo),this.relativeLinkResolution);var me;if(0===Qi.length&&qi.hasChildren()){const Bs=this.processChildren(jn,qi);return null===Bs?null:[new ar(ct,Bs)]}if(0===jn.length&&0===Qi.length)return[new ar(ct,[])];const Sr=P(z)===$e,jr=this.processSegment(jn,qi,Qi,Sr?Oe:$e);return null===jr?null:[new ar(ct,jr)]}}function Ui(me){const z=me.value.routeConfig;return z&&""===z.path&&void 0===z.redirectTo}function ms(me){const z=[],se=new Set;for(const we of me){if(!Ui(we)){z.push(we);continue}const $e=z.find(ct=>we.value.routeConfig===ct.value.routeConfig);void 0!==$e?($e.children.push(...we.children),se.add($e)):z.push(we)}for(const we of se){const $e=ms(we.children);z.push(new ar(we.value,$e))}return z.filter(we=>!se.has(we))}function Qs(me){let z=me;for(;z._sourceSegment;)z=z._sourceSegment;return z}function Yr(me){let z=me,se=z._segmentIndexShift?z._segmentIndexShift:0;for(;z._sourceSegment;)z=z._sourceSegment,se+=z._segmentIndexShift?z._segmentIndexShift:0;return se-1}function Io(me){return me.data||{}}function Ur(me){return me.resolve||{}}function sa(me,z,se,we,$e){return(0,zt.z)(ct=>function(me,z,se,we,$e="emptyOnly",ct="legacy"){try{const pt=new Ei(me,z,se,we,$e,ct).recognize();return null===pt?qn(new Ln):(0,_e.of)(pt)}catch(pt){return qn(pt)}}(me,z,ct.urlAfterRedirects,se(ct.urlAfterRedirects),we,$e).pipe((0,je.U)(pt=>Object.assign(Object.assign({},ct),{targetSnapshot:pt}))))}function al(me,z){return(0,zt.z)(se=>{const{targetSnapshot:we,guards:{canActivateChecks:$e}}=se;if(!$e.length)return(0,_e.of)(se);let ct=0;return(0,b.D)($e).pipe((0,nn.b)(pt=>function(me,z,se,we){return function(me,z,se,we){const $e=Object.keys(me);if(0===$e.length)return(0,_e.of)({});const ct={};return(0,b.D)($e).pipe((0,zt.z)(pt=>function(me,z,se,we){const $e=bi(me,z,we);return $e.resolve?kr($e.resolve(z,se)):kr($e(z,se))}(me[pt],z,se,we).pipe((0,an.b)(un=>{ct[pt]=un}))),ze(1),(0,zt.z)(()=>Object.keys(ct).length===$e.length?(0,_e.of)(ct):Ee.E))}(me._resolve,me,z,we).pipe((0,je.U)(ct=>(me._resolvedData=ct,me.data=Object.assign(Object.assign({},me.data),Tt(me,se).resolve),null)))}(pt.route,we,me,z)),(0,an.b)(()=>ct++),ze(1),(0,zt.z)(pt=>ct===$e.length?(0,_e.of)(se):Ee.E))})}function Ea(me){return(0,Ft.w)(z=>{const se=me(z);return se?(0,b.D)(se).pipe((0,je.U)(()=>z)):(0,_e.of)(z)})}class Rn extends class{shouldDetach(z){return!1}store(z,se){}shouldAttach(z){return!1}retrieve(z){return null}shouldReuseRoute(z,se){return z.routeConfig===se.routeConfig}}{}const Cn=new l.OlP("ROUTES");class Ii{constructor(z,se,we,$e){this.injector=z,this.compiler=se,this.onLoadStartListener=we,this.onLoadEndListener=$e}load(z,se){if(se._loader$)return se._loader$;this.onLoadStartListener&&this.onLoadStartListener(se);const $e=this.loadModuleFactory(se.loadChildren).pipe((0,je.U)(ct=>{this.onLoadEndListener&&this.onLoadEndListener(se);const pt=ct.create(z);return new ur(kn(pt.injector.get(Cn,void 0,l.XFs.Self|l.XFs.Optional)).map(de),pt)}),Pe(ct=>{throw se._loader$=void 0,ct}));return se._loader$=new ae($e,()=>new A.x).pipe(te()),se._loader$}loadModuleFactory(z){return kr(z()).pipe((0,zt.z)(se=>se instanceof l.YKP?(0,_e.of)(se):(0,b.D)(this.compiler.compileModuleAsync(se))))}}class Ns{shouldProcessUrl(z){return!0}extract(z){return z}merge(z,se){return z}}function Zs(me){throw me}function ws(me,z,se){return z.parse("/")}function Ga(me,z){return(0,_e.of)(null)}const yl={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},at={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};class Ot{constructor(z,se,we,$e,ct,pt,un){this.rootComponentType=z,this.urlSerializer=se,this.rootContexts=we,this.location=$e,this.config=un,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new A.x,this.errorHandler=Zs,this.malformedUriErrorHandler=ws,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ga,afterPreactivation:Ga},this.urlHandlingStrategy=new Ns,this.routeReuseStrategy=new Rn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace";this.ngModule=ct.get(l.h0i),this.console=ct.get(l.c2e);const Qi=ct.get(l.R0b);this.isNgZoneEnabled=Qi instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(un),this.currentUrlTree=new Qe(new ft([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ii(ct,pt,Sr=>this.triggerEvent(new ee(Sr)),Sr=>this.triggerEvent(new pe(Sr))),this.routerState=is(this.currentUrlTree,this.rootComponentType),this.transitions=new j({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var z;return null===(z=this.location.getState())||void 0===z?void 0:z.\u0275routerPageId}setupNavigations(z){const se=this.events;return z.pipe((0,He.h)(we=>0!==we.id),(0,je.U)(we=>Object.assign(Object.assign({},we),{extractedUrl:this.urlHandlingStrategy.extract(we.rawUrl)})),(0,Ft.w)(we=>{let $e=!1,ct=!1;return(0,_e.of)(we).pipe((0,an.b)(pt=>{this.currentNavigation={id:pt.id,initialUrl:pt.currentRawUrl,extractedUrl:pt.extractedUrl,trigger:pt.source,extras:pt.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Ft.w)(pt=>{const un=this.browserUrlTree.toString(),jn=!this.navigated||pt.extractedUrl.toString()!==un||un!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||jn)&&this.urlHandlingStrategy.shouldProcessUrl(pt.rawUrl))return An(pt.source)&&(this.browserUrlTree=pt.extractedUrl),(0,_e.of)(pt).pipe((0,Ft.w)(Qi=>{const Sr=this.transitions.getValue();return se.next(new ge(Qi.id,this.serializeUrl(Qi.extractedUrl),Qi.source,Qi.restoredState)),Sr!==this.transitions.getValue()?Ee.E:Promise.resolve(Qi)}),Un(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,an.b)(Qi=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Qi.urlAfterRedirects})}),sa(this.rootComponentType,this.config,Qi=>this.serializeUrl(Qi),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,an.b)(Qi=>{if("eager"===this.urlUpdateStrategy){if(!Qi.extras.skipLocationChange){const jr=this.urlHandlingStrategy.merge(Qi.urlAfterRedirects,Qi.rawUrl);this.setBrowserUrl(jr,Qi)}this.browserUrlTree=Qi.urlAfterRedirects}const Sr=new We(Qi.id,this.serializeUrl(Qi.extractedUrl),this.serializeUrl(Qi.urlAfterRedirects),Qi.targetSnapshot);se.next(Sr)}));if(jn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Sr,extractedUrl:jr,source:Bs,restoredState:Ao,extras:_o}=pt,Po=new ge(Sr,this.serializeUrl(jr),Bs,Ao);se.next(Po);const Da=is(jr,this.rootComponentType).snapshot;return(0,_e.of)(Object.assign(Object.assign({},pt),{targetSnapshot:Da,urlAfterRedirects:jr,extras:Object.assign(Object.assign({},_o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=pt.rawUrl,pt.resolve(null),Ee.E}),Ea(pt=>{const{targetSnapshot:un,id:jn,extractedUrl:qi,rawUrl:Qi,extras:{skipLocationChange:Sr,replaceUrl:jr}}=pt;return this.hooks.beforePreactivation(un,{navigationId:jn,appliedUrlTree:qi,rawUrlTree:Qi,skipLocationChange:!!Sr,replaceUrl:!!jr})}),(0,an.b)(pt=>{const un=new _t(pt.id,this.serializeUrl(pt.extractedUrl),this.serializeUrl(pt.urlAfterRedirects),pt.targetSnapshot);this.triggerEvent(un)}),(0,je.U)(pt=>Object.assign(Object.assign({},pt),{guards:$s(pt.targetSnapshot,pt.currentSnapshot,this.rootContexts)})),Ys(this.ngModule.injector,pt=>this.triggerEvent(pt)),(0,an.b)(pt=>{if(qr(pt.guardsResult)){const jn=cn(`Redirecting to "${this.serializeUrl(pt.guardsResult)}"`);throw jn.url=pt.guardsResult,jn}const un=new St(pt.id,this.serializeUrl(pt.extractedUrl),this.serializeUrl(pt.urlAfterRedirects),pt.targetSnapshot,!!pt.guardsResult);this.triggerEvent(un)}),(0,He.h)(pt=>!!pt.guardsResult||(this.restoreHistory(pt),this.cancelNavigationTransition(pt,""),!1)),Ea(pt=>{if(pt.guards.canActivateChecks.length)return(0,_e.of)(pt).pipe((0,an.b)(un=>{const jn=new Ht(un.id,this.serializeUrl(un.extractedUrl),this.serializeUrl(un.urlAfterRedirects),un.targetSnapshot);this.triggerEvent(jn)}),(0,Ft.w)(un=>{let jn=!1;return(0,_e.of)(un).pipe(al(this.paramsInheritanceStrategy,this.ngModule.injector),(0,an.b)({next:()=>jn=!0,complete:()=>{jn||(this.restoreHistory(un),this.cancelNavigationTransition(un,"At least one route resolver didn't emit any value."))}}))}),(0,an.b)(un=>{const jn=new Mt(un.id,this.serializeUrl(un.extractedUrl),this.serializeUrl(un.urlAfterRedirects),un.targetSnapshot);this.triggerEvent(jn)}))}),Ea(pt=>{const{targetSnapshot:un,id:jn,extractedUrl:qi,rawUrl:Qi,extras:{skipLocationChange:Sr,replaceUrl:jr}}=pt;return this.hooks.afterPreactivation(un,{navigationId:jn,appliedUrlTree:qi,rawUrlTree:Qi,skipLocationChange:!!Sr,replaceUrl:!!jr})}),(0,je.U)(pt=>{const un=function(me,z,se){const we=Wr(me,z._root,se?se._root:void 0);return new Rr(we,z)}(this.routeReuseStrategy,pt.targetSnapshot,pt.currentRouterState);return Object.assign(Object.assign({},pt),{targetRouterState:un})}),(0,an.b)(pt=>{this.currentUrlTree=pt.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(pt.urlAfterRedirects,pt.rawUrl),this.routerState=pt.targetRouterState,"deferred"===this.urlUpdateStrategy&&(pt.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,pt),this.browserUrlTree=pt.urlAfterRedirects)}),((me,z,se)=>(0,je.U)(we=>(new ea(z,we.targetRouterState,we.currentRouterState,se).activate(me),we)))(this.rootContexts,this.routeReuseStrategy,pt=>this.triggerEvent(pt)),(0,an.b)({next(){$e=!0},complete(){$e=!0}}),(me=()=>{var pt;if(!$e&&!ct){const un=`Navigation ID ${we.id} is not equal to the current navigation id ${this.navigationId}`;this.cancelNavigationTransition(we,un)}(null===(pt=this.currentNavigation)||void 0===pt?void 0:pt.id)===we.id&&(this.currentNavigation=null)},(0,be.e)((z,se)=>{try{z.subscribe(se)}finally{se.add(me)}})),Pe(pt=>{if(ct=!0,function(me){return me&&me[It]}(pt)){const un=qr(pt.url);un||(this.navigated=!0,this.restoreHistory(we,!0));const jn=new Dt(we.id,this.serializeUrl(we.extractedUrl),pt.message);se.next(jn),un?setTimeout(()=>{const qi=this.urlHandlingStrategy.merge(pt.url,this.rawUrlTree),Qi={skipLocationChange:we.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||An(we.source)};this.scheduleNavigation(qi,"imperative",null,Qi,{resolve:we.resolve,reject:we.reject,promise:we.promise})},0):we.resolve(!1)}else{this.restoreHistory(we,!0);const un=new qe(we.id,this.serializeUrl(we.extractedUrl),pt);se.next(un);try{we.resolve(this.errorHandler(pt))}catch(jn){we.reject(jn)}}return Ee.E}));var me}))}resetRootComponentType(z){this.rootComponentType=z,this.routerState.root.component=this.rootComponentType}setTransition(z){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),z))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(z=>{const se="popstate"===z.type?"popstate":"hashchange";"popstate"===se&&setTimeout(()=>{var we;const $e={replaceUrl:!0},ct=(null===(we=z.state)||void 0===we?void 0:we.navigationId)?z.state:null;if(ct){const un=Object.assign({},ct);delete un.navigationId,delete un.\u0275routerPageId,0!==Object.keys(un).length&&($e.state=un)}const pt=this.parseUrl(z.url);this.scheduleNavigation(pt,se,ct,$e)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(z){this.events.next(z)}resetConfig(z){Xe(z),this.config=z.map(de),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(z,se={}){const{relativeTo:we,queryParams:$e,fragment:ct,queryParamsHandling:pt,preserveFragment:un}=se,jn=we||this.routerState.root,qi=un?this.currentUrlTree.fragment:ct;let Qi=null;switch(pt){case"merge":Qi=Object.assign(Object.assign({},this.currentUrlTree.queryParams),$e);break;case"preserve":Qi=this.currentUrlTree.queryParams;break;default:Qi=$e||null}return null!==Qi&&(Qi=this.removeEmptyProps(Qi)),he(jn,this.currentUrlTree,z,Qi,null!=qi?qi:null)}navigateByUrl(z,se={skipLocationChange:!1}){const we=qr(z)?z:this.parseUrl(z),$e=this.urlHandlingStrategy.merge(we,this.rawUrlTree);return this.scheduleNavigation($e,"imperative",null,se)}navigate(z,se={skipLocationChange:!1}){return function(me){for(let z=0;z<me.length;z++){const se=me[z];if(null==se)throw new Error(`The requested path contains ${se} segment at index ${z}`)}}(z),this.navigateByUrl(this.createUrlTree(z,se),se)}serializeUrl(z){return this.urlSerializer.serialize(z)}parseUrl(z){let se;try{se=this.urlSerializer.parse(z)}catch(we){se=this.malformedUriErrorHandler(we,this.urlSerializer,z)}return se}isActive(z,se){let we;if(we=!0===se?Object.assign({},yl):!1===se?Object.assign({},at):se,qr(z))return Xr(this.currentUrlTree,z,we);const $e=this.parseUrl(z);return Xr(this.currentUrlTree,$e,we)}removeEmptyProps(z){return Object.keys(z).reduce((se,we)=>{const $e=z[we];return null!=$e&&(se[we]=$e),se},{})}processNavigations(){this.navigations.subscribe(z=>{this.navigated=!0,this.lastSuccessfulId=z.id,this.currentPageId=z.targetPageId,this.events.next(new $t(z.id,this.serializeUrl(z.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,z.resolve(!0)},z=>{this.console.warn(`Unhandled Navigation Error: ${z}`)})}scheduleNavigation(z,se,we,$e,ct){var pt,un,jn;if(this.disposed)return Promise.resolve(!1);const qi=this.transitions.value,Qi=An(se)&&qi&&!An(qi.source),Sr=qi.rawUrl.toString()===z.toString(),jr=qi.id===(null===(pt=this.currentNavigation)||void 0===pt?void 0:pt.id);if(Qi&&Sr&&jr)return Promise.resolve(!0);let Ao,_o,Po;ct?(Ao=ct.resolve,_o=ct.reject,Po=ct.promise):Po=new Promise((Uo,Uu)=>{Ao=Uo,_o=Uu});const Da=++this.navigationId;let ko;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(we=this.location.getState()),ko=we&&we.\u0275routerPageId?we.\u0275routerPageId:$e.replaceUrl||$e.skipLocationChange?null!==(un=this.browserPageId)&&void 0!==un?un:0:(null!==(jn=this.browserPageId)&&void 0!==jn?jn:0)+1):ko=0,this.setTransition({id:Da,targetPageId:ko,source:se,restoredState:we,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:z,extras:$e,resolve:Ao,reject:_o,promise:Po,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Po.catch(Uo=>Promise.reject(Uo))}setBrowserUrl(z,se){const we=this.urlSerializer.serialize(z),$e=Object.assign(Object.assign({},se.extras.state),this.generateNgRouterState(se.id,se.targetPageId));this.location.isCurrentPathEqualTo(we)||se.extras.replaceUrl?this.location.replaceState(we,"",$e):this.location.go(we,"",$e)}restoreHistory(z,se=!1){var we,$e;if("computed"===this.canceledNavigationResolution){const ct=this.currentPageId-z.targetPageId;"popstate"!==z.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(we=this.currentNavigation)||void 0===we?void 0:we.finalUrl)||0===ct?this.currentUrlTree===(null===($e=this.currentNavigation)||void 0===$e?void 0:$e.finalUrl)&&0===ct&&(this.resetState(z),this.browserUrlTree=z.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(ct)}else"replace"===this.canceledNavigationResolution&&(se&&this.resetState(z),this.resetUrlToCurrentUrlTree())}resetState(z){this.routerState=z.currentRouterState,this.currentUrlTree=z.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,z.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(z,se){const we=new Dt(z.id,this.serializeUrl(z.extractedUrl),se);this.triggerEvent(we),z.resolve(!1)}generateNgRouterState(z,se){return"computed"===this.canceledNavigationResolution?{navigationId:z,\u0275routerPageId:se}:{navigationId:z}}}function An(me){return"imperative"!==me}Ot.\u0275fac=function(z){l.$Z()},Ot.\u0275prov=l.Yz7({token:Ot,factory:Ot.\u0275fac});class rn{constructor(z,se,we,$e,ct){this.router=z,this.route=se,this.tabIndexAttribute=we,this.renderer=$e,this.el=ct,this.commands=null,this.onChanges=new A.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(z){if(null!=this.tabIndexAttribute)return;const se=this.renderer,we=this.el.nativeElement;null!==z?se.setAttribute(we,"tabindex",z):se.removeAttribute(we,"tabindex")}ngOnChanges(z){this.onChanges.next(this)}set routerLink(z){null!=z?(this.commands=Array.isArray(z)?z:[z],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const z={skipLocationChange:Sn(this.skipLocationChange),replaceUrl:Sn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,z),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Sn(this.preserveFragment)})}}rn.\u0275fac=function(z){return new(z||rn)(l.Y36(Ot),l.Y36(Rt),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq))},rn.\u0275dir=l.lG2({type:rn,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(z,se){1&z&&l.NdJ("click",function(){return se.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[l.TTD]});class Mn{constructor(z,se,we){this.router=z,this.route=se,this.locationStrategy=we,this.commands=null,this.href=null,this.onChanges=new A.x,this.subscription=z.events.subscribe($e=>{$e instanceof $t&&this.updateTargetUrlAndHref()})}set routerLink(z){this.commands=null!=z?Array.isArray(z)?z:[z]:null}ngOnChanges(z){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(z,se,we,$e,ct){if(0!==z||se||we||$e||ct||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const pt={skipLocationChange:Sn(this.skipLocationChange),replaceUrl:Sn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,pt),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Sn(this.preserveFragment)})}}function Sn(me){return""===me||!!me}Mn.\u0275fac=function(z){return new(z||Mn)(l.Y36(Ot),l.Y36(Rt),l.Y36(Dn.S$))},Mn.\u0275dir=l.lG2({type:Mn,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(z,se){1&z&&l.NdJ("click",function($e){return se.onClick($e.button,$e.ctrlKey,$e.shiftKey,$e.altKey,$e.metaKey)}),2&z&&l.uIk("target",se.target)("href",se.href,l.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[l.TTD]});class gi{constructor(z,se,we,$e,ct,pt){this.router=z,this.element=se,this.renderer=we,this.cdr=$e,this.link=ct,this.linkWithHref=pt,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new l.vpe,this.routerEventsSubscription=z.events.subscribe(un=>{un instanceof $t&&this.update()})}ngAfterContentInit(){(0,_e.of)(this.links.changes,this.linksWithHrefs.changes,(0,_e.of)(null)).pipe((0,On.J)()).subscribe(z=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var z;null===(z=this.linkInputChangesSubscription)||void 0===z||z.unsubscribe();const se=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(we=>!!we).map(we=>we.onChanges);this.linkInputChangesSubscription=(0,b.D)(se).pipe((0,On.J)()).subscribe(we=>{this.isActive!==this.isLinkActive(this.router)(we)&&this.update()})}set routerLinkActive(z){const se=Array.isArray(z)?z:z.split(" ");this.classes=se.filter(we=>!!we)}ngOnChanges(z){this.update()}ngOnDestroy(){var z;this.routerEventsSubscription.unsubscribe(),null===(z=this.linkInputChangesSubscription)||void 0===z||z.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const z=this.hasActiveLinks();this.isActive!==z&&(this.isActive=z,this.cdr.markForCheck(),this.classes.forEach(se=>{z?this.renderer.addClass(this.element.nativeElement,se):this.renderer.removeClass(this.element.nativeElement,se)}),this.isActiveChange.emit(z))})}isLinkActive(z){const se=this.routerLinkActiveOptions.paths?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return we=>!!we.urlTree&&z.isActive(we.urlTree,se)}hasActiveLinks(){const z=this.isLinkActive(this.router);return this.link&&z(this.link)||this.linkWithHref&&z(this.linkWithHref)||this.links.some(z)||this.linksWithHrefs.some(z)}}gi.\u0275fac=function(z){return new(z||gi)(l.Y36(Ot),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.sBO),l.Y36(rn,8),l.Y36(Mn,8))},gi.\u0275dir=l.lG2({type:gi,selectors:[["","routerLinkActive",""]],contentQueries:function(z,se,we){if(1&z&&(l.Suo(we,rn,5),l.Suo(we,Mn,5)),2&z){let $e;l.iGM($e=l.CRH())&&(se.links=$e),l.iGM($e=l.CRH())&&(se.linksWithHrefs=$e)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[l.TTD]});class cr{}class br{preload(z,se){return(0,_e.of)(null)}}class Pr{constructor(z,se,we,$e){this.router=z,this.injector=we,this.preloadingStrategy=$e;this.loader=new Ii(we,se,un=>z.triggerEvent(new ee(un)),un=>z.triggerEvent(new pe(un)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,He.h)(z=>z instanceof $t),(0,nn.b)(()=>this.preload())).subscribe(()=>{})}preload(){const z=this.injector.get(l.h0i);return this.processRoutes(z,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(z,se){const we=[];for(const $e of se)if($e.loadChildren&&!$e.canLoad&&$e._loadedConfig){const ct=$e._loadedConfig;we.push(this.processRoutes(ct.module,ct.routes))}else $e.loadChildren&&!$e.canLoad?we.push(this.preloadConfig(z,$e)):$e.children&&we.push(this.processRoutes(z,$e.children));return(0,b.D)(we).pipe((0,On.J)(),(0,je.U)($e=>{}))}preloadConfig(z,se){return this.preloadingStrategy.preload(se,()=>(se._loadedConfig?(0,_e.of)(se._loadedConfig):this.loader.load(z.injector,se)).pipe((0,zt.z)($e=>(se._loadedConfig=$e,this.processRoutes($e.module,$e.routes)))))}}Pr.\u0275fac=function(z){return new(z||Pr)(l.LFG(Ot),l.LFG(l.Sil),l.LFG(l.zs3),l.LFG(cr))},Pr.\u0275prov=l.Yz7({token:Pr,factory:Pr.\u0275fac});class mr{constructor(z,se,we={}){this.router=z,this.viewportScroller=se,this.options=we,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},we.scrollPositionRestoration=we.scrollPositionRestoration||"disabled",we.anchorScrolling=we.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(z=>{z instanceof ge?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=z.navigationTrigger,this.restoredId=z.restoredState?z.restoredState.navigationId:0):z instanceof $t&&(this.lastId=z.id,this.scheduleScrollEvent(z,this.router.parseUrl(z.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(z=>{z instanceof jt&&(z.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(z.position):z.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(z.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(z,se){this.router.triggerEvent(new jt(z,"popstate"===this.lastSource?this.store[this.restoredId]:null,se))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}mr.\u0275fac=function(z){l.$Z()},mr.\u0275prov=l.Yz7({token:mr,factory:mr.\u0275fac});const vs=new l.OlP("ROUTER_CONFIGURATION"),co=new l.OlP("ROUTER_FORROOT_GUARD"),Do=[Dn.Ye,{provide:zi,useClass:_r},{provide:Ot,useFactory:function(me,z,se,we,$e,ct,pt={},un,jn){const qi=new Ot(null,me,z,se,we,$e,kn(ct));return un&&(qi.urlHandlingStrategy=un),jn&&(qi.routeReuseStrategy=jn),function(me,z){me.errorHandler&&(z.errorHandler=me.errorHandler),me.malformedUriErrorHandler&&(z.malformedUriErrorHandler=me.malformedUriErrorHandler),me.onSameUrlNavigation&&(z.onSameUrlNavigation=me.onSameUrlNavigation),me.paramsInheritanceStrategy&&(z.paramsInheritanceStrategy=me.paramsInheritanceStrategy),me.relativeLinkResolution&&(z.relativeLinkResolution=me.relativeLinkResolution),me.urlUpdateStrategy&&(z.urlUpdateStrategy=me.urlUpdateStrategy),me.canceledNavigationResolution&&(z.canceledNavigationResolution=me.canceledNavigationResolution)}(pt,qi),pt.enableTracing&&qi.events.subscribe(Qi=>{var Sr,jr;null===(Sr=console.group)||void 0===Sr||Sr.call(console,`Router Event: ${Qi.constructor.name}`),console.log(Qi.toString()),console.log(Qi),null===(jr=console.groupEnd)||void 0===jr||jr.call(console)}),qi},deps:[zi,ue,Dn.Ye,l.zs3,l.Sil,Cn,vs,[class{},new l.FiY],[class{},new l.FiY]]},ue,{provide:Rt,useFactory:function(me){return me.routerState.root},deps:[Ot]},Pr,br,class{preload(z,se){return se().pipe(Pe(()=>(0,_e.of)(null)))}},{provide:vs,useValue:{enableTracing:!1}}];function bs(){return new l.PXZ("Router",Ot)}class ho{constructor(z,se){}static forRoot(z,se){return{ngModule:ho,providers:[Do,El(z),{provide:co,useFactory:qa,deps:[[Ot,new l.FiY,new l.tp0]]},{provide:vs,useValue:se||{}},{provide:Dn.S$,useFactory:Fo,deps:[Dn.lw,[new l.tBr(Dn.mr),new l.FiY],vs]},{provide:mr,useFactory:vo,deps:[Ot,Dn.EM,vs]},{provide:cr,useExisting:se&&se.preloadingStrategy?se.preloadingStrategy:br},{provide:l.PXZ,multi:!0,useFactory:bs},[Cl,{provide:l.ip1,multi:!0,useFactory:wl,deps:[Cl]},{provide:ll,useFactory:Kl,deps:[Cl]},{provide:l.tb,multi:!0,useExisting:ll}]]}}static forChild(z){return{ngModule:ho,providers:[El(z)]}}}function vo(me,z,se){return se.scrollOffset&&z.setOffset(se.scrollOffset),new mr(me,z,se)}function Fo(me,z,se={}){return se.useHash?new Dn.Do(me,z):new Dn.b0(me,z)}function qa(me){return"guarded"}function El(me){return[{provide:l.deG,multi:!0,useValue:me},{provide:Cn,multi:!0,useValue:me}]}ho.\u0275fac=function(z){return new(z||ho)(l.LFG(co,8),l.LFG(Ot,8))},ho.\u0275mod=l.oAB({type:ho,declarations:[ve,rn,Mn,gi,Ge],exports:[ve,rn,Mn,gi,Ge]}),ho.\u0275inj=l.cJS({});class Cl{constructor(z){this.injector=z,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new A.x}appInitializer(){return this.injector.get(Dn.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let se=null;const we=new Promise(pt=>se=pt),$e=this.injector.get(Ot),ct=this.injector.get(vs);return"disabled"===ct.initialNavigation?($e.setUpLocationChangeListener(),se(!0)):"enabled"===ct.initialNavigation||"enabledBlocking"===ct.initialNavigation?($e.hooks.afterPreactivation=()=>this.initNavigation?(0,_e.of)(null):(this.initNavigation=!0,se(!0),this.resultOfPreactivationDone),$e.initialNavigation()):se(!0),we})}bootstrapListener(z){const se=this.injector.get(vs),we=this.injector.get(Pr),$e=this.injector.get(mr),ct=this.injector.get(Ot),pt=this.injector.get(l.z2F);z===pt.components[0]&&(("enabledNonBlocking"===se.initialNavigation||void 0===se.initialNavigation)&&ct.initialNavigation(),we.setUpPreloading(),$e.init(),ct.resetRootComponentType(pt.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}function wl(me){return me.appInitializer.bind(me)}function Kl(me){return me.bootstrapListener.bind(me)}Cl.\u0275fac=function(z){return new(z||Cl)(l.LFG(l.zs3))},Cl.\u0275prov=l.Yz7({token:Cl,factory:Cl.\u0275fac});const ll=new l.OlP("Router Initializer");new l.GfV("13.1.0")},2646:(V,k,L)=>{"use strict";L.d(k,{A0:()=>Is});var l=L(3184),A=L(587),j=L(7714);class I extends j.w0{constructor(he,ke){super()}schedule(he,ke=0){return this}}const m={setInterval(...Vt){const{delegate:he}=m;return((null==he?void 0:he.setInterval)||setInterval)(...Vt)},clearInterval(Vt){const{delegate:he}=m;return((null==he?void 0:he.clearInterval)||clearInterval)(Vt)},delegate:void 0};var b=L(9663);class v extends I{constructor(he,ke){super(he,ke),this.scheduler=he,this.work=ke,this.pending=!1}schedule(he,ke=0){if(this.closed)return this;this.state=he;const vt=this.id,Qt=this.scheduler;return null!=vt&&(this.id=this.recycleAsyncId(Qt,vt,ke)),this.pending=!0,this.delay=ke,this.id=this.id||this.requestAsyncId(Qt,this.id,ke),this}requestAsyncId(he,ke,vt=0){return m.setInterval(he.flush.bind(he,this),vt)}recycleAsyncId(he,ke,vt=0){if(null!=vt&&this.delay===vt&&!1===this.pending)return ke;m.clearInterval(ke)}execute(he,ke){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const vt=this._execute(he,ke);if(vt)return vt;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(he,ke){let Qt,vt=!1;try{this.work(he)}catch(yn){vt=!0,Qt=yn||new Error("Scheduled action threw falsy error")}if(vt)return this.unsubscribe(),Qt}unsubscribe(){if(!this.closed){const{id:he,scheduler:ke}=this,{actions:vt}=ke;this.work=this.state=this.scheduler=null,this.pending=!1,(0,b.P)(vt,this),null!=he&&(this.id=this.recycleAsyncId(ke,he,null)),this.delay=null,super.unsubscribe()}}}var w=L(7654);class T{constructor(he,ke=T.now){this.schedulerActionCtor=he,this.now=ke}schedule(he,ke=0,vt){return new this.schedulerActionCtor(this,he).schedule(vt,ke)}}T.now=w.l.now;class x extends T{constructor(he,ke=T.now){super(he,ke),this.actions=[],this._active=!1,this._scheduled=void 0}flush(he){const{actions:ke}=this;if(this._active)return void ke.push(he);let vt;this._active=!0;do{if(vt=he.execute(he.state,he.delay))break}while(he=ke.shift());if(this._active=!1,vt){for(;he=ke.shift();)he.unsubscribe();throw vt}}}const S=new x(v),N=S;var F=L(1944),U=L(4987),Y=L(3945);var be=L(3336),te=L(9867);function _e(Vt=0,he,ke=N){let vt=-1;return null!=he&&((0,te.K)(he)?ke=he:vt=he),new be.y(Qt=>{let yn=function(Vt){return Vt instanceof Date&&!isNaN(Vt)}(Vt)?+Vt-ke.now():Vt;yn<0&&(yn=0);let ui=0;return ke.schedule(function(){Qt.closed||(Qt.next(ui++),0<=vt?this.schedule(void 0,vt):Qt.complete())},yn)})}function Te(Vt,he=N){return function(Vt){return(0,F.e)((he,ke)=>{let vt=!1,Qt=null,yn=null,ui=!1;const Oi=()=>{if(null==yn||yn.unsubscribe(),yn=null,vt){vt=!1;const si=Qt;Qt=null,ke.next(si)}ui&&ke.complete()},Dr=()=>{yn=null,ui&&ke.complete()};he.subscribe(new Y.Q(ke,si=>{vt=!0,Qt=si,yn||(0,U.Xf)(Vt(si)).subscribe(yn=new Y.Q(ke,Oi,Dr))},()=>{ui=!0,(!vt||!yn||yn.closed)&&ke.complete()}))})}(()=>_e(Vt,he))}var G=L(8951),Ee=L(4874),Ie=L(9337),Le=L(116),ne=L(635);const Pe={schedule(Vt){let he=requestAnimationFrame,ke=cancelAnimationFrame;const{delegate:vt}=Pe;vt&&(he=vt.requestAnimationFrame,ke=vt.cancelAnimationFrame);const Qt=he(yn=>{ke=void 0,Vt(yn)});return new j.w0(()=>null==ke?void 0:ke(Qt))},requestAnimationFrame(...Vt){const{delegate:he}=Pe;return((null==he?void 0:he.requestAnimationFrame)||requestAnimationFrame)(...Vt)},cancelAnimationFrame(...Vt){const{delegate:he}=Pe;return((null==he?void 0:he.cancelAnimationFrame)||cancelAnimationFrame)(...Vt)},delegate:void 0};const dt=new class extends x{flush(he){this._active=!0,this._scheduled=void 0;const{actions:ke}=this;let vt,Qt=-1;he=he||ke.shift();const yn=ke.length;do{if(vt=he.execute(he.state,he.delay))break}while(++Qt<yn&&(he=ke.shift()));if(this._active=!1,vt){for(;++Qt<yn&&(he=ke.shift());)he.unsubscribe();throw vt}}}(class extends v{constructor(he,ke){super(he,ke),this.scheduler=he,this.work=ke}requestAsyncId(he,ke,vt=0){return null!==vt&&vt>0?super.requestAsyncId(he,ke,vt):(he.actions.push(this),he._scheduled||(he._scheduled=Pe.requestAnimationFrame(()=>he.flush(void 0))))}recycleAsyncId(he,ke,vt=0){if(null!=vt&&vt>0||null==vt&&this.delay>0)return super.recycleAsyncId(he,ke,vt);0===he.actions.length&&(Pe.cancelAnimationFrame(ke),he._scheduled=void 0)}});let wt,kt=1;const Pt={};function en(Vt){return Vt in Pt&&(delete Pt[Vt],!0)}const Nt={setImmediate(Vt){const he=kt++;return Pt[he]=!0,wt||(wt=Promise.resolve()),wt.then(()=>en(he)&&Vt()),he},clearImmediate(Vt){en(Vt)}},{setImmediate:Ft,clearImmediate:sn}=Nt,nn={setImmediate(...Vt){const{delegate:he}=nn;return((null==he?void 0:he.setImmediate)||Ft)(...Vt)},clearImmediate(Vt){const{delegate:he}=nn;return((null==he?void 0:he.clearImmediate)||sn)(Vt)},delegate:void 0};const On=new class extends x{flush(he){this._active=!0,this._scheduled=void 0;const{actions:ke}=this;let vt,Qt=-1;he=he||ke.shift();const yn=ke.length;do{if(vt=he.execute(he.state,he.delay))break}while(++Qt<yn&&(he=ke.shift()));if(this._active=!1,vt){for(;++Qt<yn&&(he=ke.shift());)he.unsubscribe();throw vt}}}(class extends v{constructor(he,ke){super(he,ke),this.scheduler=he,this.work=ke}requestAsyncId(he,ke,vt=0){return null!==vt&&vt>0?super.requestAsyncId(he,ke,vt):(he.actions.push(this),he._scheduled||(he._scheduled=nn.setImmediate(he.flush.bind(he,void 0))))}recycleAsyncId(he,ke,vt=0){if(null!=vt&&vt>0||null==vt&&this.delay>0)return super.recycleAsyncId(he,ke,vt);0===he.actions.length&&(nn.clearImmediate(ke),he._scheduled=void 0)}});var fi=L(9525),ge=L(9806),$t=L(2971),Dt=L(8385);const qe=["addListener","removeListener"],We=["addEventListener","removeEventListener"],_t=["on","off"];function St(Vt,he,ke,vt){if((0,$t.m)(ke)&&(vt=ke,ke=void 0),vt)return St(Vt,he,ke).pipe((0,Dt.Z)(vt));const[Qt,yn]=function(Vt){return(0,$t.m)(Vt.addEventListener)&&(0,$t.m)(Vt.removeEventListener)}(Vt)?We.map(ui=>Oi=>Vt[ui](he,Oi,ke)):function(Vt){return(0,$t.m)(Vt.addListener)&&(0,$t.m)(Vt.removeListener)}(Vt)?qe.map(Ht(Vt,he)):function(Vt){return(0,$t.m)(Vt.on)&&(0,$t.m)(Vt.off)}(Vt)?_t.map(Ht(Vt,he)):[];if(!Qt&&(0,ge.z)(Vt))return(0,fi.z)(ui=>St(ui,he,ke))((0,U.Xf)(Vt));if(!Qt)throw new TypeError("Invalid event target");return new be.y(ui=>{const Oi=(...Dr)=>ui.next(1<Dr.length?Dr:Dr[0]);return Qt(Oi),()=>yn(Oi)})}function Ht(Vt,he){return ke=>vt=>Vt[ke](he,vt)}var xe=L(253),Ce=L(6646),Je=L(6362);const lt=["content"],jt=["scroll"],Oe=["padding"],Fe=function(Vt){return{searchTerm:Vt}};function ut(Vt,he){if(1&Vt&&(l.TgZ(0,"div",6),l.GkF(1,7),l.qZA()),2&Vt){const ke=l.oxw();l.xp6(1),l.Q6J("ngTemplateOutlet",ke.headerTemplate)("ngTemplateOutletContext",l.VKq(2,Fe,ke.filterValue))}}function It(Vt,he){if(1&Vt&&(l.TgZ(0,"div",8),l.GkF(1,7),l.qZA()),2&Vt){const ke=l.oxw();l.xp6(1),l.Q6J("ngTemplateOutlet",ke.footerTemplate)("ngTemplateOutletContext",l.VKq(2,Fe,ke.filterValue))}}const cn=["*"],Nn=["searchInput"];function _n(Vt,he){if(1&Vt){const ke=l.EpF();l.TgZ(0,"span",15),l.NdJ("click",function(){l.CHM(ke);const Qt=l.oxw().$implicit;return l.oxw(2).unselect(Qt)}),l._uU(1,"\xd7"),l.qZA(),l._UZ(2,"span",16)}if(2&Vt){const ke=l.oxw().$implicit,vt=l.oxw(2);l.xp6(2),l.Q6J("ngItemLabel",ke.label)("escape",vt.escapeHTML)}}function Fn(Vt,he){}const Hn=function(Vt,he,ke){return{item:Vt,clear:he,label:ke}};function Tn(Vt,he){if(1&Vt&&(l.TgZ(0,"div",12),l.YNc(1,_n,3,2,"ng-template",null,13,l.W1O),l.YNc(3,Fn,0,0,"ng-template",14),l.qZA()),2&Vt){const ke=he.$implicit,vt=l.MAs(2),Qt=l.oxw(2);l.ekj("ng-value-disabled",ke.disabled),l.xp6(3),l.Q6J("ngTemplateOutlet",Qt.labelTemplate||vt)("ngTemplateOutletContext",l.kEZ(4,Hn,ke.value,Qt.clearItem,ke.label))}}function kn(Vt,he){if(1&Vt&&(l.ynx(0),l.YNc(1,Tn,4,8,"div",11),l.BQk()),2&Vt){const ke=l.oxw();l.xp6(1),l.Q6J("ngForOf",ke.selectedItems)("ngForTrackBy",ke.trackByOption)}}function xn(Vt,he){}const hr=function(Vt,he){return{items:Vt,clear:he}};function $i(Vt,he){if(1&Vt&&l.YNc(0,xn,0,0,"ng-template",14),2&Vt){const ke=l.oxw();l.Q6J("ngTemplateOutlet",ke.multiLabelTemplate)("ngTemplateOutletContext",l.WLB(2,hr,ke.selectedValues,ke.clearItem))}}function kr(Vt,he){1&Vt&&l._UZ(0,"div",19)}function yr(Vt,he){}function xr(Vt,he){if(1&Vt&&(l.ynx(0),l.YNc(1,kr,1,0,"ng-template",null,17,l.W1O),l.YNc(3,yr,0,0,"ng-template",18),l.BQk()),2&Vt){const ke=l.MAs(2),vt=l.oxw();l.xp6(3),l.Q6J("ngTemplateOutlet",vt.loadingSpinnerTemplate||ke)}}function rr(Vt,he){if(1&Vt&&(l.TgZ(0,"span",20),l.TgZ(1,"span",21),l._uU(2,"\xd7"),l.qZA(),l.qZA()),2&Vt){const ke=l.oxw();l.s9C("title",ke.clearAllText)}}function Xr(Vt,he){if(1&Vt&&l._UZ(0,"span",27),2&Vt){const ke=l.oxw().$implicit,vt=l.oxw(2);l.Q6J("ngItemLabel",ke.label)("escape",vt.escapeHTML)}}function es(Vt,he){}const Yi=function(Vt,he,ke,vt){return{item:Vt,item$:he,index:ke,searchTerm:vt}};function Hs(Vt,he){if(1&Vt){const ke=l.EpF();l.TgZ(0,"div",25),l.NdJ("click",function(){const yn=l.CHM(ke).$implicit;return l.oxw(2).toggleItem(yn)})("mouseover",function(){const yn=l.CHM(ke).$implicit;return l.oxw(2).onItemHover(yn)}),l.YNc(1,Xr,1,2,"ng-template",null,26,l.W1O),l.YNc(3,es,0,0,"ng-template",14),l.qZA()}if(2&Vt){const ke=he.$implicit,vt=l.MAs(2),Qt=l.oxw(2);l.ekj("ng-option-disabled",ke.disabled)("ng-option-selected",ke.selected)("ng-optgroup",ke.children)("ng-option",!ke.children)("ng-option-child",!!ke.parent)("ng-option-marked",ke===Qt.itemsList.markedItem),l.uIk("role",ke.children?"group":"option")("aria-selected",ke.selected)("id",null==ke?null:ke.htmlId),l.xp6(3),l.Q6J("ngTemplateOutlet",ke.children?Qt.optgroupTemplate||vt:Qt.optionTemplate||vt)("ngTemplateOutletContext",l.l5B(17,Yi,ke.value,ke,ke.index,Qt.searchTerm))}}function ps(Vt,he){if(1&Vt&&(l.TgZ(0,"span"),l.TgZ(1,"span",30),l._uU(2),l.qZA(),l._uU(3),l.qZA()),2&Vt){const ke=l.oxw(3);l.xp6(2),l.Oqu(ke.addTagText),l.xp6(1),l.hij('"',ke.searchTerm,'"')}}function Or(Vt,he){}function bn(Vt,he){if(1&Vt){const ke=l.EpF();l.TgZ(0,"div",28),l.NdJ("mouseover",function(){return l.CHM(ke),l.oxw(2).itemsList.unmarkItem()})("click",function(){return l.CHM(ke),l.oxw(2).selectTag()}),l.YNc(1,ps,4,2,"ng-template",null,29,l.W1O),l.YNc(3,Or,0,0,"ng-template",14),l.qZA()}if(2&Vt){const ke=l.MAs(2),vt=l.oxw(2);l.ekj("ng-option-marked",!vt.itemsList.markedItem),l.xp6(3),l.Q6J("ngTemplateOutlet",vt.tagTemplate||ke)("ngTemplateOutletContext",l.VKq(4,Fe,vt.searchTerm))}}function Qe(Vt,he){if(1&Vt&&(l.TgZ(0,"div",32),l._uU(1),l.qZA()),2&Vt){const ke=l.oxw(3);l.xp6(1),l.Oqu(ke.notFoundText)}}function ft(Vt,he){}function mn(Vt,he){if(1&Vt&&(l.ynx(0),l.YNc(1,Qe,2,1,"ng-template",null,31,l.W1O),l.YNc(3,ft,0,0,"ng-template",14),l.BQk()),2&Vt){const ke=l.MAs(2),vt=l.oxw(2);l.xp6(3),l.Q6J("ngTemplateOutlet",vt.notFoundTemplate||ke)("ngTemplateOutletContext",l.VKq(2,Fe,vt.searchTerm))}}function Wt(Vt,he){if(1&Vt&&(l.TgZ(0,"div",32),l._uU(1),l.qZA()),2&Vt){const ke=l.oxw(3);l.xp6(1),l.Oqu(ke.typeToSearchText)}}function Di(Vt,he){}function di(Vt,he){if(1&Vt&&(l.ynx(0),l.YNc(1,Wt,2,1,"ng-template",null,33,l.W1O),l.YNc(3,Di,0,0,"ng-template",18),l.BQk()),2&Vt){const ke=l.MAs(2),vt=l.oxw(2);l.xp6(3),l.Q6J("ngTemplateOutlet",vt.typeToSearchTemplate||ke)}}function zi(Vt,he){if(1&Vt&&(l.TgZ(0,"div",32),l._uU(1),l.qZA()),2&Vt){const ke=l.oxw(3);l.xp6(1),l.Oqu(ke.loadingText)}}function _r(Vt,he){}function yo(Vt,he){if(1&Vt&&(l.ynx(0),l.YNc(1,zi,2,1,"ng-template",null,34,l.W1O),l.YNc(3,_r,0,0,"ng-template",14),l.BQk()),2&Vt){const ke=l.MAs(2),vt=l.oxw(2);l.xp6(3),l.Q6J("ngTemplateOutlet",vt.loadingTextTemplate||ke)("ngTemplateOutletContext",l.VKq(2,Fe,vt.searchTerm))}}function sr(Vt,he){if(1&Vt){const ke=l.EpF();l.TgZ(0,"ng-dropdown-panel",22),l.NdJ("update",function(Qt){l.CHM(ke);return l.oxw().viewPortItems=Qt})("scroll",function(Qt){return l.CHM(ke),l.oxw().scroll.emit(Qt)})("scrollToEnd",function(Qt){return l.CHM(ke),l.oxw().scrollToEnd.emit(Qt)})("outsideClick",function(){return l.CHM(ke),l.oxw().close()}),l.ynx(1),l.YNc(2,Hs,4,22,"div",23),l.YNc(3,bn,4,6,"div",24),l.BQk(),l.YNc(4,mn,4,4,"ng-container",3),l.YNc(5,di,4,1,"ng-container",3),l.YNc(6,yo,4,4,"ng-container",3),l.qZA()}if(2&Vt){const ke=l.oxw();l.ekj("ng-select-multiple",ke.multiple),l.Q6J("virtualScroll",ke.virtualScroll)("bufferAmount",ke.bufferAmount)("appendTo",ke.appendTo)("position",ke.dropdownPosition)("headerTemplate",ke.headerTemplate)("footerTemplate",ke.footerTemplate)("filterValue",ke.searchTerm)("items",ke.itemsList.filteredItems)("markedItem",ke.itemsList.markedItem)("ngClass",ke.appendTo?ke.classes:null)("id",ke.dropdownId),l.xp6(2),l.Q6J("ngForOf",ke.viewPortItems)("ngForTrackBy",ke.trackByOption),l.xp6(1),l.Q6J("ngIf",ke.showAddTag),l.xp6(1),l.Q6J("ngIf",ke.showNoItemsFound()),l.xp6(1),l.Q6J("ngIf",ke.showTypeToSearch()),l.xp6(1),l.Q6J("ngIf",ke.loading&&0===ke.itemsList.filteredItems.length)}}const Qr=/[&<>"']/g,Ts=RegExp(Qr.source),Zr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Hi(Vt){return null!=Vt}function Zn(Vt){return"object"==typeof Vt&&Hi(Vt)}function pr(Vt){return Vt instanceof Function}class ts{constructor(he){this.element=he,this.escape=!0}ngOnChanges(he){var Vt;this.element.nativeElement.innerHTML=this.escape?(Vt=this.ngItemLabel)&&Ts.test(Vt)?Vt.replace(Qr,he=>Zr[he]):Vt:this.ngItemLabel}}ts.\u0275fac=function(he){return new(he||ts)(l.Y36(l.SBq))},ts.\u0275dir=l.lG2({type:ts,selectors:[["","ngItemLabel",""]],inputs:{ngItemLabel:"ngItemLabel",escape:"escape"},features:[l.TTD]});class Jr{constructor(he){this.template=he}}Jr.\u0275fac=function(he){return new(he||Jr)(l.Y36(l.Rgc))},Jr.\u0275dir=l.lG2({type:Jr,selectors:[["","ng-option-tmp",""]]});class Lr{constructor(he){this.template=he}}Lr.\u0275fac=function(he){return new(he||Lr)(l.Y36(l.Rgc))},Lr.\u0275dir=l.lG2({type:Lr,selectors:[["","ng-optgroup-tmp",""]]});class ls{constructor(he){this.template=he}}ls.\u0275fac=function(he){return new(he||ls)(l.Y36(l.Rgc))},ls.\u0275dir=l.lG2({type:ls,selectors:[["","ng-label-tmp",""]]});class or{constructor(he){this.template=he}}or.\u0275fac=function(he){return new(he||or)(l.Y36(l.Rgc))},or.\u0275dir=l.lG2({type:or,selectors:[["","ng-multi-label-tmp",""]]});class lr{constructor(he){this.template=he}}lr.\u0275fac=function(he){return new(he||lr)(l.Y36(l.Rgc))},lr.\u0275dir=l.lG2({type:lr,selectors:[["","ng-header-tmp",""]]});class ns{constructor(he){this.template=he}}ns.\u0275fac=function(he){return new(he||ns)(l.Y36(l.Rgc))},ns.\u0275dir=l.lG2({type:ns,selectors:[["","ng-footer-tmp",""]]});class ai{constructor(he){this.template=he}}ai.\u0275fac=function(he){return new(he||ai)(l.Y36(l.Rgc))},ai.\u0275dir=l.lG2({type:ai,selectors:[["","ng-notfound-tmp",""]]});class Xi{constructor(he){this.template=he}}Xi.\u0275fac=function(he){return new(he||Xi)(l.Y36(l.Rgc))},Xi.\u0275dir=l.lG2({type:Xi,selectors:[["","ng-typetosearch-tmp",""]]});class ji{constructor(he){this.template=he}}ji.\u0275fac=function(he){return new(he||ji)(l.Y36(l.Rgc))},ji.\u0275dir=l.lG2({type:ji,selectors:[["","ng-loadingtext-tmp",""]]});class Er{constructor(he){this.template=he}}Er.\u0275fac=function(he){return new(he||Er)(l.Y36(l.Rgc))},Er.\u0275dir=l.lG2({type:Er,selectors:[["","ng-tag-tmp",""]]});class Bi{constructor(he){this.template=he}}function ar(){return"axxxxxxxxxxx".replace(/[x]/g,()=>(16*Math.random()|0).toString(16))}Bi.\u0275fac=function(he){return new(he||Bi)(l.Y36(l.Rgc))},Bi.\u0275dir=l.lG2({type:Bi,selectors:[["","ng-loadingspinner-tmp",""]]});const ki={"\u24b6":"A",\uff21:"A",\u00c0:"A",\u00c1:"A",\u00c2:"A",\u1ea6:"A",\u1ea4:"A",\u1eaa:"A",\u1ea8:"A",\u00c3:"A",\u0100:"A",\u0102:"A",\u1eb0:"A",\u1eae:"A",\u1eb4:"A",\u1eb2:"A",\u0226:"A",\u01e0:"A",\u00c4:"A",\u01de:"A",\u1ea2:"A",\u00c5:"A",\u01fa:"A",\u01cd:"A",\u0200:"A",\u0202:"A",\u1ea0:"A",\u1eac:"A",\u1eb6:"A",\u1e00:"A",\u0104:"A",\u023a:"A",\u2c6f:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY","\u24b7":"B",\uff22:"B",\u1e02:"B",\u1e04:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0181:"B","\u24b8":"C",\uff23:"C",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0187:"C",\u023b:"C",\ua73e:"C","\u24b9":"D",\uff24:"D",\u1e0a:"D",\u010e:"D",\u1e0c:"D",\u1e10:"D",\u1e12:"D",\u1e0e:"D",\u0110:"D",\u018b:"D",\u018a:"D",\u0189:"D",\ua779:"D",\u01f1:"DZ",\u01c4:"DZ",\u01f2:"Dz",\u01c5:"Dz","\u24ba":"E",\uff25:"E",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u1ec0:"E",\u1ebe:"E",\u1ec4:"E",\u1ec2:"E",\u1ebc:"E",\u0112:"E",\u1e14:"E",\u1e16:"E",\u0114:"E",\u0116:"E",\u00cb:"E",\u1eba:"E",\u011a:"E",\u0204:"E",\u0206:"E",\u1eb8:"E",\u1ec6:"E",\u0228:"E",\u1e1c:"E",\u0118:"E",\u1e18:"E",\u1e1a:"E",\u0190:"E",\u018e:"E","\u24bb":"F",\uff26:"F",\u1e1e:"F",\u0191:"F",\ua77b:"F","\u24bc":"G",\uff27:"G",\u01f4:"G",\u011c:"G",\u1e20:"G",\u011e:"G",\u0120:"G",\u01e6:"G",\u0122:"G",\u01e4:"G",\u0193:"G",\ua7a0:"G",\ua77d:"G",\ua77e:"G","\u24bd":"H",\uff28:"H",\u0124:"H",\u1e22:"H",\u1e26:"H",\u021e:"H",\u1e24:"H",\u1e28:"H",\u1e2a:"H",\u0126:"H",\u2c67:"H",\u2c75:"H",\ua78d:"H","\u24be":"I",\uff29:"I",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u0128:"I",\u012a:"I",\u012c:"I",\u0130:"I",\u00cf:"I",\u1e2e:"I",\u1ec8:"I",\u01cf:"I",\u0208:"I",\u020a:"I",\u1eca:"I",\u012e:"I",\u1e2c:"I",\u0197:"I","\u24bf":"J",\uff2a:"J",\u0134:"J",\u0248:"J","\u24c0":"K",\uff2b:"K",\u1e30:"K",\u01e8:"K",\u1e32:"K",\u0136:"K",\u1e34:"K",\u0198:"K",\u2c69:"K",\ua740:"K",\ua742:"K",\ua744:"K",\ua7a2:"K","\u24c1":"L",\uff2c:"L",\u013f:"L",\u0139:"L",\u013d:"L",\u1e36:"L",\u1e38:"L",\u013b:"L",\u1e3c:"L",\u1e3a:"L",\u0141:"L",\u023d:"L",\u2c62:"L",\u2c60:"L",\ua748:"L",\ua746:"L",\ua780:"L",\u01c7:"LJ",\u01c8:"Lj","\u24c2":"M",\uff2d:"M",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u019c:"M","\u24c3":"N",\uff2e:"N",\u01f8:"N",\u0143:"N",\u00d1:"N",\u1e44:"N",\u0147:"N",\u1e46:"N",\u0145:"N",\u1e4a:"N",\u1e48:"N",\u0220:"N",\u019d:"N",\ua790:"N",\ua7a4:"N",\u01ca:"NJ",\u01cb:"Nj","\u24c4":"O",\uff2f:"O",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u1ed2:"O",\u1ed0:"O",\u1ed6:"O",\u1ed4:"O",\u00d5:"O",\u1e4c:"O",\u022c:"O",\u1e4e:"O",\u014c:"O",\u1e50:"O",\u1e52:"O",\u014e:"O",\u022e:"O",\u0230:"O",\u00d6:"O",\u022a:"O",\u1ece:"O",\u0150:"O",\u01d1:"O",\u020c:"O",\u020e:"O",\u01a0:"O",\u1edc:"O",\u1eda:"O",\u1ee0:"O",\u1ede:"O",\u1ee2:"O",\u1ecc:"O",\u1ed8:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u0186:"O",\u019f:"O",\ua74a:"O",\ua74c:"O",\u01a2:"OI",\ua74e:"OO",\u0222:"OU","\u24c5":"P",\uff30:"P",\u1e54:"P",\u1e56:"P",\u01a4:"P",\u2c63:"P",\ua750:"P",\ua752:"P",\ua754:"P","\u24c6":"Q",\uff31:"Q",\ua756:"Q",\ua758:"Q",\u024a:"Q","\u24c7":"R",\uff32:"R",\u0154:"R",\u1e58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1e5a:"R",\u1e5c:"R",\u0156:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua75a:"R",\ua7a6:"R",\ua782:"R","\u24c8":"S",\uff33:"S",\u1e9e:"S",\u015a:"S",\u1e64:"S",\u015c:"S",\u1e60:"S",\u0160:"S",\u1e66:"S",\u1e62:"S",\u1e68:"S",\u0218:"S",\u015e:"S",\u2c7e:"S",\ua7a8:"S",\ua784:"S","\u24c9":"T",\uff34:"T",\u1e6a:"T",\u0164:"T",\u1e6c:"T",\u021a:"T",\u0162:"T",\u1e70:"T",\u1e6e:"T",\u0166:"T",\u01ac:"T",\u01ae:"T",\u023e:"T",\ua786:"T",\ua728:"TZ","\u24ca":"U",\uff35:"U",\u00d9:"U",\u00da:"U",\u00db:"U",\u0168:"U",\u1e78:"U",\u016a:"U",\u1e7a:"U",\u016c:"U",\u00dc:"U",\u01db:"U",\u01d7:"U",\u01d5:"U",\u01d9:"U",\u1ee6:"U",\u016e:"U",\u0170:"U",\u01d3:"U",\u0214:"U",\u0216:"U",\u01af:"U",\u1eea:"U",\u1ee8:"U",\u1eee:"U",\u1eec:"U",\u1ef0:"U",\u1ee4:"U",\u1e72:"U",\u0172:"U",\u1e76:"U",\u1e74:"U",\u0244:"U","\u24cb":"V",\uff36:"V",\u1e7c:"V",\u1e7e:"V",\u01b2:"V",\ua75e:"V",\u0245:"V",\ua760:"VY","\u24cc":"W",\uff37:"W",\u1e80:"W",\u1e82:"W",\u0174:"W",\u1e86:"W",\u1e84:"W",\u1e88:"W",\u2c72:"W","\u24cd":"X",\uff38:"X",\u1e8a:"X",\u1e8c:"X","\u24ce":"Y",\uff39:"Y",\u1ef2:"Y",\u00dd:"Y",\u0176:"Y",\u1ef8:"Y",\u0232:"Y",\u1e8e:"Y",\u0178:"Y",\u1ef6:"Y",\u1ef4:"Y",\u01b3:"Y",\u024e:"Y",\u1efe:"Y","\u24cf":"Z",\uff3a:"Z",\u0179:"Z",\u1e90:"Z",\u017b:"Z",\u017d:"Z",\u1e92:"Z",\u1e94:"Z",\u01b5:"Z",\u0224:"Z",\u2c7f:"Z",\u2c6b:"Z",\ua762:"Z","\u24d0":"a",\uff41:"a",\u1e9a:"a",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u1ea7:"a",\u1ea5:"a",\u1eab:"a",\u1ea9:"a",\u00e3:"a",\u0101:"a",\u0103:"a",\u1eb1:"a",\u1eaf:"a",\u1eb5:"a",\u1eb3:"a",\u0227:"a",\u01e1:"a",\u00e4:"a",\u01df:"a",\u1ea3:"a",\u00e5:"a",\u01fb:"a",\u01ce:"a",\u0201:"a",\u0203:"a",\u1ea1:"a",\u1ead:"a",\u1eb7:"a",\u1e01:"a",\u0105:"a",\u2c65:"a",\u0250:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay","\u24d1":"b",\uff42:"b",\u1e03:"b",\u1e05:"b",\u1e07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24d2":"c",\uff43:"c",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0188:"c",\u023c:"c",\ua73f:"c",\u2184:"c","\u24d3":"d",\uff44:"d",\u1e0b:"d",\u010f:"d",\u1e0d:"d",\u1e11:"d",\u1e13:"d",\u1e0f:"d",\u0111:"d",\u018c:"d",\u0256:"d",\u0257:"d",\ua77a:"d",\u01f3:"dz",\u01c6:"dz","\u24d4":"e",\uff45:"e",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u1ec1:"e",\u1ebf:"e",\u1ec5:"e",\u1ec3:"e",\u1ebd:"e",\u0113:"e",\u1e15:"e",\u1e17:"e",\u0115:"e",\u0117:"e",\u00eb:"e",\u1ebb:"e",\u011b:"e",\u0205:"e",\u0207:"e",\u1eb9:"e",\u1ec7:"e",\u0229:"e",\u1e1d:"e",\u0119:"e",\u1e19:"e",\u1e1b:"e",\u0247:"e",\u025b:"e",\u01dd:"e","\u24d5":"f",\uff46:"f",\u1e1f:"f",\u0192:"f",\ua77c:"f","\u24d6":"g",\uff47:"g",\u01f5:"g",\u011d:"g",\u1e21:"g",\u011f:"g",\u0121:"g",\u01e7:"g",\u0123:"g",\u01e5:"g",\u0260:"g",\ua7a1:"g",\u1d79:"g",\ua77f:"g","\u24d7":"h",\uff48:"h",\u0125:"h",\u1e23:"h",\u1e27:"h",\u021f:"h",\u1e25:"h",\u1e29:"h",\u1e2b:"h",\u1e96:"h",\u0127:"h",\u2c68:"h",\u2c76:"h",\u0265:"h",\u0195:"hv","\u24d8":"i",\uff49:"i",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u0129:"i",\u012b:"i",\u012d:"i",\u00ef:"i",\u1e2f:"i",\u1ec9:"i",\u01d0:"i",\u0209:"i",\u020b:"i",\u1ecb:"i",\u012f:"i",\u1e2d:"i",\u0268:"i",\u0131:"i","\u24d9":"j",\uff4a:"j",\u0135:"j",\u01f0:"j",\u0249:"j","\u24da":"k",\uff4b:"k",\u1e31:"k",\u01e9:"k",\u1e33:"k",\u0137:"k",\u1e35:"k",\u0199:"k",\u2c6a:"k",\ua741:"k",\ua743:"k",\ua745:"k",\ua7a3:"k","\u24db":"l",\uff4c:"l",\u0140:"l",\u013a:"l",\u013e:"l",\u1e37:"l",\u1e39:"l",\u013c:"l",\u1e3d:"l",\u1e3b:"l",\u017f:"l",\u0142:"l",\u019a:"l",\u026b:"l",\u2c61:"l",\ua749:"l",\ua781:"l",\ua747:"l",\u01c9:"lj","\u24dc":"m",\uff4d:"m",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u026f:"m","\u24dd":"n",\uff4e:"n",\u01f9:"n",\u0144:"n",\u00f1:"n",\u1e45:"n",\u0148:"n",\u1e47:"n",\u0146:"n",\u1e4b:"n",\u1e49:"n",\u019e:"n",\u0272:"n",\u0149:"n",\ua791:"n",\ua7a5:"n",\u01cc:"nj","\u24de":"o",\uff4f:"o",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u1ed3:"o",\u1ed1:"o",\u1ed7:"o",\u1ed5:"o",\u00f5:"o",\u1e4d:"o",\u022d:"o",\u1e4f:"o",\u014d:"o",\u1e51:"o",\u1e53:"o",\u014f:"o",\u022f:"o",\u0231:"o",\u00f6:"o",\u022b:"o",\u1ecf:"o",\u0151:"o",\u01d2:"o",\u020d:"o",\u020f:"o",\u01a1:"o",\u1edd:"o",\u1edb:"o",\u1ee1:"o",\u1edf:"o",\u1ee3:"o",\u1ecd:"o",\u1ed9:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u0254:"o",\ua74b:"o",\ua74d:"o",\u0275:"o",\u01a3:"oi",\u0223:"ou",\ua74f:"oo","\u24df":"p",\uff50:"p",\u1e55:"p",\u1e57:"p",\u01a5:"p",\u1d7d:"p",\ua751:"p",\ua753:"p",\ua755:"p","\u24e0":"q",\uff51:"q",\u024b:"q",\ua757:"q",\ua759:"q","\u24e1":"r",\uff52:"r",\u0155:"r",\u1e59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1e5b:"r",\u1e5d:"r",\u0157:"r",\u1e5f:"r",\u024d:"r",\u027d:"r",\ua75b:"r",\ua7a7:"r",\ua783:"r","\u24e2":"s",\uff53:"s",\u00df:"s",\u015b:"s",\u1e65:"s",\u015d:"s",\u1e61:"s",\u0161:"s",\u1e67:"s",\u1e63:"s",\u1e69:"s",\u0219:"s",\u015f:"s",\u023f:"s",\ua7a9:"s",\ua785:"s",\u1e9b:"s","\u24e3":"t",\uff54:"t",\u1e6b:"t",\u1e97:"t",\u0165:"t",\u1e6d:"t",\u021b:"t",\u0163:"t",\u1e71:"t",\u1e6f:"t",\u0167:"t",\u01ad:"t",\u0288:"t",\u2c66:"t",\ua787:"t",\ua729:"tz","\u24e4":"u",\uff55:"u",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u0169:"u",\u1e79:"u",\u016b:"u",\u1e7b:"u",\u016d:"u",\u00fc:"u",\u01dc:"u",\u01d8:"u",\u01d6:"u",\u01da:"u",\u1ee7:"u",\u016f:"u",\u0171:"u",\u01d4:"u",\u0215:"u",\u0217:"u",\u01b0:"u",\u1eeb:"u",\u1ee9:"u",\u1eef:"u",\u1eed:"u",\u1ef1:"u",\u1ee5:"u",\u1e73:"u",\u0173:"u",\u1e77:"u",\u1e75:"u",\u0289:"u","\u24e5":"v",\uff56:"v",\u1e7d:"v",\u1e7f:"v",\u028b:"v",\ua75f:"v",\u028c:"v",\ua761:"vy","\u24e6":"w",\uff57:"w",\u1e81:"w",\u1e83:"w",\u0175:"w",\u1e87:"w",\u1e85:"w",\u1e98:"w",\u1e89:"w",\u2c73:"w","\u24e7":"x",\uff58:"x",\u1e8b:"x",\u1e8d:"x","\u24e8":"y",\uff59:"y",\u1ef3:"y",\u00fd:"y",\u0177:"y",\u1ef9:"y",\u0233:"y",\u1e8f:"y",\u00ff:"y",\u1ef7:"y",\u1e99:"y",\u1ef5:"y",\u01b4:"y",\u024f:"y",\u1eff:"y","\u24e9":"z",\uff5a:"z",\u017a:"z",\u1e91:"z",\u017c:"z",\u017e:"z",\u1e93:"z",\u1e95:"z",\u01b6:"z",\u0225:"z",\u0240:"z",\u2c6c:"z",\ua763:"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038a:"\u0399",\u03aa:"\u0399",\u038c:"\u039f",\u038e:"\u03a5",\u03ab:"\u03a5",\u038f:"\u03a9",\u03ac:"\u03b1",\u03ad:"\u03b5",\u03ae:"\u03b7",\u03af:"\u03b9",\u03ca:"\u03b9",\u0390:"\u03b9",\u03cc:"\u03bf",\u03cd:"\u03c5",\u03cb:"\u03c5",\u03b0:"\u03c5",\u03c9:"\u03c9",\u03c2:"\u03c3"};function Rr(Vt){return Vt.replace(/[^\u0000-\u007E]/g,ke=>ki[ke]||ke)}class is{constructor(he,ke){this._ngSelect=he,this._selectionModel=ke,this._items=[],this._filteredItems=[],this._markedIndex=-1}get items(){return this._items}get filteredItems(){return this._filteredItems}get markedIndex(){return this._markedIndex}get selectedItems(){return this._selectionModel.value}get markedItem(){return this._filteredItems[this._markedIndex]}get noItemsToSelect(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}get maxItemsSelected(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}get lastSelectedItem(){let he=this.selectedItems.length-1;for(;he>=0;he--){const ke=this.selectedItems[he];if(!ke.disabled)return ke}return null}setItems(he){this._items=he.map((ke,vt)=>this.mapItem(ke,vt)),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=[...this._items]}select(he){if(he.selected||this.maxItemsSelected)return;const ke=this._ngSelect.multiple;ke||this.clearSelected(),this._selectionModel.select(he,ke,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(he)}unselect(he){!he.selected||(this._selectionModel.unselect(he,this._ngSelect.multiple),this._ngSelect.hideSelected&&Hi(he.index)&&this._ngSelect.multiple&&this._showSelected(he))}findItem(he){let ke;return ke=this._ngSelect.compareWith?vt=>this._ngSelect.compareWith(vt.value,he):this._ngSelect.bindValue?vt=>!vt.children&&this.resolveNested(vt.value,this._ngSelect.bindValue)===he:vt=>vt.value===he||!vt.children&&vt.label&&vt.label===this.resolveNested(he,this._ngSelect.bindLabel),this._items.find(vt=>ke(vt))}addItem(he){const ke=this.mapItem(he,this._items.length);return this._items.push(ke),this._filteredItems.push(ke),ke}clearSelected(he=!1){this._selectionModel.clear(he),this._items.forEach(ke=>{ke.selected=he&&ke.selected&&ke.disabled,ke.marked=!1}),this._ngSelect.hideSelected&&this.resetFilteredItems()}findByLabel(he){return he=Rr(he).toLocaleLowerCase(),this.filteredItems.find(ke=>Rr(ke.label).toLocaleLowerCase().substr(0,he.length)===he)}filter(he){if(!he)return void this.resetFilteredItems();this._filteredItems=[],he=this._ngSelect.searchFn?he:Rr(he).toLocaleLowerCase();const ke=this._ngSelect.searchFn||this._defaultSearchFn,vt=this._ngSelect.hideSelected;for(const Qt of Array.from(this._groups.keys())){const yn=[];for(const ui of this._groups.get(Qt)){if(vt&&(ui.parent&&ui.parent.selected||ui.selected))continue;ke(he,this._ngSelect.searchFn?ui.value:ui)&&yn.push(ui)}if(yn.length>0){const[ui]=yn.slice(-1);if(ui.parent){const Oi=this._items.find(Dr=>Dr===ui.parent);this._filteredItems.push(Oi)}this._filteredItems.push(...yn)}}}resetFilteredItems(){this._filteredItems.length!==this._items.length&&(this._ngSelect.hideSelected&&this.selectedItems.length>0?this._filteredItems=this._items.filter(he=>!he.selected):this._filteredItems=this._items)}unmarkItem(){this._markedIndex=-1}markNextItem(){this._stepToItem(1)}markPreviousItem(){this._stepToItem(-1)}markItem(he){this._markedIndex=this._filteredItems.indexOf(he)}markSelectedOrDefault(he){if(0===this._filteredItems.length)return;const ke=this._getLastMarkedIndex();this._markedIndex=ke>-1?ke:he?this.filteredItems.findIndex(vt=>!vt.disabled):-1}resolveNested(he,ke){if(!Zn(he))return he;if(-1===ke.indexOf("."))return he[ke];{const vt=ke.split(".");let Qt=he;for(let yn=0,ui=vt.length;yn<ui;++yn){if(null==Qt)return null;Qt=Qt[vt[yn]]}return Qt}}mapItem(he,ke){const vt=Hi(he.$ngOptionLabel)?he.$ngOptionLabel:this.resolveNested(he,this._ngSelect.bindLabel),Qt=Hi(he.$ngOptionValue)?he.$ngOptionValue:he;return{index:ke,label:Hi(vt)?vt.toString():"",value:Qt,disabled:he.disabled,htmlId:`${this._ngSelect.dropdownId}-${ke}`}}mapSelectedItems(){const he=this._ngSelect.multiple;for(const ke of this.selectedItems){const vt=this._ngSelect.bindValue?this.resolveNested(ke.value,this._ngSelect.bindValue):ke.value,Qt=Hi(vt)?this.findItem(vt):null;this._selectionModel.unselect(ke,he),this._selectionModel.select(Qt||ke,he,this._ngSelect.selectableGroupAsModel)}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter(ke=>-1===this.selectedItems.indexOf(ke)))}_showSelected(he){if(this._filteredItems.push(he),he.parent){const ke=he.parent;this._filteredItems.find(Qt=>Qt===ke)||this._filteredItems.push(ke)}else if(he.children)for(const ke of he.children)ke.selected=!1,this._filteredItems.push(ke);this._filteredItems=[...this._filteredItems.sort((ke,vt)=>ke.index-vt.index)]}_hideSelected(he){this._filteredItems=this._filteredItems.filter(ke=>ke!==he),he.parent?he.parent.children.every(vt=>vt.selected)&&(this._filteredItems=this._filteredItems.filter(vt=>vt!==he.parent)):he.children&&(this._filteredItems=this.filteredItems.filter(ke=>ke.parent!==he))}_defaultSearchFn(he,ke){return Rr(ke.label).toLocaleLowerCase().indexOf(he)>-1}_getNextItemIndex(he){return he>0?this._markedIndex>=this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}_stepToItem(he){0===this._filteredItems.length||this._filteredItems.every(ke=>ke.disabled)||(this._markedIndex=this._getNextItemIndex(he),this.markedItem.disabled&&this._stepToItem(he))}_getLastMarkedIndex(){if(this._ngSelect.hideSelected||this._markedIndex>-1&&void 0===this.markedItem)return-1;const he=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&he<0?-1:Math.max(this.markedIndex,he)}_groupBy(he,ke){const vt=new Map;if(0===he.length)return vt;if(Array.isArray(he[0].value[ke])){for(const ui of he){const Oi=(ui.value[ke]||[]).map((Dr,si)=>this.mapItem(Dr,si));vt.set(ui,Oi)}return vt}const Qt=pr(this._ngSelect.groupBy),yn=ui=>{const Oi=Qt?ke(ui.value):ui.value[ke];return Hi(Oi)?Oi:void 0};for(const ui of he){const Oi=yn(ui),Dr=vt.get(Oi);Dr?Dr.push(ui):vt.set(Oi,[ui])}return vt}_flatten(he){const ke=pr(this._ngSelect.groupBy),vt=[];for(const Qt of Array.from(he.keys())){let yn=vt.length;if(void 0===Qt){const Pn=he.get(void 0)||[];vt.push(...Pn.map(oi=>(oi.index=yn++,oi)));continue}const ui=Zn(Qt),Oi={label:ui?"":String(Qt),children:void 0,parent:null,index:yn++,disabled:!this._ngSelect.selectableGroup,htmlId:ar()},Dr=ke?this._ngSelect.bindLabel:this._ngSelect.groupBy,si=this._ngSelect.groupValue||(()=>ui?Qt.value:{[Dr]:Qt}),Jt=he.get(Qt).map(Pn=>(Pn.parent=Oi,Pn.children=void 0,Pn.index=yn++,Pn));Oi.children=Jt,Oi.value=si(Qt,Jt.map(Pn=>Pn.value)),vt.push(Oi),vt.push(...Jt)}return vt}}var Et,Vt;(Vt=Et||(Et={}))[Vt.Tab=9]="Tab",Vt[Vt.Enter=13]="Enter",Vt[Vt.Esc=27]="Esc",Vt[Vt.Space=32]="Space",Vt[Vt.ArrowUp=38]="ArrowUp",Vt[Vt.ArrowDown=40]="ArrowDown",Vt[Vt.Backspace=8]="Backspace";class Rt{constructor(){this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}get dimensions(){return this._dimensions}calculateItems(he,ke,vt){const Qt=this._dimensions,yn=Qt.itemHeight*ke,Oi=Math.max(0,he)/yn*ke;let Dr=Math.min(ke,Math.ceil(Oi)+(Qt.itemsPerViewport+1));const Jt=Math.max(0,Dr-Qt.itemsPerViewport);let Pn=Math.min(Jt,Math.floor(Oi)),oi=Qt.itemHeight*Math.ceil(Pn)-Qt.itemHeight*Math.min(Pn,vt);return oi=isNaN(oi)?0:oi,Pn=isNaN(Pn)?-1:Pn,Dr=isNaN(Dr)?-1:Dr,Pn-=vt,Pn=Math.max(0,Pn),Dr+=vt,Dr=Math.min(ke,Dr),{topPadding:oi,scrollHeight:yn,start:Pn,end:Dr}}setDimensions(he,ke){const vt=Math.max(1,Math.floor(ke/he));this._dimensions={itemHeight:he,panelHeight:ke,itemsPerViewport:vt}}getScrollTo(he,ke,vt){const{panelHeight:Qt}=this.dimensions,yn=he+ke,Oi=vt+Qt;return Qt>=yn&&vt===he?null:yn>Oi?vt+yn-Oi:he<=vt?he:null}}Rt.\u0275fac=function(he){return new(he||Rt)},Rt.\u0275prov=l.Yz7({token:Rt,factory:Rt.\u0275fac});const Tt=["top","right","bottom","left"],wn="undefined"!=typeof requestAnimationFrame?dt:On;class In{constructor(he,ke,vt,Qt,yn){this._renderer=he,this._zone=ke,this._panelService=vt,this._document=yn,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.update=new l.vpe,this.scroll=new l.vpe,this.scrollToEnd=new l.vpe,this.outsideClick=new l.vpe,this._destroy$=new xe.x,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=Qt.nativeElement}get currentPosition(){return this._currentPosition}get itemsLength(){return this._itemsLength}set itemsLength(he){he!==this._itemsLength&&(this._itemsLength=he,this._onItemsLengthChanged())}get _startOffset(){if(this.markedItem){const{itemHeight:he,panelHeight:ke}=this._panelService.dimensions,vt=this.markedItem.index*he;return ke>vt?0:vt}return 0}ngOnInit(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown(),this._setupMousedownListener()}ngOnChanges(he){if(he.items){const ke=he.items;this._onItemsChange(ke.currentValue,ke.firstChange)}}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}scrollTo(he,ke=!1){if(!he)return;const vt=this.items.indexOf(he);if(vt<0||vt>=this.itemsLength)return;let Qt;if(this.virtualScroll){const yn=this._panelService.dimensions.itemHeight;Qt=this._panelService.getScrollTo(vt*yn,yn,this._lastScrollPosition)}else{const yn=this._dropdown.querySelector(`#${he.htmlId}`),ui=ke?yn.offsetTop:this._lastScrollPosition;Qt=this._panelService.getScrollTo(yn.offsetTop,yn.clientHeight,ui)}Hi(Qt)&&(this._scrollablePanel.scrollTop=Qt)}scrollToTag(){const he=this._scrollablePanel;he.scrollTop=he.scrollHeight-he.clientHeight}adjustPosition(){this._updateYPosition()}_handleDropdownPosition(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),Tt.includes(this._currentPosition)?this._updateDropdownClass(this._currentPosition):this._updateDropdownClass("bottom"),this.appendTo&&this._updateYPosition(),this._dropdown.style.opacity="1"}_updateDropdownClass(he){Tt.forEach(vt=>{const Qt=`ng-select-${vt}`;this._renderer.removeClass(this._dropdown,Qt),this._renderer.removeClass(this._select,Qt)});const ke=`ng-select-${he}`;this._renderer.addClass(this._dropdown,ke),this._renderer.addClass(this._select,ke)}_handleScroll(){this._zone.runOutsideAngular(()=>{St(this.scrollElementRef.nativeElement,"scroll").pipe((0,G.R)(this._destroy$),Te(0,wn)).subscribe(he=>{const ke=he.path||he.composedPath&&he.composedPath(),vt=ke&&0!==ke.length?ke[0].scrollTop:he.target.scrollTop;this._onContentScrolled(vt)})})}_handleOutsideClick(){!this._document||this._zone.runOutsideAngular(()=>{(0,Ce.T)(St(this._document,"touchstart",{capture:!0}),St(this._document,"mousedown",{capture:!0})).pipe((0,G.R)(this._destroy$)).subscribe(he=>this._checkToClose(he))})}_checkToClose(he){if(this._select.contains(he.target)||this._dropdown.contains(he.target))return;const ke=he.path||he.composedPath&&he.composedPath();he.target&&he.target.shadowRoot&&ke&&ke[0]&&this._select.contains(ke[0])||this._zone.run(()=>this.outsideClick.emit())}_onItemsChange(he,ke){this.items=he||[],this._scrollToEndFired=!1,this.itemsLength=he.length,this.virtualScroll?this._updateItemsRange(ke):(this._setVirtualHeight(),this._updateItems(ke))}_updateItems(he){this.update.emit(this.items),!1!==he&&this._zone.runOutsideAngular(()=>{Promise.resolve().then(()=>{const ke=this._scrollablePanel.clientHeight;this._panelService.setDimensions(0,ke),this._handleDropdownPosition(),this.scrollTo(this.markedItem,he)})})}_updateItemsRange(he){this._zone.runOutsideAngular(()=>{this._measureDimensions().then(()=>{he?(this._renderItemsRange(this._startOffset),this._handleDropdownPosition()):this._renderItemsRange()})})}_onContentScrolled(he){this.virtualScroll&&this._renderItemsRange(he),this._lastScrollPosition=he,this._fireScrollToEnd(he)}_updateVirtualHeight(he){this._updateScrollHeight&&(this._virtualPadding.style.height=`${he}px`,this._updateScrollHeight=!1)}_setVirtualHeight(){!this._virtualPadding||(this._virtualPadding.style.height="0px")}_onItemsLengthChanged(){this._updateScrollHeight=!0}_renderItemsRange(he=null){if(he&&this._lastScrollPosition===he)return;he=he||this._scrollablePanel.scrollTop;const ke=this._panelService.calculateItems(he,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(ke.scrollHeight),this._contentPanel.style.transform=`translateY(${ke.topPadding}px)`,this._zone.run(()=>{this.update.emit(this.items.slice(ke.start,ke.end)),this.scroll.emit({start:ke.start,end:ke.end})}),Hi(he)&&0===this._lastScrollPosition&&(this._scrollablePanel.scrollTop=he,this._lastScrollPosition=he)}_measureDimensions(){if(this._panelService.dimensions.itemHeight>0||0===this.itemsLength)return Promise.resolve(this._panelService.dimensions);const[he]=this.items;return this.update.emit([he]),Promise.resolve().then(()=>{const vt=this._dropdown.querySelector(`#${he.htmlId}`).clientHeight;this._virtualPadding.style.height=vt*this.itemsLength+"px";const Qt=this._scrollablePanel.clientHeight;return this._panelService.setDimensions(vt,Qt),this._panelService.dimensions})}_fireScrollToEnd(he){if(this._scrollToEndFired||0===he)return;const ke=this.virtualScroll?this._virtualPadding:this._contentPanel;he+this._dropdown.clientHeight>=ke.clientHeight-1&&(this._zone.run(()=>this.scrollToEnd.emit()),this._scrollToEndFired=!0)}_calculateCurrentPosition(he){if("auto"!==this.position)return this.position;const ke=this._select.getBoundingClientRect(),vt=document.documentElement.scrollTop||document.body.scrollTop;return ke.top+window.pageYOffset+ke.height+he.getBoundingClientRect().height>vt+document.documentElement.clientHeight?"top":"bottom"}_appendDropdown(){if(this.appendTo){if(this._parent=document.querySelector(this.appendTo),!this._parent)throw new Error(`appendTo selector ${this.appendTo} did not found any parent element`);this._updateXPosition(),this._parent.appendChild(this._dropdown)}}_updateXPosition(){const he=this._select.getBoundingClientRect(),ke=this._parent.getBoundingClientRect(),vt=he.left-ke.left;this._dropdown.style.left=vt+"px",this._dropdown.style.width=he.width+"px",this._dropdown.style.minWidth=he.width+"px"}_updateYPosition(){const he=this._select.getBoundingClientRect(),ke=this._parent.getBoundingClientRect(),vt=he.height;if("top"===this._currentPosition){const Qt=ke.bottom-he.bottom;this._dropdown.style.bottom=Qt+vt+"px",this._dropdown.style.top="auto"}else if("bottom"===this._currentPosition){const Qt=he.top-ke.top;this._dropdown.style.top=Qt+vt+"px",this._dropdown.style.bottom="auto"}}_setupMousedownListener(){this._zone.runOutsideAngular(()=>{St(this._dropdown,"mousedown").pipe((0,G.R)(this._destroy$)).subscribe(he=>{"INPUT"!==he.target.tagName&&he.preventDefault()})})}}In.\u0275fac=function(he){return new(he||In)(l.Y36(l.Qsj),l.Y36(l.R0b),l.Y36(Rt),l.Y36(l.SBq),l.Y36(Je.K0,8))},In.\u0275cmp=l.Xpm({type:In,selectors:[["ng-dropdown-panel"]],viewQuery:function(he,ke){if(1&he&&(l.Gf(lt,7,l.SBq),l.Gf(jt,7,l.SBq),l.Gf(Oe,7,l.SBq)),2&he){let vt;l.iGM(vt=l.CRH())&&(ke.contentElementRef=vt.first),l.iGM(vt=l.CRH())&&(ke.scrollElementRef=vt.first),l.iGM(vt=l.CRH())&&(ke.paddingElementRef=vt.first)}},inputs:{items:"items",markedItem:"markedItem",position:"position",appendTo:"appendTo",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",headerTemplate:"headerTemplate",footerTemplate:"footerTemplate",filterValue:"filterValue"},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},features:[l.TTD],ngContentSelectors:cn,decls:9,vars:6,consts:[["class","ng-dropdown-header",4,"ngIf"],[1,"ng-dropdown-panel-items","scroll-host"],["scroll",""],["padding",""],["content",""],["class","ng-dropdown-footer",4,"ngIf"],[1,"ng-dropdown-header"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ng-dropdown-footer"]],template:function(he,ke){1&he&&(l.F$t(),l.YNc(0,ut,2,4,"div",0),l.TgZ(1,"div",1,2),l._UZ(3,"div",null,3),l.TgZ(5,"div",null,4),l.Hsn(7),l.qZA(),l.qZA(),l.YNc(8,It,2,4,"div",5)),2&he&&(l.Q6J("ngIf",ke.headerTemplate),l.xp6(3),l.ekj("total-padding",ke.virtualScroll),l.xp6(2),l.ekj("scrollable-content",ke.virtualScroll&&ke.items.length),l.xp6(3),l.Q6J("ngIf",ke.footerTemplate))},directives:[Je.O5,Je.tP],encapsulation:2,changeDetection:0});class Qn{constructor(he){this.elementRef=he,this.stateChange$=new xe.x,this._disabled=!1}get disabled(){return this._disabled}set disabled(he){this._disabled=this._isDisabled(he)}get label(){return(this.elementRef.nativeElement.textContent||"").trim()}ngOnChanges(he){he.disabled&&this.stateChange$.next({value:this.value,disabled:this._disabled})}ngAfterViewChecked(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this._disabled,label:this.elementRef.nativeElement.innerHTML}))}ngOnDestroy(){this.stateChange$.complete()}_isDisabled(he){return null!=he&&"false"!=`${he}`}}Qn.\u0275fac=function(he){return new(he||Qn)(l.Y36(l.SBq))},Qn.\u0275cmp=l.Xpm({type:Qn,selectors:[["ng-option"]],inputs:{value:"value",disabled:"disabled"},features:[l.TTD],ngContentSelectors:cn,decls:1,vars:0,template:function(he,ke){1&he&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0});class $n{constructor(){this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"}}$n.\u0275fac=function(he){return new(he||$n)},$n.\u0275prov=l.Yz7({token:$n,factory:$n.\u0275fac,providedIn:"root"});class mi{warn(he){console.warn(he)}}mi.\u0275fac=function(he){return new(he||mi)},mi.\u0275prov=l.Yz7({token:mi,factory:mi.\u0275fac,providedIn:"root"});const xi=new l.OlP("ng-select-selection-model");class Ri{constructor(he,ke,vt,Qt,yn,ui,Oi){this.classes=he,this.autoFocus=ke,this.config=vt,this._cd=ui,this._console=Oi,this.markFirst=!0,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.keyDownFn=Dr=>!0,this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new l.vpe,this.focusEvent=new l.vpe,this.changeEvent=new l.vpe,this.openEvent=new l.vpe,this.closeEvent=new l.vpe,this.searchEvent=new l.vpe,this.clearEvent=new l.vpe,this.addEvent=new l.vpe,this.removeEvent=new l.vpe,this.scroll=new l.vpe,this.scrollToEnd=new l.vpe,this.useDefaultClass=!0,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=ar(),this.escapeHTML=!0,this._items=[],this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new xe.x,this._keyPress$=new xe.x,this._onChange=Dr=>{},this._onTouched=()=>{},this.clearItem=Dr=>{const si=this.selectedItems.find(Jt=>Jt.value===Dr);this.unselect(si)},this.trackByOption=(Dr,si)=>this.trackByFn?this.trackByFn(si.value):si,this._mergeGlobalConfig(vt),this.itemsList=new is(this,Qt()),this.element=yn.nativeElement}get items(){return this._items}set items(he){null===he&&(he=[]),this._itemsAreUsed=!0,this._items=he}get compareWith(){return this._compareWith}set compareWith(he){if(null!=he&&!pr(he))throw Error("`compareWith` must be a function.");this._compareWith=he}get clearSearchOnAdd(){return Hi(this._clearSearchOnAdd)?this._clearSearchOnAdd:Hi(this.config.clearSearchOnAdd)?this.config.clearSearchOnAdd:this.closeOnSelect}set clearSearchOnAdd(he){this._clearSearchOnAdd=he}get disabled(){return this.readonly||this._disabled}get filtered(){return!!this.searchTerm&&this.searchable||this._isComposing}get single(){return!this.multiple}get _editableSearchTerm(){return this.editableSearchTerm&&!this.multiple}get selectedItems(){return this.itemsList.selectedItems}get selectedValues(){return this.selectedItems.map(he=>he.value)}get hasValue(){return this.selectedItems.length>0}get currentPanelPosition(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}ngOnInit(){this._handleKeyPresses(),this._setInputAttributes()}ngOnChanges(he){he.multiple&&this.itemsList.clearSelected(),he.items&&this._setItems(he.items.currentValue||[]),he.isOpen&&(this._manualOpen=Hi(he.isOpen.currentValue))}ngAfterViewInit(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),Hi(this.autoFocus)&&this.focus()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}handleKeyDown(he){if(Et[he.which]){if(!1===this.keyDownFn(he))return;this.handleKeyCode(he)}else he.key&&1===he.key.length&&this._keyPress$.next(he.key.toLocaleLowerCase())}handleKeyCode(he){switch(he.which){case Et.ArrowDown:this._handleArrowDown(he);break;case Et.ArrowUp:this._handleArrowUp(he);break;case Et.Space:this._handleSpace(he);break;case Et.Enter:this._handleEnter(he);break;case Et.Tab:this._handleTab(he);break;case Et.Esc:this.close(),he.preventDefault();break;case Et.Backspace:this._handleBackspace()}}handleMousedown(he){const ke=he.target;"INPUT"!==ke.tagName&&he.preventDefault(),ke.classList.contains("ng-clear-wrapper")?this.handleClearClick():ke.classList.contains("ng-arrow-wrapper")?this.handleArrowClick():ke.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}handleArrowClick(){this.isOpen?this.close():this.open()}handleClearClick(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}clearModel(){!this.clearable||(this.itemsList.clearSelected(),this._updateNgModel())}writeValue(he){this.itemsList.clearSelected(),this._handleWriteValue(he),this._cd.markForCheck()}registerOnChange(he){this._onChange=he}registerOnTouched(he){this._onTouched=he}setDisabledState(he){this._disabled=he,this._cd.markForCheck()}toggle(){this.isOpen?this.close():this.open()}open(){this.disabled||this.isOpen||this.itemsList.maxItemsSelected||this._manualOpen||!this._isTypeahead&&!this.addTag&&this.itemsList.noItemsToSelect||(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}close(){!this.isOpen||this._manualOpen||(this.isOpen=!1,this._isComposing=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}toggleItem(he){!he||he.disabled||this.disabled||(this.multiple&&he.selected?this.unselect(he):this.select(he),this._editableSearchTerm&&this._setSearchTermFromItems(),this._onSelectionChanged())}select(he){he.selected||(this.itemsList.select(he),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(he.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close()}focus(){this.searchInput.nativeElement.focus()}blur(){this.searchInput.nativeElement.blur()}unselect(he){!he||(this.itemsList.unselect(he),this.focus(),this._updateNgModel(),this.removeEvent.emit(he))}selectTag(){let he;he=pr(this.addTag)?this.addTag(this.searchTerm):this._primitive?this.searchTerm:{[this.bindLabel]:this.searchTerm};const ke=vt=>this._isTypeahead||!this.isOpen?this.itemsList.mapItem(vt,null):this.itemsList.addItem(vt);!function(Vt){return Vt instanceof Promise}(he)?he&&this.select(ke(he)):he.then(vt=>this.select(ke(vt))).catch(()=>{})}showClear(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}get showAddTag(){if(!this._validTerm)return!1;const he=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some(ke=>ke.label.toLowerCase()===he)&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some(ke=>ke.label.toLowerCase()===he))&&!this.loading}showNoItemsFound(){const he=0===this.itemsList.filteredItems.length;return(he&&!this._isTypeahead&&!this.loading||he&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}showTypeToSearch(){return 0===this.itemsList.filteredItems.length&&this._isTypeahead&&!this._validTerm&&!this.loading}onCompositionStart(){this._isComposing=!0}onCompositionEnd(he){this._isComposing=!1,!this.searchWhileComposing&&this.filter(he)}filter(he){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=he,this._isTypeahead&&(this._validTerm||0===this.minTermLength)&&this.typeahead.next(he),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:he,items:this.itemsList.filteredItems.map(ke=>ke.value)}),this.open())}onInputFocus(he){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(he),this.focused=!0)}onInputBlur(he){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(he),!this.isOpen&&!this.disabled&&this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}onItemHover(he){he.disabled||this.itemsList.markItem(he)}detectChanges(){this._cd.destroyed||this._cd.detectChanges()}_setSearchTermFromItems(){const he=this.selectedItems&&this.selectedItems[0];this.searchTerm=he&&he.label||null}_setItems(he){const ke=he[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=Hi(ke)?!Zn(ke):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(he),he.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&Hi(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}_setItemsFromNgOptions(){const he=vt=>{this.items=vt.map(Qt=>({$ngOptionValue:Qt.value,$ngOptionLabel:Qt.elementRef.nativeElement.innerHTML,disabled:Qt.disabled})),this.itemsList.setItems(this.items),this.hasValue&&this.itemsList.mapSelectedItems(),this.detectChanges()},ke=()=>{const vt=(0,Ce.T)(this.ngOptions.changes,this._destroy$);(0,Ce.T)(...this.ngOptions.map(Qt=>Qt.stateChange$)).pipe((0,G.R)(vt)).subscribe(Qt=>{const yn=this.itemsList.findItem(Qt.value);yn.disabled=Qt.disabled,yn.label=Qt.label||yn.label,this._cd.detectChanges()})};this.ngOptions.changes.pipe((0,Ee.O)(this.ngOptions),(0,G.R)(this._destroy$)).subscribe(vt=>{this.bindLabel=this._defaultLabel,he(vt),ke()})}_isValidWriteValue(he){if(!Hi(he)||this.multiple&&""===he||Array.isArray(he)&&0===he.length)return!1;const ke=vt=>!(!Hi(this.compareWith)&&Zn(vt)&&this.bindValue)||(this._console.warn(`Setting object(${JSON.stringify(vt)}) as your model with bindValue is not allowed unless [compareWith] is used.`),!1);return this.multiple?Array.isArray(he)?he.every(vt=>ke(vt)):(this._console.warn("Multiple select ngModel should be array."),!1):ke(he)}_handleWriteValue(he){if(!this._isValidWriteValue(he))return;const ke=vt=>{let Qt=this.itemsList.findItem(vt);if(Qt)this.itemsList.select(Qt);else{const yn=Zn(vt),ui=!yn&&!this.bindValue;yn||ui?this.itemsList.select(this.itemsList.mapItem(vt,null)):this.bindValue&&(Qt={[this.bindLabel]:null,[this.bindValue]:vt},this.itemsList.select(this.itemsList.mapItem(Qt,null)))}};this.multiple?he.forEach(vt=>ke(vt)):ke(he)}_handleKeyPresses(){this.searchable||this._keyPress$.pipe((0,G.R)(this._destroy$),(0,Ie.b)(he=>this._pressedKeys.push(he)),function(Vt,he=S){return(0,F.e)((ke,vt)=>{let Qt=null,yn=null,ui=null;const Oi=()=>{if(Qt){Qt.unsubscribe(),Qt=null;const si=yn;yn=null,vt.next(si)}};function Dr(){const si=ui+Vt,Jt=he.now();if(Jt<si)return Qt=this.schedule(void 0,si-Jt),void vt.add(Qt);Oi()}ke.subscribe(new Y.Q(vt,si=>{yn=si,ui=he.now(),Qt||(Qt=he.schedule(Dr,Vt),vt.add(Qt))},()=>{Oi(),vt.complete()},void 0,()=>{yn=Qt=null}))})}(200),(0,Le.h)(()=>this._pressedKeys.length>0),(0,ne.U)(()=>this._pressedKeys.join(""))).subscribe(he=>{const ke=this.itemsList.findByLabel(he);ke&&(this.isOpen?(this.itemsList.markItem(ke),this._scrollToMarked(),this._cd.markForCheck()):this.select(ke)),this._pressedKeys=[]})}_setInputAttributes(){const he=this.searchInput.nativeElement,ke=Object.assign({type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:this.labelForId?"off":this.dropdownId},this.inputAttrs);for(const vt of Object.keys(ke))he.setAttribute(vt,ke[vt])}_updateNgModel(){const he=[];for(const vt of this.selectedItems)if(this.bindValue){let Qt=null;if(vt.children){const yn=this.groupValue?this.bindValue:this.groupBy;Qt=vt.value[yn||this.groupBy]}else Qt=this.itemsList.resolveNested(vt.value,this.bindValue);he.push(Qt)}else he.push(vt.value);const ke=this.selectedItems.map(vt=>vt.value);this.multiple?(this._onChange(he),this.changeEvent.emit(ke)):(this._onChange(Hi(he[0])?he[0]:null),this.changeEvent.emit(ke[0])),this._cd.markForCheck()}_clearSearch(){!this.searchTerm||(this._changeSearch(null),this.itemsList.resetFilteredItems())}_changeSearch(he){this.searchTerm=he,this._isTypeahead&&this.typeahead.next(he)}_scrollToMarked(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollTo(this.itemsList.markedItem)}_scrollToTag(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollToTag()}_onSelectionChanged(){this.isOpen&&this.multiple&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}_handleTab(he){!1===this.isOpen&&!this.addTag||(this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),he.preventDefault()):this.showAddTag?(this.selectTag(),he.preventDefault()):this.close():this.close())}_handleEnter(he){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else{if(!this.openOnEnter)return;this.open()}he.preventDefault()}_handleSpace(he){this.isOpen||this._manualOpen||(this.open(),he.preventDefault())}_handleArrowDown(he){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),he.preventDefault()}_handleArrowUp(he){!this.isOpen||(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),he.preventDefault())}_nextItemIsTag(he){const ke=this.itemsList.markedIndex+he;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(ke<0||ke===this.itemsList.filteredItems.length)}_handleBackspace(){this.searchTerm||!this.clearable||!this.clearOnBackspace||!this.hasValue||(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}get _isTypeahead(){return this.typeahead&&this.typeahead.observers.length>0}get _validTerm(){const he=this.searchTerm&&this.searchTerm.trim();return he&&he.length>=this.minTermLength}_mergeGlobalConfig(he){this.placeholder=this.placeholder||he.placeholder,this.notFoundText=this.notFoundText||he.notFoundText,this.typeToSearchText=this.typeToSearchText||he.typeToSearchText,this.addTagText=this.addTagText||he.addTagText,this.loadingText=this.loadingText||he.loadingText,this.clearAllText=this.clearAllText||he.clearAllText,this.virtualScroll=Hi(this.virtualScroll)?this.virtualScroll:!!Hi(he.disableVirtualScroll)&&!he.disableVirtualScroll,this.openOnEnter=Hi(this.openOnEnter)?this.openOnEnter:he.openOnEnter,this.appendTo=this.appendTo||he.appendTo,this.bindValue=this.bindValue||he.bindValue,this.bindLabel=this.bindLabel||he.bindLabel,this.appearance=this.appearance||he.appearance}}Ri.\u0275fac=function(he){return new(he||Ri)(l.$8M("class"),l.$8M("autofocus"),l.Y36($n),l.Y36(xi),l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(mi))},Ri.\u0275cmp=l.Xpm({type:Ri,selectors:[["ng-select"]],contentQueries:function(he,ke,vt){if(1&he&&(l.Suo(vt,Jr,5,l.Rgc),l.Suo(vt,Lr,5,l.Rgc),l.Suo(vt,ls,5,l.Rgc),l.Suo(vt,or,5,l.Rgc),l.Suo(vt,lr,5,l.Rgc),l.Suo(vt,ns,5,l.Rgc),l.Suo(vt,ai,5,l.Rgc),l.Suo(vt,Xi,5,l.Rgc),l.Suo(vt,ji,5,l.Rgc),l.Suo(vt,Er,5,l.Rgc),l.Suo(vt,Bi,5,l.Rgc),l.Suo(vt,Qn,5)),2&he){let Qt;l.iGM(Qt=l.CRH())&&(ke.optionTemplate=Qt.first),l.iGM(Qt=l.CRH())&&(ke.optgroupTemplate=Qt.first),l.iGM(Qt=l.CRH())&&(ke.labelTemplate=Qt.first),l.iGM(Qt=l.CRH())&&(ke.multiLabelTemplate=Qt.first),l.iGM(Qt=l.CRH())&&(ke.headerTemplate=Qt.first),l.iGM(Qt=l.CRH())&&(ke.footerTemplate=Qt.first),l.iGM(Qt=l.CRH())&&(ke.notFoundTemplate=Qt.first),l.iGM(Qt=l.CRH())&&(ke.typeToSearchTemplate=Qt.first),l.iGM(Qt=l.CRH())&&(ke.loadingTextTemplate=Qt.first),l.iGM(Qt=l.CRH())&&(ke.tagTemplate=Qt.first),l.iGM(Qt=l.CRH())&&(ke.loadingSpinnerTemplate=Qt.first),l.iGM(Qt=l.CRH())&&(ke.ngOptions=Qt)}},viewQuery:function(he,ke){if(1&he&&(l.Gf(In,5),l.Gf(Nn,7)),2&he){let vt;l.iGM(vt=l.CRH())&&(ke.dropdownPanel=vt.first),l.iGM(vt=l.CRH())&&(ke.searchInput=vt.first)}},hostVars:20,hostBindings:function(he,ke){1&he&&l.NdJ("keydown",function(Qt){return ke.handleKeyDown(Qt)}),2&he&&l.ekj("ng-select-typeahead",ke.typeahead)("ng-select-multiple",ke.multiple)("ng-select-taggable",ke.addTag)("ng-select-searchable",ke.searchable)("ng-select-clearable",ke.clearable)("ng-select-opened",ke.isOpen)("ng-select",ke.useDefaultClass)("ng-select-disabled",ke.disabled)("ng-select-filtered",ke.filtered)("ng-select-single",ke.single)},inputs:{bindLabel:"bindLabel",bindValue:"bindValue",markFirst:"markFirst",placeholder:"placeholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",appearance:"appearance",dropdownPosition:"dropdownPosition",appendTo:"appendTo",loading:"loading",closeOnSelect:"closeOnSelect",hideSelected:"hideSelected",selectOnTab:"selectOnTab",openOnEnter:"openOnEnter",maxSelectedItems:"maxSelectedItems",groupBy:"groupBy",groupValue:"groupValue",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",selectableGroup:"selectableGroup",selectableGroupAsModel:"selectableGroupAsModel",searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:"clearOnBackspace",labelForId:"labelForId",inputAttrs:"inputAttrs",tabIndex:"tabIndex",readonly:"readonly",searchWhileComposing:"searchWhileComposing",minTermLength:"minTermLength",editableSearchTerm:"editableSearchTerm",keyDownFn:"keyDownFn",typeahead:"typeahead",multiple:"multiple",addTag:"addTag",searchable:"searchable",clearable:"clearable",isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},features:[l._Bn([{provide:A.JU,useExisting:(0,l.Gpc)(()=>Ri),multi:!0},Rt]),l.TTD],decls:14,vars:19,consts:[[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[1,"ng-placeholder"],[4,"ngIf"],["role","combobox","aria-haspopup","listbox",1,"ng-input"],["aria-autocomplete","list",3,"readOnly","disabled","value","input","compositionstart","compositionend","focus","blur","change"],["searchInput",""],["class","ng-clear-wrapper",3,"title",4,"ngIf"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],["class","ng-dropdown-panel","role","listbox","aria-label","Options list",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id","update","scroll","scrollToEnd","outsideClick",4,"ngIf"],["class","ng-value",3,"ng-value-disabled",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ng-value"],["defaultLabelTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],["defaultLoadingSpinnerTemplate",""],[3,"ngTemplateOutlet"],[1,"ng-spinner-loader"],[1,"ng-clear-wrapper",3,"title"],["aria-hidden","true",1,"ng-clear"],["role","listbox","aria-label","Options list",1,"ng-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id","update","scroll","scrollToEnd","outsideClick"],["class","ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked","click","mouseover",4,"ngFor","ngForOf","ngForTrackBy"],["class","ng-option","role","option",3,"ng-option-marked","mouseover","click",4,"ngIf"],[1,"ng-option",3,"click","mouseover"],["defaultOptionTemplate",""],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],["defaultTagTemplate",""],[1,"ng-tag-label"],["defaultNotFoundTemplate",""],[1,"ng-option","ng-option-disabled"],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""]],template:function(he,ke){if(1&he){const vt=l.EpF();l.TgZ(0,"div",0),l.NdJ("mousedown",function(yn){return ke.handleMousedown(yn)}),l.TgZ(1,"div",1),l.TgZ(2,"div",2),l._uU(3),l.qZA(),l.YNc(4,kn,2,2,"ng-container",3),l.YNc(5,$i,1,5,void 0,3),l.TgZ(6,"div",4),l.TgZ(7,"input",5,6),l.NdJ("input",function(){l.CHM(vt);const yn=l.MAs(8);return ke.filter(yn.value)})("compositionstart",function(){return ke.onCompositionStart()})("compositionend",function(){l.CHM(vt);const yn=l.MAs(8);return ke.onCompositionEnd(yn.value)})("focus",function(yn){return ke.onInputFocus(yn)})("blur",function(yn){return ke.onInputBlur(yn)})("change",function(yn){return yn.stopPropagation()}),l.qZA(),l.qZA(),l.qZA(),l.YNc(9,xr,4,1,"ng-container",3),l.YNc(10,rr,3,1,"span",7),l.TgZ(11,"span",8),l._UZ(12,"span",9),l.qZA(),l.qZA(),l.YNc(13,sr,7,19,"ng-dropdown-panel",10)}2&he&&(l.ekj("ng-appearance-outline","outline"===ke.appearance)("ng-has-value",ke.hasValue),l.xp6(3),l.Oqu(ke.placeholder),l.xp6(1),l.Q6J("ngIf",(!ke.multiLabelTemplate||!ke.multiple)&&ke.selectedItems.length>0),l.xp6(1),l.Q6J("ngIf",ke.multiple&&ke.multiLabelTemplate&&ke.selectedValues.length>0),l.xp6(1),l.uIk("aria-expanded",ke.isOpen)("aria-owns",ke.isOpen?ke.dropdownId:null),l.xp6(1),l.Q6J("readOnly",!ke.searchable||ke.itemsList.maxItemsSelected)("disabled",ke.disabled)("value",ke.searchTerm?ke.searchTerm:""),l.uIk("id",ke.labelForId)("tabindex",ke.tabIndex)("aria-activedescendant",ke.isOpen?null==ke.itemsList||null==ke.itemsList.markedItem?null:ke.itemsList.markedItem.htmlId:null)("aria-controls",ke.isOpen?ke.dropdownId:null),l.xp6(2),l.Q6J("ngIf",ke.loading),l.xp6(1),l.Q6J("ngIf",ke.showClear()),l.xp6(3),l.Q6J("ngIf",ke.isOpen))},directives:[Je.O5,Je.sg,Je.tP,ts,In,Je.mk],styles:['@charset "UTF-8";.ng-select{position:relative;display:block;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:none;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none transparent;border:0 none;box-shadow:none;outline:none;padding:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:none;user-select:none;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);animation:load8 .8s infinite linear}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@keyframes load8{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label:empty:before{content:"\\200b"}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}\n'],encapsulation:2,changeDetection:0});class Wr{constructor(){this._selected=[]}get value(){return this._selected}select(he,ke,vt){if(he.selected=!0,(!he.children||!ke&&vt)&&this._selected.push(he),ke)if(he.parent){const Qt=he.parent.children.length,yn=he.parent.children.filter(ui=>ui.selected).length;he.parent.selected=Qt===yn}else he.children&&(this._setChildrenSelectedState(he.children,!0),this._removeChildren(he),vt&&this._activeChildren(he)?this._selected=[...this._selected.filter(Qt=>Qt.parent!==he),he]:this._selected=[...this._selected,...he.children.filter(Qt=>!Qt.disabled)])}unselect(he,ke){if(this._selected=this._selected.filter(vt=>vt!==he),he.selected=!1,ke)if(he.parent&&he.parent.selected){const vt=he.parent.children;this._removeParent(he.parent),this._removeChildren(he.parent),this._selected.push(...vt.filter(Qt=>Qt!==he&&!Qt.disabled)),he.parent.selected=!1}else he.children&&(this._setChildrenSelectedState(he.children,!1),this._removeChildren(he))}clear(he){this._selected=he?this._selected.filter(ke=>ke.disabled):[]}_setChildrenSelectedState(he,ke){for(const vt of he)vt.disabled||(vt.selected=ke)}_removeChildren(he){this._selected=[...this._selected.filter(ke=>ke.parent!==he),...he.children.filter(ke=>ke.parent===he&&ke.disabled&&ke.selected)]}_removeParent(he){this._selected=this._selected.filter(ke=>ke!==he)}_activeChildren(he){return he.children.every(ke=>!ke.disabled||ke.selected)}}class Is{}Is.\u0275fac=function(he){return new(he||Is)},Is.\u0275mod=l.oAB({type:Is,declarations:[In,Qn,Ri,Lr,Jr,ls,or,lr,ns,ai,Xi,ji,Er,Bi,ts],imports:[Je.ez],exports:[Ri,Qn,Lr,Jr,ls,or,lr,ns,ai,Xi,ji,Er,Bi]}),Is.\u0275inj=l.cJS({providers:[{provide:xi,useValue:function(){return new Wr}}],imports:[[Je.ez]]})},8954:(V,k,L)=>{"use strict";L.d(k,{Zw:()=>ce,aw:()=>en,sK:()=>kt});var l=L(3184),A=L(745),j=L(4437),I=L(1640),m=L(9319),b=L(1954),v=L(253),w=L(7654);class T extends v.x{constructor(je=1/0,Ft=1/0,sn=w.l){super(),this._bufferSize=je,this._windowTime=Ft,this._timestampProvider=sn,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ft===1/0,this._bufferSize=Math.max(1,je),this._windowTime=Math.max(1,Ft)}next(je){const{isStopped:Ft,_buffer:sn,_infiniteTimeWindow:nn,_timestampProvider:zt,_windowTime:an}=this;Ft||(sn.push(je),!nn&&sn.push(zt.now()+an)),this._trimBuffer(),super.next(je)}_subscribe(je){this._throwIfClosed(),this._trimBuffer();const Ft=this._innerSubscribe(je),{_infiniteTimeWindow:sn,_buffer:nn}=this,zt=nn.slice();for(let an=0;an<zt.length&&!je.closed;an+=sn?1:2)je.next(zt[an]);return this._checkFinalizedStatuses(je),Ft}_trimBuffer(){const{_bufferSize:je,_timestampProvider:Ft,_buffer:sn,_infiniteTimeWindow:nn}=this,zt=(nn?1:2)*je;if(je<1/0&&zt<sn.length&&sn.splice(0,sn.length-zt),!nn){const an=Ft.now();let On=0;for(let Dn=1;Dn<sn.length&&sn[Dn]<=an;Dn+=2)On=Dn;On&&sn.splice(0,On+1)}}}var x=L(1203);function S(Nt,je,Ft){var sn,nn;let zt,an=!1;return Nt&&"object"==typeof Nt?(zt=null!==(sn=Nt.bufferSize)&&void 0!==sn?sn:1/0,je=null!==(nn=Nt.windowTime)&&void 0!==nn?nn:1/0,an=!!Nt.refCount,Ft=Nt.scheduler):zt=null!=Nt?Nt:1/0,(0,x.B)({connector:()=>new T(zt,je,Ft),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:an})}var N=L(9295),F=L(635),U=L(3853),Y=L(2673);class ce{}class be extends ce{getTranslation(je){return(0,A.of)({})}}be.\u0275fac=function(){let Nt;return function(Ft){return(Nt||(Nt=l.n5z(be)))(Ft||be)}}(),be.\u0275prov=l.Yz7({token:be,factory:be.\u0275fac});class te{}class ae{handle(je){return je.key}}function _e(Nt,je){if(Nt===je)return!0;if(null===Nt||null===je)return!1;if(Nt!=Nt&&je!=je)return!0;let nn,zt,an,Ft=typeof Nt;if(Ft==typeof je&&"object"==Ft){if(!Array.isArray(Nt)){if(Array.isArray(je))return!1;for(zt in an=Object.create(null),Nt){if(!_e(Nt[zt],je[zt]))return!1;an[zt]=!0}for(zt in je)if(!(zt in an)&&void 0!==je[zt])return!1;return!0}if(!Array.isArray(je))return!1;if((nn=Nt.length)==je.length){for(zt=0;zt<nn;zt++)if(!_e(Nt[zt],je[zt]))return!1;return!0}}return!1}function Te(Nt){return null!=Nt}function Re(Nt){return Nt&&"object"==typeof Nt&&!Array.isArray(Nt)}function G(Nt,je){let Ft=Object.assign({},Nt);return Re(Nt)&&Re(je)&&Object.keys(je).forEach(sn=>{Re(je[sn])?sn in Nt?Ft[sn]=G(Nt[sn],je[sn]):Object.assign(Ft,{[sn]:je[sn]}):Object.assign(Ft,{[sn]:je[sn]})}),Ft}ae.\u0275fac=function(je){return new(je||ae)},ae.\u0275prov=l.Yz7({token:ae,factory:ae.\u0275fac});class Ee{}class Ie extends Ee{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(je,Ft){let sn;return sn="string"==typeof je?this.interpolateString(je,Ft):"function"==typeof je?this.interpolateFunction(je,Ft):je,sn}getValue(je,Ft){let sn="string"==typeof Ft?Ft.split("."):[Ft];Ft="";do{Ft+=sn.shift(),!Te(je)||!Te(je[Ft])||"object"!=typeof je[Ft]&&sn.length?sn.length?Ft+=".":je=void 0:(je=je[Ft],Ft="")}while(sn.length);return je}interpolateFunction(je,Ft){return je(Ft)}interpolateString(je,Ft){return Ft?je.replace(this.templateMatcher,(sn,nn)=>{let zt=this.getValue(Ft,nn);return Te(zt)?zt:sn}):je}}Ie.\u0275fac=function(){let Nt;return function(Ft){return(Nt||(Nt=l.n5z(Ie)))(Ft||Ie)}}(),Ie.\u0275prov=l.Yz7({token:Ie,factory:Ie.\u0275fac});class Le{}class ne extends Le{compile(je,Ft){return je}compileTranslations(je,Ft){return je}}ne.\u0275fac=function(){let Nt;return function(Ft){return(Nt||(Nt=l.n5z(ne)))(Ft||ne)}}(),ne.\u0275prov=l.Yz7({token:ne,factory:ne.\u0275fac});class Pe{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new l.vpe,this.onLangChange=new l.vpe,this.onDefaultLangChange=new l.vpe}}const He=new l.OlP("USE_STORE"),ze=new l.OlP("USE_DEFAULT_LANG"),dt=new l.OlP("DEFAULT_LANGUAGE"),nt=new l.OlP("USE_EXTEND");class kt{constructor(je,Ft,sn,nn,zt,an=!0,On=!1,Dn=!1,fi){this.store=je,this.currentLoader=Ft,this.compiler=sn,this.parser=nn,this.missingTranslationHandler=zt,this.useDefaultLang=an,this.isolate=On,this.extend=Dn,this.pending=!1,this._onTranslationChange=new l.vpe,this._onLangChange=new l.vpe,this._onDefaultLangChange=new l.vpe,this._langs=[],this._translations={},this._translationRequests={},fi&&this.setDefaultLang(fi)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(je){this.isolate?this._defaultLang=je:this.store.defaultLang=je}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(je){this.isolate?this._currentLang=je:this.store.currentLang=je}get langs(){return this.isolate?this._langs:this.store.langs}set langs(je){this.isolate?this._langs=je:this.store.langs=je}get translations(){return this.isolate?this._translations:this.store.translations}set translations(je){this.isolate?this._translations=je:this.store.translations=je}setDefaultLang(je){if(je===this.defaultLang)return;let Ft=this.retrieveTranslations(je);void 0!==Ft?(null==this.defaultLang&&(this.defaultLang=je),Ft.pipe((0,N.q)(1)).subscribe(sn=>{this.changeDefaultLang(je)})):this.changeDefaultLang(je)}getDefaultLang(){return this.defaultLang}use(je){if(je===this.currentLang)return(0,A.of)(this.translations[je]);let Ft=this.retrieveTranslations(je);return void 0!==Ft?(this.currentLang||(this.currentLang=je),Ft.pipe((0,N.q)(1)).subscribe(sn=>{this.changeLang(je)}),Ft):(this.changeLang(je),(0,A.of)(this.translations[je]))}retrieveTranslations(je){let Ft;return(void 0===this.translations[je]||this.extend)&&(this._translationRequests[je]=this._translationRequests[je]||this.getTranslation(je),Ft=this._translationRequests[je]),Ft}getTranslation(je){this.pending=!0;const Ft=this.currentLoader.getTranslation(je).pipe(S(1),(0,N.q)(1));return this.loadingTranslations=Ft.pipe((0,F.U)(sn=>this.compiler.compileTranslations(sn,je)),S(1),(0,N.q)(1)),this.loadingTranslations.subscribe({next:sn=>{this.translations[je]=this.extend&&this.translations[je]?Object.assign(Object.assign({},sn),this.translations[je]):sn,this.updateLangs(),this.pending=!1},error:sn=>{this.pending=!1}}),Ft}setTranslation(je,Ft,sn=!1){Ft=this.compiler.compileTranslations(Ft,je),(sn||this.extend)&&this.translations[je]?this.translations[je]=G(this.translations[je],Ft):this.translations[je]=Ft,this.updateLangs(),this.onTranslationChange.emit({lang:je,translations:this.translations[je]})}getLangs(){return this.langs}addLangs(je){je.forEach(Ft=>{-1===this.langs.indexOf(Ft)&&this.langs.push(Ft)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(je,Ft,sn){let nn;if(Ft instanceof Array){let zt={},an=!1;for(let On of Ft)zt[On]=this.getParsedResult(je,On,sn),(0,j.b)(zt[On])&&(an=!0);if(an){const On=Ft.map(Dn=>(0,j.b)(zt[Dn])?zt[Dn]:(0,A.of)(zt[Dn]));return(0,I.D)(On).pipe((0,F.U)(Dn=>{let fi={};return Dn.forEach((ge,$t)=>{fi[Ft[$t]]=ge}),fi}))}return zt}if(je&&(nn=this.parser.interpolate(this.parser.getValue(je,Ft),sn)),void 0===nn&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(nn=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],Ft),sn)),void 0===nn){let zt={key:Ft,translateService:this};void 0!==sn&&(zt.interpolateParams=sn),nn=this.missingTranslationHandler.handle(zt)}return void 0!==nn?nn:Ft}get(je,Ft){if(!Te(je)||!je.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,U.b)(sn=>(sn=this.getParsedResult(sn,je,Ft),(0,j.b)(sn)?sn:(0,A.of)(sn))));{let sn=this.getParsedResult(this.translations[this.currentLang],je,Ft);return(0,j.b)(sn)?sn:(0,A.of)(sn)}}getStreamOnTranslationChange(je,Ft){if(!Te(je)||!je.length)throw new Error('Parameter "key" required');return(0,m.z)((0,b.P)(()=>this.get(je,Ft)),this.onTranslationChange.pipe((0,Y.w)(sn=>{const nn=this.getParsedResult(sn.translations,je,Ft);return"function"==typeof nn.subscribe?nn:(0,A.of)(nn)})))}stream(je,Ft){if(!Te(je)||!je.length)throw new Error('Parameter "key" required');return(0,m.z)((0,b.P)(()=>this.get(je,Ft)),this.onLangChange.pipe((0,Y.w)(sn=>{const nn=this.getParsedResult(sn.translations,je,Ft);return(0,j.b)(nn)?nn:(0,A.of)(nn)})))}instant(je,Ft){if(!Te(je)||!je.length)throw new Error('Parameter "key" required');let sn=this.getParsedResult(this.translations[this.currentLang],je,Ft);if((0,j.b)(sn)){if(je instanceof Array){let nn={};return je.forEach((zt,an)=>{nn[je[an]]=je[an]}),nn}return je}return sn}set(je,Ft,sn=this.currentLang){this.translations[sn][je]=this.compiler.compile(Ft,sn),this.updateLangs(),this.onTranslationChange.emit({lang:sn,translations:this.translations[sn]})}changeLang(je){this.currentLang=je,this.onLangChange.emit({lang:je,translations:this.translations[je]}),null==this.defaultLang&&this.changeDefaultLang(je)}changeDefaultLang(je){this.defaultLang=je,this.onDefaultLangChange.emit({lang:je,translations:this.translations[je]})}reloadLang(je){return this.resetLang(je),this.getTranslation(je)}resetLang(je){this._translationRequests[je]=void 0,this.translations[je]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let je=window.navigator.languages?window.navigator.languages[0]:null;return je=je||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==je?(-1!==je.indexOf("-")&&(je=je.split("-")[0]),-1!==je.indexOf("_")&&(je=je.split("_")[0]),je):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let je=window.navigator.languages?window.navigator.languages[0]:null;return je=je||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,je}}kt.\u0275fac=function(je){return new(je||kt)(l.LFG(Pe),l.LFG(ce),l.LFG(Le),l.LFG(Ee),l.LFG(te),l.LFG(ze),l.LFG(He),l.LFG(nt),l.LFG(dt))},kt.\u0275prov=l.Yz7({token:kt,factory:kt.\u0275fac});class wt{constructor(je,Ft,sn){this.translateService=je,this.element=Ft,this._ref=sn,this.onTranslationChangeSub||(this.onTranslationChangeSub=this.translateService.onTranslationChange.subscribe(nn=>{nn.lang===this.translateService.currentLang&&this.checkNodes(!0,nn.translations)})),this.onLangChangeSub||(this.onLangChangeSub=this.translateService.onLangChange.subscribe(nn=>{this.checkNodes(!0,nn.translations)})),this.onDefaultLangChangeSub||(this.onDefaultLangChangeSub=this.translateService.onDefaultLangChange.subscribe(nn=>{this.checkNodes(!0)}))}set translate(je){je&&(this.key=je,this.checkNodes())}set translateParams(je){_e(this.currentParams,je)||(this.currentParams=je,this.checkNodes(!0))}ngAfterViewChecked(){this.checkNodes()}checkNodes(je=!1,Ft){let sn=this.element.nativeElement.childNodes;sn.length||(this.setContent(this.element.nativeElement,this.key),sn=this.element.nativeElement.childNodes);for(let nn=0;nn<sn.length;++nn){let zt=sn[nn];if(3===zt.nodeType){let an;if(je&&(zt.lastKey=null),Te(zt.lookupKey))an=zt.lookupKey;else if(this.key)an=this.key;else{let On=this.getContent(zt),Dn=On.trim();Dn.length&&(zt.lookupKey=Dn,On!==zt.currentValue?(an=Dn,zt.originalContent=On||zt.originalContent):zt.originalContent?an=zt.originalContent.trim():On!==zt.currentValue&&(an=Dn,zt.originalContent=On||zt.originalContent))}this.updateValue(an,zt,Ft)}}}updateValue(je,Ft,sn){if(je){if(Ft.lastKey===je&&this.lastParams===this.currentParams)return;this.lastParams=this.currentParams;let nn=zt=>{zt!==je&&(Ft.lastKey=je),Ft.originalContent||(Ft.originalContent=this.getContent(Ft)),Ft.currentValue=Te(zt)?zt:Ft.originalContent||je,this.setContent(Ft,this.key?Ft.currentValue:Ft.originalContent.replace(je,Ft.currentValue)),this._ref.markForCheck()};if(Te(sn)){let zt=this.translateService.getParsedResult(sn,je,this.currentParams);(0,j.b)(zt)?zt.subscribe({next:nn}):nn(zt)}else this.translateService.get(je,this.currentParams).subscribe(nn)}}getContent(je){return Te(je.textContent)?je.textContent:je.data}setContent(je,Ft){Te(je.textContent)?je.textContent=Ft:je.data=Ft}ngOnDestroy(){this.onLangChangeSub&&this.onLangChangeSub.unsubscribe(),this.onDefaultLangChangeSub&&this.onDefaultLangChangeSub.unsubscribe(),this.onTranslationChangeSub&&this.onTranslationChangeSub.unsubscribe()}}wt.\u0275fac=function(je){return new(je||wt)(l.Y36(kt),l.Y36(l.SBq),l.Y36(l.sBO))},wt.\u0275dir=l.lG2({type:wt,selectors:[["","translate",""],["","ngx-translate",""]],inputs:{translate:"translate",translateParams:"translateParams"}});class Pt{constructor(je,Ft){this.translate=je,this._ref=Ft,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(je,Ft,sn){let nn=zt=>{this.value=void 0!==zt?zt:je,this.lastKey=je,this._ref.markForCheck()};if(sn){let zt=this.translate.getParsedResult(sn,je,Ft);(0,j.b)(zt.subscribe)?zt.subscribe(nn):nn(zt)}this.translate.get(je,Ft).subscribe(nn)}transform(je,...Ft){if(!je||!je.length)return je;if(_e(je,this.lastKey)&&_e(Ft,this.lastParams))return this.value;let sn;if(Te(Ft[0])&&Ft.length)if("string"==typeof Ft[0]&&Ft[0].length){let nn=Ft[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{sn=JSON.parse(nn)}catch(zt){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${Ft[0]}`)}}else"object"==typeof Ft[0]&&!Array.isArray(Ft[0])&&(sn=Ft[0]);return this.lastKey=je,this.lastParams=Ft,this.updateValue(je,sn),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(nn=>{this.lastKey&&nn.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(je,sn,nn.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(nn=>{this.lastKey&&(this.lastKey=null,this.updateValue(je,sn,nn.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(je,sn))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}Pt.\u0275fac=function(je){return new(je||Pt)(l.Y36(kt,16),l.Y36(l.sBO,16))},Pt.\u0275pipe=l.Yjl({name:"translate",type:Pt,pure:!1}),Pt.\u0275prov=l.Yz7({token:Pt,factory:Pt.\u0275fac});class en{static forRoot(je={}){return{ngModule:en,providers:[je.loader||{provide:ce,useClass:be},je.compiler||{provide:Le,useClass:ne},je.parser||{provide:Ee,useClass:Ie},je.missingTranslationHandler||{provide:te,useClass:ae},Pe,{provide:He,useValue:je.isolate},{provide:ze,useValue:je.useDefaultLang},{provide:nt,useValue:je.extend},{provide:dt,useValue:je.defaultLanguage},kt]}}static forChild(je={}){return{ngModule:en,providers:[je.loader||{provide:ce,useClass:be},je.compiler||{provide:Le,useClass:ne},je.parser||{provide:Ee,useClass:Ie},je.missingTranslationHandler||{provide:te,useClass:ae},{provide:He,useValue:je.isolate},{provide:ze,useValue:je.useDefaultLang},{provide:nt,useValue:je.extend},{provide:dt,useValue:je.defaultLanguage},kt]}}}en.\u0275fac=function(je){return new(je||en)},en.\u0275mod=l.oAB({type:en,declarations:[Pt,wt],exports:[Pt,wt]}),en.\u0275inj=l.cJS({})},5347:(V,k,L)=>{"use strict";L.d(k,{w:()=>l});class l{constructor(j,I="/assets/i18n/",m=".json"){this.http=j,this.prefix=I,this.suffix=m}getTranslation(j){return this.http.get(`${this.prefix}${j}${this.suffix}`)}}},3737:(V,k,L)=>{"use strict";L.d(k,{Ypc:()=>Ht,VRs:()=>nn,t5u:()=>zt,XVQ:()=>Dn});var l=L(3467),A=L(3184),j=L(4929),I=L(8954);L(8706),L(8409);var w=L(3336),T=L(8120);L(8738),L(6822),L(7472),L(6568),L(9348),L(5913),L(9575),L(4287);class te{constructor(ee){this._subscribedEvents=[],this.eventNamingStyle=l.siS.camelCase,this._elementSource=ee||document.createElement("div")}get subscribedEvents(){return this._subscribedEvents}get subscribedEventNames(){return this._subscribedEvents.map(ee=>ee.name)}publish(ee,pe,xe){const Ce=this.getEventNameByNamingConvention(ee,"");return xe?new Promise(Je=>{const lt=this.dispatchCustomEvent(Ce,pe,!0,!0);setTimeout(()=>Je(lt),xe)}):this.dispatchCustomEvent(Ce,pe,!0,!0)}subscribe(ee,pe){const xe=this.getEventNameByNamingConvention(ee,"");this._elementSource.addEventListener(xe,Ce=>pe.call(null,Ce.detail)),this._subscribedEvents.push({name:xe,listener:pe})}subscribeEvent(ee,pe){const xe=this.getEventNameByNamingConvention(ee,"");this._elementSource.addEventListener(xe,pe),this._subscribedEvents.push({name:xe,listener:pe})}unsubscribe(ee,pe){const xe=this.getEventNameByNamingConvention(ee,"");this._elementSource.removeEventListener(xe,pe)}unsubscribeAll(ee){if(Array.isArray(ee))for(const pe of ee)(null==pe?void 0:pe.dispose)?pe.dispose():(null==pe?void 0:pe.unsubscribe)&&pe.unsubscribe();else for(const pe of this._subscribedEvents)this.unsubscribe(pe.name,pe.listener)}dispatchCustomEvent(ee,pe,xe=!0,Ce=!0){const Je={bubbles:xe,cancelable:Ce};return pe&&(Je.detail=pe),this._elementSource.dispatchEvent(new CustomEvent(ee,Je))}getEventNameByNamingConvention(ee,pe){let xe="";switch(this.eventNamingStyle){case l.siS.camelCase:xe=""!==pe?`${pe}${(0,l.Qsb)(ee)}`:ee;break;case l.siS.kebabCase:xe=""!==pe?`${pe}-${(0,l.mA0)(ee)}`:(0,l.mA0)(ee);break;case l.siS.lowerCase:xe=`${pe}${ee}`.toLowerCase();break;case l.siS.lowerCaseWithoutOnPrefix:xe=`${pe}${ee.replace(/^on/,"")}`.toLowerCase()}return xe}}class ae{constructor(){this._warningLeftElement=null,this._warningRightElement=null,this.isPreviouslyShown=!1}get gridOptions(){return this.grid&&this.grid.getOptions?this.grid.getOptions():{}}init(ee,pe){this.grid=ee,this.translaterService=pe.get("TranslaterService")}dispose(){var ee,pe;null===(ee=this._warningLeftElement)||void 0===ee||ee.remove(),null===(pe=this._warningRightElement)||void 0===pe||pe.remove(),this._warningLeftElement=null,this._warningRightElement=null}showEmptyDataMessage(ee=!0,pe){var xe,Ce,Je,lt,jt,Oe,Fe,ut,It,cn,Nn,_n,Fn,Hn;if(!this.grid||!this.gridOptions||this.isPreviouslyShown===ee)return!1;this.isPreviouslyShown=ee;const Tn=this.grid.getUID(),xn=tn(tn({message:"No data to display."},this.gridOptions.emptyDataWarning),pe),hr=null!==(xe=null==xn?void 0:xn.className)&&void 0!==xe?xe:"slick-empty-data-warning";this._warningLeftElement=document.querySelector(`.${Tn} .${hr}`);const $i=document.querySelector(`.${Tn} .grid-canvas.grid-canvas-left`),kr=document.querySelector(`.${Tn} .grid-canvas.grid-canvas-right`),yr=null!==(Ce=xn.leftViewportMarginLeft)&&void 0!==Ce?Ce:0,xr=null!==(Je=xn.rightViewportMarginLeft)&&void 0!==Je?Je:0,rr=null!==(lt=xn.frozenLeftViewportMarginLeft)&&void 0!==lt?lt:0,Xr=null!==(jt=xn.frozenRightViewportMarginLeft)&&void 0!==jt?jt:0,es=void 0!==(null===(Oe=this.gridOptions)||void 0===Oe?void 0:Oe.frozenColumn)&&this.gridOptions.frozenColumn>=0,Yi="string"==typeof yr?yr:`${yr}px`,Hs="string"==typeof xr?xr:`${xr}px`;if(this.gridOptions.autoHeight){const Or=document.querySelector(".slick-pane.slick-pane-top.slick-pane-left");if(Or&&Or.style&&$i&&$i.style){const bn=parseInt(Or.style.height,10)||0,Qe=null!==(ut=null===(Fe=this.gridOptions)||void 0===Fe?void 0:Fe.rowHeight)&&void 0!==ut?ut:0,ft=this.gridOptions.enableFiltering&&null!==(cn=null===(It=this.gridOptions)||void 0===It?void 0:It.headerRowHeight)&&void 0!==cn?cn:0,mn=this.gridOptions.createPreHeaderPanel&&null!==(_n=null===(Nn=this.gridOptions)||void 0===Nn?void 0:Nn.preHeaderPanelHeight)&&void 0!==_n?_n:0;if(ee){let Wt=null!==bn&&bn<100?bn:100;Wt+=ft+mn,Or.style.minHeight=`${Wt}px`,$i.style.minHeight=`${Qe}px`}}}let ps=xn.message;if(this.gridOptions.enableTranslate&&this.translaterService&&(null==xn?void 0:xn.messageKey)&&(ps=this.translaterService.translate(xn.messageKey)),!this._warningLeftElement&&$i&&kr){const Or=null!==(Hn=null===(Fn=this.gridOptions)||void 0===Fn?void 0:Fn.sanitizeHtmlOptions)&&void 0!==Hn?Hn:{};this._warningLeftElement=document.createElement("div"),this._warningLeftElement.classList.add(hr),this._warningLeftElement.classList.add("left"),this._warningLeftElement.innerHTML=(0,l.GR)(this.gridOptions,ps,Or),this._warningRightElement=this._warningLeftElement.cloneNode(!0),this._warningRightElement.classList.add("right"),kr.appendChild(this._warningRightElement),$i.appendChild(this._warningLeftElement)}if(this._warningLeftElement){let Or=ee?"block":"none";es&&ee&&(Or=xn.hideFrozenLeftWarning?"none":"block"),this._warningLeftElement.style.display=Or;const bn="string"==typeof rr?rr:`${rr}px`;this._warningLeftElement.style.marginLeft=es?bn:Yi}if(this._warningRightElement){let Or=ee?"block":"none";es&&ee&&(Or=xn.hideFrozenRightWarning?"none":"block"),this._warningRightElement.style.display=Or;const bn="string"==typeof Xr?Xr:`${Xr}px`;this._warningRightElement.style.marginLeft=es?bn:Hs}return ee}}var _e=L(4291),Te=L.n(_e);class Re{constructor(ee){this._value=null,this._boundedEventWithListeners=[],this._elementBindings=[],this._binding=ee,this._property=ee.property||"",this._elementBindings=[],ee.property&&ee.variable&&(ee.variable.hasOwnProperty(ee.property)||ee.property in ee.variable)?this._value="string"==typeof ee.variable[ee.property]?this.sanitizeText(ee.variable[ee.property]):ee.variable[ee.property]:this._value="string"==typeof ee.variable?this.sanitizeText(ee.variable):ee.variable,"object"==typeof ee.variable&&Object.defineProperty(ee.variable,ee.property,{get:this.valueGetter.bind(this),set:this.valueSetter.bind(this)})}get boundedEventWithListeners(){return this._boundedEventWithListeners}get elementBindings(){return this._elementBindings}get property(){return this._property}dispose(){this.unbindAll(),this._boundedEventWithListeners=[],this._elementBindings=[]}valueGetter(){return this._value}valueSetter(ee){if(this._value="string"==typeof ee?this.sanitizeText(ee):ee,Array.isArray(this._elementBindings))for(const pe of this._elementBindings)(null==pe?void 0:pe.element)&&(null==pe?void 0:pe.attribute)&&(pe.element[pe.attribute]="string"==typeof ee?this.sanitizeText(ee):ee)}bind(ee,pe,xe,Ce){return ee&&ee.forEach?ee.forEach(Je=>this.bindSingleElement(Je,pe,xe,Ce)):ee&&this.bindSingleElement(ee,pe,xe,Ce),this}unbind(ee,pe,xe,Ce,Je){if(ee){ee.removeEventListener(pe,xe,Ce);const lt=this._boundedEventWithListeners.findIndex(jt=>jt.uid===Je);lt>=0&&this._boundedEventWithListeners.splice(lt,1)}}unbindAll(){let ee=this._boundedEventWithListeners.pop();for(;ee;){const{element:pe,eventName:xe,listener:Ce,uid:Je}=ee;this.unbind(pe,xe,Ce,void 0,Je),ee=this._boundedEventWithListeners.pop()}this._boundedEventWithListeners=[]}bindSingleElement(ee,pe,xe,Ce){const Je={element:ee,attribute:pe};if(ee){if(xe){const lt=()=>{const jt=ee[pe];if(this.valueSetter(jt),(this._binding.variable.hasOwnProperty(this._binding.property)||this._binding.property in this._binding.variable)&&(this._binding.variable[this._binding.property]=this.valueGetter()),"function"==typeof Ce)return Ce(this.valueGetter())};Je.event=xe,Je.listener=lt,ee.addEventListener(xe,lt),this._boundedEventWithListeners.push({element:ee,eventName:xe,listener:lt,uid:this.generateUuidV4()})}this._elementBindings.push(Je),ee[pe]="string"==typeof this._value?this.sanitizeText(this._value):this._value}}generateUuidV4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,ee=>{const pe=16*Math.random()|0;return("x"===ee?pe:3&pe|8).toString(16)})}sanitizeText(ee){return(null==T?void 0:T.sanitize)?T.sanitize(ee,{}):ee}}class G{constructor(){this._observers=[],this._querySelectorPrefix=""}get querySelectorPrefix(){return this._querySelectorPrefix||""}set querySelectorPrefix(ee){this._querySelectorPrefix=ee}get observers(){return this._observers}dispose(){for(const ee of this._observers)ee.dispose();this._observers=[]}addElementBinding(ee,pe,xe,Ce,Je,lt){const jt=document.querySelectorAll(`${this.querySelectorPrefix}${xe}`);let Oe=this._observers.find(Fe=>Fe.property===ee);Oe||(Oe=new Re({variable:ee,property:pe})),Array.isArray(Je)?Je.forEach(Fe=>null==Oe?void 0:Oe.bind(jt,Ce,Fe,lt)):null==Oe||Oe.bind(jt,Ce,Je,lt),this._observers.push(Oe)}bindEventHandler(ee,pe,xe,Ce){document.querySelectorAll(`${this.querySelectorPrefix}${ee}`).forEach(lt=>{(null==lt?void 0:lt.addEventListener)&&lt.addEventListener(pe,xe,Ce)})}setElementAttributeValue(ee,pe,xe){document.querySelectorAll(`${this.querySelectorPrefix}${ee}`).forEach(Je=>{Je.textContent="",Je&&pe in Je&&(Je[pe]=xe)})}}const Ee=Te()||_e;class Ie{constructor(ee,pe,xe,Ce){var Je,lt,jt,Oe,Fe,ut,It;if(this.grid=ee,this.customFooterOptions=pe,this.pubSubService=xe,this.translaterService=Ce,this._enableTranslate=!1,this._isLeftFooterOriginallyEmpty=!0,this._isLeftFooterDisplayingSelectionRowCount=!1,this._isRightFooterOriginallyEmpty=!0,this._selectedRowCount=0,this._subscriptions=[],this._bindingHelper=new G,this._bindingHelper.querySelectorPrefix=`.${this.gridUid} `,this._eventHandler=new Slick.EventHandler,this._enableTranslate=null!==(lt=null===(Je=this.gridOptions)||void 0===Je?void 0:Je.enableTranslate)&&void 0!==lt&&lt,this._isLeftFooterOriginallyEmpty=!(null===(jt=this.gridOptions.customFooterOptions)||void 0===jt?void 0:jt.leftFooterText),this._isRightFooterOriginallyEmpty=!(null===(Oe=this.gridOptions.customFooterOptions)||void 0===Oe?void 0:Oe.rightFooterText),this.registerOnSelectedRowsChangedWhenEnabled(pe),this._enableTranslate&&(!this.translaterService||!this.translaterService.translate))throw new Error('[Slickgrid-Universal] requires a Translate Service to be installed and configured when the grid option "enableTranslate" is enabled.');if(this.translateCustomFooterTexts(),this._enableTranslate&&(null===(Fe=this.pubSubService)||void 0===Fe?void 0:Fe.subscribe)){const cn=null!==(It=null===(ut=this.translaterService)||void 0===ut?void 0:ut.eventName)&&void 0!==It?It:"onLanguageChange";this._subscriptions.push(this.pubSubService.subscribe(cn,()=>this.translateCustomFooterTexts()))}}get eventHandler(){return this._eventHandler}get gridUid(){var ee,pe;return null!==(pe=null===(ee=this.grid)||void 0===ee?void 0:ee.getUID())&&void 0!==pe?pe:""}get gridUidSelector(){return this.gridUid?`.${this.gridUid}`:""}get gridOptions(){return this.grid&&this.grid.getOptions?this.grid.getOptions():{}}get locales(){var ee,pe;return null!==(pe=null===(ee=this.gridOptions)||void 0===ee?void 0:ee.locales)&&void 0!==pe?pe:l.gTE.locales}set metrics(ee){this.renderMetrics(ee)}get leftFooterText(){var ee,pe;return null!==(pe=null===(ee=document.querySelector(`.slick-custom-footer${this.gridUidSelector} .left-footer`))||void 0===ee?void 0:ee.textContent)&&void 0!==pe?pe:""}set leftFooterText(ee){this.renderLeftFooterText(ee)}get rightFooterText(){var ee,pe;return null!==(pe=null===(ee=document.querySelector(`.slick-custom-footer${this.gridUidSelector} .right-footer`))||void 0===ee?void 0:ee.textContent)&&void 0!==pe?pe:""}set rightFooterText(ee){this.renderRightFooterText(ee)}dispose(){var ee;this.pubSubService.unsubscribeAll(this._subscriptions),this._bindingHelper.dispose(),null===(ee=this._footerElement)||void 0===ee||ee.remove(),this._eventHandler.unsubscribeAll()}renderFooter(ee){this.translateCustomFooterTexts(),this.createFooterContainer(ee)}renderMetrics(ee){var pe;const xe=Ee(ee.endTime).format(this.customFooterOptions.dateFormat);this._bindingHelper.setElementAttributeValue("span.last-update-timestamp","textContent",xe),this._bindingHelper.setElementAttributeValue("span.item-count","textContent",ee.itemCount),this._bindingHelper.setElementAttributeValue("span.total-count","textContent",ee.totalItemCount),(null===(pe=this.customFooterOptions.metricTexts)||void 0===pe?void 0:pe.lastUpdate)&&this._bindingHelper.addElementBinding(this.customFooterOptions.metricTexts,"lastUpdate","span.text-last-update","textContent"),this._bindingHelper.addElementBinding(this.customFooterOptions.metricTexts,"items","span.text-items","textContent"),this._bindingHelper.addElementBinding(this.customFooterOptions.metricTexts,"of","span.text-of","textContent")}renderLeftFooterText(ee){this._bindingHelper.setElementAttributeValue("div.left-footer","textContent",ee)}renderRightFooterText(ee){this._bindingHelper.setElementAttributeValue("div.right-footer","textContent",ee)}translateCustomFooterTexts(){var ee,pe,xe,Ce,Je;if(this.gridOptions.enableTranslate&&(null===(ee=this.translaterService)||void 0===ee?void 0:ee.translate)){this.customFooterOptions.metricTexts=this.customFooterOptions.metricTexts||{};for(const lt of Object.keys(this.customFooterOptions.metricTexts))if(lt.lastIndexOf("Key")>0){const jt=lt.substring(0,lt.lastIndexOf("Key"));this.customFooterOptions.metricTexts[jt]=this.translaterService.translate(this.customFooterOptions.metricTexts[lt]||" ")}this._isLeftFooterDisplayingSelectionRowCount&&(this.leftFooterText=`${this._selectedRowCount} ${this.customFooterOptions.metricTexts.itemsSelected}`)}else this.locales&&(this.customFooterOptions.metricTexts=this.customFooterOptions.metricTexts||{},this.customFooterOptions.metricTexts.lastUpdate=this.customFooterOptions.metricTexts.lastUpdate||(null===(pe=this.locales)||void 0===pe?void 0:pe.TEXT_LAST_UPDATE)||"TEXT_LAST_UPDATE",this.customFooterOptions.metricTexts.items=this.customFooterOptions.metricTexts.items||(null===(xe=this.locales)||void 0===xe?void 0:xe.TEXT_ITEMS)||"TEXT_ITEMS",this.customFooterOptions.metricTexts.itemsSelected=this.customFooterOptions.metricTexts.itemsSelected||(null===(Ce=this.locales)||void 0===Ce?void 0:Ce.TEXT_ITEMS_SELECTED)||"TEXT_ITEMS_SELECTED",this.customFooterOptions.metricTexts.of=this.customFooterOptions.metricTexts.of||(null===(Je=this.locales)||void 0===Je?void 0:Je.TEXT_OF)||"TEXT_OF")}createFooterContainer(ee){const pe=(0,l.uq8)("div",{className:`slick-custom-footer ${this.gridUid}`,style:{width:"100%",height:`${this.customFooterOptions.footerHeight||20}px`}});pe.appendChild((0,l.uq8)("div",{className:`left-footer ${this.customFooterOptions.leftContainerClass}`,innerHTML:(0,l.GR)(this.gridOptions,this.customFooterOptions.leftFooterText||"")})),pe.appendChild(this.createFooterRightContainer()),this._footerElement=pe,(null==ee?void 0:ee.appendChild)&&this._footerElement&&ee.appendChild(this._footerElement)}createFooterRightContainer(){var ee,pe,xe,Ce,Je,lt,jt,Oe;const Fe=(0,l.uq8)("div",{className:`right-footer ${this.customFooterOptions.rightContainerClass||""}`});if(this._isRightFooterOriginallyEmpty){if(!this.customFooterOptions.hideMetrics){Fe.classList.add("metrics");const ut=(0,l.uq8)("span",{className:"timestamp"});if(!this.customFooterOptions.hideLastUpdateTimestamp){const It=this.createFooterLastUpdate();It&&ut.appendChild(It)}Fe.appendChild(ut),Fe.appendChild((0,l.uq8)("span",{className:"item-count",textContent:`${null!==(pe=null===(ee=this.metrics)||void 0===ee?void 0:ee.itemCount)&&void 0!==pe?pe:"0"}`})),this.customFooterOptions.hideTotalItemCount||(Fe.appendChild(document.createTextNode("\r\n")),Fe.appendChild((0,l.uq8)("span",{className:"text-of",textContent:` ${null!==(Ce=null===(xe=this.customFooterOptions.metricTexts)||void 0===xe?void 0:xe.of)&&void 0!==Ce?Ce:"of"} `})),Fe.appendChild(document.createTextNode("\r\n")),Fe.appendChild((0,l.uq8)("span",{className:"total-count",textContent:`${null!==(lt=null===(Je=this.metrics)||void 0===Je?void 0:Je.totalItemCount)&&void 0!==lt?lt:"0"}`}))),Fe.appendChild(document.createTextNode("\r\n")),Fe.appendChild((0,l.uq8)("span",{className:"text-items",textContent:` ${null!==(Oe=null===(jt=this.customFooterOptions.metricTexts)||void 0===jt?void 0:jt.items)&&void 0!==Oe?Oe:"items"} `}))}}else Fe.innerHTML=(0,l.GR)(this.gridOptions,this.customFooterOptions.rightFooterText||"");return Fe}createFooterLastUpdate(){var ee,pe,xe,Ce;const Je=null!==(xe=null===(pe=null===(ee=this.customFooterOptions)||void 0===ee?void 0:ee.metricTexts)||void 0===pe?void 0:pe.lastUpdate)&&void 0!==xe?xe:"Last Update",lt=Ee(null===(Ce=this.metrics)||void 0===Ce?void 0:Ce.endTime).format(this.customFooterOptions.dateFormat),jt=(0,l.uq8)("span");return jt.appendChild((0,l.uq8)("span",{className:"text-last-update",textContent:Je})),jt.appendChild(document.createTextNode("\r\n")),jt.appendChild((0,l.uq8)("span",{className:"last-update-timestamp",textContent:lt})),jt.appendChild((0,l.uq8)("span",{className:"separator",textContent:` ${this.customFooterOptions.metricSeparator||""} `})),jt}registerOnSelectedRowsChangedWhenEnabled(ee){var pe,xe,Ce,Je;if((this.gridOptions.enableCheckboxSelector||this.gridOptions.enableRowSelection)&&ee&&!ee.hideRowSelectionCount&&this._isLeftFooterOriginallyEmpty){this._isLeftFooterDisplayingSelectionRowCount=!0;const jt=null!==(Je=null!==(xe=null===(pe=ee.metricTexts)||void 0===pe?void 0:pe.itemsSelected)&&void 0!==xe?xe:null===(Ce=this.locales)||void 0===Ce?void 0:Ce.TEXT_ITEMS_SELECTED)&&void 0!==Je?Je:"TEXT_ITEMS_SELECTED";ee.leftFooterText=`0 ${jt}`,this._eventHandler.subscribe(this.grid.onSelectedRowsChanged,(Oe,Fe)=>{var ut,It,cn,Nn;this._selectedRowCount=Fe.rows.length;const _n=null!==(Nn=null!==(It=null===(ut=ee.metricTexts)||void 0===ut?void 0:ut.itemsSelected)&&void 0!==It?It:null===(cn=this.locales)||void 0===cn?void 0:cn.TEXT_ITEMS_SELECTED)&&void 0!==Nn?Nn:"TEXT_ITEMS_SELECTED";this.leftFooterText=`${this._selectedRowCount} ${_n}`})}}}class Le{constructor(ee,pe,xe,Ce){var Je,lt,jt,Oe,Fe;if(this.paginationService=ee,this.pubSubService=pe,this.sharedService=xe,this.translaterService=Ce,this._enableTranslate=!1,this._subscriptions=[],this.firstButtonClasses="",this.lastButtonClasses="",this.prevButtonClasses="",this.nextButtonClasses="",this.textItemsPerPage="items per page",this.textItems="items",this.textOf="of",this.textPage="Page",this._bindingHelper=new G,this._bindingHelper.querySelectorPrefix=`.${this.gridUid} `,this.currentPagination=this.paginationService.getFullPagination(),this._enableTranslate=null!==(lt=null===(Je=this.gridOptions)||void 0===Je?void 0:Je.enableTranslate)&&void 0!==lt&&lt,this._enableTranslate&&(!this.translaterService||!this.translaterService.translate))throw new Error('[Slickgrid-Universal] requires a Translate Service to be installed and configured when the grid option "enableTranslate" is enabled.');if(this.translatePaginationTexts(),this._enableTranslate&&(null===(jt=this.pubSubService)||void 0===jt?void 0:jt.subscribe)){const ut=null!==(Fe=null===(Oe=this.translaterService)||void 0===Oe?void 0:Oe.eventName)&&void 0!==Fe?Fe:"onLanguageChange";this._subscriptions.push(this.pubSubService.subscribe(ut,()=>this.translatePaginationTexts()))}this._subscriptions.push(this.pubSubService.subscribe("onPaginationRefreshed",ut=>{for(const cn of Object.keys(ut))this.currentPagination[cn]=ut[cn];this.updatePageButtonsUsability();const It=document.querySelector(`.${this.gridUid} span.page-info-from-to`);(null==It?void 0:It.style)&&(It.style.display=0===this.currentPagination.totalItems?"none":"")}))}get availablePageSizes(){return this.paginationService.availablePageSizes||[]}get dataFrom(){return this.paginationService.dataFrom}get dataTo(){return this.paginationService.dataTo}get itemsPerPage(){return this.paginationService.itemsPerPage}set itemsPerPage(ee){this.paginationService.changeItemPerPage(ee)}get pageCount(){return this.paginationService.pageCount}get pageNumber(){return this.paginationService.pageNumber}set pageNumber(ee){}get grid(){return this.sharedService.slickGrid}get gridOptions(){return this.sharedService.gridOptions}get gridUid(){var ee,pe;return null!==(pe=null===(ee=this.grid)||void 0===ee?void 0:ee.getUID())&&void 0!==pe?pe:""}get locales(){var ee,pe;return null!==(pe=null===(ee=this.gridOptions)||void 0===ee?void 0:ee.locales)&&void 0!==pe?pe:l.gTE.locales}get totalItems(){return this.paginationService.totalItems}get isLeftPaginationDisabled(){return 1===this.pageNumber||0===this.totalItems}get isRightPaginationDisabled(){return this.pageNumber===this.pageCount||0===this.totalItems}dispose(){this.pubSubService.unsubscribeAll(this._subscriptions),this._bindingHelper.dispose(),this._paginationElement.remove()}renderPagination(ee){const pe=this.createPaginationContainer(),xe=(0,l.uq8)("div",{className:"slick-pagination-nav"}),Ce=this.createPageNavigation("Page navigation",[{liClass:"page-item seek-first",aClass:"page-link icon-seek-first",ariaLabel:"First Page"},{liClass:"page-item seek-prev",aClass:"page-link icon-seek-prev",ariaLabel:"Previous Page"}]),Je=this.createPageNumberSection(),lt=this.createPageNavigation("Page navigation",[{liClass:"page-item seek-next",aClass:"page-link icon-seek-next",ariaLabel:"Next Page"},{liClass:"page-item seek-end",aClass:"page-link icon-seek-end",ariaLabel:"Last Page"}]);pe.appendChild(xe),xe.appendChild(Ce),xe.appendChild(Je),xe.appendChild(lt);const jt=this.createPaginationSettingsSection();pe.appendChild(xe),pe.appendChild(jt),this._paginationElement.appendChild(pe),(null==ee?void 0:ee.appendChild)&&this._paginationElement&&ee.appendChild(this._paginationElement),this.renderPageSizes(),this.addBindings(),this.addEventListeners(),this.updatePageButtonsUsability()}renderPageSizes(){const ee=document.querySelector(`.${this.gridUid} .items-per-page`);if(ee&&Array.isArray(this.availablePageSizes))for(const pe of this.availablePageSizes)ee.appendChild((0,l.uq8)("option",{value:`${pe}`,text:`${pe}`}))}addBindings(){this._bindingHelper.addElementBinding(this,"firstButtonClasses","li.page-item.seek-first","className"),this._bindingHelper.addElementBinding(this,"prevButtonClasses","li.page-item.seek-prev","className"),this._bindingHelper.addElementBinding(this,"lastButtonClasses","li.page-item.seek-end","className"),this._bindingHelper.addElementBinding(this,"nextButtonClasses","li.page-item.seek-next","className"),this._bindingHelper.addElementBinding(this.currentPagination,"dataFrom","span.item-from","textContent"),this._bindingHelper.addElementBinding(this.currentPagination,"dataTo","span.item-to","textContent"),this._bindingHelper.addElementBinding(this.currentPagination,"totalItems","span.total-items","textContent"),this._bindingHelper.addElementBinding(this.currentPagination,"pageCount","span.page-count","textContent"),this._bindingHelper.addElementBinding(this.currentPagination,"pageNumber","input.page-number","value","change",this.changeToCurrentPage.bind(this)),this._bindingHelper.addElementBinding(this.currentPagination,"pageSize","select.items-per-page","value"),this._bindingHelper.addElementBinding(this,"textItems","span.text-items","textContent"),this._bindingHelper.addElementBinding(this,"textItemsPerPage","span.text-item-per-page","textContent"),this._bindingHelper.addElementBinding(this,"textOf","span.text-of","textContent"),this._bindingHelper.addElementBinding(this,"textPage","span.text-page","textContent")}addEventListeners(){this._bindingHelper.bindEventHandler(".icon-seek-first","click",this.changeToFirstPage.bind(this)),this._bindingHelper.bindEventHandler(".icon-seek-end","click",this.changeToLastPage.bind(this)),this._bindingHelper.bindEventHandler(".icon-seek-next","click",this.changeToNextPage.bind(this)),this._bindingHelper.bindEventHandler(".icon-seek-prev","click",this.changeToPreviousPage.bind(this)),this._bindingHelper.bindEventHandler("select.items-per-page","change",ee=>{var pe,xe;return this.itemsPerPage=+(null!==(xe=null===(pe=null==ee?void 0:ee.target)||void 0===pe?void 0:pe.value)&&void 0!==xe?xe:0)})}changeToFirstPage(ee){this.isLeftPaginationDisabled||this.paginationService.goToFirstPage(ee)}changeToLastPage(ee){this.isRightPaginationDisabled||this.paginationService.goToLastPage(ee)}changeToNextPage(ee){this.isRightPaginationDisabled||this.paginationService.goToNextPage(ee)}changeToPreviousPage(ee){this.isLeftPaginationDisabled||this.paginationService.goToPreviousPage(ee)}changeToCurrentPage(ee){this.paginationService.goToPageNumber(+ee)}translatePaginationTexts(){var ee;if(this._enableTranslate&&(null===(ee=this.translaterService)||void 0===ee?void 0:ee.translate)){const pe=(0,l.YdZ)(this.gridOptions);this.textItemsPerPage=this.translaterService.translate(`${pe}ITEMS_PER_PAGE`),this.textItems=this.translaterService.translate(`${pe}ITEMS`),this.textOf=this.translaterService.translate(`${pe}OF`),this.textPage=this.translaterService.translate(`${pe}PAGE`)}else this.locales&&(this.textItemsPerPage=this.locales.TEXT_ITEMS_PER_PAGE||"TEXT_ITEMS_PER_PAGE",this.textItems=this.locales.TEXT_ITEMS||"TEXT_ITEMS",this.textOf=this.locales.TEXT_OF||"TEXT_OF",this.textPage=this.locales.TEXT_PAGE||"TEXT_PAGE")}createPaginationContainer(){const ee=(0,l.uq8)("div",{id:"pager",className:`slick-pagination-container ${this.gridUid} pager`,style:{width:"100%"}}),pe=(0,l.uq8)("div",{className:"slick-pagination"});return ee.appendChild(pe),this._paginationElement=ee,pe}createPageNavigation(ee,pe){const xe=(0,l.uq8)("nav",{ariaLabel:ee}),Ce=(0,l.uq8)("ul",{className:"pagination"});for(const Je of pe){const lt=(0,l.uq8)("li",{className:Je.liClass}),jt=(0,l.uq8)("a",{className:Je.aClass});jt.setAttribute("aria-label",Je.ariaLabel),lt.appendChild(jt),Ce.appendChild(lt)}return xe.appendChild(Ce),xe}createPageNumberSection(){const ee=(0,l.uq8)("div",{className:"slick-page-number"}),pe=(0,l.uq8)("span",{className:"text-page",textContent:"Page"}),xe=(0,l.uq8)("input",{type:"text",className:"form-control page-number",value:"1",size:1,dataset:{test:"page-number-input"}});xe.setAttribute("aria-label","Page Number");const Ce=(0,l.uq8)("span",{className:"text-of",textContent:"of"}),Je=(0,l.uq8)("span",{className:"page-count",dataset:{test:"page-count"}});return ee.appendChild(pe),ee.appendChild(document.createTextNode(" ")),ee.appendChild(xe),ee.appendChild(document.createTextNode(" ")),ee.appendChild(Ce),ee.appendChild(document.createTextNode(" ")),ee.appendChild(Je),ee}createPaginationSettingsSection(){const ee=(0,l.uq8)("span",{className:"slick-pagination-settings"}),pe=(0,l.uq8)("select",{id:"items-per-page-label",className:"items-per-page"});pe.setAttribute("aria-label","Items per Page Select");const xe=(0,l.uq8)("span",{className:"text-item-per-page",textContent:"items per page"}),Ce=(0,l.uq8)("span",{className:"slick-pagination-count"}),Je=(0,l.uq8)("span",{className:"page-info-from-to"}),lt=(0,l.uq8)("span",{className:"item-from",dataset:{test:"item-from"}});lt.setAttribute("aria-label","Page Item From");const jt=(0,l.uq8)("span",{className:"item-to",dataset:{test:"item-to"}});jt.setAttribute("aria-label","Page Item To");const Oe=(0,l.uq8)("span",{className:"text-of",textContent:"of"}),Fe=(0,l.uq8)("span",{className:"page-info-total-items"}),ut=(0,l.uq8)("span",{className:"total-items",dataset:{test:"total-items"}}),It=(0,l.uq8)("span",{className:"text-items",textContent:"items"});return ee.appendChild(pe),ee.appendChild(document.createTextNode(" ")),ee.appendChild(xe),ee.appendChild(document.createTextNode(", ")),Je.appendChild(lt),Je.appendChild(document.createTextNode("-")),Je.appendChild(jt),Je.appendChild(document.createTextNode(" ")),Je.appendChild(Oe),Je.appendChild(document.createTextNode(" ")),Ce.appendChild(Je),ee.appendChild(Ce),Fe.appendChild(ut),Fe.appendChild(document.createTextNode(" ")),Fe.appendChild(It),Fe.appendChild(document.createTextNode(" ")),Ce.appendChild(Fe),ee}updatePageButtonsUsability(){this.firstButtonClasses=this.isLeftPaginationDisabled?"page-item seek-first disabled":"page-item seek-first",this.prevButtonClasses=this.isLeftPaginationDisabled?"page-item seek-prev disabled":"page-item seek-prev",this.lastButtonClasses=this.isRightPaginationDisabled?"page-item seek-end disabled":"page-item seek-end",this.nextButtonClasses=this.isRightPaginationDisabled?"page-item seek-next disabled":"page-item seek-next"}}var ne=L(591),Pe=L(253),He=L(4423),ze=L(5463);var nt=L(1954);var wt=L(4437),Pt=L(745),en=L(2673),Nt=L(8951);class je{constructor(){this.className="RxJsResource"}get EMPTY(){return ne.E}createObservable(){return new w.y}createSubject(){return new Pe.x}firstValueFrom(ee){return function(Mt,ee){const pe="object"==typeof ee;return new Promise((xe,Ce)=>{const Je=new ze.Hp({next:lt=>{xe(lt),Je.unsubscribe()},error:Ce,complete:()=>{pe?xe(ee.defaultValue):Ce(new He.K)}});Mt.subscribe(Je)})}(ee)}iif(ee,pe,xe){return function(Mt,ee,pe){return(0,nt.P)(()=>Mt()?ee:pe)}(ee,pe,xe)}isObservable(ee){return(0,wt.b)(ee)}of(...ee){return(0,Pt.of)(...ee)}switchMap(ee){return(0,en.w)(ee)}takeUntil(ee){return(0,Nt.R)(ee)}}var Ft=L(1107),sn=L(6362);class nn{constructor(ee,pe,xe){this.compFactoryResolver=ee,this.appRef=pe,this.injector=xe}createAngularComponent(ee){const pe=this.compFactoryResolver.resolveComponentFactory(ee).create(this.injector);let xe;this.appRef.attachView(pe.hostView);const Ce=pe.hostView;return Ce&&Array.isArray(Ce.rootNodes)&&Ce.rootNodes[0]&&(xe=Ce.rootNodes[0]),{componentRef:pe,domElement:xe}}createAngularComponentAppendToDom(ee,pe,xe=!1){const Ce=this.createAngularComponent(ee);return pe&&pe.appendChild?(xe&&pe.innerHTML&&(pe.innerHTML=""),pe.appendChild(Ce.domElement)):document.body.appendChild(Ce.domElement),Ce}}nn.\u0275fac=function(ee){return new(ee||nn)(A.LFG(A._Vd),A.LFG(A.z2F),A.LFG(A.zs3))},nn.\u0275prov=A.Yz7({token:nn,factory:nn.\u0275fac});class zt{constructor(ee){this.angularUtilService=ee}get domElement(){return this._domElement}get domContainerElement(){return this._domContainerElement}get gridViewport(){return $(".slick-viewport")}dispose(){this._domElement&&this._domElement.remove&&this._domElement.remove()}dropContainerShow(){this._domContainerElement&&this._domContainerElement.show&&this._domContainerElement.show()}render(ee){return new Promise(pe=>{const{component:xe,args:Ce,parent:Je,offsetTop:lt,offsetLeft:jt,offsetDropupBottom:Oe}=ee,Fe=Ce.cell,ut=Ce.row;if(this._domContainerElement=$(`#myDrop-r${ut}-c${Fe}`),this._domContainerElement){const It=this._domContainerElement.offset(),cn=this.angularUtilService.createAngularComponent(xe),Nn=cn&&cn.componentRef&&cn.componentRef.instance;if(Nn){const _n=Nn.dropdownId||"myDrop",Fn=Nn.dropDownToggleId||"dropdownMenu1";this._domElement=$(`#${_n}`),this._domElement&&(this.dispose(),Object.assign(Nn,{parent:Je,row:Ce.row,dataContext:Ce.grid.getDataItem(Ce.row)}),setTimeout(()=>{this._domElement=$(cn.domElement);const Hn=(It&&It.top||0)+30+(lt||0),Tn=(It&&It.left||0)+(jt||0);this._domElement.appendTo("body"),this._domElement.css("position","absolute"),this._domElement.css("top",Hn),this._domElement.css("left",Tn),$(`#${_n}`).addClass("open"),$(`#${Fn}`).hide();const xn=$(".dropdown-menu"),hr=xn.parent(),$i=hr.offset()||{},kr=$i.top||hr&&hr.length>0&&hr[0].offsetTop,yr=xn.height();let Xr="0px";if(window.innerHeight-yr-35<kr){const Hs=Oe||0;Xr="-".concat(`${yr+35+Hs+5}`,"px")}this._domElement.css({"margin-top":Xr});const Yi=$i.left-$(document).width();this._domElement.css({"margin-left":this._domElement.width()+Yi+60+"px"});try{this._domElement.dropdown("show")}catch(Hs){}this._domElement.on("hidden.bs.dropdown",()=>this.dropContainerShow()),this.gridViewport.on("scroll",()=>this.dispose()),this._domElement.on("click",()=>this.dispose()),pe(!0)}))}}})}}zt.\u0275fac=function(ee){return new(ee||zt)(A.LFG(nn))},zt.\u0275prov=A.Yz7({token:zt,factory:zt.\u0275fac});class an{constructor(){this.dependencies=[]}get(ee){const pe=this.dependencies.find(xe=>xe.key===ee);return(null==pe?void 0:pe.instance)?pe.instance:null}registerInstance(ee,pe){this.dependencies.some(Ce=>Ce.key===ee)||this.dependencies.push({key:ee,instance:pe})}}an.\u0275fac=function(ee){return new(ee||an)},an.\u0275prov=A.Yz7({token:an,factory:an.\u0275fac});class On{constructor(ee){this.translateService=ee}getCurrentLanguage(){var ee,pe;return null!==(pe=null===(ee=this.translateService)||void 0===ee?void 0:ee.currentLang)&&void 0!==pe?pe:""}use(ee){var pe,xe;return(0,j.mG)(this,void 0,void 0,function*(){return null===(xe=null===(pe=this.translateService)||void 0===pe?void 0:pe.use)||void 0===xe?void 0:xe.call(pe,ee)})}translate(ee){var pe,xe;return null===(xe=null===(pe=this.translateService)||void 0===pe?void 0:pe.instant)||void 0===xe?void 0:xe.call(pe,ee||" ")}}function Dn(Mt){return Array.isArray(Mt)&&(Mt.forEach(ee=>{ee&&ee.unsubscribe&&ee.unsubscribe()}),Mt=[]),Mt}On.\u0275fac=function(ee){return new(ee||On)(A.LFG(I.sK,8))},On.\u0275prov=A.Yz7({token:On,factory:On.\u0275fac});const fi="container_",ge="container_loading";class $t extends class{constructor(){this._dataViewIdProperty="id",this._expandableOverride=null,this._expandedRows=[],this._gridRowBuffer=0,this._gridUid="",this._keyPrefix="",this._lastRange=null,this._outsideRange=5,this._pubSubService=null,this._rowIdsOutOfViewport=[],this._visibleRenderedCellCount=0,this._defaults={alwaysRenderColumn:!0,columnId:"_detail_selector",cssClass:"detailView-toggle",collapseAllOnSort:!0,collapsedClass:null,expandedClass:null,keyPrefix:"_",loadOnce:!1,maxRows:null,saveDetailViewOnScroll:!0,singleRowExpand:!1,useSimpleViewportCalc:!1,toolTip:"",width:30},this.pluginName="RowDetailView",this.onAsyncEndUpdate=new Slick.Event,this.onAsyncResponse=new Slick.Event,this.onAfterRowDetailToggle=new Slick.Event,this.onBeforeRowDetailToggle=new Slick.Event,this.onRowBackToViewportRange=new Slick.Event,this.onRowOutOfViewportRange=new Slick.Event,this._eventHandler=new Slick.EventHandler}get addonOptions(){return this._addonOptions}get dataView(){var ee;return(null===(ee=this._grid)||void 0===ee?void 0:ee.getData())||{}}get dataViewIdProperty(){return this._dataViewIdProperty}get eventHandler(){return this._eventHandler}get gridOptions(){var ee;return(null===(ee=this._grid)||void 0===ee?void 0:ee.getOptions())||{}}get gridUid(){var ee;return this._gridUid||(null===(ee=this._grid)||void 0===ee?void 0:ee.getUID())||""}set lastRange(ee){this._lastRange=ee}set rowIdsOutOfViewport(ee){this._rowIdsOutOfViewport=ee}get visibleRenderedCellCount(){return this._visibleRenderedCellCount}init(ee){var pe;if(this._grid=ee,!ee)throw new Error('[Slickgrid-Universal] RowDetailView Plugin requires the Grid instance to be passed as argument to the "init()" method.');this._grid=ee,this._gridUid=ee.getUID(),this._addonOptions=this.gridOptions.rowDetailView||{},this._keyPrefix=(null===(pe=this._addonOptions)||void 0===pe?void 0:pe.keyPrefix)||"_",this._gridRowBuffer=this.gridOptions.minRowBuffer||0,this.gridOptions.minRowBuffer=this._addonOptions.panelRows+3,this._eventHandler.subscribe(this._grid.onClick,this.handleClick.bind(this)).subscribe(this._grid.onScroll,this.handleScroll.bind(this)),this._addonOptions.collapseAllOnSort&&(this._eventHandler.subscribe(this._grid.onSort,this.collapseAll.bind(this)),this._expandedRows=[],this._rowIdsOutOfViewport=[]),this._eventHandler.subscribe(this.dataView.onRowCountChanged,()=>{this._grid.updateRowCount(),this._grid.render()}),this._eventHandler.subscribe(this.dataView.onRowsChanged,(xe,Ce)=>{this._grid.invalidateRows(Ce.rows),this._grid.render()}),this._eventHandler.subscribe(this.onAsyncResponse,this.handleOnAsyncResponse.bind(this)),this._eventHandler.subscribe(this.dataView.onSetItemsCalled,()=>{var xe;this._dataViewIdProperty=(null===(xe=this.dataView)||void 0===xe?void 0:xe.getIdPropertyName())||"id"}),this._addonOptions.useSimpleViewportCalc&&this._eventHandler.subscribe(this._grid.onRendered,(xe,Ce)=>{(null==Ce?void 0:Ce.endRow)&&(this._visibleRenderedCellCount=Ce.endRow-Ce.startRow)})}dispose(){var ee;null===(ee=this._eventHandler)||void 0===ee||ee.unsubscribeAll()}create(ee,pe){var xe,Ce;if(!pe.rowDetailView)throw new Error('[Slickgrid-Universal] The Row Detail View requires options to be passed via the "rowDetailView" property of the Grid Options');if(this._addonOptions=tn(tn({},this._defaults),pe.rowDetailView),"function"==typeof this._addonOptions.expandableOverride&&this.expandableOverride(this._addonOptions.expandableOverride),Array.isArray(ee)&&pe){const Je=this.getColumnDefinition(),jt=Array.isArray(ee)&&ee.find(Fe=>"selectAndMove"===(null==Fe?void 0:Fe.behavior))||Je,Oe=null!==(Ce=null===(xe=null==pe?void 0:pe.rowDetailView)||void 0===xe?void 0:xe.columnIndexPosition)&&void 0!==Ce?Ce:0;Oe>0?ee.splice(Oe,0,jt):ee.unshift(jt)}return this}getOptions(){return this._addonOptions}setOptions(ee){var pe;this._addonOptions=tn(tn({},this._addonOptions),ee),(null===(pe=this._addonOptions)||void 0===pe?void 0:pe.singleRowExpand)&&this.collapseAll()}collapseAll(){this.dataView.beginUpdate();for(const ee of this._expandedRows)this.collapseDetailView(ee,!0);this.dataView.endUpdate()}collapseDetailView(ee,pe=!1){pe||this.dataView.beginUpdate(),this._addonOptions.loadOnce&&this.saveDetailView(ee),ee[`${this._keyPrefix}collapsed`]=!0;for(let xe=1;xe<=ee[`${this._keyPrefix}sizePadding`];xe++)this.dataView.deleteItem(`${ee[this._dataViewIdProperty]}.${xe}`);ee[`${this._keyPrefix}sizePadding`]=0,this.dataView.updateItem(ee[this._dataViewIdProperty],ee),this._expandedRows=this._expandedRows.filter(xe=>xe[this._dataViewIdProperty]!==ee[this._dataViewIdProperty]),pe||this.dataView.endUpdate()}expandDetailView(ee){var pe,xe,Ce;if((null===(pe=this._addonOptions)||void 0===pe?void 0:pe.singleRowExpand)&&this.collapseAll(),ee[`${this._keyPrefix}collapsed`]=!1,this._expandedRows.push(ee),ee[`${this._keyPrefix}detailContent`]||(ee[`${this._keyPrefix}detailViewLoaded`]=!1),ee[`${this._keyPrefix}detailViewLoaded`]&&!0===this._addonOptions.loadOnce)return this.onAsyncResponse.notify({item:ee,itemDetail:ee,detailView:ee[`${this._keyPrefix}detailContent`]}),this.applyTemplateNewLineHeight(ee),void this.dataView.updateItem(ee[this._dataViewIdProperty],ee);ee[`${this._keyPrefix}detailContent`]=null===(Ce=null===(xe=this._addonOptions)||void 0===xe?void 0:xe.preTemplate)||void 0===Ce?void 0:Ce.call(xe,ee),this.applyTemplateNewLineHeight(ee),this.dataView.updateItem(ee[this._dataViewIdProperty],ee),this._addonOptions.process(ee)}saveDetailView(ee){const pe=document.querySelector(`.${this.gridUid} .innerDetailView_${ee[this._dataViewIdProperty]}`);if(pe){const xe=pe.innerHTML;void 0!==xe&&(ee[`${this._keyPrefix}detailContent`]=xe)}}handleOnAsyncResponse(ee,pe){var xe,Ce,Je;if(!pe||!pe.item&&!pe.itemDetail)return void console.error('SlickRowDetailView plugin requires the onAsyncResponse() to supply "args.item" property.');const lt=pe.item||pe.itemDetail;lt[`${this._keyPrefix}detailContent`]=null!==(xe=pe.detailView)&&void 0!==xe?xe:null===(Je=null===(Ce=this._addonOptions)||void 0===Ce?void 0:Ce.postTemplate)||void 0===Je?void 0:Je.call(Ce,lt),lt[`${this._keyPrefix}detailViewLoaded`]=!0,this.dataView.updateItem(lt[this._dataViewIdProperty],lt),this.onAsyncEndUpdate.notify({grid:this._grid,item:lt,itemDetail:lt})}expandableOverride(ee){this._expandableOverride=ee}getExpandableOverride(){return this._expandableOverride}getColumnDefinition(){var ee,pe,xe;return{id:null!==(pe=null===(ee=this._addonOptions)||void 0===ee?void 0:ee.columnId)&&void 0!==pe?pe:"_rowDetail_",field:"sel",name:"",alwaysRenderColumn:null===(xe=this._addonOptions)||void 0===xe?void 0:xe.alwaysRenderColumn,cssClass:this._addonOptions.cssClass||"",excludeFromExport:!0,excludeFromColumnPicker:!0,excludeFromGridMenu:!0,excludeFromQuery:!0,excludeFromHeaderMenu:!0,formatter:this.detailSelectionFormatter.bind(this),resizable:!1,sortable:!1,toolTip:this._addonOptions.toolTip,width:this._addonOptions.width}}getExpandedRows(){return this._expandedRows}getOutOfViewportRows(){return this._rowIdsOutOfViewport}getFilterItem(ee){return ee[`${this._keyPrefix}isPadding`]&&ee[`${this._keyPrefix}parent`]&&(ee=ee[`${this._keyPrefix}parent`]),ee}resizeDetailView(ee){if(!ee)return;const pe=document.querySelector(`.${this.gridUid} .detailViewContainer_${ee[this._dataViewIdProperty]}`),xe=document.querySelector(`.${this.gridUid} .cellDetailView_${ee[this._dataViewIdProperty]}`),Ce=document.querySelector(`.${this.gridUid} .innerDetailView_${ee[this._dataViewIdProperty]}`);if(!pe||!xe||!Ce)return;for(let It=1;It<=ee[`${this._keyPrefix}sizePadding`];It++)this.dataView.deleteItem(`${ee[this._dataViewIdProperty]}.${It}`);const Je=this.gridOptions.rowHeight;pe.style.minHeight="";const jt=pe.scrollHeight,Oe=Math.ceil(jt/Je);ee[`${this._keyPrefix}sizePadding`]=Math.ceil(2*Oe*13/Je),ee[`${this._keyPrefix}height`]=jt;let Fe=ee[`${this._keyPrefix}sizePadding`]*Je;null!==this._addonOptions.maxRows&&ee[`${this._keyPrefix}sizePadding`]>this._addonOptions.maxRows&&(Fe=this._addonOptions.maxRows*Je,ee[`${this._keyPrefix}sizePadding`]=this._addonOptions.maxRows),this.gridOptions.minRowBuffer<ee[`${this._keyPrefix}sizePadding`]&&(this.gridOptions.minRowBuffer=ee[`${this._keyPrefix}sizePadding`]+3),pe.setAttribute("style",`min-height: ${ee[this._keyPrefix+"height"]}px`),xe&&xe.setAttribute("style",`height: ${Fe}px; top: ${Je}px`);const ut=this.dataView.getIdxById(ee[this._dataViewIdProperty]);for(let It=1;It<=ee[`${this._keyPrefix}sizePadding`];It++)this.dataView.insertItem(ut+It,this.getPaddingItem(ee,It));this.saveDetailView(ee)}applyTemplateNewLineHeight(ee){const pe=this._addonOptions.panelRows;ee[`${this._keyPrefix}sizePadding`]=Math.ceil(2*pe*13/this.gridOptions.rowHeight),ee[`${this._keyPrefix}height`]=ee[`${this._keyPrefix}sizePadding`]*this.gridOptions.rowHeight;const Ce=this.dataView.getIdxById(ee[this._dataViewIdProperty]);for(let Je=1;Je<=ee[`${this._keyPrefix}sizePadding`];Je++)this.dataView.insertItem((Ce||0)+Je,this.getPaddingItem(ee,Je))}calculateOutOfRangeViews(){if(this._grid){let ee;const pe=this._grid.getRenderedRange();if(this._expandedRows.length>0&&(ee="DOWN",this._lastRange)){if(this._lastRange.top===pe.top&&this._lastRange.bottom===pe.bottom)return;(this._lastRange.top>pe.top||0===this._lastRange.top&&0===pe.top&&this._lastRange.bottom>pe.bottom)&&(ee="UP")}this._expandedRows.forEach(xe=>{const Ce=this.dataView.getRowById(xe[this._dataViewIdProperty]),Je=xe[`${this._keyPrefix}sizePadding`],lt=this._rowIdsOutOfViewport.some(jt=>jt===xe[this._dataViewIdProperty]);"UP"===ee?(this._addonOptions.saveDetailViewOnScroll&&Ce>=pe.bottom-this._gridRowBuffer&&this.saveDetailView(xe),lt&&Ce-this._outsideRange<pe.top&&Ce>=pe.top?this.notifyBackToViewportWhenDomExist(xe,xe[this._dataViewIdProperty]):!lt&&Ce+Je>pe.bottom&&this.notifyOutOfViewport(xe,xe[this._dataViewIdProperty])):"DOWN"===ee&&(this._addonOptions.saveDetailViewOnScroll&&Ce<=pe.top+this._gridRowBuffer&&this.saveDetailView(xe),lt&&Ce+Je+this._outsideRange>pe.bottom&&Ce<Ce+Je?this.notifyBackToViewportWhenDomExist(xe,xe[this._dataViewIdProperty]):!lt&&Ce<pe.top&&this.notifyOutOfViewport(xe,xe[this._dataViewIdProperty]))}),this._lastRange=pe}}calculateOutOfRangeViewsSimplerVersion(){if(this._grid){const ee=this._grid.getRenderedRange();this._expandedRows.forEach(pe=>{const xe=this.dataView.getRowById(pe[this._dataViewIdProperty]),Ce=this.checkIsRowOutOfViewportRange(xe,ee);!Ce&&this._rowIdsOutOfViewport.some(Je=>Je===pe[this._dataViewIdProperty])?this.notifyBackToViewportWhenDomExist(pe,pe[this._dataViewIdProperty]):Ce&&this.notifyOutOfViewport(pe,pe[this._dataViewIdProperty])})}}checkExpandableOverride(ee,pe,xe){return"function"!=typeof this._expandableOverride||this._expandableOverride(ee,pe,xe)}checkIsRowOutOfViewportRange(ee,pe){return Math.abs(pe.bottom-this._gridRowBuffer-ee)>2*this._visibleRenderedCellCount}getPaddingItem(ee,pe){const xe={};for(const Ce in this.dataView)Ce&&(xe[Ce]=null);return xe[this._dataViewIdProperty]=`${ee[this._dataViewIdProperty]}.${pe}`,xe[`${this._keyPrefix}collapsed`]=!0,xe[`${this._keyPrefix}isPadding`]=!0,xe[`${this._keyPrefix}parent`]=ee,xe[`${this._keyPrefix}offset`]=pe,xe}detailSelectionFormatter(ee,pe,xe,Ce,Je,lt){if(!this.checkExpandableOverride(ee,Je,lt))return"";if(void 0===Je[`${this._keyPrefix}collapsed`]&&(Je[`${this._keyPrefix}collapsed`]=!0,Je[`${this._keyPrefix}sizePadding`]=0,Je[`${this._keyPrefix}height`]=0,Je[`${this._keyPrefix}isPadding`]=!1,Je[`${this._keyPrefix}parent`]=void 0,Je[`${this._keyPrefix}offset`]=0),!Je[`${this._keyPrefix}isPadding`]){if(Je[`${this._keyPrefix}collapsed`]){let jt=`${this._addonOptions.cssClass||""} expand `;return this._addonOptions.collapsedClass&&(jt+=this._addonOptions.collapsedClass),`<div class="${jt.trim()}"></div>`}{const jt=[],Oe=this.gridOptions.rowHeight||0;let Fe=(Je[`${this._keyPrefix}sizePadding`]||0)*this.gridOptions.rowHeight;null!==this._addonOptions.maxRows&&(Je[`${this._keyPrefix}sizePadding`]||0)>this._addonOptions.maxRows&&(Fe=this._addonOptions.maxRows*Oe,Je[`${this._keyPrefix}sizePadding`]=this._addonOptions.maxRows);let ut=`${this._addonOptions.cssClass||""} collapse `;return this._addonOptions.expandedClass&&(ut+=this._addonOptions.expandedClass),jt.push(`<div class="${ut.trim()}"></div></div>`),jt.push(`<div class="dynamic-cell-detail cellDetailView_${Je[this._dataViewIdProperty]}" `),jt.push(`style="height: ${Fe}px;`),jt.push(`top: ${Oe}px">`),jt.push(`<div class="detail-container detailViewContainer_${Je[this._dataViewIdProperty]}">`),jt.push(`<div class="innerDetailView_${Je[this._dataViewIdProperty]}">${Je[`${this._keyPrefix}detailContent`]}</div></div>`),jt.join("")}}return""}handleAccordionShowHide(ee){ee&&(ee[`${this._keyPrefix}collapsed`]?this.expandDetailView(ee):this.collapseDetailView(ee))}handleClick(ee,pe){const xe=this._grid.getDataItem(pe.row);if(this.checkExpandableOverride(pe.row,xe,this._grid)){const Ce=this._grid.getColumns()[pe.cell];if(this._addonOptions.useRowClick||Ce.id===this._addonOptions.columnId&&ee.target.classList.contains(this._addonOptions.cssClass||"")){if(this._grid.getEditorLock().isActive()&&!this._grid.getEditorLock().commitCurrentEdit())return ee.preventDefault(),void ee.stopImmediatePropagation();this.onBeforeRowDetailToggle.notify({grid:this._grid,item:xe}),this.toggleRowSelection(pe.row,xe),this.onAfterRowDetailToggle.notify({grid:this._grid,item:xe,expandedRows:this._expandedRows}),ee.stopPropagation(),ee.stopImmediatePropagation()}}}handleScroll(){this._addonOptions.useSimpleViewportCalc?this.calculateOutOfRangeViewsSimplerVersion():this.calculateOutOfRangeViews()}notifyOutOfViewport(ee,pe){const xe=ee.rowIndex||this.dataView.getRowById(ee[this._dataViewIdProperty]);this.onRowOutOfViewportRange.notify({grid:this._grid,item:ee,rowId:pe,rowIndex:xe,expandedRows:this._expandedRows,rowIdsOutOfViewport:this.syncOutOfViewportArray(pe,!0)})}notifyBackToViewportWhenDomExist(ee,pe){const xe=ee.rowIndex||this.dataView.getRowById(ee[this._dataViewIdProperty]);setTimeout(()=>{document.querySelector(`.cellDetailView_${ee[this._dataViewIdProperty]}`)&&this.onRowBackToViewportRange.notify({grid:this._grid,item:ee,rowId:pe,rowIndex:xe,expandedRows:this._expandedRows,rowIdsOutOfViewport:this.syncOutOfViewportArray(pe,!1)})},100)}syncOutOfViewportArray(ee,pe){const xe=this._rowIdsOutOfViewport.findIndex(Ce=>Ce===ee);return pe&&xe<0?this._rowIdsOutOfViewport.push(ee):!pe&&xe>=0&&this._rowIdsOutOfViewport.splice(xe,1),this._rowIdsOutOfViewport}toggleRowSelection(ee,pe){this.checkExpandableOverride(ee,pe,this._grid)&&(this.dataView.beginUpdate(),this.handleAccordionShowHide(pe),this.dataView.endUpdate())}}{constructor(ee,pe,xe,Ce,Je){super(),this.angularUtilService=ee,this.appRef=pe,this.eventPubSubService=xe,this.gridContainerElement=Ce,this.rxjs=Je,this._views=[],this._subscriptions=[]}get addonOptions(){return this.getOptions()}get datasetIdPropName(){return this.gridOptions.datasetIdPropertyName||"id"}get eventHandler(){return this._eventHandler}set eventHandler(ee){this._eventHandler=ee}get gridOptions(){var ee;return(null===(ee=this._grid)||void 0===ee?void 0:ee.getOptions())||{}}get rowDetailViewOptions(){return this.gridOptions.rowDetailView}addRxJsResource(ee){this.rxjs=ee}dispose(){this.disposeAllViewComponents(),this._subscriptions=Dn(this._subscriptions),super.dispose()}disposeAllViewComponents(){this._views.forEach(ee=>this.disposeViewComponent(ee)),this._views=[]}getAddonInstance(){return this}init(ee){this._grid=ee,super.init(this._grid),this.register(null==ee?void 0:ee.getSelectionModel())}register(ee){var pe,xe,Ce,Je,lt,jt,Oe,Fe,ut;if("function"!=typeof(null===(pe=this.gridOptions.rowDetailView)||void 0===pe?void 0:pe.process))throw new Error('[Angular-Slickgrid] You need to provide a "process" function for the Row Detail Extension to work properly');return this._userProcessFn=this.gridOptions.rowDetailView.process,this.gridOptions.rowDetailView.process=It=>this.onProcessing(It),this._grid&&(null===(xe=this.gridOptions)||void 0===xe?void 0:xe.rowDetailView)&&(this.gridOptions.rowDetailView.preTemplate||(this._preloadComponent=null===(Je=null===(Ce=this.gridOptions)||void 0===Ce?void 0:Ce.rowDetailView)||void 0===Je?void 0:Je.preloadComponent,this.gridOptions.rowDetailView.preTemplate=()=>T.sanitize(`<div class="${ge}"></div>`)),this.gridOptions.rowDetailView.postTemplate||(this._viewComponent=null===(jt=null===(lt=this.gridOptions)||void 0===lt?void 0:lt.rowDetailView)||void 0===jt?void 0:jt.viewComponent,this.gridOptions.rowDetailView.postTemplate=It=>T.sanitize(`<div class="${fi}${It[this.datasetIdPropName]}"></div>`)),(!ee||!this._grid.getSelectionModel())&&(ee=new l.JG2(this.gridOptions.rowSelectionOptions||{selectActiveRow:!0}),this._grid.setSelectionModel(ee)),this._grid&&this.rowDetailViewOptions&&(this.rowDetailViewOptions.onExtensionRegistered&&this.rowDetailViewOptions.onExtensionRegistered(this),this.onAsyncResponse&&this._eventHandler.subscribe(this.onAsyncResponse,(It,cn)=>{this.rowDetailViewOptions&&"function"==typeof this.rowDetailViewOptions.onAsyncResponse&&this.rowDetailViewOptions.onAsyncResponse(It,cn)}),this.onAsyncEndUpdate&&this._eventHandler.subscribe(this.onAsyncEndUpdate,(It,cn)=>{this.renderViewModel(null==cn?void 0:cn.item),this.rowDetailViewOptions&&"function"==typeof this.rowDetailViewOptions.onAsyncEndUpdate&&this.rowDetailViewOptions.onAsyncEndUpdate(It,cn)}),this.onAfterRowDetailToggle&&this._eventHandler.subscribe(this.onAfterRowDetailToggle,(It,cn)=>{this.renderPreloadView(),this.renderAllViewComponents(),this.rowDetailViewOptions&&"function"==typeof this.rowDetailViewOptions.onAfterRowDetailToggle&&this.rowDetailViewOptions.onAfterRowDetailToggle(It,cn)}),this.onBeforeRowDetailToggle&&this._eventHandler.subscribe(this.onBeforeRowDetailToggle,(It,cn)=>{this.handleOnBeforeRowDetailToggle(It,cn),this.rowDetailViewOptions&&"function"==typeof this.rowDetailViewOptions.onBeforeRowDetailToggle&&this.rowDetailViewOptions.onBeforeRowDetailToggle(It,cn)}),this.onRowBackToViewportRange&&this._eventHandler.subscribe(this.onRowBackToViewportRange,(It,cn)=>{this.handleOnRowBackToViewportRange(It,cn),this.rowDetailViewOptions&&"function"==typeof this.rowDetailViewOptions.onRowBackToViewportRange&&this.rowDetailViewOptions.onRowBackToViewportRange(It,cn)}),this.onRowOutOfViewportRange&&this._eventHandler.subscribe(this.onRowOutOfViewportRange,(It,cn)=>{this.rowDetailViewOptions&&"function"==typeof this.rowDetailViewOptions.onRowOutOfViewportRange&&this.rowDetailViewOptions.onRowOutOfViewportRange(It,cn)}),this._eventHandler.subscribe(this._grid.onColumnsReordered,this.redrawAllViewComponents.bind(this)),(this.gridOptions.enableRowSelection||this.gridOptions.enableCheckboxSelector)&&this._eventHandler.subscribe(this._grid.onSelectedRowsChanged,this.redrawAllViewComponents.bind(this)),this._eventHandler.subscribe(this._grid.onSort,this.disposeAllViewComponents.bind(this)),this._subscriptions.push(null===(Oe=this.eventPubSubService)||void 0===Oe?void 0:Oe.subscribe("onFilterChanged",this.redrawAllViewComponents.bind(this)),null===(Fe=this.eventPubSubService)||void 0===Fe?void 0:Fe.subscribe("onGridMenuClearAllFilters",()=>setTimeout(()=>this.redrawAllViewComponents())),null===(ut=this.eventPubSubService)||void 0===ut?void 0:ut.subscribe("onGridMenuClearAllSorting",()=>setTimeout(()=>this.redrawAllViewComponents()))))),this}redrawAllViewComponents(){this._views.forEach(ee=>{this.redrawViewComponent(ee)})}renderAllViewComponents(){this._views.forEach(ee=>{ee&&ee.dataContext&&this.renderViewModel(ee.dataContext)})}redrawViewComponent(ee){const pe=this.gridContainerElement.getElementsByClassName(`${fi}${ee.id}`);pe&&pe.length>=0&&this.renderViewModel(ee.dataContext)}renderPreloadView(){const ee=this.gridContainerElement.getElementsByClassName(`${ge}`);ee&&ee.length>=0&&this.angularUtilService.createAngularComponentAppendToDom(this._preloadComponent,ee[ee.length-1],!0)}renderViewModel(ee){const pe=this.gridContainerElement.getElementsByClassName(`${fi}${ee[this.datasetIdPropName]}`);if(pe&&pe.length>0){const xe=this.angularUtilService.createAngularComponentAppendToDom(this._viewComponent,pe[pe.length-1],!0);if(xe&&xe.componentRef&&xe.componentRef.instance){Object.assign(xe.componentRef.instance,{model:ee,addon:this,grid:this._grid,dataView:this.dataView,parent:this.rowDetailViewOptions&&this.rowDetailViewOptions.parent});const Ce=this._views.find(Je=>Je.id===ee[this.datasetIdPropName]);return Ce&&(Ce.componentRef=xe.componentRef),Ce}}}disposeViewComponent(ee){const pe=null==ee?void 0:ee.componentRef;if(pe)return this.appRef.detachView(pe.hostView),(null==pe?void 0:pe.destroy)&&pe.destroy(),ee}notifyTemplate(ee){this.onAsyncResponse&&this.onAsyncResponse.notify({item:ee},void 0,this)}onProcessing(ee){return(0,j.mG)(this,void 0,void 0,function*(){if(ee&&"function"==typeof this._userProcessFn){let pe;const Ce=yield this._userProcessFn(ee);if(Ce.hasOwnProperty(this.datasetIdPropName)?pe=Ce:(Ce&&Ce instanceof w.y||Ce instanceof Promise)&&(pe=yield(0,l.Guj)(this.rxjs,Ce)),!pe||!pe.hasOwnProperty(this.datasetIdPropName))throw new Error(`[Angular-Slickgrid] could not process the Row Detail, you must make sure that your "process" callback\n          (a Promise or an HttpClient call returning an Observable) returns an item object that has an "${this.datasetIdPropName}" property`);this.notifyTemplate(pe||{})}})}handleOnBeforeRowDetailToggle(ee,pe){if(pe&&pe.item&&pe.item.__collapsed){const xe={id:pe.item[this.datasetIdPropName],dataContext:pe.item},Ce=this.gridOptions.datasetIdPropertyName||"id";(0,l.u7s)(this._views,xe,Ce)}else{const xe=this._views.findIndex(Ce=>Ce.id===pe.item[this.datasetIdPropName]);if(xe>=0&&this._views.hasOwnProperty(xe)){const Ce=this._views[xe].componentRef;Ce&&(this.appRef.detachView(Ce.hostView),Ce.destroy()),this._views.splice(xe,1)}}}handleOnRowBackToViewportRange(ee,pe){(null==pe?void 0:pe.item)&&this.redrawAllViewComponents()}}const Dt={alwaysShowVerticalScroll:!0,autoEdit:!1,asyncEditorLoading:!1,autoFitColumnsOnFirstLoad:!0,autoResize:{applyResizeToContainer:!0,calculateAvailableSizeBy:"window",bottomPadding:20,minHeight:180,minWidth:300,rightPadding:0},cellHighlightCssClass:"slick-cell-modified",checkboxSelector:{cssClass:"slick-cell-checkboxsel"},columnPicker:{fadeSpeed:0,hideForceFitButton:!1,hideSyncResizeButton:!0,headerColumnValueExtractor:qe},cellMenu:{autoAdjustDrop:!0,autoAlignSide:!0,hideCloseButton:!0,hideCommandSection:!1,hideOptionSection:!1},contextMenu:{autoAdjustDrop:!0,autoAlignSide:!0,hideCloseButton:!0,hideClearAllGrouping:!1,hideCollapseAllGroups:!1,hideCommandSection:!1,hideCopyCellValueCommand:!1,hideExpandAllGroups:!1,hideExportCsvCommand:!1,hideExportExcelCommand:!1,hideExportTextDelimitedCommand:!0,hideMenuOnScroll:!0,hideOptionSection:!1,iconCopyCellValueCommand:"fa fa-clone",iconExportCsvCommand:"fa fa-download",iconExportExcelCommand:"fa fa-file-excel-o text-success",iconExportTextDelimitedCommand:"fa fa-download"},customFooterOptions:{dateFormat:"YYYY-MM-DD, hh:mm a",hideRowSelectionCount:!1,hideTotalItemCount:!1,hideLastUpdateTimestamp:!0,footerHeight:25,leftContainerClass:"col-xs-12 col-sm-5",rightContainerClass:"col-xs-6 col-sm-7",metricSeparator:"|",metricTexts:{items:"items",itemsKey:"ITEMS",itemsSelected:"items selected",itemsSelectedKey:"ITEMS_SELECTED",of:"of",ofKey:"OF"}},dataView:{syncGridSelection:!0,syncGridSelectionWithBackendService:!1},datasetIdPropertyName:"id",defaultFilter:l.x$p.input,defaultBackendServiceFilterTypingDebounce:500,defaultColumnSortFieldId:"id",defaultFilterPlaceholder:"\u{1f50e}\ufe0e",defaultFilterRangeOperator:l.$MC.rangeInclusive,editable:!1,enableAutoResize:!0,enableAutoSizeColumns:!0,enableCellNavigation:!1,enableColumnPicker:!0,enableColumnReorder:!0,enableColumnResizeOnDoubleClick:!0,enableContextMenu:!0,enableExcelExport:!0,enableExport:!1,enableFilterTrimWhiteSpace:!1,enableGridMenu:!0,enableHeaderMenu:!0,enableEmptyDataWarningMessage:!0,emptyDataWarning:{className:"slick-empty-data-warning",message:"No data to display.",messageKey:"EMPTY_DATA_WARNING_MESSAGE",hideFrozenLeftWarning:!1,hideFrozenRightWarning:!1,leftViewportMarginLeft:"40%",rightViewportMarginLeft:"40%",frozenLeftViewportMarginLeft:"0px",frozenRightViewportMarginLeft:"40%"},enableMouseHoverHighlightRow:!0,enableSorting:!0,enableTextSelectionOnCells:!0,eventNamingStyle:l.siS.camelCase,explicitInitialization:!0,excelExportOptions:{addGroupIndentation:!0,exportWithFormatter:!1,filename:"export",format:l.Tv5.xlsx,groupingColumnHeaderTitle:"Group By",groupCollapsedSymbol:"\u2b9e",groupExpandedSymbol:"\u2b9f",groupingAggregatorRowText:"",sanitizeDataExport:!1},exportOptions:{delimiter:l.gAX.comma,exportWithFormatter:!1,filename:"export",format:l.Tv5.csv,groupingColumnHeaderTitle:"Group By",groupingAggregatorRowText:"",sanitizeDataExport:!1,useUtf8WithBom:!0},filterTypingDebounce:0,forceFitColumns:!1,frozenHeaderWidthCalcDifferential:0,gridMenu:{dropSide:"left",commandLabels:{clearAllFiltersCommandKey:"CLEAR_ALL_FILTERS",clearAllSortingCommandKey:"CLEAR_ALL_SORTING",clearFrozenColumnsCommandKey:"CLEAR_PINNING",exportCsvCommandKey:"EXPORT_TO_CSV",exportExcelCommandKey:"EXPORT_TO_EXCEL",exportTextDelimitedCommandKey:"EXPORT_TO_TAB_DELIMITED",refreshDatasetCommandKey:"REFRESH_DATASET",toggleFilterCommandKey:"TOGGLE_FILTER_ROW",togglePreHeaderCommandKey:"TOGGLE_PRE_HEADER_ROW"},hideClearAllFiltersCommand:!1,hideClearAllSortingCommand:!1,hideClearFrozenColumnsCommand:!0,hideExportCsvCommand:!1,hideExportExcelCommand:!1,hideExportTextDelimitedCommand:!0,hideForceFitButton:!1,hideRefreshDatasetCommand:!1,hideSyncResizeButton:!0,hideToggleFilterCommand:!1,hideTogglePreHeaderCommand:!1,iconCssClass:"fa fa-bars",iconClearAllFiltersCommand:"fa fa-filter text-danger",iconClearAllSortingCommand:"fa fa-unsorted text-danger",iconClearFrozenColumnsCommand:"fa fa-times",iconExportCsvCommand:"fa fa-download",iconExportExcelCommand:"fa fa-file-excel-o text-success",iconExportTextDelimitedCommand:"fa fa-download",iconRefreshDatasetCommand:"fa fa-refresh",iconToggleFilterCommand:"fa fa-random",iconTogglePreHeaderCommand:"fa fa-random",menuWidth:16,resizeOnShowHeaderRow:!0,headerColumnValueExtractor:qe},headerMenu:{autoAlign:!0,autoAlignOffset:12,minWidth:140,iconClearFilterCommand:"fa fa-filter text-danger",iconClearSortCommand:"fa fa-unsorted",iconFreezeColumns:"fa fa-thumb-tack",iconSortAscCommand:"fa fa-sort-amount-asc",iconSortDescCommand:"fa fa-sort-amount-desc",iconColumnHideCommand:"fa fa-times",iconColumnResizeByContentCommand:"fa fa-arrows-h",hideColumnResizeByContentCommand:!1,hideColumnHideCommand:!1,hideClearFilterCommand:!1,hideClearSortCommand:!1,hideFreezeColumnsCommand:!0,hideSortCommands:!1},headerRowHeight:35,multiColumnSort:!0,numberedMultiColumnSort:!0,tristateMultiColumnSort:!1,sortColNumberInSeparateSpan:!0,suppressActiveCellChangeOnEdit:!0,pagination:{pageSizes:[10,15,20,25,30,40,50,75,100],pageSize:25,totalItems:0},rowDetailView:{collapseAllOnSort:!0,cssClass:"detail-view-toggle",panelRows:1,keyPrefix:"__",useRowClick:!1,useSimpleViewportCalc:!0,saveDetailViewOnScroll:!1},rowHeight:35,topPanelHeight:35,translationNamespaceSeparator:":",resetFilterSearchValueAfterOnBeforeCancellation:!0,resizeByContentOnlyOnFirstLoad:!0,resizeByContentOptions:{alwaysRecalculateColumnWidth:!1,cellCharWidthInPx:7.8,cellPaddingWidthInPx:14,defaultRatioForStringType:.88,formatterPaddingWidthInPx:0,maxItemToInspectCellContentWidth:1e3,maxItemToInspectSingleColumnWidthByContent:5e3,widthToRemoveFromExceededWidthReadjustment:50},treeDataOptions:{exportIndentMarginLeft:5,exportIndentationLeadingChar:"\u034f\u034f\u034f\u034f\u034f\u034f\u034f\u034f\u034f\xb7"}};function qe(Mt){const ee=Mt&&Mt.columnGroup||"";return ee?ee+" - "+Mt.name:Mt&&Mt.name||""}class _t{}_t.locales={TEXT_ALL_SELECTED:"All Selected",TEXT_ALL_X_RECORDS_SELECTED:"All {{x}} records selected",TEXT_APPLY_MASS_UPDATE:"Apply Mass Update",TEXT_APPLY_TO_SELECTION:"Update Selection",TEXT_CANCEL:"Cancel",TEXT_CLEAR_ALL_FILTERS:"Clear all Filters",TEXT_CLEAR_ALL_GROUPING:"Clear all Grouping",TEXT_CLEAR_ALL_SORTING:"Clear all Sorting",TEXT_CLEAR_PINNING:"Unfreeze Columns/Rows",TEXT_CLONE:"Clone",TEXT_COLLAPSE_ALL_GROUPS:"Collapse all Groups",TEXT_CONTAINS:"Contains",TEXT_COLUMNS:"Columns",TEXT_COLUMN_RESIZE_BY_CONTENT:"Resize by Content",TEXT_COMMANDS:"Commands",TEXT_COPY:"Copy",TEXT_EQUALS:"Equals",TEXT_EQUAL_TO:"Equal to",TEXT_ENDS_WITH:"Ends With",TEXT_ERROR_EDITABLE_GRID_REQUIRED:"Your grid must be editable in order to use the Composite Editor Modal.",TEXT_ERROR_ENABLE_CELL_NAVIGATION_REQUIRED:'Composite Editor requires the flag "enableCellNavigation" to be set to True in your Grid Options.',TEXT_ERROR_NO_CHANGES_DETECTED:"Sorry we could not detect any changes.",TEXT_ERROR_NO_EDITOR_FOUND:"We could not find any Editor in your Column Definition.",TEXT_ERROR_NO_RECORD_FOUND:"No records selected for edit or clone operation.",TEXT_ERROR_ROW_NOT_EDITABLE:"Current row is not editable.",TEXT_ERROR_ROW_SELECTION_REQUIRED:"You must select some rows before trying to apply new value(s).",TEXT_EXPAND_ALL_GROUPS:"Expand all Groups",TEXT_EXPORT_TO_CSV:"Export in CSV format",TEXT_EXPORT_TO_TEXT_FORMAT:"Export in Text format (Tab delimited)",TEXT_EXPORT_TO_EXCEL:"Export to Excel",TEXT_EXPORT_TO_TAB_DELIMITED:"Export in Text format (Tab delimited)",TEXT_FORCE_FIT_COLUMNS:"Force fit columns",TEXT_FREEZE_COLUMNS:"Freeze Columns",TEXT_GREATER_THAN:"Greater than",TEXT_GREATER_THAN_OR_EQUAL_TO:"Greater than or equal to",TEXT_GROUP_BY:"Group By",TEXT_HIDE_COLUMN:"Hide Column",TEXT_ITEMS:"items",TEXT_ITEMS_PER_PAGE:"items per page",TEXT_ITEMS_SELECTED:"items selected",TEXT_OF:"of",TEXT_OK:"OK",TEXT_LAST_UPDATE:"Last Update",TEXT_LESS_THAN:"Less than",TEXT_LESS_THAN_OR_EQUAL_TO:"Less than or equal to",TEXT_NOT_CONTAINS:"Not contains",TEXT_NOT_EQUAL_TO:"Not equal to",TEXT_PAGE:"Page",TEXT_REFRESH_DATASET:"Refresh Dataset",TEXT_REMOVE_FILTER:"Remove Filter",TEXT_REMOVE_SORT:"Remove Sort",TEXT_SAVE:"Save",TEXT_SELECT_ALL:"Select All",TEXT_SYNCHRONOUS_RESIZE:"Synchronous resize",TEXT_SORT_ASCENDING:"Sort Ascending",TEXT_SORT_DESCENDING:"Sort Descending",TEXT_STARTS_WITH:"Starts With",TEXT_TOGGLE_FILTER_ROW:"Toggle Filter Row",TEXT_TOGGLE_PRE_HEADER_ROW:"Toggle Pre-Header Row",TEXT_X_OF_Y_SELECTED:"# of % selected",TEXT_X_OF_Y_MASS_SELECTED:"{{x}} of {{y}} selected"},_t.treeDataProperties={CHILDREN_PROP:"children",COLLAPSED_PROP:"__collapsed",HAS_CHILDREN_PROP:"__hasChildren",TREE_LEVEL_PROP:"__treeLevel",PARENT_PROP:"__parentId"},_t.VALIDATION_REQUIRED_FIELD="Field is required",_t.VALIDATION_EDITOR_VALID_NUMBER="Please enter a valid number",_t.VALIDATION_EDITOR_VALID_INTEGER="Please enter a valid integer number",_t.VALIDATION_EDITOR_INTEGER_BETWEEN="Please enter a valid integer number between {{minValue}} and {{maxValue}}",_t.VALIDATION_EDITOR_INTEGER_MAX="Please enter a valid integer number that is lower than {{maxValue}}",_t.VALIDATION_EDITOR_INTEGER_MAX_INCLUSIVE="Please enter a valid integer number that is lower than or equal to {{maxValue}}",_t.VALIDATION_EDITOR_INTEGER_MIN="Please enter a valid integer number that is greater than {{minValue}}",_t.VALIDATION_EDITOR_INTEGER_MIN_INCLUSIVE="Please enter a valid integer number that is greater than or equal to {{minValue}}",_t.VALIDATION_EDITOR_NUMBER_BETWEEN="Please enter a valid number between {{minValue}} and {{maxValue}}",_t.VALIDATION_EDITOR_NUMBER_MAX="Please enter a valid number that is lower than {{maxValue}}",_t.VALIDATION_EDITOR_NUMBER_MAX_INCLUSIVE="Please enter a valid number that is lower than or equal to {{maxValue}}",_t.VALIDATION_EDITOR_NUMBER_MIN="Please enter a valid number that is greater than {{minValue}}",_t.VALIDATION_EDITOR_NUMBER_MIN_INCLUSIVE="Please enter a valid number that is greater than or equal to {{minValue}}",_t.VALIDATION_EDITOR_DECIMAL_BETWEEN="Please enter a valid number with a maximum of {{maxDecimal}} decimals",_t.VALIDATION_EDITOR_TEXT_LENGTH_BETWEEN="Please make sure your text length is between {{minLength}} and {{maxLength}} characters",_t.VALIDATION_EDITOR_TEXT_MAX_LENGTH="Please make sure your text is less than {{maxLength}} characters",_t.VALIDATION_EDITOR_TEXT_MAX_LENGTH_INCLUSIVE="Please make sure your text is less than or equal to {{maxLength}} characters",_t.VALIDATION_EDITOR_TEXT_MIN_LENGTH="Please make sure your text is more than {{minLength}} character(s)",_t.VALIDATION_EDITOR_TEXT_MIN_LENGTH_INCLUSIVE="Please make sure your text is at least {{minLength}} character(s)";class St{constructor(ee,pe,xe,Ce,Je,lt,jt,Oe,Fe){var ut,It,cn,Nn,_n,Fn,Hn,Tn,kn,xn,hr,$i,kr,yr,xr;this.angularUtilService=ee,this.appRef=pe,this.cd=xe,this.containerService=Ce,this.elm=Je,this.translate=lt,this.translaterService=jt,this.forRootConfig=Oe,this._currentDatasetLength=0,this._eventHandler=new Slick.EventHandler,this._hideHeaderRowAfterPageLoad=!1,this._isGridInitialized=!1,this._isDatasetInitialized=!1,this._isDatasetHierarchicalInitialized=!1,this._isPaginationInitialized=!1,this._isLocalGrid=!0,this._registeredResources=[],this.groupingDefinition={},this.showPagination=!1,this.serviceList=[],this.totalItems=0,this.subscriptions=[],this.gridId="";const rr=new l.BNs;this._eventPubSubService=null!==(ut=null==Fe?void 0:Fe.eventPubSubService)&&void 0!==ut?ut:new te(this.elm.nativeElement),this._eventPubSubService.eventNamingStyle=l.siS.camelCase,this.backendUtilityService=null!==(It=null==Fe?void 0:Fe.backendUtilityService)&&void 0!==It?It:new l.x6s,this.gridEventService=null!==(cn=null==Fe?void 0:Fe.gridEventService)&&void 0!==cn?cn:new l.w2n,this.sharedService=null!==(Nn=null==Fe?void 0:Fe.sharedService)&&void 0!==Nn?Nn:new l.F1O,this.collectionService=null!==(_n=null==Fe?void 0:Fe.collectionService)&&void 0!==_n?_n:new l.a$8(this.translaterService),this.extensionUtility=null!==(Fn=null==Fe?void 0:Fe.extensionUtility)&&void 0!==Fn?Fn:new l.ePI(this.sharedService,this.backendUtilityService,this.translaterService),this.filterFactory=new l.n0k(rr,this.translaterService,this.collectionService),this.filterService=null!==(Hn=null==Fe?void 0:Fe.filterService)&&void 0!==Hn?Hn:new l.iZF(this.filterFactory,this._eventPubSubService,this.sharedService,this.backendUtilityService),this.resizerService=null!==(Tn=null==Fe?void 0:Fe.resizerService)&&void 0!==Tn?Tn:new l._m2(this._eventPubSubService),this.sortService=null!==(kn=null==Fe?void 0:Fe.sortService)&&void 0!==kn?kn:new l.KxS(this.sharedService,this._eventPubSubService,this.backendUtilityService),this.treeDataService=null!==(xn=null==Fe?void 0:Fe.treeDataService)&&void 0!==xn?xn:new l.yUP(this._eventPubSubService,this.sharedService,this.sortService),this.paginationService=null!==(hr=null==Fe?void 0:Fe.paginationService)&&void 0!==hr?hr:new l.N2K(this._eventPubSubService,this.sharedService,this.backendUtilityService),this.extensionService=null!==($i=null==Fe?void 0:Fe.extensionService)&&void 0!==$i?$i:new l.b72(this.extensionUtility,this.filterService,this._eventPubSubService,this.sharedService,this.sortService,this.treeDataService,this.translaterService),this.gridStateService=null!==(kr=null==Fe?void 0:Fe.gridStateService)&&void 0!==kr?kr:new l.Umu(this.extensionService,this.filterService,this._eventPubSubService,this.sharedService,this.sortService,this.treeDataService),this.gridService=null!==(yr=null==Fe?void 0:Fe.gridService)&&void 0!==yr?yr:new l.rIG(this.gridStateService,this.filterService,this._eventPubSubService,this.paginationService,this.sharedService,this.sortService,this.treeDataService),this.groupingService=null!==(xr=null==Fe?void 0:Fe.groupingAndColspanService)&&void 0!==xr?xr:new l.rCJ(this.extensionUtility,this._eventPubSubService),this.serviceList=[this.extensionService,this.filterService,this.gridEventService,this.gridService,this.gridStateService,this.groupingService,this.paginationService,this.resizerService,this.sortService,this.treeDataService],this.containerService.registerInstance("ExtensionUtility",this.extensionUtility),this.containerService.registerInstance("FilterService",this.filterService),this.containerService.registerInstance("CollectionService",this.collectionService),this.containerService.registerInstance("ExtensionService",this.extensionService),this.containerService.registerInstance("GridEventService",this.gridEventService),this.containerService.registerInstance("GridService",this.gridService),this.containerService.registerInstance("GridStateService",this.gridStateService),this.containerService.registerInstance("GroupingAndColspanService",this.groupingService),this.containerService.registerInstance("PaginationService",this.paginationService),this.containerService.registerInstance("ResizerService",this.resizerService),this.containerService.registerInstance("SharedService",this.sharedService),this.containerService.registerInstance("SortService",this.sortService),this.containerService.registerInstance("EventPubSubService",this._eventPubSubService),this.containerService.registerInstance("PubSubService",this._eventPubSubService),this.containerService.registerInstance("TranslaterService",this.translaterService),this.containerService.registerInstance("TreeDataService",this.treeDataService)}get paginationOptions(){return this._paginationOptions}set paginationOptions(ee){var pe,xe,Ce;ee&&this._paginationOptions?this._paginationOptions=Object.assign(Object.assign(Object.assign({},this.gridOptions.pagination),this._paginationOptions),ee):this._paginationOptions=ee,this.gridOptions.pagination=null!==(pe=this._paginationOptions)&&void 0!==pe?pe:this.gridOptions.pagination,this.paginationService.updateTotalItems(null!==(Ce=null===(xe=this.gridOptions.pagination)||void 0===xe?void 0:xe.totalItems)&&void 0!==Ce?Ce:0,!0)}set columnDefinitions(ee){this._columnDefinitions=ee,this._isGridInitialized&&this.updateColumnDefinitionsList(ee),ee.length>0&&this.copyColumnWidthsReference(ee)}get columnDefinitions(){return this._columnDefinitions}get dataset(){var ee,pe,xe,Ce;return(this.customDataView?null===(pe=null===(ee=this.slickGrid)||void 0===ee?void 0:ee.getData)||void 0===pe?void 0:pe.call(ee):null===(Ce=null===(xe=this.dataView)||void 0===xe?void 0:xe.getItems)||void 0===Ce?void 0:Ce.call(xe))||[]}set dataset(ee){var pe,xe;const Ce=this._currentDatasetLength,Je=(0,Ft.J)(ee,this._dataset||[]);let lt=ee;this.slickGrid&&(null===(pe=this.gridOptions)||void 0===pe?void 0:pe.enableTreeData)&&Array.isArray(ee)&&(ee.length>0||ee.length!==Ce||!Je)&&(this._isDatasetHierarchicalInitialized=!1,lt=this.sortTreeDataset(ee,!Je)),this._dataset=lt,this.refreshGridData(lt||[]),this._currentDatasetLength=(ee||[]).length,(null===(xe=this.gridOptions)||void 0===xe?void 0:xe.autoFitColumnsOnFirstLoad)&&0===Ce&&this.slickGrid.autosizeColumns()}get datasetHierarchical(){return this.sharedService.hierarchicalDataset}set datasetHierarchical(ee){var pe,xe,Ce,Je,lt;const jt=(0,Ft.J)(ee,null!==(xe=null===(pe=this.sharedService)||void 0===pe?void 0:pe.hierarchicalDataset)&&void 0!==xe?xe:[]),Oe=this._currentDatasetLength;this.sharedService.hierarchicalDataset=ee,ee&&this.columnDefinitions&&(null===(Ce=this.filterService)||void 0===Ce?void 0:Ce.clearFilters)&&this.filterService.clearFilters(),ee&&this.slickGrid&&(null===(Je=this.sortService)||void 0===Je?void 0:Je.processTreeDataInitialSort)&&(this.dataView.setItems([],null!==(lt=this.gridOptions.datasetIdPropertyName)&&void 0!==lt?lt:"id"),this.sortService.processTreeDataInitialSort(),setTimeout(()=>{const Fe=this.dataView.getItemCount();Fe>0&&(Fe!==Oe||!jt)&&this.filterService.refreshTreeDataFilters()}),this._isDatasetHierarchicalInitialized=!0)}get elementRef(){return this.elm}get eventHandler(){return this._eventHandler}get gridContainerElement(){return document.querySelector(`#${this.gridOptions.gridContainerId||""}`)}get isDatasetInitialized(){return this._isDatasetInitialized}set isDatasetInitialized(ee){this._isDatasetInitialized=ee}set isDatasetHierarchicalInitialized(ee){this._isDatasetHierarchicalInitialized=ee}get registeredResources(){return this._registeredResources}ngAfterViewInit(){if(this.initialization(this._eventHandler),this._isGridInitialized=!0,this.gridOptions&&this.gridOptions.enableEmptyDataWarningMessage&&Array.isArray(this.dataset)){const ee=this.dataset.length;this.displayEmptyDataWarning(ee<1)}}ngOnDestroy(){this._eventPubSubService.publish("onBeforeGridDestroy",this.slickGrid),this.destroy(),this._eventPubSubService.publish("onAfterGridDestroyed",!0)}destroy(ee=!1){var pe,xe,Ce,Je,lt,jt,Oe;if(this.serviceList.forEach(Fe=>{Fe&&Fe.dispose&&Fe.dispose()}),this.serviceList=[],Array.isArray(this._registeredResources)){for(;this._registeredResources.length>0;){const Fe=this._registeredResources.pop();(null==Fe?void 0:Fe.dispose)&&Fe.dispose()}this._registeredResources=[]}if(null===(pe=this.slickEmptyWarning)||void 0===pe||pe.dispose(),null===(xe=this.slickFooter)||void 0===xe||xe.dispose(),null===(Ce=this.slickPagination)||void 0===Ce||Ce.dispose(),(null===(Je=this._eventHandler)||void 0===Je?void 0:Je.unsubscribeAll)&&this._eventHandler.unsubscribeAll(),null===(lt=this._eventPubSubService)||void 0===lt||lt.unsubscribeAll(),this.dataView&&((null===(jt=this.dataView)||void 0===jt?void 0:jt.setItems)&&this.dataView.setItems([]),this.dataView.destroy&&this.dataView.destroy()),(null===(Oe=this.slickGrid)||void 0===Oe?void 0:Oe.destroy)&&this.slickGrid.destroy(ee),this.backendServiceApi){for(const Fe of Object.keys(this.backendServiceApi))delete this.backendServiceApi[Fe];this.backendServiceApi=void 0}for(const Fe of Object.keys(this.columnDefinitions))this.columnDefinitions[Fe]=null;for(const Fe of Object.keys(this.sharedService))this.sharedService[Fe]=null;ee&&this.emptyGridContainerElm(),this.subscriptions=Dn(this.subscriptions),this._dataset=null,this.datasetHierarchical=void 0,this._columnDefinitions=[],this._angularGridInstances=void 0}emptyGridContainerElm(){var ee,pe;const xe=null!==(pe=null===(ee=this.gridOptions)||void 0===ee?void 0:ee.gridContainerId)&&void 0!==pe?pe:"grid1",Ce=document.querySelector(`#${xe}`);(0,l.EUQ)(Ce)}createBackendApiInternalPostProcessCallback(ee){const pe=ee&&ee.backendServiceApi;if(pe&&pe.service){const xe=pe.service;"function"==typeof xe.getDatasetName&&(pe.internalPostProcess=Ce=>{const Je=pe&&xe&&"function"==typeof xe.getDatasetName?xe.getDatasetName():"";if(null==Ce?void 0:Ce.data[Je]){const lt=Ce.data[Je].hasOwnProperty("nodes")?Ce.data[Je].nodes:Ce.data[Je],jt=Ce.data[Je].hasOwnProperty("totalCount")?Ce.data[Je].totalCount:Ce.data[Je].length;this.refreshGridData(lt,jt||0)}})}}initialization(ee){var pe,xe,Ce,Je,lt,jt,Oe,Fe,ut,It,cn,Nn,_n,Fn,Hn;if(this.gridOptions.translater=this.translaterService,this._eventHandler=ee,this.gridOptions&&(void 0!==this.gridOptions.frozenRow&&this.gridOptions.frozenRow>=0||void 0!==this.gridOptions.frozenColumn&&this.gridOptions.frozenColumn>=0)&&void 0===this.gridOptions.enableMouseWheelScrollHandler&&(this.gridOptions.enableMouseWheelScrollHandler=!0),this._eventPubSubService.eventNamingStyle=null!==(xe=null===(pe=this.gridOptions)||void 0===pe?void 0:pe.eventNamingStyle)&&void 0!==xe?xe:l.siS.camelCase,this._eventPubSubService.publish("onBeforeGridCreate",!0),this._dataset=this._dataset||[],this.gridOptions=this.mergeGridOptions(this.gridOptions),this._paginationOptions=null===(Ce=this.gridOptions)||void 0===Ce?void 0:Ce.pagination,this.locales=null!==(lt=null===(Je=this.gridOptions)||void 0===Je?void 0:Je.locales)&&void 0!==lt?lt:_t.locales,this.backendServiceApi=null===(jt=this.gridOptions)||void 0===jt?void 0:jt.backendServiceApi,this._isLocalGrid=!this.backendServiceApi,this.createBackendApiInternalPostProcessCallback(this.gridOptions),!this.customDataView){let xn={inlineFilters:this.gridOptions.dataView&&this.gridOptions.dataView.inlineFilters||!1};(this.gridOptions.draggableGrouping||this.gridOptions.enableGrouping)&&(this.groupItemMetadataProvider=new l.ndt,this.sharedService.groupItemMetadataProvider=this.groupItemMetadataProvider,xn=Object.assign(Object.assign({},xn),{groupItemMetadataProvider:this.groupItemMetadataProvider})),this.dataView=new Slick.Data.DataView(xn),this._eventPubSubService.publish("onDataviewCreated",this.dataView)}this.preRegisterResources(),this._columnDefinitions=this.swapInternalEditorToSlickGridFactoryEditor(this._columnDefinitions),this.gridOptions.autoAddCustomEditorFormatter&&(0,l.afY)(this._columnDefinitions,this.gridOptions.autoAddCustomEditorFormatter),this.sharedService.allColumns=this._columnDefinitions,this.sharedService.visibleColumns=this._columnDefinitions,this.extensionService.createExtensionsBeforeGridCreation(this._columnDefinitions,this.gridOptions),(null===(Oe=this.gridOptions.presets)||void 0===Oe?void 0:Oe.pinning)&&(this.gridOptions=Object.assign(Object.assign({},this.gridOptions),this.gridOptions.presets.pinning)),this.slickGrid=new Slick.Grid(`#${this.gridId}`,this.customDataView||this.dataView,this._columnDefinitions,this.gridOptions),this.sharedService.dataView=this.dataView,this.sharedService.slickGrid=this.slickGrid,this.sharedService.gridContainerElement=this.elm.nativeElement,this.extensionService.bindDifferentExtensions(),this.bindDifferentHooks(this.slickGrid,this.gridOptions,this.dataView);const Tn=void 0!==this.gridOptions.frozenColumn?this.gridOptions.frozenColumn:-1;if(Tn>=0&&Tn<=this._columnDefinitions.length&&(this.sharedService.frozenVisibleColumnId=this._columnDefinitions[Tn].id||""),this.registerResources(),this.slickGrid.init(),this.gridContainerElement&&this.resizerService.init(this.slickGrid,this.gridContainerElement),!this.gridOptions.enablePagination&&this.gridOptions.showCustomFooter&&this.gridOptions.customFooterOptions&&this.gridContainerElement&&(this.slickFooter=new Ie(this.slickGrid,this.gridOptions.customFooterOptions,this._eventPubSubService,this.translaterService),this.slickFooter.renderFooter(this.gridContainerElement)),!this.customDataView&&this.dataView){const kn=(null===(Fe=this.gridOptions)||void 0===Fe?void 0:Fe.enableTreeData)?this.sortTreeDataset(this._dataset):this._dataset;if(this.dataView.beginUpdate(),this.dataView.setItems(kn||[],null!==(ut=this.gridOptions.datasetIdPropertyName)&&void 0!==ut?ut:"id"),this.dataView.endUpdate(),(null===(It=this.slickGrid)||void 0===It?void 0:It.getSelectionModel())&&this.gridOptions&&this.gridOptions.dataView&&this.gridOptions.dataView.hasOwnProperty("syncGridSelection")){let $i=!1;this.gridOptions.backendServiceApi&&this.gridOptions.dataView.hasOwnProperty("syncGridSelectionWithBackendService")&&($i=this.gridOptions.dataView.syncGridSelectionWithBackendService);const kr=this.gridOptions.dataView.syncGridSelection;if("boolean"==typeof kr){let yr=kr;this._isLocalGrid||(yr=kr&&$i),this.dataView.syncGridSelection(this.slickGrid,yr)}else"object"==typeof kr&&this.dataView.syncGridSelection(this.slickGrid,kr.preserveHidden,kr.preserveHiddenOnSelectionChange)}(this.dataView.getLength()||this._dataset&&this._dataset.length||0)>0&&(!this._isDatasetInitialized&&(this.gridOptions.enableCheckboxSelector||this.gridOptions.enableRowSelection)&&this.loadRowSelectionPresetWhenExists(),this.loadFilterPresetsWhenDatasetInitialized(),this._isDatasetInitialized=!0)}this._hideHeaderRowAfterPageLoad&&(this.showHeaderRow(!1),this.sharedService.hideHeaderRowAfterPageLoad=this._hideHeaderRowAfterPageLoad),this._eventPubSubService.publish("onGridCreated",this.slickGrid),this.customDataView||this.executeAfterDataviewCreated(this.slickGrid,this.gridOptions),this.bindResizeHook(this.slickGrid,this.gridOptions),(null===(cn=this.gridOptions)||void 0===cn?void 0:cn.backendServiceApi)&&this.bindBackendCallbackFunctions(this.gridOptions),(null===(Nn=this.gridOptions)||void 0===Nn?void 0:Nn.enablePagination)&&this._isLocalGrid&&(this.showPagination=!0,this.loadLocalGridPagination(this.dataset)),this._angularGridInstances={dataView:this.dataView,slickGrid:this.slickGrid,extensions:null===(_n=this.extensionService)||void 0===_n?void 0:_n.extensionList,destroy:this.destroy.bind(this),backendService:null===(Hn=null===(Fn=this.gridOptions)||void 0===Fn?void 0:Fn.backendServiceApi)||void 0===Hn?void 0:Hn.service,filterService:this.filterService,gridEventService:this.gridEventService,gridStateService:this.gridStateService,gridService:this.gridService,groupingService:this.groupingService,extensionService:this.extensionService,paginationService:this.paginationService,resizerService:this.resizerService,sortService:this.sortService,treeDataService:this.treeDataService},this._eventPubSubService.publish("onAngularGridCreated",this._angularGridInstances)}paginationChanged(ee){var pe,xe;(null===(xe=null===(pe=this.gridStateService)||void 0===pe?void 0:pe.needToPreserveRowSelection())||void 0===xe||!xe)&&(this.gridOptions.enableRowSelection||this.gridOptions.enableCheckboxSelector)&&this.slickGrid.setSelectedRows([]);const{pageNumber:Je,pageSize:lt}=ee;this.sharedService&&void 0!==lt&&void 0!==Je&&(this.sharedService.currentPagination={pageNumber:Je,pageSize:lt}),this._eventPubSubService.publish("onGridStateChanged",{change:{newValues:{pageNumber:Je,pageSize:lt},type:l.GLO.pagination},gridState:this.gridStateService.getCurrentGridState()}),this.cd.markForCheck()}refreshGridData(ee,pe){var xe,Ce,Je,lt,jt,Oe;if(this.gridOptions&&this.gridOptions.enableEmptyDataWarningMessage&&Array.isArray(ee)){const Fe=pe||ee.length;this.displayEmptyDataWarning(Fe<1)}if(Array.isArray(ee)&&this.slickGrid&&(null===(xe=this.dataView)||void 0===xe?void 0:xe.setItems)){if(this.dataView.setItems(ee,null!==(Ce=this.gridOptions.datasetIdPropertyName)&&void 0!==Ce?Ce:"id"),!this.gridOptions.backendServiceApi&&!this.gridOptions.enableTreeData&&this.dataView.reSort(),ee.length>0&&(this._isDatasetInitialized||(this.loadFilterPresetsWhenDatasetInitialized(),this.gridOptions.enableCheckboxSelector&&this.loadRowSelectionPresetWhenExists()),this._isDatasetInitialized=!0),ee&&this.slickGrid.invalidate(),this.showPagination=!(!this.gridOptions||!(this.gridOptions.enablePagination||this.gridOptions.backendServiceApi&&void 0===this.gridOptions.enablePagination)),this._paginationOptions&&(null===(Je=this.gridOptions)||void 0===Je?void 0:Je.pagination)&&(null===(lt=this.gridOptions)||void 0===lt?void 0:lt.backendServiceApi)){const Fe=this.setPaginationOptionsWhenPresetDefined(this.gridOptions,this._paginationOptions),ut=void 0!==pe?pe:null===(Oe=null===(jt=this.gridOptions)||void 0===jt?void 0:jt.pagination)||void 0===Oe?void 0:Oe.totalItems;void 0!==ut&&ut!==this.totalItems&&(this.totalItems=+ut),this._isPaginationInitialized?this.paginationService.updateTotalItems(this.totalItems):this.initializePaginationService(Fe)}if(this.slickGrid&&this.gridOptions.enableAutoResize){const Fe=this.gridOptions.autoResize&&this.gridOptions.autoResize.delay;this.resizerService.resizeGrid(Fe||10)}}}setPaginationOptionsWhenPresetDefined(ee,pe){var xe;return(null===(xe=ee.presets)||void 0===xe?void 0:xe.pagination)&&pe&&!this._isPaginationInitialized&&(pe.pageSize=ee.presets.pagination.pageSize,pe.pageNumber=ee.presets.pagination.pageNumber),pe}updateColumnDefinitionsList(ee){var pe,xe,Ce;ee=this.swapInternalEditorToSlickGridFactoryEditor(ee),this.gridOptions.enableTranslate?this.extensionService.translateColumnHeaders(!1,ee):this.extensionService.renderColumnHeaders(ee,!0),(null===(pe=this.gridOptions)||void 0===pe?void 0:pe.enableAutoSizeColumns)?this.slickGrid.autosizeColumns():(null===(xe=this.gridOptions)||void 0===xe?void 0:xe.enableAutoResizeColumnsByCellContent)&&(null===(Ce=this.resizerService)||void 0===Ce?void 0:Ce.resizeColumnsByCellContent)&&this.resizerService.resizeColumnsByCellContent()}showHeaderRow(ee=!0){return this.slickGrid.setHeaderRowVisibility(ee,!1),!0===ee&&this._isGridInitialized&&this.slickGrid.setColumns(this.columnDefinitions),ee}copyColumnWidthsReference(ee){ee.forEach(pe=>pe.originalWidth=pe.width)}displayEmptyDataWarning(ee=!0){var pe;null===(pe=this.slickEmptyWarning)||void 0===pe||pe.showEmptyDataMessage(ee)}bindDifferentHooks(ee,pe,xe){var Ce,Je,lt,jt;if((null===(Ce=this.translate)||void 0===Ce?void 0:Ce.onLangChange)&&(pe.enableTranslate&&(this.extensionService.translateAllExtensions(),this.translateColumnHeaderTitleKeys(),this.translateColumnGroupKeys()),this.subscriptions.push(this.translate.onLangChange.subscribe(()=>{this._eventPubSubService.publish("onLanguageChange"),pe.enableTranslate&&(this.extensionService.translateAllExtensions(),this.translateColumnHeaderTitleKeys(),this.translateColumnGroupKeys(),pe.createPreHeaderPanel&&!pe.enableDraggableGrouping&&this.groupingService.translateGroupingAndColSpan())}))),pe.backendServiceApi){const Oe=pe.backendServiceApi;(null===(Je=null==Oe?void 0:Oe.service)||void 0===Je?void 0:Je.init)&&Oe.service.init(Oe.options,pe.pagination,this.slickGrid,this.sharedService)}if(xe&&ee){const Oe=null!==(jt=null===(lt=this.gridOptions)||void 0===lt?void 0:lt.defaultSlickgridEventPrefix)&&void 0!==jt?jt:"";for(const Fe in ee)if(ee.hasOwnProperty(Fe)&&Fe.startsWith("on")){const ut=this._eventPubSubService.getEventNameByNamingConvention(Fe,Oe);this._eventHandler.subscribe(ee[Fe],(It,cn)=>this._eventPubSubService.dispatchCustomEvent(ut,{eventData:It,args:cn}))}for(const Fe in xe)xe.hasOwnProperty(Fe)&&Fe.startsWith("on")&&this._eventHandler.subscribe(xe[Fe],(ut,It)=>{const cn=this._eventPubSubService.getEventNameByNamingConvention(Fe,Oe);return this._eventPubSubService.dispatchCustomEvent(cn,{eventData:ut,args:It})});this.gridEventService.bindOnCellChange(ee),this.gridEventService.bindOnClick(ee),xe&&ee&&(pe.enableSorting&&(pe.backendServiceApi&&!pe.backendServiceApi.useLocalSorting?this.sortService.bindBackendOnSort(ee):this.sortService.bindLocalOnSort(ee)),pe.enableFiltering&&(this.filterService.init(ee),pe.backendServiceApi&&!pe.backendServiceApi.useLocalFiltering?this.filterService.bindBackendOnFilter(ee):this.filterService.bindLocalOnFilter(ee)),this.loadColumnPresetsWhenDatasetInitialized(),this.loadFilterPresetsWhenDatasetInitialized(),this._eventHandler.subscribe(xe.onRowCountChanged,()=>{ee.invalidate(),this.handleOnItemCountChanged(this.dataView.getFilteredItemCount()||0,xe.getItemCount())}),this._eventHandler.subscribe(xe.onSetItemsCalled,(Fe,ut)=>{var It;ee.invalidate(),this.handleOnItemCountChanged(this.dataView.getFilteredItemCount(),ut.itemCount),ut.itemCount>0&&(this.gridOptions.autosizeColumnsByCellContentOnFirstLoad||this.gridOptions.enableAutoResizeColumnsByCellContent)&&this.resizerService.resizeColumnsByCellContent(!(null===(It=this.gridOptions)||void 0===It?void 0:It.resizeByContentOnlyOnFirstLoad))}),this._eventHandler.subscribe(xe.onRowsChanged,(Fe,ut)=>{pe&&pe.enableFiltering&&!pe.enableRowDetailView&&(null==ut?void 0:ut.rows)&&Array.isArray(ut.rows)&&(ut.rows.forEach(It=>ee.updateRow(It)),ee.render())}))}pe&&pe.colspanCallback&&xe&&xe.getItem&&xe.getItemMetadata&&(xe.getItemMetadata=Oe=>{let Fe=null;return pe.colspanCallback&&pe.colspanCallback&&(Fe=pe.colspanCallback(xe.getItem(Oe))),Fe})}bindBackendCallbackFunctions(ee){var pe;const xe=ee.backendServiceApi,Ce=xe&&xe.service,Je=null!==(pe=null==Ce?void 0:Ce.options)&&void 0!==pe?pe:{},lt=!!Je&&(!Je||!Je.hasOwnProperty("executeProcessCommandOnInit")||Je.executeProcessCommandOnInit);if(Ce){if(ee&&ee.presets){if(Ce.updateFilters&&Array.isArray(ee.presets.filters)&&ee.presets.filters.length>0&&Ce.updateFilters(ee.presets.filters,!0),Ce.updateSorters&&Array.isArray(ee.presets.sorters)&&ee.presets.sorters.length>0){const jt=this.gridOptions.multiColumnSort?ee.presets.sorters:ee.presets.sorters.slice(0,1);Ce.updateSorters(void 0,jt)}if(Ce.updatePagination&&ee.presets.pagination){const{pageNumber:jt,pageSize:Oe}=ee.presets.pagination;Ce.updatePagination(jt,Oe)}}else{const jt=this.filterService.getColumnFilters();jt&&Ce.updateFilters&&Ce.updateFilters(jt,!1)}if(xe&&Ce&&(xe.onInit||lt)){const jt="function"==typeof Ce.buildQuery?Ce.buildQuery():"",Oe=lt?xe.process&&xe.process(jt)||null:xe.onInit&&xe.onInit(jt)||null;setTimeout(()=>{var Fe,ut,It,cn;const Nn=this.backendUtilityService,_n=new Date;xe.preProcess&&xe.preProcess();const Fn=null!==(It=null===(ut=null===(Fe=this.gridOptions)||void 0===Fe?void 0:Fe.pagination)||void 0===ut?void 0:ut.totalItems)&&void 0!==It?It:0;Oe instanceof Promise?Oe.then(Hn=>Nn.executeBackendProcessesCallback(_n,Hn,xe,Fn)).catch(Hn=>Nn.onBackendError(Hn,xe)):Oe&&(null===(cn=this.rxjs)||void 0===cn?void 0:cn.isObservable(Oe))&&this.subscriptions.push(Oe.subscribe({next:Hn=>Nn.executeBackendProcessesCallback(_n,Hn,xe,Fn),error:Hn=>Nn.onBackendError(Hn,xe)}))})}}}bindResizeHook(ee,pe){if(pe.autoFitColumnsOnFirstLoad&&pe.autosizeColumnsByCellContentOnFirstLoad||pe.enableAutoSizeColumns&&pe.enableAutoResizeColumnsByCellContent)throw new Error('[Angular-Slickgrid] You cannot enable both autosize/fit viewport & resize by content, you must choose which resize technique to use. You can enable these 2 options ("autoFitColumnsOnFirstLoad" and "enableAutoSizeColumns") OR these other 2 options ("autosizeColumnsByCellContentOnFirstLoad" and "enableAutoResizeColumnsByCellContent").');ee&&pe.autoFitColumnsOnFirstLoad&&pe.enableAutoSizeColumns&&ee.autosizeColumns(),pe.gridHeight||pe.gridWidth?this.resizerService.resizeGrid(0,{height:pe.gridHeight,width:pe.gridWidth}):this.resizerService.resizeGrid(),pe.enableAutoResize&&ee&&pe.autoFitColumnsOnFirstLoad&&pe.enableAutoSizeColumns&&ee.autosizeColumns()}executeAfterDataviewCreated(ee,pe){if(pe.enableSorting&&pe.presets&&Array.isArray(pe.presets.sorters)){const xe=this.gridOptions.multiColumnSort?pe.presets.sorters:pe.presets.sorters.slice(0,1);this.sortService.loadGridSorters(xe)}}handleOnItemCountChanged(ee,pe){var xe;this._currentDatasetLength=pe,this.metrics={startTime:new Date,endTime:new Date,itemCount:ee,totalItemCount:pe},this.slickFooter&&(this.slickFooter.metrics=this.metrics),this._isLocalGrid&&(null===(xe=this.gridOptions)||void 0===xe?void 0:xe.enableEmptyDataWarningMessage)&&this.displayEmptyDataWarning(0===ee)}initializePaginationService(ee){this.gridOptions&&(this.paginationData={gridOptions:this.gridOptions,paginationService:this.paginationService},this.paginationService.totalItems=this.totalItems,this.paginationService.init(this.slickGrid,ee,this.backendServiceApi),this.subscriptions.push(this._eventPubSubService.subscribe("onPaginationChanged",pe=>{this.paginationChanged(pe)}),this._eventPubSubService.subscribe("onPaginationVisibilityChanged",pe=>{var xe,Ce,Je;this.showPagination=null!==(xe=null==pe?void 0:pe.visible)&&void 0!==xe&&xe,(null===(Ce=this.gridOptions)||void 0===Ce?void 0:Ce.backendServiceApi)&&(null===(Je=this.backendUtilityService)||void 0===Je||Je.refreshBackendDataset(this.gridOptions)),this.renderPagination(this.showPagination)})),this.renderPagination(),this._isPaginationInitialized=!0),this.cd.detectChanges()}loadEditorCollectionAsync(ee){const pe=ee&&ee.editor&&ee.editor.collectionAsync;pe instanceof w.y?this.subscriptions.push(pe.subscribe(xe=>this.updateEditorCollection(ee,xe))):pe instanceof Promise&&pe.then(xe=>{Array.isArray(xe)&&this.updateEditorCollection(ee,xe)})}loadColumnPresetsWhenDatasetInitialized(){if(this.gridOptions.presets&&Array.isArray(this.gridOptions.presets.columns)&&this.gridOptions.presets.columns.length>0){const ee=this.gridStateService.getAssociatedGridColumns(this.slickGrid,this.gridOptions.presets.columns);if(ee&&Array.isArray(ee)&&ee.length>0){if(this.gridOptions.enableCheckboxSelector){const pe=Array.isArray(this._columnDefinitions)&&this._columnDefinitions.length>0?this._columnDefinitions[0]:null;pe&&"_checkbox_selector"===pe.id&&"_checkbox_selector"!==ee[0].id&&ee.unshift(pe)}ee.forEach(pe=>pe.originalWidth=pe.width),this.slickGrid.setColumns(ee),this.sharedService.visibleColumns=ee}}}loadFilterPresetsWhenDatasetInitialized(){var ee,pe,xe;this.gridOptions&&!this.customDataView&&this.gridOptions.presets&&(Array.isArray(this.gridOptions.presets.filters)||Array.isArray(null===(pe=null===(ee=this.gridOptions.presets)||void 0===ee?void 0:ee.treeData)||void 0===pe?void 0:pe.toggledItems))&&this.filterService.populateColumnFilterSearchTermPresets((null===(xe=this.gridOptions.presets)||void 0===xe?void 0:xe.filters)||[])}loadLocalGridPagination(ee){var pe;if(this.gridOptions&&this._paginationOptions){if(this.totalItems=Array.isArray(ee)?ee.length:0,this._paginationOptions&&(null===(pe=this.dataView)||void 0===pe?void 0:pe.getPagingInfo)){const Ce=this.dataView.getPagingInfo();(null==Ce?void 0:Ce.hasOwnProperty("totalRows"))&&this._paginationOptions.totalItems!==Ce.totalRows&&(this.totalItems=Ce.totalRows||0)}this._paginationOptions.totalItems=this.totalItems;const xe=this.setPaginationOptionsWhenPresetDefined(this.gridOptions,this._paginationOptions);this.initializePaginationService(xe)}}loadRowSelectionPresetWhenExists(){var ee,pe;const xe=null===(ee=this.gridOptions)||void 0===ee?void 0:ee.presets,Ce=null===(pe=this.slickGrid)||void 0===pe?void 0:pe.getSelectionModel();if(this.gridOptions&&(this.gridOptions.enableCheckboxSelector||this.gridOptions.enableRowSelection)&&Ce&&xe&&xe.rowSelection&&(Array.isArray(xe.rowSelection.gridRowIndexes)||Array.isArray(xe.rowSelection.dataContextIds))){let lt=xe.rowSelection.dataContextIds,jt=xe.rowSelection.gridRowIndexes;Array.isArray(lt)&&lt.length>0?jt=this.dataView.mapIdsToRows(lt)||[]:Array.isArray(jt)&&jt.length>0&&(lt=this.dataView.mapRowsToIds(jt)||[]),this.gridStateService.selectedRowDataContextIds=lt,(this._isLocalGrid&&!this.gridOptions.enablePagination||!this._isLocalGrid)&&setTimeout(()=>{this.slickGrid&&Array.isArray(jt)&&this.slickGrid.setSelectedRows(jt)})}}mergeGridOptions(ee){ee.gridId=this.gridId,ee.gridContainerId=`slickGridContainer-${this.gridId}`,ee.enablePagination=!(!ee.backendServiceApi||void 0!==ee.enablePagination)||ee.enablePagination||!1;const pe=$.extend(!0,{},Dt,this.forRootConfig,ee);return(null==pe?void 0:pe.pagination)&&(ee.enablePagination||ee.backendServiceApi)&&ee.pagination&&Array.isArray(ee.pagination.pageSizes)&&(pe.pagination.pageSizes=ee.pagination.pageSizes),this._hideHeaderRowAfterPageLoad=!1===pe.showHeaderRow,pe.enableFiltering&&!pe.showHeaderRow&&(pe.showHeaderRow=pe.enableFiltering),pe&&!pe.enableFiltering&&pe.enablePagination&&this._isLocalGrid&&(pe.enableFiltering=!0,pe.showHeaderRow=!1,this._hideHeaderRowAfterPageLoad=!0,this.sharedService&&(this.sharedService.hideHeaderRowAfterPageLoad=!0)),pe}preRegisterResources(){this._registeredResources=this.gridOptions.registerExternalResources||[],this.registerRxJsResource(new je)}registerResources(){if(Array.isArray(this._registeredResources)&&(this.sharedService.externalRegisteredResources=this._registeredResources),this._registeredResources.push(this.gridService,this.gridStateService),this.gridOptions.createPreHeaderPanel&&!this.gridOptions.enableDraggableGrouping&&this._registeredResources.push(this.groupingService),this.gridOptions.enableTreeData&&this._registeredResources.push(this.treeDataService),this.gridOptions.enableTranslate&&this.extensionService.translateColumnHeaders(),this.gridOptions.enableRowDetailView&&(this.slickRowDetailView=new $t(this.angularUtilService,this.appRef,this._eventPubSubService,this.elm.nativeElement,this.rxjs),this.slickRowDetailView.create(this.columnDefinitions,this.gridOptions),this._registeredResources.push(this.slickRowDetailView),this.extensionService.addExtensionToList(l.UXi.rowDetailView,{name:l.UXi.rowDetailView,instance:this.slickRowDetailView})),this.slickEmptyWarning=new ae,this._registeredResources.push(this.slickEmptyWarning),Array.isArray(this._registeredResources))for(const ee of this._registeredResources)"function"==typeof ee.init&&ee.init(this.slickGrid,this.containerService)}registerRxJsResource(ee){this.rxjs=ee,this.backendUtilityService.addRxJsResource(this.rxjs),this.filterFactory.addRxJsResource(this.rxjs),this.filterService.addRxJsResource(this.rxjs),this.sortService.addRxJsResource(this.rxjs),this.paginationService.addRxJsResource(this.rxjs),this.containerService.registerInstance("RxJsResource",this.rxjs)}renderPagination(ee=!0){var pe;(null===(pe=this.gridOptions)||void 0===pe?void 0:pe.enablePagination)&&!this._isPaginationInitialized&&ee?(this.slickPagination=new Le(this.paginationService,this._eventPubSubService,this.sharedService,this.translaterService),this.slickPagination.renderPagination(this.gridContainerElement),this._isPaginationInitialized=!0):ee||(this.slickPagination&&this.slickPagination.dispose(),this._isPaginationInitialized=!1)}sortTreeDataset(ee,pe=!1){var xe,Ce;const Je=this._currentDatasetLength;let lt,jt=[];return this._isDatasetHierarchicalInitialized&&this.datasetHierarchical?(lt=this.treeDataService.sortHierarchicalDataset(this.datasetHierarchical),jt=lt.flat):Array.isArray(ee)&&ee.length>0&&((null===(Ce=null===(xe=this.gridOptions)||void 0===xe?void 0:xe.treeDataOptions)||void 0===Ce?void 0:Ce.initialSort)?(lt=this.treeDataService.convertFlatParentChildToTreeDatasetAndSort(ee,this._columnDefinitions,this.gridOptions),this.sharedService.hierarchicalDataset=lt.hierarchical,jt=lt.flat):(this.sharedService.hierarchicalDataset=this.treeDataService.convertFlatParentChildToTreeDataset(ee,this.gridOptions),jt=ee||[])),ee.length>0&&(pe||ee.length!==Je)&&this.filterService.refreshTreeDataFilters(jt),jt}swapInternalEditorToSlickGridFactoryEditor(ee){return ee.some(pe=>`${pe.id}`.includes("."))&&console.error('[Angular-Slickgrid] Make sure that none of your Column Definition "id" property includes a dot in its name because that will cause some problems with the Editors. For example if your column definition "field" property is "user.firstName" then use "firstName" as the column "id".'),ee.map(pe=>(pe&&pe.editor&&pe.editor.collectionAsync&&this.loadEditorCollectionAsync(pe),Object.assign(Object.assign({},pe),{editor:pe.editor&&pe.editor.model,internalColumnEditor:Object.assign({},pe.editor)})))}translateColumnHeaderTitleKeys(){this.extensionUtility.translateItems(this.sharedService.allColumns,"nameKey","name")}translateColumnGroupKeys(){this.extensionUtility.translateItems(this.sharedService.allColumns,"columnGroupKey","columnGroup")}updateEditorCollection(ee,pe){ee.editor.collection=pe,ee.editor.disabled=!1;const xe=this.slickGrid.getColumns();if(Array.isArray(xe)){const Je=xe.find(lt=>lt.id===ee.id);Je&&(Je.internalColumnEditor=ee.editor)}const Ce=this.slickGrid.getCellEditor();(null==Ce?void 0:Ce.disable)&&(null==Ce?void 0:Ce.renderDomElement)&&(Ce.destroy(),Ce.disable(!1),Ce.renderDomElement(pe))}}St.\u0275fac=function(ee){return new(ee||St)(A.Y36(nn),A.Y36(A.z2F),A.Y36(A.sBO),A.Y36(an),A.Y36(A.SBq),A.Y36(I.sK,8),A.Y36(On,8),A.Y36("config"),A.Y36("externalService"))},St.\u0275cmp=A.Xpm({type:St,selectors:[["angular-slickgrid"]],inputs:{customDataView:"customDataView",gridId:"gridId",gridOptions:"gridOptions",paginationOptions:"paginationOptions",columnDefinitions:"columnDefinitions",dataset:"dataset",datasetHierarchical:"datasetHierarchical"},features:[A._Bn([nn,A.z2F,On])],decls:2,vars:2,consts:[[1,"gridPane",3,"id"],[1,"slickgrid-container",2,"width","100%"]],template:function(ee,pe){1&ee&&(A.TgZ(0,"div",0),A._UZ(1,"div",1),A.qZA()),2&ee&&(A.MGl("id","slickGridContainer-",pe.gridId,""),A.xp6(1),A.uIk("id",pe.gridId))},encapsulation:2});class Ht{static forRoot(ee={}){return{ngModule:Ht,providers:[{provide:"config",useValue:ee},{provide:"externalService",useValue:null},nn,zt,an]}}}Ht.\u0275fac=function(ee){return new(ee||Ht)},Ht.\u0275mod=A.oAB({type:Ht,declarations:[St],imports:[sn.ez,I.aw],exports:[St]}),Ht.\u0275inj=A.cJS({imports:[[sn.ez,I.aw]]})},1107:(V,k,L)=>{"use strict";L.d(k,{J:()=>A});var l=Object.prototype.hasOwnProperty;function A(j,I){var m,b;if(j===I)return!0;if(j&&I&&(m=j.constructor)===I.constructor){if(m===Date)return j.getTime()===I.getTime();if(m===RegExp)return j.toString()===I.toString();if(m===Array){if((b=j.length)===I.length)for(;b--&&A(j[b],I[b]););return-1===b}if(!m||"object"==typeof j){for(m in b=0,j)if(l.call(j,m)&&++b&&!l.call(I,m)||!(m in I)||!A(j[m],I[m]))return!1;return Object.keys(I).length===b}}return j!=j&&I!=I}},1670:(V,k,L)=>{"use strict";function l(j,I,m,b,v,w,T){try{var x=j[w](T),S=x.value}catch(N){return void m(N)}x.done?I(S):Promise.resolve(S).then(b,v)}function A(j){return function(){var I=this,m=arguments;return new Promise(function(b,v){var w=j.apply(I,m);function T(S){l(w,b,v,T,x,"next",S)}function x(S){l(w,b,v,T,x,"throw",S)}T(void 0)})}}L.d(k,{Z:()=>A})}}]);
//# sourceMappingURL=vendor.31786e5b2c346b1b.js.map